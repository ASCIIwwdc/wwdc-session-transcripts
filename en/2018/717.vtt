WEBVTT

00:00:07.516 --> 00:00:16.516 A:middle
[ Music ]

00:00:17.516 --> 00:00:24.946 A:middle
[ Applause ]

00:00:25.446 --> 00:00:27.606 A:middle
&gt;&gt; Good afternoon, and welcome

00:00:27.606 --> 00:00:28.036 A:middle
to WWDC.

00:00:28.416 --> 00:00:29.756 A:middle
I know I'm competing now with

00:00:29.826 --> 00:00:31.606 A:middle
the coffee and cookies, but I

00:00:31.606 --> 00:00:32.606 A:middle
don't know if the coffee is

00:00:32.606 --> 00:00:33.976 A:middle
gluten free and the cookies are

00:00:33.976 --> 00:00:35.456 A:middle
actually caffeine free, so stick

00:00:35.456 --> 00:00:35.896 A:middle
with me.

00:00:36.256 --> 00:00:37.606 A:middle
My name is Frank Doepke and I'm

00:00:37.606 --> 00:00:38.696 A:middle
going to talk about some

00:00:38.696 --> 00:00:39.906 A:middle
interesting stuff that you can

00:00:39.906 --> 00:00:41.606 A:middle
do with Computer Vision using

00:00:41.606 --> 00:00:43.186 A:middle
Core ML and Division Framework.

00:00:44.396 --> 00:00:45.236 A:middle
So, what are we going to talk

00:00:45.236 --> 00:00:45.716 A:middle
about today?

00:00:46.676 --> 00:00:47.826 A:middle
First, you might have heard that

00:00:47.826 --> 00:00:49.046 A:middle
we have something special for

00:00:49.046 --> 00:00:51.186 A:middle
you in terms of custom image

00:00:51.186 --> 00:00:52.136 A:middle
classification.

00:00:53.306 --> 00:00:54.256 A:middle
Then we're going to do some

00:00:54.256 --> 00:00:55.226 A:middle
object recognition.

00:00:55.226 --> 00:00:57.596 A:middle
And last but not least, I'm

00:00:57.596 --> 00:00:59.116 A:middle
going to raise your level of

00:00:59.116 --> 00:01:00.536 A:middle
Vision awareness by diving into

00:00:59.116 --> 00:01:00.536 A:middle
Vision awareness by diving into

00:01:00.536 --> 00:01:01.576 A:middle
some of the fundamentals.

00:01:04.245 --> 00:01:05.116 A:middle
Now, Custom Image

00:01:05.116 --> 00:01:08.396 A:middle
Classification, we've seen the

00:01:08.396 --> 00:01:10.156 A:middle
advantages already in some of

00:01:10.156 --> 00:01:12.176 A:middle
the presentations earlier, and

00:01:12.176 --> 00:01:13.176 A:middle
we see like what we can do with

00:01:13.176 --> 00:01:15.206 A:middle
flowers and fruits and I like

00:01:15.206 --> 00:01:16.476 A:middle
flowers and fruits as much as

00:01:16.476 --> 00:01:17.256 A:middle
everybody else.

00:01:17.526 --> 00:01:18.566 A:middle
Sorry, Lizzie, but I thought

00:01:18.566 --> 00:01:19.426 A:middle
we'd do something a bit more

00:01:19.426 --> 00:01:20.216 A:middle
technical here.

00:01:20.946 --> 00:01:23.346 A:middle
So, the idea is, what can we do

00:01:23.346 --> 00:01:24.886 A:middle
if we create a shop and we are

00:01:24.886 --> 00:01:26.286 A:middle
all geeks, so let's build a shop

00:01:26.336 --> 00:01:27.416 A:middle
where we can build robots.

00:01:27.596 --> 00:01:28.626 A:middle
So, there are some parts that we

00:01:28.626 --> 00:01:29.586 A:middle
need to identify.

00:01:30.376 --> 00:01:31.756 A:middle
And I thought it would be great

00:01:31.756 --> 00:01:33.016 A:middle
if I have an app that actually

00:01:33.016 --> 00:01:35.096 A:middle
can help customers in my store

00:01:35.096 --> 00:01:36.716 A:middle
identify what these objects are.

00:01:38.336 --> 00:01:39.446 A:middle
So, we've got to train a

00:01:39.446 --> 00:01:41.726 A:middle
customer classifier for that.

00:01:41.726 --> 00:01:44.136 A:middle
Then, once we have our

00:01:44.136 --> 00:01:46.306 A:middle
classifier, we build an iOS app

00:01:46.306 --> 00:01:47.736 A:middle
around that, that we can

00:01:47.736 --> 00:01:49.056 A:middle
actually run on all devices.

00:01:50.126 --> 00:01:52.186 A:middle
And when going through this, I'm

00:01:52.186 --> 00:01:53.186 A:middle
going to go through some of the

00:01:53.426 --> 00:01:54.596 A:middle
common pitfalls when you

00:01:54.596 --> 00:01:55.696 A:middle
actually want to do any of this

00:01:55.766 --> 00:01:57.466 A:middle
stuff and try to guide you

00:01:57.466 --> 00:01:58.646 A:middle
through that.

00:01:59.376 --> 00:02:02.276 A:middle
Let's start with our training.

00:01:59.376 --> 00:02:02.276 A:middle
Let's start with our training.

00:02:03.426 --> 00:02:04.216 A:middle
So, how do we train?

00:02:04.216 --> 00:02:05.446 A:middle
We use of course, Create ML.

00:02:06.586 --> 00:02:08.235 A:middle
The first step of course we have

00:02:08.235 --> 00:02:09.596 A:middle
to do, is we have to take

00:02:09.596 --> 00:02:10.036 A:middle
pictures.

00:02:11.426 --> 00:02:13.816 A:middle
Then we put them in folders and

00:02:13.816 --> 00:02:15.426 A:middle
we use the folder names as our

00:02:15.426 --> 00:02:16.616 A:middle
classification labels.

00:02:18.876 --> 00:02:20.586 A:middle
Now, the biggest question that

00:02:20.586 --> 00:02:22.256 A:middle
everybody has, "How much data do

00:02:22.256 --> 00:02:22.576 A:middle
I need?"

00:02:23.426 --> 00:02:25.646 A:middle
The first thing is, well, we

00:02:25.646 --> 00:02:28.126 A:middle
need a minimum of about 10

00:02:28.456 --> 00:02:31.456 A:middle
images per category, but that's

00:02:31.456 --> 00:02:32.266 A:middle
on the low side.

00:02:32.266 --> 00:02:33.026 A:middle
You definitely want to have

00:02:33.076 --> 00:02:33.426 A:middle
more.

00:02:33.646 --> 00:02:34.846 A:middle
The more, the better, actually

00:02:34.846 --> 00:02:36.306 A:middle
your classifier will perform

00:02:36.306 --> 00:02:36.546 A:middle
better.

00:02:38.406 --> 00:02:39.966 A:middle
Another thing to look out for is

00:02:40.076 --> 00:02:41.586 A:middle
highly imbalanced data sets.

00:02:41.656 --> 00:02:42.546 A:middle
What do I mean by that?

00:02:43.016 --> 00:02:44.196 A:middle
When a data set has like

00:02:44.196 --> 00:02:45.656 A:middle
thousands of images in one

00:02:45.656 --> 00:02:46.976 A:middle
category, and only ten in the

00:02:46.976 --> 00:02:48.776 A:middle
other one, this model will not

00:02:48.836 --> 00:02:49.586 A:middle
train really well.

00:02:49.586 --> 00:02:50.746 A:middle
So, you want to have like an

00:02:50.746 --> 00:02:52.626 A:middle
equal distribution between most

00:02:52.626 --> 00:02:53.366 A:middle
of your categories.

00:02:55.696 --> 00:02:57.496 A:middle
Another thing that we actually

00:02:57.756 --> 00:02:59.356 A:middle
introduce, is augmentation.

00:03:00.146 --> 00:03:01.436 A:middle
Augmentation will help you to

00:03:01.436 --> 00:03:04.216 A:middle
make this model more robust, but

00:03:04.216 --> 00:03:05.396 A:middle
it doesn't really replace the

00:03:05.396 --> 00:03:06.016 A:middle
variety.

00:03:06.016 --> 00:03:07.856 A:middle
So, you still want to have lots

00:03:07.856 --> 00:03:09.736 A:middle
of images of your objects that

00:03:09.736 --> 00:03:10.616 A:middle
you want to classify.

00:03:11.326 --> 00:03:12.966 A:middle
But, with the augmentation, what

00:03:12.966 --> 00:03:14.336 A:middle
we're going to do is, we take an

00:03:14.336 --> 00:03:15.496 A:middle
image and we perturb it.

00:03:15.496 --> 00:03:17.936 A:middle
So, we have noised it, we blur

00:03:17.936 --> 00:03:19.766 A:middle
it, we rotate it, flip it, so it

00:03:19.766 --> 00:03:20.676 A:middle
looks different to the

00:03:20.676 --> 00:03:21.886 A:middle
classifier actually when we

00:03:21.886 --> 00:03:22.926 A:middle
train it.

00:03:24.096 --> 00:03:25.616 A:middle
Let's look a little bit under

00:03:25.616 --> 00:03:26.776 A:middle
the hood of how our training

00:03:26.776 --> 00:03:28.186 A:middle
actually works.

00:03:29.426 --> 00:03:30.496 A:middle
You might have already heard it,

00:03:30.576 --> 00:03:32.076 A:middle
the term, transfer learning.

00:03:32.076 --> 00:03:32.966 A:middle
And this is what we're going to

00:03:32.966 --> 00:03:34.626 A:middle
use in Create ML when we train

00:03:34.626 --> 00:03:35.376 A:middle
our classifier.

00:03:36.366 --> 00:03:37.716 A:middle
So, we start with a pretrained

00:03:37.716 --> 00:03:39.266 A:middle
model, and that's where all the

00:03:39.266 --> 00:03:40.676 A:middle
heavy lifting actually happens.

00:03:40.676 --> 00:03:42.386 A:middle
These models train normally for

00:03:42.386 --> 00:03:44.216 A:middle
weeks, and with millions of

00:03:44.256 --> 00:03:46.136 A:middle
images, and that is the first

00:03:46.136 --> 00:03:47.476 A:middle
starting point that you need to

00:03:47.476 --> 00:03:49.696 A:middle
actually work with this.

00:03:50.306 --> 00:03:52.136 A:middle
Out of this model, we can use

00:03:52.136 --> 00:03:53.496 A:middle
this as a feature extractor.

00:03:53.496 --> 00:03:54.866 A:middle
This gives us a feature vector

00:03:54.866 --> 00:03:56.186 A:middle
which is pretty much a numerical

00:03:56.186 --> 00:03:57.586 A:middle
description of what we have in

00:03:57.586 --> 00:03:58.246 A:middle
our image.

00:03:59.446 --> 00:04:01.446 A:middle
Now, you bring in your data and

00:03:59.446 --> 00:04:01.446 A:middle
Now, you bring in your data and

00:04:01.446 --> 00:04:02.956 A:middle
we train the set, what we call

00:04:02.956 --> 00:04:04.026 A:middle
the last layer, which is the

00:04:04.026 --> 00:04:06.366 A:middle
real classifier, on your label

00:04:06.366 --> 00:04:08.636 A:middle
data and out comes your custom

00:04:08.636 --> 00:04:08.976 A:middle
model.

00:04:09.746 --> 00:04:12.786 A:middle
Now, I mentioned already this

00:04:12.786 --> 00:04:14.506 A:middle
large, first pretrained model.

00:04:15.406 --> 00:04:16.426 A:middle
And we have something new in

00:04:16.426 --> 00:04:17.396 A:middle
Vision for this [inaudible].

00:04:17.396 --> 00:04:18.596 A:middle
This is what we call the Vision

00:04:18.596 --> 00:04:19.815 A:middle
FeaturePrint for Scenes.

00:04:21.055 --> 00:04:22.676 A:middle
It's available through Create ML

00:04:23.406 --> 00:04:24.896 A:middle
and it allows you to train an

00:04:24.896 --> 00:04:25.796 A:middle
image classifier.

00:04:27.766 --> 00:04:29.236 A:middle
It has been trained on a very

00:04:29.236 --> 00:04:31.836 A:middle
large data set, and it is

00:04:31.836 --> 00:04:33.766 A:middle
capable of categorizing over a

00:04:33.766 --> 00:04:34.936 A:middle
thousand categories.

00:04:35.386 --> 00:04:37.296 A:middle
That's a pretty good

00:04:37.296 --> 00:04:38.206 A:middle
distribution that you can

00:04:38.206 --> 00:04:38.726 A:middle
actually use [inaudible].

00:04:39.756 --> 00:04:41.866 A:middle
And we've already used it.

00:04:41.866 --> 00:04:43.036 A:middle
Over the last few years, through

00:04:43.036 --> 00:04:44.006 A:middle
some of the user [inaudible]

00:04:44.006 --> 00:04:45.216 A:middle
pictures that you've seen in

00:04:45.216 --> 00:04:47.056 A:middle
photos, have been actually using

00:04:47.436 --> 00:04:48.366 A:middle
this model underneath.

00:04:49.976 --> 00:04:51.036 A:middle
We're also going to continuously

00:04:51.036 --> 00:04:52.676 A:middle
improve on that model, but

00:04:52.676 --> 00:04:53.776 A:middle
there's a small caveat that I

00:04:53.776 --> 00:04:54.966 A:middle
would like to kind of highlight

00:04:54.966 --> 00:04:55.186 A:middle
here.

00:04:56.336 --> 00:04:57.856 A:middle
When we come out with a new

00:04:57.856 --> 00:04:59.766 A:middle
version of that model, you will

00:04:59.766 --> 00:05:00.986 A:middle
not necessarily automatically

00:04:59.766 --> 00:05:00.986 A:middle
not necessarily automatically

00:05:00.986 --> 00:05:02.536 A:middle
get the benefits unless you

00:05:02.536 --> 00:05:03.996 A:middle
retrain [inaudible] new model.

00:05:04.666 --> 00:05:06.096 A:middle
So, if you start developing with

00:05:06.186 --> 00:05:07.536 A:middle
this, this year, and you want to

00:05:07.676 --> 00:05:08.666 A:middle
you know, take advantage of

00:05:08.756 --> 00:05:09.866 A:middle
whatever we come out over the

00:05:09.866 --> 00:05:11.876 A:middle
next years, hold onto your data

00:05:11.876 --> 00:05:14.036 A:middle
sets so you can actually retrain

00:05:14.036 --> 00:05:15.046 A:middle
[inaudible].

00:05:15.046 --> 00:05:18.896 A:middle
A few more things about our

00:05:18.896 --> 00:05:21.986 A:middle
feature extractor.

00:05:21.986 --> 00:05:23.656 A:middle
It's already on the device, and

00:05:23.656 --> 00:05:24.816 A:middle
that was kind of an important

00:05:24.816 --> 00:05:27.716 A:middle
decision for us, because it

00:05:27.716 --> 00:05:29.306 A:middle
makes the disc footprint for

00:05:29.306 --> 00:05:30.776 A:middle
your models significantly

00:05:30.776 --> 00:05:31.276 A:middle
smaller.

00:05:32.136 --> 00:05:33.286 A:middle
So, let's compare a little bit.

00:05:34.106 --> 00:05:36.136 A:middle
So, I chose some common, you

00:05:36.136 --> 00:05:37.806 A:middle
know, available models that we

00:05:37.806 --> 00:05:38.486 A:middle
use today.

00:05:38.926 --> 00:05:40.156 A:middle
The first thing would be Resnet.

00:05:40.156 --> 00:05:42.106 A:middle
So, if I train my classifier on

00:05:42.106 --> 00:05:43.446 A:middle
top of Resnet, how big is my

00:05:43.446 --> 00:05:43.816 A:middle
model?

00:05:44.486 --> 00:05:45.496 A:middle
Ninety-eight megabytes.

00:05:47.386 --> 00:05:48.486 A:middle
If I use Squeezenet, so

00:05:48.486 --> 00:05:49.806 A:middle
Squeezenet is a much smaller

00:05:49.806 --> 00:05:50.146 A:middle
model.

00:05:50.146 --> 00:05:51.216 A:middle
It's not capable of

00:05:51.266 --> 00:05:52.306 A:middle
differentiating as many

00:05:52.306 --> 00:05:54.876 A:middle
categories, and that's 5

00:05:54.916 --> 00:05:55.406 A:middle
megabytes.

00:05:55.406 --> 00:05:57.176 A:middle
So, it's about saving there, but

00:05:57.636 --> 00:05:58.806 A:middle
it will not be as versatile.

00:05:58.806 --> 00:06:00.316 A:middle
Now, how about Vision?

00:05:58.806 --> 00:06:00.316 A:middle
Now, how about Vision?

00:06:01.806 --> 00:06:03.116 A:middle
It's less than a megabyte in

00:06:03.116 --> 00:06:03.726 A:middle
most cases.

00:06:04.356 --> 00:06:07.506 A:middle
The other thing of course why we

00:06:07.506 --> 00:06:08.406 A:middle
believe that this is a good

00:06:08.406 --> 00:06:10.586 A:middle
choice for use, it's already

00:06:10.586 --> 00:06:11.276 A:middle
optimized.

00:06:11.706 --> 00:06:13.116 A:middle
And we know a few things about

00:06:13.116 --> 00:06:15.546 A:middle
our hardware or GPUs and CPUS

00:06:15.546 --> 00:06:18.746 A:middle
and we really optimized a lot on

00:06:18.746 --> 00:06:20.026 A:middle
that model so that it performs

00:06:20.026 --> 00:06:21.296 A:middle
best on our devices.

00:06:21.906 --> 00:06:25.246 A:middle
So, how do we train [inaudible]?

00:06:27.036 --> 00:06:28.206 A:middle
We start with some labeled

00:06:28.206 --> 00:06:30.106 A:middle
images, and bring them into

00:06:30.106 --> 00:06:32.566 A:middle
Create ML, and Create ML knows

00:06:32.566 --> 00:06:33.876 A:middle
how to extract [inaudible]

00:06:33.876 --> 00:06:35.216 A:middle
Vision Feature Print.

00:06:36.636 --> 00:06:38.776 A:middle
It trains our classifier and

00:06:38.776 --> 00:06:40.506 A:middle
that classifier is all what

00:06:40.506 --> 00:06:41.616 A:middle
[inaudible] will go into our

00:06:41.616 --> 00:06:42.386 A:middle
Core ML model.

00:06:42.546 --> 00:06:43.786 A:middle
That's why it is so small.

00:06:43.786 --> 00:06:46.136 A:middle
Now, when it comes time that I

00:06:46.136 --> 00:06:47.676 A:middle
actually want to analyze an

00:06:47.676 --> 00:06:50.416 A:middle
image, all I have to do is use

00:06:50.416 --> 00:06:53.336 A:middle
my image and model, and now in

00:06:53.336 --> 00:06:56.036 A:middle
Vision or in Core ML, it knows

00:06:56.036 --> 00:06:57.166 A:middle
another [inaudible] again how to

00:06:57.166 --> 00:06:58.276 A:middle
train -- sorry.

00:06:58.426 --> 00:06:59.036 A:middle
Not train.

00:06:59.036 --> 00:07:00.936 A:middle
In this case, use our Vision

00:06:59.036 --> 00:07:00.936 A:middle
In this case, use our Vision

00:07:00.936 --> 00:07:02.686 A:middle
Feature Print and we'll

00:07:02.686 --> 00:07:04.036 A:middle
[inaudible] the classification.

00:07:04.786 --> 00:07:08.636 A:middle
So, that was everything we

00:07:08.636 --> 00:07:09.456 A:middle
needed to know about the

00:07:09.456 --> 00:07:09.926 A:middle
training.

00:07:11.206 --> 00:07:12.616 A:middle
But, I said there was some

00:07:12.766 --> 00:07:13.976 A:middle
caveats that you want to kind of

00:07:13.976 --> 00:07:15.186 A:middle
look at when we deal with the

00:07:16.326 --> 00:07:16.866 A:middle
app.

00:07:16.866 --> 00:07:20.326 A:middle
So, first thing, we only want to

00:07:20.326 --> 00:07:21.826 A:middle
actually run our classifier when

00:07:21.826 --> 00:07:22.606 A:middle
we really have to.

00:07:24.526 --> 00:07:25.666 A:middle
Classifiers are deep

00:07:25.666 --> 00:07:26.966 A:middle
convolutional networks that are

00:07:26.966 --> 00:07:28.426 A:middle
pretty computational intensive.

00:07:28.696 --> 00:07:30.996 A:middle
So, when we run those, it will

00:07:30.996 --> 00:07:32.646 A:middle
definitely use up kind of you

00:07:32.646 --> 00:07:33.996 A:middle
know, some electrons running on

00:07:33.996 --> 00:07:35.116 A:middle
the CPU and GPU.

00:07:35.116 --> 00:07:36.546 A:middle
So, you don't want to use this

00:07:36.846 --> 00:07:37.956 A:middle
unless you really have to.

00:07:38.776 --> 00:07:40.326 A:middle
In the example that I'm going to

00:07:40.326 --> 00:07:43.116 A:middle
show in my demo laters, I really

00:07:43.116 --> 00:07:44.206 A:middle
only want to classify if

00:07:44.206 --> 00:07:45.816 A:middle
actually the person looks really

00:07:45.816 --> 00:07:47.026 A:middle
at an item and not when just a

00:07:47.026 --> 00:07:48.086 A:middle
camera moves around.

00:07:49.816 --> 00:07:52.186 A:middle
So, I'm asking the question, "Am

00:07:52.186 --> 00:07:53.006 A:middle
I holding still?"

00:07:53.066 --> 00:07:54.216 A:middle
and then I'm going to run my

00:07:54.216 --> 00:07:54.846 A:middle
classifier.

00:07:56.106 --> 00:07:56.846 A:middle
How do I do this?

00:07:56.846 --> 00:07:59.096 A:middle
By using Vision, I can use

00:07:59.096 --> 00:07:59.906 A:middle
Registration.

00:08:00.156 --> 00:08:01.496 A:middle
Registration means I can take

00:08:01.536 --> 00:08:03.696 A:middle
two images and align them with

00:08:03.696 --> 00:08:04.006 A:middle
each other.

00:08:04.006 --> 00:08:04.836 A:middle
And you're going to tell me,

00:08:04.836 --> 00:08:06.026 A:middle
"Okay, if you shift it by this

00:08:06.026 --> 00:08:07.566 A:middle
amount of pixels, this is

00:08:07.566 --> 00:08:08.306 A:middle
actually in how they would

00:08:08.306 --> 00:08:08.946 A:middle
actually match."

00:08:09.606 --> 00:08:11.116 A:middle
This is a pretty cheap and fast

00:08:11.116 --> 00:08:13.626 A:middle
algorithm, and it will tell me

00:08:13.626 --> 00:08:15.376 A:middle
if I hold the camera still or if

00:08:15.376 --> 00:08:16.976 A:middle
anything is moving in front of

00:08:17.696 --> 00:08:19.816 A:middle
the camera.

00:08:19.816 --> 00:08:21.616 A:middle
I used VN Translational Image

00:08:21.616 --> 00:08:22.696 A:middle
Registration Request.

00:08:22.696 --> 00:08:23.736 A:middle
I know that is a mouthful.

00:08:25.106 --> 00:08:26.976 A:middle
But that will give me all this

00:08:26.976 --> 00:08:27.606 A:middle
information.

00:08:28.186 --> 00:08:29.666 A:middle
So, to visualize this first,

00:08:29.666 --> 00:08:31.006 A:middle
let's look at the little video.

00:08:31.436 --> 00:08:33.025 A:middle
What I'm doing in this video is

00:08:33.025 --> 00:08:34.616 A:middle
I show basically a little yellow

00:08:34.616 --> 00:08:36.515 A:middle
line that shows me how basically

00:08:36.566 --> 00:08:38.196 A:middle
my camera has moved or the

00:08:38.246 --> 00:08:39.556 A:middle
Registration requests have moved

00:08:39.556 --> 00:08:41.446 A:middle
over the last couple of frames.

00:08:41.956 --> 00:08:42.946 A:middle
So, what out for that yellow

00:08:42.946 --> 00:08:44.546 A:middle
line and see if it's long, then

00:08:44.546 --> 00:08:45.766 A:middle
I have moved the camera around

00:08:45.766 --> 00:08:46.606 A:middle
quite a bit, and when I'm

00:08:46.606 --> 00:08:47.736 A:middle
holding it still, it should

00:08:47.736 --> 00:08:48.866 A:middle
actually be a very small line.

00:08:49.546 --> 00:08:51.866 A:middle
So, you see the camera is

00:08:51.866 --> 00:08:53.446 A:middle
moving, and now I'm focusing on

00:08:53.446 --> 00:08:55.496 A:middle
this, and it gets very short.

00:08:57.016 --> 00:08:58.026 A:middle
So, that's just a good idea.

00:08:58.026 --> 00:08:58.846 A:middle
It's like, "Okay, now I'm

00:08:58.846 --> 00:08:59.366 A:middle
holding still.

00:08:59.366 --> 00:09:00.346 A:middle
Now, I want to run my

00:08:59.366 --> 00:09:00.346 A:middle
Now, I want to run my

00:09:00.346 --> 00:09:00.976 A:middle
classifier."

00:09:01.426 --> 00:09:05.106 A:middle
Next thing to keep in mind is,

00:09:06.056 --> 00:09:06.976 A:middle
have a backup plan.

00:09:07.666 --> 00:09:08.446 A:middle
It's always good to have a

00:09:08.446 --> 00:09:08.996 A:middle
backup plan.

00:09:09.816 --> 00:09:11.786 A:middle
Classifications can be wrong.

00:09:12.956 --> 00:09:15.296 A:middle
And what that means, even if my

00:09:15.296 --> 00:09:16.636 A:middle
classification actually has a

00:09:16.636 --> 00:09:18.416 A:middle
high confidence, I need to kind

00:09:18.416 --> 00:09:19.676 A:middle
of plan for sometimes that it

00:09:19.676 --> 00:09:20.936 A:middle
doesn't work quite correctly.

00:09:22.526 --> 00:09:23.776 A:middle
The one thing that I did in my

00:09:23.776 --> 00:09:25.186 A:middle
example here, as you will see

00:09:25.186 --> 00:09:26.376 A:middle
later on, I have something

00:09:26.376 --> 00:09:27.216 A:middle
wherefore which I don't have a

00:09:27.216 --> 00:09:28.046 A:middle
physical object.

00:09:28.046 --> 00:09:29.156 A:middle
So, how do I solve that?

00:09:29.676 --> 00:09:31.006 A:middle
In my example, I'm using our

00:09:31.006 --> 00:09:32.326 A:middle
backward detector that we have

00:09:32.326 --> 00:09:34.046 A:middle
in the Vision Framework to read

00:09:34.046 --> 00:09:35.356 A:middle
some data backward label to

00:09:35.356 --> 00:09:36.156 A:middle
identify this.

00:09:37.256 --> 00:09:38.406 A:middle
Alright, enough of slides.

00:09:39.226 --> 00:09:41.946 A:middle
Who wants to see the demo?

00:09:42.516 --> 00:09:52.586 A:middle
[ Applause ]

00:09:53.086 --> 00:09:54.006 A:middle
Okay, what you see on the

00:09:54.006 --> 00:09:55.746 A:middle
right-hand side of the screen is

00:09:55.746 --> 00:09:56.776 A:middle
my device.

00:09:57.536 --> 00:09:58.746 A:middle
I'm going to start now my little

00:09:59.446 --> 00:10:00.716 A:middle
robot shop application.

00:09:59.446 --> 00:10:00.716 A:middle
robot shop application.

00:10:01.276 --> 00:10:02.826 A:middle
And when you see I'm moving

00:10:02.826 --> 00:10:03.876 A:middle
around, there's nothing

00:10:03.876 --> 00:10:04.406 A:middle
happening.

00:10:04.826 --> 00:10:06.626 A:middle
When I hold still, and I point

00:10:06.626 --> 00:10:08.246 A:middle
it at something, I should see a

00:10:08.246 --> 00:10:10.246 A:middle
yellow line and then voila, yes

00:10:10.306 --> 00:10:11.366 A:middle
step is a stepper motor.

00:10:12.176 --> 00:10:13.336 A:middle
Okay? Let's see what else do we

00:10:13.336 --> 00:10:14.316 A:middle
have here on this table?

00:10:14.876 --> 00:10:19.916 A:middle
That is my micro controller.

00:10:20.586 --> 00:10:24.846 A:middle
That's a stepper motor driver.

00:10:25.186 --> 00:10:26.196 A:middle
We can also like you know, pick

00:10:26.196 --> 00:10:27.486 A:middle
something up and hold it.

00:10:28.426 --> 00:10:31.266 A:middle
Yes, this is a closed loop belt.

00:10:35.336 --> 00:10:36.496 A:middle
What do we have here?

00:10:36.496 --> 00:10:37.116 A:middle
Lead screw.

00:10:37.626 --> 00:10:39.446 A:middle
And as I said, you can also look

00:10:39.446 --> 00:10:42.076 A:middle
at the barcode here, if I get my

00:10:42.076 --> 00:10:43.086 A:middle
cable [inaudible] long enough.

00:10:44.416 --> 00:10:47.846 A:middle
And that is my training course.

00:10:48.446 --> 00:10:48.986 A:middle
&gt;&gt; Hey, Frank?

00:10:48.986 --> 00:10:51.426 A:middle
&gt;&gt; Of course, for that I

00:10:51.426 --> 00:10:51.626 A:middle
didn't--

00:10:51.746 --> 00:10:51.976 A:middle
&gt;&gt; Frank?

00:10:52.066 --> 00:10:56.106 A:middle
&gt;&gt; What's going on?

00:10:56.226 --> 00:10:57.706 A:middle
&gt;&gt; Frank, yes, I'm going to need

00:10:57.706 --> 00:10:59.286 A:middle
you to add another robot part to

00:10:59.286 --> 00:10:59.876 A:middle
your demo.

00:11:00.156 --> 00:11:00.746 A:middle
&gt;&gt; This is Brett.

00:11:00.746 --> 00:11:01.546 A:middle
That's my manager.

00:11:02.556 --> 00:11:05.046 A:middle
&gt;&gt; That'd be great.

00:11:09.066 --> 00:11:10.356 A:middle
&gt;&gt; As usual, management, last

00:11:10.356 --> 00:11:12.016 A:middle
minute requests.

00:11:12.236 --> 00:11:12.996 A:middle
&gt;&gt; I'll make sure you get

00:11:12.996 --> 00:11:14.126 A:middle
another copy of that memo.

00:11:14.376 --> 00:11:16.326 A:middle
&gt;&gt; I'm not going to come in on

00:11:16.326 --> 00:11:17.366 A:middle
Saturday for this.

00:11:18.296 --> 00:11:19.296 A:middle
Alright, well what do we have

00:11:19.356 --> 00:11:19.496 A:middle
here?

00:11:19.496 --> 00:11:20.876 A:middle
We have a [inaudible] motor.

00:11:20.876 --> 00:11:23.016 A:middle
Alright, let's see.

00:11:23.016 --> 00:11:23.876 A:middle
It might just work.

00:11:23.876 --> 00:11:26.606 A:middle
Let me try this.

00:11:28.146 --> 00:11:29.156 A:middle
Do I get away with that?

00:11:29.396 --> 00:11:31.976 A:middle
No, it can't really read this

00:11:31.976 --> 00:11:32.416 A:middle
object.

00:11:32.416 --> 00:11:33.156 A:middle
Perhaps so?

00:11:33.636 --> 00:11:34.856 A:middle
It's -- no, it's not a stepper

00:11:34.856 --> 00:11:35.206 A:middle
motor.

00:11:35.956 --> 00:11:36.576 A:middle
So, that's a bug.

00:11:37.136 --> 00:11:39.086 A:middle
I guess we need to fix that.

00:11:39.896 --> 00:11:40.836 A:middle
Who wants to fix this?

00:11:41.786 --> 00:11:46.176 A:middle
Who wants to fix this?

00:11:46.556 --> 00:11:47.256 A:middle
Alright.

00:11:49.476 --> 00:11:51.486 A:middle
So, what I have to do now is I

00:11:51.486 --> 00:11:52.656 A:middle
have to take some pictures of

00:11:53.276 --> 00:11:54.006 A:middle
the aforementioned, [inaudible]

00:11:54.136 --> 00:11:54.856 A:middle
motor.

00:11:55.006 --> 00:11:57.206 A:middle
So, I need to go to the studio

00:11:57.206 --> 00:11:59.276 A:middle
and you know, set up the lights,

00:11:59.916 --> 00:12:03.086 A:middle
or I use my favorite camera that

00:11:59.916 --> 00:12:03.086 A:middle
or I use my favorite camera that

00:12:03.086 --> 00:12:03.916 A:middle
I already have here.

00:12:05.326 --> 00:12:06.716 A:middle
Now, let's see.

00:12:06.916 --> 00:12:07.836 A:middle
We're going to take a bunch of

00:12:07.836 --> 00:12:08.916 A:middle
pictures of our [inaudible]

00:12:08.986 --> 00:12:09.526 A:middle
motor.

00:12:09.526 --> 00:12:13.406 A:middle
And it's kind of important to

00:12:13.406 --> 00:12:14.816 A:middle
just kind of vary it and don't

00:12:14.816 --> 00:12:16.186 A:middle
have anything else really in the

00:12:16.186 --> 00:12:16.716 A:middle
frame.

00:12:21.426 --> 00:12:24.316 A:middle
So, I'm going for a [inaudible].

00:12:24.316 --> 00:12:26.116 A:middle
I need to have at least ten

00:12:26.116 --> 00:12:26.926 A:middle
different images.

00:12:27.526 --> 00:12:28.066 A:middle
Good choices.

00:12:28.066 --> 00:12:29.626 A:middle
I always just like to put it on

00:12:29.626 --> 00:12:30.576 A:middle
a different background.

00:12:31.376 --> 00:12:36.306 A:middle
And make sure that we get a few

00:12:36.306 --> 00:12:37.036 A:middle
captured here.

00:12:37.776 --> 00:12:39.116 A:middle
Perhaps I'm going to hold it a

00:12:39.496 --> 00:12:46.996 A:middle
little bit in my hand.

00:12:46.996 --> 00:12:48.906 A:middle
Okay, so we have now a number of

00:12:48.906 --> 00:12:49.326 A:middle
images.

00:12:51.366 --> 00:12:52.346 A:middle
Now, I'm going to go over to my

00:12:52.346 --> 00:12:53.726 A:middle
Mac and actually show you how to

00:12:53.726 --> 00:12:54.736 A:middle
actually do then the training

00:12:54.736 --> 00:12:56.876 A:middle
work for that.

00:12:57.276 --> 00:13:01.196 A:middle
Okay, I'm bringing up my image

00:12:57.276 --> 00:13:01.196 A:middle
Okay, I'm bringing up my image

00:13:01.196 --> 00:13:02.656 A:middle
capture application and let me

00:13:02.656 --> 00:13:06.016 A:middle
for a moment just hide my

00:13:06.016 --> 00:13:06.083 A:middle
[inaudible].

00:13:09.196 --> 00:13:10.976 A:middle
If I now look in my Finder, you

00:13:10.976 --> 00:13:12.036 A:middle
can actually see I have my

00:13:12.036 --> 00:13:13.496 A:middle
training set, which I used

00:13:13.496 --> 00:13:14.846 A:middle
already earlier to train and

00:13:14.846 --> 00:13:16.276 A:middle
model that I've been using in my

00:13:16.276 --> 00:13:16.976 A:middle
application.

00:13:17.826 --> 00:13:18.936 A:middle
And I need to create now a new

00:13:18.936 --> 00:13:23.346 A:middle
folder, and let's call that

00:13:25.516 --> 00:13:25.686 A:middle
Servo.

00:13:25.816 --> 00:13:27.186 A:middle
And from Image Capture, I can

00:13:27.186 --> 00:13:29.616 A:middle
now simply take all the pictures

00:13:29.616 --> 00:13:35.156 A:middle
that I just captured and drag

00:13:35.216 --> 00:13:40.996 A:middle
them into my Servo.

00:13:41.176 --> 00:13:43.596 A:middle
Alright, so now we have that

00:13:43.596 --> 00:13:44.016 A:middle
added.

00:13:44.626 --> 00:13:45.836 A:middle
Now, I need to train my model

00:13:45.836 --> 00:13:48.716 A:middle
again since my manager just

00:13:48.716 --> 00:13:49.856 A:middle
ruined what I've done earlier.

00:13:50.586 --> 00:13:50.936 A:middle
Okay.

00:13:52.296 --> 00:13:53.956 A:middle
I used a simple scripting

00:13:53.956 --> 00:13:55.136 A:middle
playground here.

00:13:55.136 --> 00:13:57.216 A:middle
Not the UI, just because well,

00:13:57.596 --> 00:13:58.616 A:middle
this might be something I want

00:13:58.616 --> 00:13:59.666 A:middle
to later on incorporate as a

00:13:59.666 --> 00:14:01.406 A:middle
build step into my application.

00:13:59.666 --> 00:14:01.406 A:middle
build step into my application.

00:14:02.436 --> 00:14:03.526 A:middle
So, I'm pointing it simply at

00:14:03.526 --> 00:14:05.066 A:middle
the data set that we just added

00:14:05.066 --> 00:14:07.416 A:middle
our folder to, and I'm just

00:14:07.416 --> 00:14:08.236 A:middle
simply going to train my

00:14:08.236 --> 00:14:09.986 A:middle
classifier, and in the end,

00:14:10.136 --> 00:14:11.176 A:middle
write out my model.

00:14:12.246 --> 00:14:14.396 A:middle
So, what's going to happen now

00:14:14.396 --> 00:14:16.266 A:middle
as you can see, we're off to the

00:14:16.266 --> 00:14:16.636 A:middle
races.

00:14:17.416 --> 00:14:18.766 A:middle
It's going to go through all

00:14:18.766 --> 00:14:21.626 A:middle
these images that we've already

00:14:22.306 --> 00:14:23.546 A:middle
put into our folders and

00:14:23.546 --> 00:14:25.096 A:middle
extracts the scene print from

00:14:25.096 --> 00:14:25.376 A:middle
that.

00:14:25.626 --> 00:14:26.946 A:middle
It does all the scaling down

00:14:26.946 --> 00:14:29.906 A:middle
that has to happen and will then

00:14:29.906 --> 00:14:31.196 A:middle
in the end, train and model

00:14:31.196 --> 00:14:32.026 A:middle
based on that.

00:14:32.216 --> 00:14:33.506 A:middle
So, it's a pretty complex task,

00:14:33.506 --> 00:14:35.076 A:middle
but you see for you, it's really

00:14:35.166 --> 00:14:37.086 A:middle
just one line of code, and in

00:14:37.086 --> 00:14:38.236 A:middle
the end, you should get out of

00:14:38.236 --> 00:14:39.686 A:middle
it, a model that you can

00:14:39.686 --> 00:14:40.406 A:middle
actually use in your

00:14:40.406 --> 00:14:40.976 A:middle
application.

00:14:41.806 --> 00:14:43.076 A:middle
Let's see as it just finishes.

00:14:43.756 --> 00:14:45.696 A:middle
We're almost there.

00:14:46.156 --> 00:14:48.776 A:middle
And voila, we have our model.

00:14:51.106 --> 00:14:54.936 A:middle
Now, that model, I've already

00:14:54.936 --> 00:14:56.936 A:middle
referenced in my robot shop

00:14:56.936 --> 00:14:57.696 A:middle
application.

00:14:57.696 --> 00:14:58.896 A:middle
This is what we see here now.

00:14:59.526 --> 00:15:01.306 A:middle
As you can see, this is my image

00:14:59.526 --> 00:15:01.306 A:middle
As you can see, this is my image

00:15:01.306 --> 00:15:01.916 A:middle
classifier.

00:15:01.916 --> 00:15:03.826 A:middle
It's 148 kilobytes.

00:15:04.506 --> 00:15:06.206 A:middle
That's smaller than the little

00:15:06.206 --> 00:15:07.566 A:middle
startup screen that I actually

00:15:08.816 --> 00:15:08.906 A:middle
have.

00:15:09.516 --> 00:15:15.496 A:middle
[ Applause ]

00:15:15.996 --> 00:15:16.726 A:middle
So, one thing I want to

00:15:16.726 --> 00:15:17.666 A:middle
highlight here already, and

00:15:17.666 --> 00:15:18.616 A:middle
we're going to go into that a

00:15:18.616 --> 00:15:19.706 A:middle
little bit later.

00:15:19.706 --> 00:15:21.836 A:middle
So, this image, that I need to

00:15:21.836 --> 00:15:23.206 A:middle
pass into this has to be of a--

00:15:23.266 --> 00:15:26.196 A:middle
a color image and a 299 by 299

00:15:26.196 --> 00:15:26.606 A:middle
pixels.

00:15:26.816 --> 00:15:28.026 A:middle
Strange layout but this is

00:15:28.026 --> 00:15:29.466 A:middle
actually what a lot of these

00:15:29.466 --> 00:15:30.366 A:middle
classifiers will do.

00:15:31.406 --> 00:15:31.786 A:middle
Alright.

00:15:32.596 --> 00:15:34.406 A:middle
So, now I have hopefully a model

00:15:34.406 --> 00:15:35.486 A:middle
that will understand it.

00:15:36.006 --> 00:15:37.026 A:middle
Now, I need to go into my

00:15:37.416 --> 00:15:39.226 A:middle
sophisticated product database

00:15:39.226 --> 00:15:40.606 A:middle
which is just a key list.

00:15:42.186 --> 00:15:43.906 A:middle
And I'm going to add my Servo to

00:15:44.636 --> 00:15:45.086 A:middle
that.

00:15:47.816 --> 00:15:49.436 A:middle
So, I'm going to rename this one

00:15:49.436 --> 00:15:49.676 A:middle
here.

00:15:49.676 --> 00:15:50.676 A:middle
This is Servo.

00:15:51.376 --> 00:15:54.306 A:middle
I'm giving it a label.

00:15:54.306 --> 00:15:55.176 A:middle
This is actually what we're

00:15:55.176 --> 00:15:55.876 A:middle
going to see.

00:15:56.416 --> 00:16:01.396 A:middle
This is a servo motor and let's

00:15:56.416 --> 00:16:01.396 A:middle
This is a servo motor and let's

00:16:01.396 --> 00:16:06.606 A:middle
say this is a motor that goes

00:16:07.386 --> 00:16:10.286 A:middle
swish, swish.

00:16:11.706 --> 00:16:12.946 A:middle
Very technical.

00:16:13.296 --> 00:16:13.596 A:middle
Alright.

00:16:14.826 --> 00:16:15.726 A:middle
Let's see if this works.

00:16:17.236 --> 00:16:18.636 A:middle
I'm going to run my application

00:16:19.406 --> 00:16:19.496 A:middle
now.

00:16:21.316 --> 00:16:28.776 A:middle
That's -- okay.

00:16:30.046 --> 00:16:32.136 A:middle
Let's try it.

00:16:32.836 --> 00:16:33.956 A:middle
There's our servo motor.

00:16:34.516 --> 00:16:41.266 A:middle
[ Applause ]

00:16:41.766 --> 00:16:43.676 A:middle
Just to put this in perspective.

00:16:43.676 --> 00:16:44.956 A:middle
This was a world first that you

00:16:44.956 --> 00:16:45.356 A:middle
saw.

00:16:45.406 --> 00:16:47.066 A:middle
A classifier being trained live

00:16:47.066 --> 00:16:48.516 A:middle
on stage, from photos, all the

00:16:48.516 --> 00:16:49.886 A:middle
way into the final application.

00:16:50.586 --> 00:16:51.896 A:middle
I was a bit sweating about this

00:16:51.896 --> 00:16:52.176 A:middle
demo [laughter].

00:16:55.686 --> 00:16:55.996 A:middle
Thank you.

00:17:01.866 --> 00:17:04.006 A:middle
Now we've seen how it works.

00:17:04.006 --> 00:17:05.136 A:middle
There's a few things I want to

00:17:05.136 --> 00:17:06.326 A:middle
highlight actually when we

00:17:06.326 --> 00:17:08.786 A:middle
actually go through the code.

00:17:09.016 --> 00:17:09.796 A:middle
So, I promise, we're going to

00:17:09.796 --> 00:17:11.465 A:middle
live code here a little bit.

00:17:12.006 --> 00:17:15.165 A:middle
Okay, let me take everything

00:17:15.165 --> 00:17:16.146 A:middle
away that we don't need to look

00:17:16.146 --> 00:17:16.606 A:middle
at right now.

00:17:16.606 --> 00:17:21.496 A:middle
And make this a bit bigger.

00:17:22.185 --> 00:17:24.685 A:middle
Okay, so, how did I solve all

00:17:24.685 --> 00:17:24.915 A:middle
this?

00:17:25.445 --> 00:17:26.906 A:middle
So, we started, we actually

00:17:27.226 --> 00:17:28.666 A:middle
created a Sequence Request

00:17:28.666 --> 00:17:28.906 A:middle
Handler.

00:17:29.076 --> 00:17:30.106 A:middle
This is the one that I'm going

00:17:30.106 --> 00:17:31.816 A:middle
to use for my registration work,

00:17:32.126 --> 00:17:33.696 A:middle
just as Sergei already explained

00:17:33.696 --> 00:17:35.446 A:middle
in the earlier session, this is

00:17:35.446 --> 00:17:36.646 A:middle
good for tracking objects.

00:17:38.016 --> 00:17:39.956 A:middle
I will create my request, put

00:17:39.956 --> 00:17:41.676 A:middle
them into one array, and now

00:17:41.676 --> 00:17:42.686 A:middle
what do you see here for the

00:17:42.686 --> 00:17:43.336 A:middle
registration?

00:17:43.336 --> 00:17:45.146 A:middle
Just keeping like the last 15

00:17:45.146 --> 00:17:47.106 A:middle
registration results, and then

00:17:47.106 --> 00:17:48.466 A:middle
I'm going to do some analysis on

00:17:48.466 --> 00:17:49.496 A:middle
that and see if actually I'm

00:17:49.496 --> 00:17:50.076 A:middle
holding still.

00:17:51.316 --> 00:17:52.616 A:middle
I'm going to keep one buffer

00:17:52.616 --> 00:17:54.456 A:middle
that I'm holding onto while I'm

00:17:54.456 --> 00:17:55.346 A:middle
analyzing this.

00:17:55.346 --> 00:17:56.316 A:middle
This is actually when I run my

00:17:56.316 --> 00:17:57.326 A:middle
classification.

00:17:58.746 --> 00:18:00.406 A:middle
And since this can be a longer

00:17:58.746 --> 00:18:00.406 A:middle
And since this can be a longer

00:18:00.406 --> 00:18:01.716 A:middle
running task, I'm actually going

00:18:01.716 --> 00:18:03.086 A:middle
to run this on a separate queue.

00:18:03.566 --> 00:18:06.926 A:middle
Alright, here's some code that I

00:18:06.926 --> 00:18:09.046 A:middle
actually just used to open.

00:18:09.096 --> 00:18:10.646 A:middle
This is actually like the little

00:18:10.646 --> 00:18:11.296 A:middle
panel that we saw.

00:18:11.546 --> 00:18:12.636 A:middle
But the important part is

00:18:12.636 --> 00:18:13.806 A:middle
actually, "So, how do I setup my

00:18:13.806 --> 00:18:14.216 A:middle
Vision task?"

00:18:14.216 --> 00:18:16.266 A:middle
So, I'm going to do two tasks.

00:18:16.266 --> 00:18:17.716 A:middle
I'm going to do a barcode

00:18:17.716 --> 00:18:19.546 A:middle
request and I'm going to do my

00:18:19.546 --> 00:18:20.816 A:middle
classification request.

00:18:21.346 --> 00:18:22.916 A:middle
So, I set up my barcode request.

00:18:23.946 --> 00:18:25.596 A:middle
And in my completion handler, I

00:18:25.596 --> 00:18:27.176 A:middle
simple look at, "Do I get

00:18:27.176 --> 00:18:29.376 A:middle
something back?"

00:18:29.616 --> 00:18:31.176 A:middle
and also just since I'm only

00:18:31.176 --> 00:18:32.756 A:middle
expecting one barcode, I only

00:18:32.756 --> 00:18:34.036 A:middle
look at the very first one.

00:18:35.086 --> 00:18:35.936 A:middle
Can I decode it?

00:18:36.106 --> 00:18:37.296 A:middle
If I get a string out of it, I

00:18:37.296 --> 00:18:38.596 A:middle
use that actually to look up --

00:18:38.636 --> 00:18:39.616 A:middle
that's actually how it worked

00:18:39.616 --> 00:18:40.866 A:middle
with my barcodes to see then --

00:18:40.966 --> 00:18:42.146 A:middle
oh, yes, that is my training

00:18:42.146 --> 00:18:42.213 A:middle
[inaudible].

00:18:42.213 --> 00:18:44.786 A:middle
Alright, so I add that as one of

00:18:44.816 --> 00:18:46.906 A:middle
the requests that I want to run.

00:18:47.496 --> 00:18:48.596 A:middle
Now, I'm setting up my

00:18:48.596 --> 00:18:49.466 A:middle
classification.

00:18:50.036 --> 00:18:51.006 A:middle
So, in this case, what I've

00:18:51.076 --> 00:18:53.586 A:middle
done, I used my classifier and

00:18:53.586 --> 00:18:55.196 A:middle
I'm loading simply this from my

00:18:55.776 --> 00:18:58.906 A:middle
bundle and create my model from

00:18:58.906 --> 00:18:59.136 A:middle
there.

00:18:59.416 --> 00:19:00.566 A:middle
Now, I'm not using the code

00:18:59.416 --> 00:19:00.566 A:middle
Now, I'm not using the code

00:19:00.566 --> 00:19:02.036 A:middle
completion from Core ML in this

00:19:02.036 --> 00:19:03.946 A:middle
case, because this is the only

00:19:03.946 --> 00:19:05.136 A:middle
line of Core ML that I'm

00:19:05.136 --> 00:19:05.916 A:middle
actually using my whole

00:19:05.916 --> 00:19:07.536 A:middle
application, and it allows me to

00:19:07.536 --> 00:19:08.936 A:middle
do my custom kind of error

00:19:08.936 --> 00:19:09.276 A:middle
handling.

00:19:09.396 --> 00:19:10.866 A:middle
But, you can choose also to use

00:19:10.866 --> 00:19:12.226 A:middle
the code completion already from

00:19:12.226 --> 00:19:12.676 A:middle
Core ML.

00:19:12.776 --> 00:19:13.936 A:middle
Both are absolutely valid.

00:19:14.866 --> 00:19:16.316 A:middle
Now, I create my Vision model

00:19:16.316 --> 00:19:17.196 A:middle
from that.

00:19:17.196 --> 00:19:19.826 A:middle
My Vision Core ML Model, and my

00:19:19.826 --> 00:19:20.416 A:middle
request.

00:19:20.816 --> 00:19:22.736 A:middle
And again, simply when the

00:19:22.736 --> 00:19:24.576 A:middle
request returns, meaning I'm

00:19:24.576 --> 00:19:26.236 A:middle
executing my completion handler.

00:19:26.756 --> 00:19:29.046 A:middle
I simply look, "What kind of

00:19:29.266 --> 00:19:30.626 A:middle
specifications did I get back?"

00:19:31.786 --> 00:19:33.386 A:middle
And then I set this threshold

00:19:33.386 --> 00:19:33.676 A:middle
here.

00:19:34.236 --> 00:19:35.396 A:middle
Now, this is one that I

00:19:35.396 --> 00:19:36.676 A:middle
empirically set against a

00:19:36.676 --> 00:19:37.396 A:middle
confidence goal.

00:19:37.396 --> 00:19:38.876 A:middle
I'm using 0.98.

00:19:39.026 --> 00:19:41.466 A:middle
So, a 98% confidence that this

00:19:41.466 --> 00:19:43.496 A:middle
is actually correct.

00:19:43.496 --> 00:19:44.506 A:middle
Why am I doing that?

00:19:45.156 --> 00:19:46.766 A:middle
That allows me to filter out

00:19:46.766 --> 00:19:47.516 A:middle
actually when I'm looking at

00:19:47.516 --> 00:19:48.646 A:middle
something, and maybe not quite

00:19:48.646 --> 00:19:49.426 A:middle
sure what that is.

00:19:49.426 --> 00:19:50.146 A:middle
Maybe we'll see that in a

00:19:50.146 --> 00:19:51.036 A:middle
moment, actually what that

00:19:51.036 --> 00:19:51.376 A:middle
means.

00:19:52.606 --> 00:19:54.516 A:middle
So now, I have all my requests.

00:19:55.556 --> 00:19:56.916 A:middle
When it comes to the time that I

00:19:56.916 --> 00:19:57.996 A:middle
actually want to execute them, I

00:19:57.996 --> 00:19:59.366 A:middle
created a little function here

00:19:59.366 --> 00:20:01.036 A:middle
that actually mean, "analyze on

00:19:59.366 --> 00:20:01.036 A:middle
that actually mean, "analyze on

00:20:01.036 --> 00:20:01.836 A:middle
the current image."

00:20:02.516 --> 00:20:04.496 A:middle
So, when it's time to analyze

00:20:04.496 --> 00:20:07.446 A:middle
it, I get my device orientation,

00:20:07.446 --> 00:20:09.326 A:middle
which is important to know how

00:20:09.326 --> 00:20:10.936 A:middle
am I holding my phone.

00:20:11.886 --> 00:20:13.116 A:middle
I create an image request

00:20:13.116 --> 00:20:14.966 A:middle
handler on that buffer that we

00:20:15.536 --> 00:20:16.626 A:middle
currently want to process.

00:20:17.936 --> 00:20:21.016 A:middle
And asynchronously, I let it

00:20:21.046 --> 00:20:22.586 A:middle
perform its work.

00:20:24.056 --> 00:20:25.226 A:middle
That's all I have to do

00:20:25.226 --> 00:20:26.476 A:middle
basically for actually doing the

00:20:26.476 --> 00:20:28.706 A:middle
processing with Core ML and

00:20:28.706 --> 00:20:29.506 A:middle
barcode reading.

00:20:30.326 --> 00:20:32.556 A:middle
Now, a few things, just okay.

00:20:32.556 --> 00:20:33.976 A:middle
How do I do the scene stability

00:20:33.976 --> 00:20:34.306 A:middle
part?

00:20:34.766 --> 00:20:36.076 A:middle
So, I have a queue that I can

00:20:36.076 --> 00:20:36.536 A:middle
reset.

00:20:36.766 --> 00:20:38.916 A:middle
I can add my points into that.

00:20:39.966 --> 00:20:41.376 A:middle
And then simply I had created a

00:20:41.376 --> 00:20:43.396 A:middle
function that allows me to look

00:20:43.396 --> 00:20:44.776 A:middle
basically through the queue of

00:20:44.856 --> 00:20:46.096 A:middle
points that I've recorded.

00:20:46.526 --> 00:20:47.806 A:middle
And then setting like, "Well, if

00:20:47.806 --> 00:20:49.986 A:middle
they all sum together, only show

00:20:49.986 --> 00:20:51.576 A:middle
a distance of like 20 pixels."

00:20:51.576 --> 00:20:52.876 A:middle
Again, that's an empirical value

00:20:52.876 --> 00:20:53.546 A:middle
that I chose.

00:20:53.876 --> 00:20:55.376 A:middle
Then I know the scene is stable.

00:20:55.376 --> 00:20:56.366 A:middle
So, I'm holding stable.

00:20:56.366 --> 00:20:57.646 A:middle
Nothing is moving in front of my

00:20:57.646 --> 00:20:58.076 A:middle
camera.

00:20:58.866 --> 00:21:01.326 A:middle
And then comes our part of catch

00:20:58.866 --> 00:21:01.326 A:middle
And then comes our part of catch

00:21:01.326 --> 00:21:01.766 A:middle
the output.

00:21:01.766 --> 00:21:02.786 A:middle
So, this is the call that

00:21:02.786 --> 00:21:04.746 A:middle
actually AV Foundation calls

00:21:04.746 --> 00:21:05.416 A:middle
[inaudible] buffers from the

00:21:05.416 --> 00:21:05.866 A:middle
camera.

00:21:06.726 --> 00:21:08.056 A:middle
I'm making sure that I you know,

00:21:08.056 --> 00:21:09.486 A:middle
hold onto the previous pixel

00:21:09.486 --> 00:21:11.026 A:middle
buffer because that's what I'm

00:21:11.026 --> 00:21:12.486 A:middle
going to compare against for my

00:21:12.636 --> 00:21:15.996 A:middle
registration, and swap those out

00:21:15.996 --> 00:21:17.006 A:middle
after I'm done with that.

00:21:17.956 --> 00:21:19.196 A:middle
So, I create my Translational

00:21:19.196 --> 00:21:20.646 A:middle
Image Registration Request with

00:21:20.646 --> 00:21:21.416 A:middle
my current buffer.

00:21:21.416 --> 00:21:24.136 A:middle
And then on the Sequence Request

00:21:24.136 --> 00:21:25.916 A:middle
Handler, I simply perform my

00:21:25.916 --> 00:21:26.496 A:middle
request.

00:21:27.376 --> 00:21:28.956 A:middle
Now, I get my observations back.

00:21:29.616 --> 00:21:30.546 A:middle
I can check if they are all

00:21:30.546 --> 00:21:30.956 A:middle
okay.

00:21:31.716 --> 00:21:33.146 A:middle
And add them into my array.

00:21:34.496 --> 00:21:36.476 A:middle
And last but not least, I check

00:21:36.796 --> 00:21:37.786 A:middle
if the scene's stable.

00:21:38.566 --> 00:21:39.966 A:middle
Then I bring up my little,

00:21:39.966 --> 00:21:41.856 A:middle
yellow box which is [inaudible]

00:21:42.326 --> 00:21:43.216 A:middle
detection overlay.

00:21:44.466 --> 00:21:45.946 A:middle
I know this is my currently

00:21:45.946 --> 00:21:46.866 A:middle
analyzed buffer.

00:21:47.766 --> 00:21:51.296 A:middle
And simply ask it to form its

00:21:51.296 --> 00:21:52.276 A:middle
analysis on that.

00:21:52.906 --> 00:21:55.746 A:middle
The one thing that you saw that

00:21:55.746 --> 00:21:57.936 A:middle
I did at the end of the

00:21:58.426 --> 00:22:00.056 A:middle
asynchronous call, in the

00:21:58.426 --> 00:22:00.056 A:middle
asynchronous call, in the

00:22:00.056 --> 00:22:01.266 A:middle
currently analyzed buffer, I

00:22:01.266 --> 00:22:02.206 A:middle
released that buffer.

00:22:02.816 --> 00:22:04.736 A:middle
And you see here that I check if

00:22:04.776 --> 00:22:05.856 A:middle
there is a buffer currently

00:22:05.856 --> 00:22:06.486 A:middle
being used.

00:22:06.896 --> 00:22:08.496 A:middle
Now, that allows me to make sure

00:22:08.496 --> 00:22:09.916 A:middle
that I'm only really working on

00:22:09.916 --> 00:22:10.736 A:middle
one buffer, and I'm not

00:22:10.736 --> 00:22:12.036 A:middle
constantly queueing up more and

00:22:12.036 --> 00:22:13.156 A:middle
more buffers while they're still

00:22:13.156 --> 00:22:13.936 A:middle
running in the background,

00:22:13.936 --> 00:22:15.036 A:middle
because that will starve the

00:22:15.036 --> 00:22:15.986 A:middle
camera from frames.

00:22:17.436 --> 00:22:18.756 A:middle
Alright, so when we run this,

00:22:18.856 --> 00:22:19.896 A:middle
there's a few things I want to

00:22:19.896 --> 00:22:20.756 A:middle
highlight actually.

00:22:20.946 --> 00:22:23.046 A:middle
So, let me bring up Number 1,

00:22:24.446 --> 00:22:25.856 A:middle
our console here a little bit on

00:22:25.856 --> 00:22:26.336 A:middle
the bottom.

00:22:26.736 --> 00:22:28.176 A:middle
And you can actually see, when

00:22:28.176 --> 00:22:30.146 A:middle
I'm running this at first, and

00:22:30.146 --> 00:22:32.226 A:middle
so, I'm going to run this right

00:22:32.226 --> 00:22:32.736 A:middle
now here.

00:22:33.466 --> 00:22:36.566 A:middle
Hopefully you should actually

00:22:36.566 --> 00:22:37.136 A:middle
see something.

00:22:38.406 --> 00:22:39.786 A:middle
You see that the confidence

00:22:39.786 --> 00:22:41.056 A:middle
scores are pretty low because

00:22:41.056 --> 00:22:42.606 A:middle
I'm actually [inaudible] over

00:22:42.606 --> 00:22:42.746 A:middle
the [inaudible].

00:22:42.746 --> 00:22:44.116 A:middle
It's not really sure what I'm

00:22:44.116 --> 00:22:44.856 A:middle
really looking at.

00:22:45.576 --> 00:22:46.816 A:middle
The moment actually I point it

00:22:46.816 --> 00:22:47.736 A:middle
at something that it should

00:22:47.736 --> 00:22:50.986 A:middle
identify, boom, our confidence

00:22:50.986 --> 00:22:52.176 A:middle
score goes really high and

00:22:52.176 --> 00:22:53.566 A:middle
that's actually how I'm sure

00:22:53.566 --> 00:22:54.826 A:middle
that this is really the object I

00:22:54.826 --> 00:22:55.416 A:middle
want to show.

00:22:56.906 --> 00:22:58.016 A:middle
Now, another thing I wanted to

00:22:58.076 --> 00:23:02.666 A:middle
demo, let's look actually what

00:22:58.076 --> 00:23:02.666 A:middle
demo, let's look actually what

00:23:02.666 --> 00:23:04.836 A:middle
happens in terms of the CPU.

00:23:05.256 --> 00:23:08.206 A:middle
Alright, so right now, I'm not

00:23:08.206 --> 00:23:08.846 A:middle
doing anything.

00:23:08.846 --> 00:23:11.466 A:middle
I'm just showing my screen.

00:23:12.256 --> 00:23:13.656 A:middle
So, when I'm just moving the

00:23:13.656 --> 00:23:16.366 A:middle
camera around, scene is not

00:23:16.366 --> 00:23:18.976 A:middle
stable, I'm using about 22% of

00:23:18.976 --> 00:23:19.476 A:middle
the CPU.

00:23:19.476 --> 00:23:21.326 A:middle
Now, if I hold it stable and

00:23:21.326 --> 00:23:22.506 A:middle
actually the classifier runs,

00:23:22.506 --> 00:23:23.916 A:middle
you see how the CPU goes up.

00:23:24.486 --> 00:23:25.686 A:middle
And that's why I always

00:23:25.686 --> 00:23:27.736 A:middle
recommend only run these tasks

00:23:27.736 --> 00:23:28.486 A:middle
when you really need.

00:23:29.046 --> 00:23:33.466 A:middle
Alright, that was a lot to take

00:23:33.466 --> 00:23:33.756 A:middle
in.

00:23:34.146 --> 00:23:36.256 A:middle
Let's go back to the slides and

00:23:36.256 --> 00:23:37.376 A:middle
recap a little bit what we have

00:23:37.376 --> 00:23:38.306 A:middle
just seen to now.

00:23:39.846 --> 00:23:40.926 A:middle
So, go right to the slides.

00:23:41.516 --> 00:23:47.736 A:middle
[ Applause ]

00:23:48.236 --> 00:23:49.076 A:middle
Okay, recap.

00:23:49.586 --> 00:23:51.566 A:middle
First thing, how did we achieve

00:23:51.566 --> 00:23:52.556 A:middle
our scene stability?

00:23:53.296 --> 00:23:55.206 A:middle
We used a sequence request

00:23:55.206 --> 00:23:56.706 A:middle
handler together with the VN

00:23:56.706 --> 00:23:58.166 A:middle
Translational Image Registration

00:23:58.166 --> 00:24:01.186 A:middle
Request, to compare against the

00:23:58.166 --> 00:24:01.186 A:middle
Request, to compare against the

00:24:01.186 --> 00:24:02.026 A:middle
previous frame.

00:24:03.436 --> 00:24:04.916 A:middle
Out of that, we get our

00:24:04.916 --> 00:24:07.406 A:middle
translation as of terms of an

00:24:07.406 --> 00:24:08.826 A:middle
alignment transform which tells

00:24:08.826 --> 00:24:10.296 A:middle
me the X and Y of like how the

00:24:10.296 --> 00:24:13.116 A:middle
previous frame has shifted to

00:24:13.116 --> 00:24:13.966 A:middle
[inaudible] the current one.

00:24:15.986 --> 00:24:17.126 A:middle
Then we talked about that we

00:24:17.126 --> 00:24:18.596 A:middle
want to only analyze the scene

00:24:18.596 --> 00:24:19.326 A:middle
when it's stable.

00:24:20.266 --> 00:24:22.896 A:middle
And for that, we created our VN

00:24:22.896 --> 00:24:24.156 A:middle
Image Request Handler off the

00:24:24.156 --> 00:24:24.986 A:middle
current buffer.

00:24:25.396 --> 00:24:28.116 A:middle
And we passed in together both

00:24:28.116 --> 00:24:30.636 A:middle
the barcode detection and the

00:24:30.636 --> 00:24:31.586 A:middle
classification.

00:24:32.206 --> 00:24:34.086 A:middle
So, that allows Vision to do its

00:24:34.086 --> 00:24:35.956 A:middle
optimization underneath the

00:24:35.956 --> 00:24:37.936 A:middle
covers and can actually perform

00:24:37.936 --> 00:24:39.056 A:middle
much faster than if you would

00:24:39.236 --> 00:24:40.536 A:middle
run them as separate requests.

00:24:41.006 --> 00:24:44.606 A:middle
Next was the part about thinking

00:24:44.606 --> 00:24:46.636 A:middle
about how many buffers do I hold

00:24:46.636 --> 00:24:47.166 A:middle
in flight?

00:24:47.636 --> 00:24:48.976 A:middle
And that's why I say manage your

00:24:48.976 --> 00:24:49.436 A:middle
buffers.

00:24:50.966 --> 00:24:52.396 A:middle
Some Vision requests, like these

00:24:52.816 --> 00:24:54.696 A:middle
convolutional networks, can take

00:24:54.696 --> 00:24:55.316 A:middle
a bit longer.

00:24:55.966 --> 00:24:57.396 A:middle
And these longer running tasks

00:24:57.396 --> 00:24:59.016 A:middle
are better to perform on a

00:24:59.016 --> 00:25:01.216 A:middle
background queue, so that

00:24:59.016 --> 00:25:01.216 A:middle
background queue, so that

00:25:01.216 --> 00:25:02.366 A:middle
[inaudible] or whatever you do

00:25:02.366 --> 00:25:03.176 A:middle
in the camera, can actually

00:25:03.176 --> 00:25:04.306 A:middle
continuously running.

00:25:05.036 --> 00:25:06.256 A:middle
But to do this particularly with

00:25:06.256 --> 00:25:07.656 A:middle
the camera, you do not want to

00:25:07.656 --> 00:25:08.866 A:middle
continuously queue up the

00:25:08.866 --> 00:25:10.266 A:middle
buffers coming from the camera.

00:25:10.266 --> 00:25:11.336 A:middle
So, you want to drop busy

00:25:11.336 --> 00:25:11.826 A:middle
buffers.

00:25:12.216 --> 00:25:14.006 A:middle
In this case, I said I only work

00:25:14.006 --> 00:25:14.526 A:middle
with one.

00:25:14.526 --> 00:25:15.756 A:middle
That's actually in my use case

00:25:15.756 --> 00:25:16.816 A:middle
scenario works pretty well.

00:25:17.286 --> 00:25:18.586 A:middle
So, I have a queue of 1, and

00:25:18.586 --> 00:25:19.666 A:middle
that's why I simply held onto

00:25:19.666 --> 00:25:21.156 A:middle
one buffer and check, as long as

00:25:21.156 --> 00:25:22.506 A:middle
that one is running, I'm not

00:25:22.506 --> 00:25:23.536 A:middle
queuing new buffers up.

00:25:23.956 --> 00:25:25.906 A:middle
Once I'm done with it, I can

00:25:25.906 --> 00:25:30.266 A:middle
reset and work on the next

00:25:30.876 --> 00:25:31.056 A:middle
buffer.

00:25:31.206 --> 00:25:33.336 A:middle
Now, you might ask, "Why am I

00:25:33.336 --> 00:25:34.906 A:middle
using Vision when I can run this

00:25:34.906 --> 00:25:35.696 A:middle
model in Core ML?

00:25:35.696 --> 00:25:36.646 A:middle
It's a Core ML model."

00:25:38.206 --> 00:25:40.196 A:middle
Well, there is one thing why

00:25:40.196 --> 00:25:41.236 A:middle
this is important to actually

00:25:41.236 --> 00:25:41.746 A:middle
use Vision.

00:25:42.316 --> 00:25:43.676 A:middle
Let's go back and look what we

00:25:43.676 --> 00:25:45.196 A:middle
saw when we looked at our model.

00:25:45.646 --> 00:25:47.616 A:middle
It was the strange number of 299

00:25:47.616 --> 00:25:48.936 A:middle
by 299 pixels.

00:25:49.626 --> 00:25:50.886 A:middle
Now, this is simply how this

00:25:50.886 --> 00:25:51.666 A:middle
model is trained.

00:25:51.666 --> 00:25:53.036 A:middle
This is what it wants to ingest.

00:25:53.886 --> 00:25:54.996 A:middle
But our camera gives us

00:25:54.996 --> 00:25:57.206 A:middle
something like 640 by 480 or

00:25:57.206 --> 00:25:58.746 A:middle
larger resolutions if you want.

00:25:59.876 --> 00:26:02.156 A:middle
Now, Vision is going to do all

00:25:59.876 --> 00:26:02.156 A:middle
Now, Vision is going to do all

00:26:02.156 --> 00:26:03.766 A:middle
the work by taking these

00:26:03.766 --> 00:26:04.646 A:middle
[inaudible] buffers as they come

00:26:04.646 --> 00:26:05.976 A:middle
from the camera, converts it

00:26:05.976 --> 00:26:07.466 A:middle
into RGB and scales it down and

00:26:07.466 --> 00:26:08.606 A:middle
you don't have to write any code

00:26:08.606 --> 00:26:09.836 A:middle
for that.

00:26:10.326 --> 00:26:11.506 A:middle
That makes it much easier to

00:26:11.576 --> 00:26:13.026 A:middle
drive these Core ML models for

00:26:13.026 --> 00:26:14.436 A:middle
image requests through Vision.

00:26:15.056 --> 00:26:18.146 A:middle
So, that was image

00:26:18.146 --> 00:26:19.106 A:middle
classification.

00:26:19.346 --> 00:26:20.996 A:middle
Next, we talk about object

00:26:20.996 --> 00:26:21.546 A:middle
recognition.

00:26:22.186 --> 00:26:25.406 A:middle
Now, a little warning.

00:26:25.406 --> 00:26:26.726 A:middle
In this demo, actually a live

00:26:26.726 --> 00:26:27.876 A:middle
croissant might actually get

00:26:27.876 --> 00:26:28.506 A:middle
hurt on stage.

00:26:28.506 --> 00:26:29.796 A:middle
So, for the squeamish ones,

00:26:29.796 --> 00:26:32.466 A:middle
please look away.

00:26:34.726 --> 00:26:36.966 A:middle
So, what we're using for our

00:26:36.966 --> 00:26:38.826 A:middle
object recognition is a model

00:26:38.826 --> 00:26:40.926 A:middle
that is based on this YOLO

00:26:40.926 --> 00:26:42.676 A:middle
technique, You Only Look Once.

00:26:43.096 --> 00:26:44.786 A:middle
That is a pretty fast-running

00:26:44.786 --> 00:26:46.646 A:middle
model that allows us to get the

00:26:46.646 --> 00:26:49.326 A:middle
bounding boxes off objects and a

00:26:49.326 --> 00:26:50.856 A:middle
label for that.

00:26:50.906 --> 00:26:52.346 A:middle
And it finds multiple of them in

00:26:52.346 --> 00:26:52.676 A:middle
the screen.

00:26:52.676 --> 00:26:53.906 A:middle
As you see in the screenshots.

00:26:56.256 --> 00:26:59.626 A:middle
The advantage of those is that I

00:26:59.626 --> 00:27:00.726 A:middle
get actually like where they

00:26:59.626 --> 00:27:00.726 A:middle
get actually like where they

00:27:00.726 --> 00:27:02.216 A:middle
are, but I won't get as many

00:27:02.216 --> 00:27:03.816 A:middle
classifications as I can do with

00:27:03.816 --> 00:27:05.306 A:middle
like our overall image

00:27:05.306 --> 00:27:05.946 A:middle
classifier.

00:27:06.556 --> 00:27:08.666 A:middle
The training is also a little

00:27:08.666 --> 00:27:10.286 A:middle
bit more involved, and with

00:27:10.356 --> 00:27:11.576 A:middle
that, I would like to actually

00:27:11.576 --> 00:27:13.466 A:middle
refer you to the Turi Create

00:27:13.466 --> 00:27:14.826 A:middle
session that was, I believe,

00:27:14.876 --> 00:27:16.286 A:middle
yesterday, where they actually

00:27:16.286 --> 00:27:17.716 A:middle
showed you how to train these

00:27:17.746 --> 00:27:18.436 A:middle
kind of models.

00:27:18.746 --> 00:27:20.106 A:middle
These models are also a little

00:27:20.686 --> 00:27:21.646 A:middle
bit bigger.

00:27:21.836 --> 00:27:24.066 A:middle
So, how does this look?

00:27:24.066 --> 00:27:31.006 A:middle
Let's go over to our demo.

00:27:31.606 --> 00:27:35.946 A:middle
Robot shop is closed.

00:27:39.466 --> 00:27:40.846 A:middle
Time for breakfast.

00:27:42.296 --> 00:27:42.706 A:middle
Alright.

00:27:43.626 --> 00:27:45.196 A:middle
Let me bring up my quick

00:27:45.196 --> 00:27:46.726 A:middle
template here and I have my new

00:27:46.726 --> 00:27:47.876 A:middle
little application.

00:27:47.876 --> 00:27:49.406 A:middle
It is my Breakfast Finder.

00:27:49.976 --> 00:27:53.186 A:middle
And what do we see?

00:27:53.536 --> 00:27:55.446 A:middle
Oh, we have a croissant, we have

00:27:55.446 --> 00:27:57.616 A:middle
a bagel, and we can identify the

00:27:57.616 --> 00:27:58.356 A:middle
banana.

00:28:00.196 --> 00:28:01.436 A:middle
And see, they can all be kind of

00:28:01.436 --> 00:28:02.466 A:middle
like in the frame.

00:28:02.566 --> 00:28:03.626 A:middle
I'm going to detect them.

00:28:04.916 --> 00:28:06.616 A:middle
So, some mention in these

00:28:06.616 --> 00:28:07.736 A:middle
cooking shows, normally they

00:28:07.736 --> 00:28:09.476 A:middle
show you how to do it, but then

00:28:09.476 --> 00:28:10.876 A:middle
pull the prebaked stuff out of

00:28:10.876 --> 00:28:11.356 A:middle
the oven.

00:28:12.546 --> 00:28:15.016 A:middle
Well, this model, actually has

00:28:15.046 --> 00:28:16.916 A:middle
been baked way before this

00:28:16.916 --> 00:28:18.356 A:middle
croissant has been baked, and I

00:28:18.356 --> 00:28:19.026 A:middle
can prove this.

00:28:21.766 --> 00:28:22.456 A:middle
It's fresh.

00:28:22.656 --> 00:28:24.916 A:middle
And still a croissant.

00:28:25.516 --> 00:28:33.926 A:middle
[ Applause ]

00:28:34.426 --> 00:28:34.816 A:middle
Alright.

00:28:35.706 --> 00:28:40.426 A:middle
It's fresh but still, got to

00:28:41.056 --> 00:28:41.146 A:middle
chew.

00:28:43.306 --> 00:28:46.766 A:middle
Let's look quickly how this

00:28:46.766 --> 00:28:52.666 A:middle
looks in the code.

00:28:53.266 --> 00:28:54.736 A:middle
So, what did I do differently?

00:28:55.916 --> 00:28:57.116 A:middle
[Inaudible] actually in the

00:28:57.116 --> 00:28:58.296 A:middle
terms of like setting up my

00:28:58.296 --> 00:28:58.956 A:middle
request.

00:28:59.746 --> 00:29:02.726 A:middle
All I have to do is use my Core

00:28:59.746 --> 00:29:02.726 A:middle
All I have to do is use my Core

00:29:02.726 --> 00:29:04.376 A:middle
ML model, just as I did in the

00:29:04.466 --> 00:29:06.596 A:middle
previous example, create my Core

00:29:06.596 --> 00:29:09.276 A:middle
ML request, and afterwards, I'm

00:29:09.356 --> 00:29:10.906 A:middle
looking actually at simply, "How

00:29:10.906 --> 00:29:12.026 A:middle
do I draw my results?"

00:29:13.066 --> 00:29:17.856 A:middle
Now this is where we have

00:29:17.856 --> 00:29:20.076 A:middle
something new to make this

00:29:20.076 --> 00:29:21.096 A:middle
[inaudible] a little bit easier.

00:29:21.876 --> 00:29:24.066 A:middle
And when we look at all of this,

00:29:24.776 --> 00:29:27.066 A:middle
we get a new object that is the

00:29:27.066 --> 00:29:28.106 A:middle
[inaudible] recognized --

00:29:28.816 --> 00:29:30.886 A:middle
Recognized Object Observation,

00:29:31.626 --> 00:29:33.256 A:middle
and out of that, I get my

00:29:33.256 --> 00:29:35.786 A:middle
bounding box, and my observation

00:29:35.786 --> 00:29:36.766 A:middle
of like the labels.

00:29:38.006 --> 00:29:38.826 A:middle
Now, that's one thing I would

00:29:38.826 --> 00:29:39.736 A:middle
like to show you here.

00:29:40.936 --> 00:29:42.276 A:middle
Let's run our application from

00:29:42.276 --> 00:29:43.506 A:middle
here and I put a break point.

00:29:51.066 --> 00:29:51.796 A:middle
Okay.

00:29:52.726 --> 00:29:55.206 A:middle
Alright, we are now on our break

00:29:55.206 --> 00:29:55.476 A:middle
point.

00:29:56.276 --> 00:29:57.956 A:middle
So that I only look at the first

00:29:57.956 --> 00:29:58.226 A:middle
label.

00:29:58.226 --> 00:29:59.886 A:middle
So, what we are doing when we

00:29:59.886 --> 00:30:01.456 A:middle
actually process these results,

00:29:59.886 --> 00:30:01.456 A:middle
actually process these results,

00:30:02.036 --> 00:30:11.676 A:middle
I'm going to take this, let's

00:30:11.876 --> 00:30:17.116 A:middle
try object observation, labels.

00:30:17.156 --> 00:30:21.076 A:middle
So, what you actually see is

00:30:21.076 --> 00:30:22.826 A:middle
that I get more than one back.

00:30:23.376 --> 00:30:25.336 A:middle
I get my bagel, my banana,

00:30:25.566 --> 00:30:26.576 A:middle
coffee -- I didn't bring any

00:30:26.576 --> 00:30:27.096 A:middle
coffee today.

00:30:27.096 --> 00:30:28.266 A:middle
Sorry about that.

00:30:28.266 --> 00:30:30.726 A:middle
And croissant, egg, and waffle.

00:30:30.946 --> 00:30:32.786 A:middle
Now, they are sorted in the

00:30:32.786 --> 00:30:33.856 A:middle
order of like the highest

00:30:33.856 --> 00:30:34.866 A:middle
confidence on the top.

00:30:35.036 --> 00:30:36.536 A:middle
Usually, this is the one that

00:30:36.536 --> 00:30:37.226 A:middle
you're interested in.

00:30:37.226 --> 00:30:38.006 A:middle
That's why I'm taking the

00:30:38.006 --> 00:30:39.306 A:middle
shortcut here and just looking

00:30:39.306 --> 00:30:40.046 A:middle
at the first one.

00:30:40.316 --> 00:30:41.856 A:middle
But you always get all of the

00:30:41.856 --> 00:30:43.686 A:middle
classifications back in terms of

00:30:43.686 --> 00:30:45.586 A:middle
an array of the ones that we

00:30:45.586 --> 00:30:46.876 A:middle
actually support in the model.

00:30:48.576 --> 00:30:48.986 A:middle
Alright.

00:30:49.966 --> 00:30:51.396 A:middle
That was our Breakfast Finder.

00:30:51.396 --> 00:30:52.786 A:middle
Let's go back to the slides, and

00:30:52.786 --> 00:30:53.566 A:middle
this time, I'm pushing the

00:30:53.566 --> 00:30:53.886 A:middle
button.

00:30:54.146 --> 00:30:54.286 A:middle
Good.

00:30:58.536 --> 00:31:00.346 A:middle
So, we made this possible

00:30:58.536 --> 00:31:00.346 A:middle
So, we made this possible

00:31:00.736 --> 00:31:02.826 A:middle
through a new API and that is

00:31:02.826 --> 00:31:04.376 A:middle
our VN Recognized Object

00:31:04.376 --> 00:31:04.986 A:middle
Observation.

00:31:06.486 --> 00:31:08.896 A:middle
It comes automatically when we

00:31:08.986 --> 00:31:11.336 A:middle
perform a Core ML model request,

00:31:11.476 --> 00:31:13.776 A:middle
and if that model is actually

00:31:13.776 --> 00:31:16.586 A:middle
using an object detector as a

00:31:16.586 --> 00:31:17.086 A:middle
space.

00:31:18.666 --> 00:31:22.486 A:middle
Like in this example, it is

00:31:22.486 --> 00:31:23.786 A:middle
based on the YOLO based models.

00:31:23.966 --> 00:31:25.236 A:middle
Now, you might say, "Well, I

00:31:25.236 --> 00:31:26.896 A:middle
could have already run YOLO like

00:31:26.896 --> 00:31:27.306 A:middle
last year.

00:31:27.306 --> 00:31:28.376 A:middle
There were a bunch of articles

00:31:28.376 --> 00:31:29.106 A:middle
that I saw on the web."

00:31:29.896 --> 00:31:31.206 A:middle
But look at how much code they

00:31:31.206 --> 00:31:33.056 A:middle
actually had to write to take

00:31:33.056 --> 00:31:34.776 A:middle
the output of this model, to

00:31:34.776 --> 00:31:35.936 A:middle
then put it into something that

00:31:35.936 --> 00:31:36.526 A:middle
you can use.

00:31:36.666 --> 00:31:38.086 A:middle
And here, we only had a few

00:31:38.086 --> 00:31:38.696 A:middle
lines of code.

00:31:38.816 --> 00:31:40.346 A:middle
So, it makes YOLO models really,

00:31:40.346 --> 00:31:41.256 A:middle
really easy to use now.

00:31:41.256 --> 00:31:43.336 A:middle
Let's go once more over this in

00:31:43.336 --> 00:31:43.746 A:middle
the code.

00:31:44.316 --> 00:31:45.536 A:middle
So, I create my model.

00:31:46.336 --> 00:31:47.426 A:middle
From the model, I create my

00:31:47.426 --> 00:31:48.006 A:middle
request.

00:31:48.986 --> 00:31:51.196 A:middle
And in my completion handler, I

00:31:51.196 --> 00:31:52.606 A:middle
can simply look at the area of

00:31:52.606 --> 00:31:54.066 A:middle
objects, because we saw we can

00:31:54.066 --> 00:31:55.366 A:middle
get multiple objects back.

00:31:55.996 --> 00:31:57.396 A:middle
I get my labels from that, my

00:31:57.396 --> 00:31:59.546 A:middle
bounding box, and I can show my

00:31:59.546 --> 00:32:00.286 A:middle
Breakfast Finder.

00:31:59.546 --> 00:32:00.286 A:middle
Breakfast Finder.

00:32:00.926 --> 00:32:04.966 A:middle
Now, there's one more thing I

00:32:04.966 --> 00:32:06.216 A:middle
would like to highlight in this

00:32:06.216 --> 00:32:06.756 A:middle
example.

00:32:08.426 --> 00:32:09.646 A:middle
You saw how these boxes were a

00:32:09.646 --> 00:32:10.666 A:middle
little bit jittering around

00:32:10.666 --> 00:32:11.496 A:middle
because I was running the

00:32:11.496 --> 00:32:12.896 A:middle
detector frame by frame, by

00:32:12.896 --> 00:32:13.636 A:middle
frame, by frame.

00:32:14.346 --> 00:32:16.506 A:middle
Tracking can often be a better

00:32:16.506 --> 00:32:17.086 A:middle
choice here.

00:32:17.376 --> 00:32:20.216 A:middle
Why? Tracking is much faster

00:32:20.216 --> 00:32:21.646 A:middle
even in terms of like running,

00:32:21.646 --> 00:32:22.936 A:middle
than actually these models would

00:32:22.936 --> 00:32:23.116 A:middle
run.

00:32:25.276 --> 00:32:27.136 A:middle
So, redetection takes more time

00:32:27.136 --> 00:32:28.976 A:middle
than actually running a tracking

00:32:28.976 --> 00:32:29.566 A:middle
request.

00:32:31.306 --> 00:32:33.056 A:middle
I can use the tracker basically

00:32:33.056 --> 00:32:34.306 A:middle
if I want to follow now an

00:32:34.306 --> 00:32:37.416 A:middle
object on the screen because

00:32:37.416 --> 00:32:38.376 A:middle
it's a lighter algorithm.

00:32:38.376 --> 00:32:39.306 A:middle
It runs faster.

00:32:39.906 --> 00:32:41.846 A:middle
And on top of it, we have

00:32:41.906 --> 00:32:43.666 A:middle
temporal smoothing so that these

00:32:43.716 --> 00:32:44.896 A:middle
boxes will not jitter around

00:32:44.896 --> 00:32:46.616 A:middle
anymore and if you see some of

00:32:46.616 --> 00:32:47.836 A:middle
our tracking examples, they

00:32:47.836 --> 00:32:48.946 A:middle
actually move nicely and

00:32:48.946 --> 00:32:50.046 A:middle
smoothly across the screen.

00:32:50.966 --> 00:32:52.156 A:middle
If you want to learn more about

00:32:52.156 --> 00:32:54.996 A:middle
tracking, the previous session

00:32:54.996 --> 00:32:56.106 A:middle
from my colleague Sergei,

00:32:56.106 --> 00:32:58.216 A:middle
actually talks about how to do

00:32:58.216 --> 00:33:00.546 A:middle
all the implementation work of

00:32:58.216 --> 00:33:00.546 A:middle
all the implementation work of

00:33:01.216 --> 00:33:01.386 A:middle
that.

00:33:02.076 --> 00:33:04.426 A:middle
Alright, last but not least,

00:33:04.426 --> 00:33:06.006 A:middle
let's enhance our Vision mastery

00:33:06.006 --> 00:33:06.876 A:middle
and go into some of our

00:33:06.876 --> 00:33:07.586 A:middle
fundamentals.

00:33:08.556 --> 00:33:10.256 A:middle
Few things are important to know

00:33:10.256 --> 00:33:11.246 A:middle
when dealing with the Vision

00:33:11.246 --> 00:33:11.756 A:middle
framework.

00:33:12.976 --> 00:33:14.206 A:middle
First and foremost, and this is

00:33:14.206 --> 00:33:16.006 A:middle
a common source of problems,

00:33:17.056 --> 00:33:18.066 A:middle
image orientation.

00:33:20.016 --> 00:33:21.546 A:middle
Now, not all of our Vision

00:33:21.546 --> 00:33:22.916 A:middle
algorithms are orientation

00:33:22.916 --> 00:33:23.496 A:middle
agnostic.

00:33:24.096 --> 00:33:25.106 A:middle
You might have heard early that

00:33:25.106 --> 00:33:26.436 A:middle
we have a new face detector that

00:33:26.436 --> 00:33:28.436 A:middle
is orientation agnostic.

00:33:29.136 --> 00:33:30.656 A:middle
But the previous one was not.

00:33:32.156 --> 00:33:33.636 A:middle
This means we need to know what

00:33:33.636 --> 00:33:35.016 A:middle
is the upright position of the

00:33:35.016 --> 00:33:35.406 A:middle
image?

00:33:36.296 --> 00:33:38.436 A:middle
And it can be deceiving because

00:33:38.436 --> 00:33:39.866 A:middle
if you look at it and preview on

00:33:39.866 --> 00:33:41.376 A:middle
the final, my image looks

00:33:41.376 --> 00:33:43.046 A:middle
upright, but that is not how it

00:33:43.046 --> 00:33:43.906 A:middle
is stored on disk.

00:33:45.026 --> 00:33:46.466 A:middle
There is something that tells us

00:33:46.466 --> 00:33:48.206 A:middle
how the device is oriented, and

00:33:48.206 --> 00:33:49.086 A:middle
this is called the EXIF

00:33:49.086 --> 00:33:49.896 A:middle
Orientation.

00:33:50.976 --> 00:33:53.856 A:middle
So, if an image is captured,

00:33:53.856 --> 00:33:54.866 A:middle
that's normally in the sensor

00:33:54.866 --> 00:33:56.346 A:middle
orientation, with the EXIF, we

00:33:56.346 --> 00:33:57.716 A:middle
know what is actually upright

00:33:57.906 --> 00:34:00.096 A:middle
and if you pass an URL into

00:33:57.906 --> 00:34:00.096 A:middle
and if you pass an URL into

00:34:00.096 --> 00:34:03.176 A:middle
Vision as our input, Vision is

00:34:03.176 --> 00:34:04.306 A:middle
actually going to do all that

00:34:04.306 --> 00:34:05.446 A:middle
work basically for you and

00:34:05.446 --> 00:34:06.456 A:middle
actually read this EXIF

00:34:06.456 --> 00:34:07.786 A:middle
information from the file.

00:34:09.246 --> 00:34:10.746 A:middle
But like when -- as we showed in

00:34:10.746 --> 00:34:12.496 A:middle
the demos earlier, if I use my

00:34:12.496 --> 00:34:14.335 A:middle
live capture feed, I need to

00:34:14.335 --> 00:34:15.585 A:middle
actually pass this information

00:34:15.585 --> 00:34:15.775 A:middle
in.

00:34:16.335 --> 00:34:17.996 A:middle
So, I have to look at what does

00:34:17.996 --> 00:34:20.036 A:middle
my orientation from my UI device

00:34:20.096 --> 00:34:22.286 A:middle
current orientation and convert

00:34:22.286 --> 00:34:23.456 A:middle
this [inaudible] to CG Image

00:34:23.516 --> 00:34:24.666 A:middle
Property Orientation because we

00:34:24.666 --> 00:34:26.126 A:middle
need it in the form of an EXIF

00:34:26.126 --> 00:34:26.755 A:middle
orientation.

00:34:27.356 --> 00:34:30.536 A:middle
Next, let's talk a little bit

00:34:30.536 --> 00:34:31.946 A:middle
about our coordinate system.

00:34:33.485 --> 00:34:35.295 A:middle
For Vision, the origin is always

00:34:35.295 --> 00:34:37.706 A:middle
in the lower, left corner.

00:34:37.806 --> 00:34:40.206 A:middle
And all processing is done in

00:34:40.206 --> 00:34:41.646 A:middle
the up right -- if the image

00:34:41.646 --> 00:34:42.996 A:middle
would be in an upright position,

00:34:43.446 --> 00:34:44.585 A:middle
hence the orientation is

00:34:44.585 --> 00:34:45.106 A:middle
important.

00:34:47.266 --> 00:34:48.576 A:middle
All our processing is really

00:34:48.576 --> 00:34:49.996 A:middle
done in a normalized coordinate

00:34:49.996 --> 00:34:52.266 A:middle
space, except the registration

00:34:52.266 --> 00:34:52.996 A:middle
where we actually need to know

00:34:52.996 --> 00:34:54.216 A:middle
how many pixels [inaudible].

00:34:54.896 --> 00:34:56.406 A:middle
So, normalized coordinates means

00:34:56.856 --> 00:34:58.166 A:middle
our coordinates go from zero,

00:34:58.166 --> 00:35:00.306 A:middle
zero, to 1,1, in the upper right

00:34:58.166 --> 00:35:00.306 A:middle
zero, to 1,1, in the upper right

00:35:00.336 --> 00:35:00.626 A:middle
corner.

00:35:02.406 --> 00:35:04.016 A:middle
Now what you see here is to that

00:35:04.116 --> 00:35:05.896 A:middle
performed face and landmark

00:35:05.896 --> 00:35:06.916 A:middle
detection request.

00:35:07.326 --> 00:35:09.036 A:middle
And you will see that I get the

00:35:09.036 --> 00:35:10.496 A:middle
bounding box for my face, and

00:35:10.496 --> 00:35:11.956 A:middle
the landmarks are actually

00:35:11.956 --> 00:35:14.196 A:middle
reported in relative coordinates

00:35:14.236 --> 00:35:17.106 A:middle
to that bounding box.

00:35:17.296 --> 00:35:18.526 A:middle
If you need to go back into the

00:35:18.526 --> 00:35:19.996 A:middle
image coordinate space, we have

00:35:20.096 --> 00:35:22.006 A:middle
utility functions and VNUtils

00:35:22.006 --> 00:35:22.946 A:middle
like the VN Image [inaudible]

00:35:22.946 --> 00:35:25.476 A:middle
from normalized way to convert

00:35:25.606 --> 00:35:28.006 A:middle
back and forth between those

00:35:29.676 --> 00:35:30.056 A:middle
coordinates.

00:35:31.416 --> 00:35:32.336 A:middle
Next, let's talk about

00:35:32.336 --> 00:35:33.156 A:middle
confidence scores.

00:35:33.156 --> 00:35:34.376 A:middle
We touched a little bit on this

00:35:34.426 --> 00:35:36.076 A:middle
already during our robot shot

00:35:36.076 --> 00:35:36.626 A:middle
example.

00:35:36.626 --> 00:35:40.186 A:middle
A lot of our algorithms can

00:35:40.186 --> 00:35:42.006 A:middle
express how confident they are

00:35:42.006 --> 00:35:42.796 A:middle
in their results.

00:35:43.746 --> 00:35:46.436 A:middle
And that is kind of an important

00:35:46.436 --> 00:35:47.886 A:middle
part to know when I want to

00:35:48.226 --> 00:35:49.706 A:middle
analyze later on what I get out

00:35:49.706 --> 00:35:50.446 A:middle
of these results.

00:35:50.536 --> 00:35:51.716 A:middle
So, if I have a low confidence

00:35:51.716 --> 00:35:53.216 A:middle
of zero, or do I have a high

00:35:53.216 --> 00:35:56.566 A:middle
confidence of 1?

00:35:57.576 --> 00:36:02.676 A:middle
Clicker. Here we go.

00:35:57.576 --> 00:36:02.676 A:middle
Clicker. Here we go.

00:36:02.856 --> 00:36:03.086 A:middle
Alright.

00:36:03.646 --> 00:36:05.606 A:middle
Unfortunately, not all

00:36:05.606 --> 00:36:06.936 A:middle
algorithms will have the same

00:36:06.936 --> 00:36:08.736 A:middle
scale in terms of like how they

00:36:08.736 --> 00:36:10.156 A:middle
report their confidence scores.

00:36:10.316 --> 00:36:12.356 A:middle
For instance, if we look at our

00:36:12.356 --> 00:36:14.096 A:middle
text detector, it pretty much

00:36:14.096 --> 00:36:15.336 A:middle
always returns a confidence

00:36:15.336 --> 00:36:17.256 A:middle
score of 1 because if it doesn't

00:36:17.256 --> 00:36:18.356 A:middle
think there's text, it's not

00:36:18.356 --> 00:36:19.476 A:middle
going to return the bounding box

00:36:19.476 --> 00:36:20.306 A:middle
in the first place.

00:36:21.296 --> 00:36:23.646 A:middle
But as we saw, the classifiers

00:36:23.856 --> 00:36:25.436 A:middle
have a very large range actually

00:36:25.506 --> 00:36:26.736 A:middle
of what this confidence score

00:36:26.736 --> 00:36:27.146 A:middle
could be.

00:36:27.646 --> 00:36:28.866 A:middle
Let's look at a few examples.

00:36:30.056 --> 00:36:33.356 A:middle
In my first example, I used an

00:36:33.356 --> 00:36:34.696 A:middle
image from our robot shop

00:36:34.696 --> 00:36:37.356 A:middle
example and I ran my own model

00:36:37.356 --> 00:36:37.606 A:middle
on it.

00:36:38.356 --> 00:36:40.076 A:middle
And sure enough, it had a very

00:36:40.076 --> 00:36:41.326 A:middle
high confidence, this is a

00:36:41.326 --> 00:36:42.006 A:middle
stepper motor.

00:36:43.756 --> 00:36:45.996 A:middle
Now, on this next examples, I'm

00:36:45.996 --> 00:36:47.296 A:middle
going to use some of the models

00:36:47.296 --> 00:36:48.326 A:middle
that we have in our model

00:36:48.326 --> 00:36:48.786 A:middle
gallery.

00:36:49.836 --> 00:36:51.076 A:middle
So, don't get me wrong.

00:36:51.076 --> 00:36:52.166 A:middle
I don't want to compare the

00:36:52.166 --> 00:36:53.296 A:middle
quality of the models.

00:36:53.296 --> 00:36:54.406 A:middle
It's about like actually what

00:36:54.406 --> 00:36:56.126 A:middle
did confidence they return and

00:36:56.126 --> 00:36:57.106 A:middle
what actually want to do with

00:36:57.196 --> 00:36:57.436 A:middle
this.

00:36:58.616 --> 00:36:59.836 A:middle
So, what did this tell us

00:36:59.836 --> 00:37:00.966 A:middle
basically when we want to

00:36:59.836 --> 00:37:00.966 A:middle
basically when we want to

00:37:01.016 --> 00:37:02.536 A:middle
classify this image?

00:37:03.176 --> 00:37:05.916 A:middle
Well, it's not that bad, but

00:37:06.046 --> 00:37:07.376 A:middle
it's really sure about it

00:37:07.376 --> 00:37:07.646 A:middle
either.

00:37:08.166 --> 00:37:11.116 A:middle
The confidence score of 0.395 is

00:37:11.116 --> 00:37:12.666 A:middle
not particularly high, but yes,

00:37:12.696 --> 00:37:14.076 A:middle
it has a sand part, there's some

00:37:14.076 --> 00:37:14.806 A:middle
beach involved.

00:37:15.566 --> 00:37:18.336 A:middle
So, that's usable basically as a

00:37:18.336 --> 00:37:19.616 A:middle
result when I want to search for

00:37:19.616 --> 00:37:21.006 A:middle
it, but might I label the image

00:37:21.046 --> 00:37:21.396 A:middle
with that?

00:37:21.586 --> 00:37:22.756 A:middle
It's probably questionable.

00:37:23.096 --> 00:37:25.536 A:middle
Let's look at this next example.

00:37:27.076 --> 00:37:27.886 A:middle
Girl on a scooter.

00:37:28.606 --> 00:37:29.716 A:middle
What did the classifier do with

00:37:29.766 --> 00:37:30.036 A:middle
this?

00:37:31.786 --> 00:37:32.766 A:middle
Well, I'm not sure she's so

00:37:32.766 --> 00:37:33.796 A:middle
happy to be called a sweet

00:37:33.796 --> 00:37:34.276 A:middle
potato.

00:37:34.786 --> 00:37:40.916 A:middle
Let's look at one more example.

00:37:41.416 --> 00:37:42.716 A:middle
So, here's a screen shot of my

00:37:42.716 --> 00:37:43.066 A:middle
code.

00:37:44.206 --> 00:37:45.476 A:middle
What does the classifier do with

00:37:45.726 --> 00:37:46.966 A:middle
that?

00:37:47.366 --> 00:37:48.786 A:middle
It thinks it's a website.

00:37:48.936 --> 00:37:49.976 A:middle
Computers are so dumb.

00:37:53.626 --> 00:37:55.376 A:middle
So, some conclusions about our

00:37:55.376 --> 00:37:56.186 A:middle
confidence scores.

00:37:58.306 --> 00:38:00.626 A:middle
Does 1.0 always mean it's a 100%

00:37:58.306 --> 00:38:00.626 A:middle
Does 1.0 always mean it's a 100%

00:38:00.626 --> 00:38:00.976 A:middle
correct?

00:38:01.366 --> 00:38:02.456 A:middle
Not necessarily.

00:38:02.896 --> 00:38:04.326 A:middle
It will fill the criteria of the

00:38:04.326 --> 00:38:06.486 A:middle
algorithm, but our perception,

00:38:06.486 --> 00:38:07.766 A:middle
as we saw particularly with the

00:38:07.766 --> 00:38:09.666 A:middle
sweet potato is quite different.

00:38:10.586 --> 00:38:12.646 A:middle
So, when you create an

00:38:12.646 --> 00:38:13.966 A:middle
application that wants to take

00:38:13.966 --> 00:38:15.736 A:middle
advantage of that, please keep

00:38:15.736 --> 00:38:16.376 A:middle
that in mind.

00:38:16.916 --> 00:38:17.316 A:middle
Think of it.

00:38:17.316 --> 00:38:18.396 A:middle
If you would write a medical

00:38:18.396 --> 00:38:19.606 A:middle
application and saying, "Oh, you

00:38:19.606 --> 00:38:21.906 A:middle
have cancer," that might be a

00:38:21.906 --> 00:38:23.626 A:middle
very strong argument where you

00:38:23.626 --> 00:38:25.036 A:middle
want to probably soften that a

00:38:25.036 --> 00:38:26.196 A:middle
little bit depending on like how

00:38:26.196 --> 00:38:27.346 A:middle
sure you can really be on the

00:38:27.346 --> 00:38:27.796 A:middle
results.

00:38:29.326 --> 00:38:31.676 A:middle
So, there are two techniques

00:38:31.676 --> 00:38:32.896 A:middle
that you can use for this.

00:38:33.506 --> 00:38:35.016 A:middle
As we saw in the robot shot

00:38:35.016 --> 00:38:36.776 A:middle
example, I used a threshold on

00:38:36.776 --> 00:38:37.916 A:middle
the confidence score because I

00:38:37.916 --> 00:38:39.766 A:middle
really label the image and I you

00:38:39.946 --> 00:38:40.926 A:middle
know, when it's actually

00:38:40.926 --> 00:38:41.746 A:middle
filtering everything out that

00:38:41.746 --> 00:38:42.956 A:middle
had a low confidence score.

00:38:43.676 --> 00:38:44.646 A:middle
If on the other hand, I want to

00:38:44.646 --> 00:38:46.126 A:middle
create a search application, I

00:38:46.126 --> 00:38:47.686 A:middle
might actually use some of the

00:38:47.686 --> 00:38:50.856 A:middle
images that I had and still show

00:38:50.856 --> 00:38:52.506 A:middle
them, probably on the bottom of

00:38:52.546 --> 00:38:53.586 A:middle
the search because there's still

00:38:53.586 --> 00:38:55.326 A:middle
a valid choice, perhaps in the

00:38:55.326 --> 00:38:56.016 A:middle
search results.

00:38:59.916 --> 00:39:03.186 A:middle
As usual, we find some more

00:38:59.916 --> 00:39:03.186 A:middle
As usual, we find some more

00:39:03.186 --> 00:39:04.486 A:middle
information on our website.

00:39:04.946 --> 00:39:06.626 A:middle
And we have our lab tomorrow at

00:39:06.626 --> 00:39:08.396 A:middle
3 p.m. Please stop by.

00:39:08.576 --> 00:39:09.736 A:middle
Ask your questions.

00:39:09.736 --> 00:39:10.556 A:middle
We're there to help you.

00:39:10.596 --> 00:39:12.916 A:middle
And with that, I would first of

00:39:12.916 --> 00:39:14.686 A:middle
all like to thank you all for

00:39:14.686 --> 00:39:15.846 A:middle
these great application that you

00:39:15.846 --> 00:39:17.046 A:middle
create with our technology.

00:39:17.116 --> 00:39:18.756 A:middle
I'm looking forward to see what

00:39:18.756 --> 00:39:19.536 A:middle
you can do with this.

00:39:19.936 --> 00:39:21.256 A:middle
And thank you all for coming to

00:39:21.256 --> 00:39:21.676 A:middle
WWDC.

00:39:21.676 --> 00:39:22.696 A:middle
Have a great rest of the show.

00:39:22.696 --> 00:39:23.296 A:middle
Thank you.

00:39:24.516 --> 00:39:32.050 A:middle
[ Applause ]
