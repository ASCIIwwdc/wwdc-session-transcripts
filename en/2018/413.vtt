WEBVTT

00:00:07.516 --> 00:00:15.500 A:middle
[ Music ]

00:00:23.516 --> 00:00:30.186 A:middle
[ Applause ]

00:00:30.686 --> 00:00:31.516 A:middle
&gt;&gt; Good morning.

00:00:31.736 --> 00:00:33.276 A:middle
&gt;&gt; Welcome to Create Your Own

00:00:33.276 --> 00:00:34.756 A:middle
Swift Playgrounds Subscription.

00:00:34.926 --> 00:00:35.956 A:middle
&gt;&gt; We hope you had a great time

00:00:35.956 --> 00:00:37.186 A:middle
at the bash last night and we

00:00:37.186 --> 00:00:38.406 A:middle
know you're all feeling bright

00:00:38.406 --> 00:00:39.836 A:middle
eyed and bushy tailed and ready

00:00:39.836 --> 00:00:40.536 A:middle
to learn about Swift

00:00:40.536 --> 00:00:40.986 A:middle
Playgrounds.

00:00:41.496 --> 00:00:42.456 A:middle
My name is Grace.

00:00:42.456 --> 00:00:43.536 A:middle
&gt;&gt; And my name is Holly.

00:00:43.736 --> 00:00:44.766 A:middle
&gt;&gt; I'm a software engineer on

00:00:44.766 --> 00:00:45.476 A:middle
Swift Playgrounds.

00:00:45.576 --> 00:00:46.846 A:middle
&gt;&gt; And I'm a software engineer

00:00:46.896 --> 00:00:48.086 A:middle
on Xcode Source Editor.

00:00:48.516 --> 00:00:51.496 A:middle
Swift Playgrounds is an app that

00:00:51.496 --> 00:00:53.036 A:middle
allows anyone to code on the

00:00:53.036 --> 00:00:54.616 A:middle
iPad using the Swift Programming

00:00:54.616 --> 00:00:55.126 A:middle
Language.

00:00:55.536 --> 00:00:57.676 A:middle
As authors, you can share your

00:00:57.676 --> 00:00:59.006 A:middle
Playground Books with others by

00:00:59.006 --> 00:01:00.466 A:middle
hosting your own subscription.


00:00:59.006 --> 00:01:00.466 A:middle
hosting your own subscription.

00:01:00.916 --> 00:01:02.096 A:middle
&gt;&gt; Today we'll be talking about

00:01:02.096 --> 00:01:03.216 A:middle
how to make a subscription

00:01:03.556 --> 00:01:04.965 A:middle
starting from making Playgrounds

00:01:04.965 --> 00:01:06.206 A:middle
and Playground books and moving

00:01:06.206 --> 00:01:07.356 A:middle
all the way through hosting your

00:01:07.356 --> 00:01:09.146 A:middle
content online as a feed for you

00:01:09.146 --> 00:01:09.786 A:middle
subscribers.

00:01:11.226 --> 00:01:12.176 A:middle
&gt;&gt; Today's session will be

00:01:12.176 --> 00:01:13.756 A:middle
broken up into four parts.

00:01:14.616 --> 00:01:16.106 A:middle
First we'll talk a quick look at

00:01:16.106 --> 00:01:17.786 A:middle
the Playground book format and

00:01:17.786 --> 00:01:19.086 A:middle
new Swift Playgrounds Author

00:01:19.086 --> 00:01:20.846 A:middle
Template for Xcode 9.3.

00:01:21.406 --> 00:01:22.676 A:middle
Then we'll look at the Swift

00:01:22.676 --> 00:01:24.156 A:middle
Playgrounds subscription format

00:01:24.456 --> 00:01:25.736 A:middle
and walk through how to host

00:01:25.736 --> 00:01:27.146 A:middle
your own feed online.

00:01:27.906 --> 00:01:29.086 A:middle
&gt;&gt; And I'm going to go watch you

00:01:29.086 --> 00:01:31.666 A:middle
from offstage so I'll see you

00:01:31.886 --> 00:01:32.000 A:middle
later.

00:01:33.436 --> 00:01:34.756 A:middle
&gt;&gt; Grace and I have been working

00:01:34.806 --> 00:01:36.976 A:middle
on a set of Playground books for

00:01:36.976 --> 00:01:38.806 A:middle
all of you to explore the core

00:01:38.806 --> 00:01:39.986 A:middle
image APIs.

00:01:40.476 --> 00:01:41.966 A:middle
Today we're going to build

00:01:41.966 --> 00:01:43.446 A:middle
another Playground book so that

00:01:43.446 --> 00:01:45.286 A:middle
all of you can explore the CI

00:01:45.516 --> 00:01:47.086 A:middle
filters, some of the built in

00:01:47.086 --> 00:01:47.416 A:middle
ones.

00:01:47.786 --> 00:01:49.536 A:middle
And here you can see me having a

00:01:49.536 --> 00:01:51.106 A:middle
lot of fun going through the

00:01:51.106 --> 00:01:53.116 A:middle
chapter of our book that teaches

00:01:53.116 --> 00:01:54.676 A:middle
about the distortion filters,

00:01:54.676 --> 00:01:56.516 A:middle
which are my personal favorites.

00:01:58.296 --> 00:02:00.036 A:middle
Playground books are a mechanism


00:01:58.296 --> 00:02:00.036 A:middle
Playground books are a mechanism

00:02:00.036 --> 00:02:01.706 A:middle
for you to construct a guided

00:02:01.916 --> 00:02:03.606 A:middle
interactive exploration of a

00:02:03.606 --> 00:02:04.676 A:middle
particular topic.

00:02:05.106 --> 00:02:06.726 A:middle
Using a Playground book you can

00:02:06.726 --> 00:02:07.766 A:middle
guide your learners through a

00:02:07.766 --> 00:02:09.425 A:middle
sequence of chapters, which are

00:02:09.425 --> 00:02:10.985 A:middle
then further subdivided into

00:02:10.985 --> 00:02:11.566 A:middle
pages.

00:02:12.576 --> 00:02:14.046 A:middle
Each page contains a source

00:02:14.046 --> 00:02:15.516 A:middle
editor, which you see here on

00:02:15.516 --> 00:02:16.026 A:middle
the left.

00:02:16.486 --> 00:02:17.776 A:middle
And you can also choose to

00:02:17.776 --> 00:02:19.956 A:middle
implement an optional, always on

00:02:19.956 --> 00:02:22.326 A:middle
live view, which you see here on

00:02:22.326 --> 00:02:22.676 A:middle
the right.

00:02:23.396 --> 00:02:24.776 A:middle
Live views are used for

00:02:24.776 --> 00:02:26.246 A:middle
visualizing the results of

00:02:26.246 --> 00:02:27.416 A:middle
running the code in the source

00:02:27.416 --> 00:02:28.586 A:middle
editor on a page.

00:02:29.856 --> 00:02:32.056 A:middle
To bundle all of this into a

00:02:32.056 --> 00:02:34.386 A:middle
single file, we use a package

00:02:34.386 --> 00:02:35.546 A:middle
based file format.

00:02:36.076 --> 00:02:38.226 A:middle
This means that a Playground

00:02:38.226 --> 00:02:40.236 A:middle
book is itself a file hierarchy.

00:02:41.146 --> 00:02:43.156 A:middle
It contains a subdirectory for

00:02:43.156 --> 00:02:45.416 A:middle
each chapter and nested within

00:02:45.416 --> 00:02:47.236 A:middle
each chapter is a folder for

00:02:47.286 --> 00:02:48.796 A:middle
each page in that chapter.

00:02:50.246 --> 00:02:51.766 A:middle
And each Playground page folder

00:02:51.766 --> 00:02:53.226 A:middle
contains all of the resources

00:02:53.226 --> 00:02:54.606 A:middle
that are required to run the

00:02:54.606 --> 00:02:56.326 A:middle
code in the source editor and to

00:02:56.326 --> 00:02:57.846 A:middle
display the live view for that

00:02:57.846 --> 00:02:58.356 A:middle
page.


00:03:02.156 --> 00:03:03.836 A:middle
Each level in the Playground

00:03:03.836 --> 00:03:05.466 A:middle
book hierarchy also contains a

00:03:05.466 --> 00:03:07.376 A:middle
property list file for metadata

00:03:07.376 --> 00:03:09.496 A:middle
that Swift Playground uses to

00:03:09.496 --> 00:03:10.536 A:middle
configure the structure of the

00:03:10.536 --> 00:03:12.196 A:middle
book and to construct the table

00:03:12.196 --> 00:03:12.946 A:middle
of contents.

00:03:13.536 --> 00:03:16.286 A:middle
And finally, in addition to the

00:03:16.286 --> 00:03:17.676 A:middle
content that is shown to your

00:03:17.676 --> 00:03:19.636 A:middle
learner in a page, Playground

00:03:19.636 --> 00:03:21.076 A:middle
books may contain additional

00:03:21.076 --> 00:03:22.816 A:middle
Swift files called auxiliary

00:03:22.816 --> 00:03:23.356 A:middle
sources.

00:03:24.526 --> 00:03:26.416 A:middle
And these are stored in folders

00:03:26.416 --> 00:03:27.446 A:middle
names Sources.

00:03:28.276 --> 00:03:29.856 A:middle
Auxiliary sources allow you to

00:03:29.856 --> 00:03:31.566 A:middle
provide additional Swift code

00:03:31.826 --> 00:03:33.646 A:middle
like classes or helper functions

00:03:33.826 --> 00:03:34.866 A:middle
that can be used throughout the

00:03:34.866 --> 00:03:36.906 A:middle
pages in your Playground book.

00:03:37.776 --> 00:03:39.706 A:middle
You can use auxiliary source

00:03:39.706 --> 00:03:41.406 A:middle
files to achieve many different

00:03:41.406 --> 00:03:41.916 A:middle
tasks.

00:03:42.186 --> 00:03:43.916 A:middle
And by utilizing these sources,

00:03:44.186 --> 00:03:45.476 A:middle
you can greatly simplify the

00:03:45.476 --> 00:03:46.746 A:middle
code that you need to write in

00:03:47.046 --> 00:03:49.906 A:middle
each page in your book.

00:03:50.396 --> 00:03:51.616 A:middle
Let's look at an example of

00:03:51.616 --> 00:03:53.016 A:middle
using auxiliary sources to

00:03:53.016 --> 00:03:54.556 A:middle
simplify communicating with the

00:03:54.556 --> 00:03:55.186 A:middle
live view.

00:03:55.746 --> 00:03:59.766 A:middle
You can send values to the live

00:03:59.766 --> 00:04:01.736 A:middle
view by calling the send method


00:03:59.766 --> 00:04:01.736 A:middle
view by calling the send method

00:04:01.736 --> 00:04:03.206 A:middle
from the Playground Live View

00:04:03.206 --> 00:04:04.956 A:middle
Message Handler protocol, which

00:04:04.956 --> 00:04:06.176 A:middle
is declared in the Playground

00:04:06.176 --> 00:04:07.086 A:middle
Support framework.

00:04:07.086 --> 00:04:10.536 A:middle
Messages are sent to the live

00:04:10.536 --> 00:04:12.056 A:middle
view as Playground Values.

00:04:12.836 --> 00:04:14.316 A:middle
Playground Value is an enum that

00:04:14.316 --> 00:04:15.476 A:middle
is also declared in the

00:04:15.516 --> 00:04:16.716 A:middle
Playground Support framework.

00:04:17.366 --> 00:04:20.826 A:middle
To simplify converting objects

00:04:20.906 --> 00:04:22.596 A:middle
to Playground values I wrote a

00:04:22.596 --> 00:04:23.536 A:middle
protocol called

00:04:23.536 --> 00:04:25.336 A:middle
PlaygroundValueConvertible in a

00:04:25.336 --> 00:04:26.056 A:middle
file called

00:04:26.056 --> 00:04:27.536 A:middle
LiveViewSupport.swift.

00:04:27.916 --> 00:04:29.406 A:middle
And I include this file in the

00:04:29.406 --> 00:04:31.086 A:middle
book-level sources folder of

00:04:31.146 --> 00:04:32.446 A:middle
every Playground book that I

00:04:32.446 --> 00:04:32.756 A:middle
write.

00:04:33.446 --> 00:04:35.376 A:middle
Then for any type that I want to

00:04:35.376 --> 00:04:37.526 A:middle
send to the live view, like a CI

00:04:37.526 --> 00:04:38.706 A:middle
filter for example.

00:04:38.706 --> 00:04:40.376 A:middle
I can extend that type to

00:04:40.376 --> 00:04:41.126 A:middle
conform to

00:04:41.126 --> 00:04:42.846 A:middle
PlaygroundValueConvertible and

00:04:42.846 --> 00:04:44.916 A:middle
implement the asPlaygroundValue

00:04:44.976 --> 00:04:45.436 A:middle
method.

00:04:45.846 --> 00:04:47.096 A:middle
This method will convert the

00:04:47.096 --> 00:04:48.566 A:middle
original object to a

00:04:48.566 --> 00:04:49.326 A:middle
PlaygroundValue.

00:04:51.196 --> 00:04:52.796 A:middle
I also wrote a helper function

00:04:52.796 --> 00:04:54.836 A:middle
called sendValue, which takes in

00:04:54.866 --> 00:04:56.646 A:middle
a PlaygroundValueConvertible and

00:04:56.646 --> 00:04:58.046 A:middle
sends it to the current pages

00:04:58.046 --> 00:05:00.106 A:middle
live view as a PlaygroundValue.


00:04:58.046 --> 00:05:00.106 A:middle
live view as a PlaygroundValue.

00:05:00.916 --> 00:05:03.426 A:middle
And finally, when I have an

00:05:03.426 --> 00:05:05.526 A:middle
object in a playground page that

00:05:05.526 --> 00:05:06.776 A:middle
I want to send over to the live

00:05:06.776 --> 00:05:08.536 A:middle
view, I can simply call

00:05:08.536 --> 00:05:10.356 A:middle
sendValue and send in that

00:05:10.356 --> 00:05:12.416 A:middle
object as the argument from a

00:05:12.416 --> 00:05:13.666 A:middle
hidden-code block in that

00:05:13.666 --> 00:05:15.376 A:middle
pagescontents.swift.

00:05:15.816 --> 00:05:17.886 A:middle
So as you can see the code that

00:05:17.886 --> 00:05:19.556 A:middle
I wrote in my auxiliary source

00:05:19.556 --> 00:05:21.576 A:middle
file greatly simplified the code

00:05:21.576 --> 00:05:23.036 A:middle
that I needed to write in my

00:05:23.096 --> 00:05:24.546 A:middle
Playground page for sending a

00:05:24.546 --> 00:05:26.000 A:middle
value over to the live view.

00:05:28.336 --> 00:05:29.996 A:middle
For more information on the

00:05:29.996 --> 00:05:31.466 A:middle
Playground book package, I

00:05:31.466 --> 00:05:32.976 A:middle
recommend you take a look at the

00:05:33.006 --> 00:05:33.966 A:middle
Playground Book Format

00:05:33.966 --> 00:05:35.256 A:middle
Reference, which you can find on

00:05:35.256 --> 00:05:38.486 A:middle
developer.apple.com.

00:05:38.846 --> 00:05:40.306 A:middle
Now, let's take a look at the

00:05:40.306 --> 00:05:41.326 A:middle
Swift Playgrounds Author

00:05:41.326 --> 00:05:42.896 A:middle
Template, which you can use to

00:05:42.896 --> 00:05:44.076 A:middle
get started authoring your

00:05:44.126 --> 00:05:45.556 A:middle
Playground books.

00:05:46.796 --> 00:05:48.226 A:middle
The Swift Playgrounds Author

00:05:48.226 --> 00:05:50.096 A:middle
Template is a starter Xcode

00:05:50.096 --> 00:05:51.476 A:middle
project that will help you

00:05:51.476 --> 00:05:54.016 A:middle
create, debug, and produce a

00:05:54.016 --> 00:05:54.756 A:middle
Playground book.

00:05:55.726 --> 00:05:57.426 A:middle
Using the template you can step

00:05:57.426 --> 00:05:58.726 A:middle
through the code for your live

00:05:58.726 --> 00:06:00.756 A:middle
view as if it were an app so


00:05:58.726 --> 00:06:00.756 A:middle
view as if it were an app so

00:06:00.756 --> 00:06:02.316 A:middle
that you can identify bugs more

00:06:02.316 --> 00:06:04.086 A:middle
easily and develop an efficient

00:06:04.086 --> 00:06:05.746 A:middle
workflow for developing your

00:06:05.746 --> 00:06:06.566 A:middle
Playground books.

00:06:07.026 --> 00:06:08.546 A:middle
Here you can see me stepping

00:06:08.546 --> 00:06:09.706 A:middle
through the code for the live

00:06:09.706 --> 00:06:11.646 A:middle
view of the CI filter Playground

00:06:11.646 --> 00:06:12.986 A:middle
book that I showed your earlier.

00:06:14.796 --> 00:06:16.416 A:middle
The Swift Playgrounds Author

00:06:16.416 --> 00:06:17.906 A:middle
Template is available for you to

00:06:17.906 --> 00:06:18.576 A:middle
download from

00:06:18.576 --> 00:06:22.426 A:middle
developer.apple.com.

00:06:22.906 --> 00:06:24.736 A:middle
This Xcode project is compatible

00:06:24.736 --> 00:06:26.776 A:middle
with Swift Playgrounds 2.1 and

00:06:26.776 --> 00:06:29.506 A:middle
Xcode 9.3, both released earlier

00:06:29.506 --> 00:06:29.996 A:middle
this year.

00:06:31.276 --> 00:06:32.286 A:middle
This project includes some

00:06:32.286 --> 00:06:33.686 A:middle
frameworks that were built using

00:06:33.686 --> 00:06:35.706 A:middle
the Swift 4.1 Compiler since

00:06:35.756 --> 00:06:36.956 A:middle
this is what Swift Playgrounds

00:06:37.016 --> 00:06:38.576 A:middle
2.1 currently uses.

00:06:39.106 --> 00:06:40.296 A:middle
So it's really important that

00:06:40.296 --> 00:06:41.636 A:middle
the version of Xcode that you

00:06:41.636 --> 00:06:43.836 A:middle
use for this project also uses

00:06:43.896 --> 00:06:45.406 A:middle
Swift 4.1.

00:06:46.536 --> 00:06:48.416 A:middle
The Swift Playgrounds Author

00:06:48.416 --> 00:06:49.966 A:middle
Template includes three

00:06:49.966 --> 00:06:51.296 A:middle
different targets whose products

00:06:51.296 --> 00:06:52.736 A:middle
will help you author your

00:06:52.736 --> 00:06:53.336 A:middle
Playground books.

00:06:53.906 --> 00:06:55.186 A:middle
The first target is called

00:06:55.186 --> 00:06:55.816 A:middle
Playground Book.

00:06:56.446 --> 00:06:57.566 A:middle
The second is called Book

00:06:57.566 --> 00:06:58.266 A:middle
Sources.

00:06:58.626 --> 00:07:00.156 A:middle
And the third is called Live


00:06:58.626 --> 00:07:00.156 A:middle
And the third is called Live

00:07:00.156 --> 00:07:01.486 A:middle
View Test App.

00:07:02.396 --> 00:07:04.246 A:middle
The Playground Book Target

00:07:04.246 --> 00:07:05.686 A:middle
produces a Playground book as

00:07:05.686 --> 00:07:06.346 A:middle
its output.

00:07:06.646 --> 00:07:07.976 A:middle
And you can see this in the

00:07:07.976 --> 00:07:09.536 A:middle
products group in the Xcode

00:07:09.536 --> 00:07:10.566 A:middle
Project Navigator.

00:07:11.356 --> 00:07:12.996 A:middle
All of the files for this target

00:07:12.996 --> 00:07:14.336 A:middle
are in the PlaygroundBook group

00:07:14.536 --> 00:07:15.186 A:middle
in Xcode.

00:07:15.566 --> 00:07:16.996 A:middle
And the template contains the

00:07:16.996 --> 00:07:18.386 A:middle
starter files for a playground

00:07:18.386 --> 00:07:20.276 A:middle
book with one chapter and one

00:07:20.276 --> 00:07:20.866 A:middle
page.

00:07:22.186 --> 00:07:24.336 A:middle
The template also includes two

00:07:24.336 --> 00:07:25.796 A:middle
book level auxiliary source

00:07:25.796 --> 00:07:27.456 A:middle
files that provide a default

00:07:27.456 --> 00:07:29.346 A:middle
implementation of the always on

00:07:29.346 --> 00:07:30.656 A:middle
live view for the Playground

00:07:30.656 --> 00:07:30.906 A:middle
book.

00:07:31.286 --> 00:07:34.656 A:middle
Next, the Book Sources target

00:07:34.656 --> 00:07:36.256 A:middle
compiles all of the book-level

00:07:36.256 --> 00:07:37.376 A:middle
auxiliary sources.

00:07:37.656 --> 00:07:39.186 A:middle
And you can see all of the files

00:07:39.186 --> 00:07:41.086 A:middle
for this target in the sources

00:07:41.086 --> 00:07:42.146 A:middle
group inside of the

00:07:42.206 --> 00:07:43.266 A:middle
PlaygroundBook group in the

00:07:43.266 --> 00:07:44.726 A:middle
Xcode Project Navigator.

00:07:46.126 --> 00:07:47.906 A:middle
Compiling these sources allows

00:07:47.906 --> 00:07:49.466 A:middle
you to develop your book-level

00:07:49.466 --> 00:07:51.146 A:middle
sources with full editor

00:07:51.146 --> 00:07:51.946 A:middle
integration.

00:07:52.426 --> 00:07:53.646 A:middle
This means that you'll be able

00:07:53.646 --> 00:07:55.186 A:middle
to use all of the Xcode source

00:07:55.186 --> 00:07:56.936 A:middle
editor features available in any

00:07:56.936 --> 00:07:58.726 A:middle
other Xcode project like code

00:07:58.726 --> 00:08:00.896 A:middle
completion or quick help.


00:07:58.726 --> 00:08:00.896 A:middle
completion or quick help.

00:08:00.896 --> 00:08:02.986 A:middle
And finally, the LiveViewTestApp

00:08:02.986 --> 00:08:05.056 A:middle
uses this target for displaying

00:08:05.056 --> 00:08:05.876 A:middle
the live view.

00:08:06.256 --> 00:08:07.486 A:middle
So you're implementation for the

00:08:07.486 --> 00:08:09.186 A:middle
live view of your book must be

00:08:09.186 --> 00:08:10.646 A:middle
in your book-level sources if

00:08:10.646 --> 00:08:13.926 A:middle
you want to use the test app for

00:08:14.206 --> 00:08:14.416 A:middle
debugging.

00:08:14.416 --> 00:08:15.496 A:middle
Lastly, we have the

00:08:15.496 --> 00:08:16.906 A:middle
LiveViewTestApp Target.

00:08:17.616 --> 00:08:18.806 A:middle
You can find all of the files

00:08:18.806 --> 00:08:19.916 A:middle
for this target in the

00:08:19.916 --> 00:08:22.056 A:middle
LiveViewTestApp group in Xcode.

00:08:23.556 --> 00:08:25.426 A:middle
This target produces an app that

00:08:25.426 --> 00:08:26.986 A:middle
displays the live view of your

00:08:26.986 --> 00:08:28.776 A:middle
Playground book similarly to how

00:08:28.776 --> 00:08:30.006 A:middle
it would be shown in Swift

00:08:30.006 --> 00:08:30.496 A:middle
Playgrounds.

00:08:31.046 --> 00:08:33.326 A:middle
As I mentioned before, the

00:08:33.326 --> 00:08:34.556 A:middle
implementation for your live

00:08:34.556 --> 00:08:36.366 A:middle
view must be in your book level

00:08:36.366 --> 00:08:37.385 A:middle
auxiliary resources.

00:08:38.506 --> 00:08:40.446 A:middle
The LiveViewTestApp allows you

00:08:40.446 --> 00:08:42.356 A:middle
to debug your live view in a

00:08:42.356 --> 00:08:44.436 A:middle
full screen or in a side-by-side

00:08:44.436 --> 00:08:45.746 A:middle
mode without first having to

00:08:45.746 --> 00:08:47.406 A:middle
export your Playground book to

00:08:47.406 --> 00:08:48.116 A:middle
Swift Playgrounds.

00:08:49.036 --> 00:08:50.766 A:middle
The LiveViewTestApp works on

00:08:50.946 --> 00:08:53.096 A:middle
iPad and in the iOS Simulator.

00:08:53.656 --> 00:08:56.506 A:middle
The Swift Playgrounds Author

00:08:56.506 --> 00:08:57.976 A:middle
Template comes with three

00:08:57.976 --> 00:08:58.856 A:middle
supporting frameworks.


00:09:00.026 --> 00:09:01.096 A:middle
The first two are the

00:09:01.096 --> 00:09:02.436 A:middle
PlaygroundSupport and the

00:09:02.436 --> 00:09:03.726 A:middle
PlaygroundBluetooth Frameworks

00:09:03.726 --> 00:09:04.636 A:middle
from Swift Playgrounds.

00:09:05.346 --> 00:09:06.486 A:middle
Including these frameworks in

00:09:06.486 --> 00:09:08.036 A:middle
the project allows the book

00:09:08.036 --> 00:09:09.926 A:middle
sources and the LiveViewTestApp

00:09:09.926 --> 00:09:11.506 A:middle
Targets to take full advantage

00:09:11.506 --> 00:09:12.766 A:middle
of the APIs from these

00:09:12.766 --> 00:09:13.366 A:middle
frameworks.

00:09:14.456 --> 00:09:16.116 A:middle
And the third supporting frame

00:09:16.116 --> 00:09:18.116 A:middle
work is called LiveViewHost.

00:09:18.536 --> 00:09:19.826 A:middle
And this framework is used by

00:09:19.826 --> 00:09:21.526 A:middle
LiveViewTestApp for displaying

00:09:21.526 --> 00:09:23.000 A:middle
the live view.

00:09:26.046 --> 00:09:27.406 A:middle
To implement your live view,

00:09:27.566 --> 00:09:28.806 A:middle
you'll need to add all of your

00:09:28.806 --> 00:09:30.336 A:middle
code in the book level auxiliary

00:09:30.336 --> 00:09:31.636 A:middle
sources for your Playground

00:09:32.206 --> 00:09:32.296 A:middle
book.

00:09:32.516 --> 00:09:34.176 A:middle
Included in the template is a

00:09:34.176 --> 00:09:35.536 A:middle
view controller for your live

00:09:35.536 --> 00:09:36.976 A:middle
view in a file called

00:09:37.076 --> 00:09:38.626 A:middle
LiveViewController.Swift.

00:09:39.566 --> 00:09:40.996 A:middle
Also included in the template is

00:09:40.996 --> 00:09:42.406 A:middle
a helper function for loading an

00:09:42.406 --> 00:09:44.376 A:middle
instance of your live view in a

00:09:44.376 --> 00:09:45.016 A:middle
file called

00:09:45.016 --> 00:09:46.446 A:middle
LiveViewSupport.Swift.

00:09:47.296 --> 00:09:48.916 A:middle
You can add any other files that

00:09:48.916 --> 00:09:50.186 A:middle
you need to implement your live

00:09:50.186 --> 00:09:52.416 A:middle
view and you can use any of the

00:09:52.416 --> 00:09:53.876 A:middle
Playgrounds frameworks in your

00:09:53.876 --> 00:09:54.856 A:middle
book sources code.

00:09:55.326 --> 00:09:58.766 A:middle
Also included in the template is

00:09:58.766 --> 00:10:00.046 A:middle
a storyboard for you to


00:09:58.766 --> 00:10:00.046 A:middle
a storyboard for you to

00:10:00.046 --> 00:10:01.626 A:middle
configure the UI for your live

00:10:01.626 --> 00:10:01.896 A:middle
view.

00:10:02.846 --> 00:10:04.366 A:middle
You can add any other resources

00:10:04.366 --> 00:10:05.686 A:middle
that your Playground book needs

00:10:05.806 --> 00:10:07.276 A:middle
in the private resources group.

00:10:07.686 --> 00:10:10.626 A:middle
And finally, to configure your

00:10:10.626 --> 00:10:12.926 A:middle
live view test for the test app,

00:10:13.276 --> 00:10:14.546 A:middle
you'll need to implement a

00:10:14.546 --> 00:10:16.446 A:middle
method in AppDelegate.Swift.

00:10:16.956 --> 00:10:18.386 A:middle
Specifically, you'll need to

00:10:18.386 --> 00:10:19.736 A:middle
implement the setUpLiveView

00:10:19.736 --> 00:10:20.186 A:middle
method.

00:10:21.066 --> 00:10:22.936 A:middle
By default, this method loads an

00:10:22.936 --> 00:10:24.566 A:middle
instance of LiveViewController

00:10:24.566 --> 00:10:26.596 A:middle
from LiveView.storybaord from

00:10:26.596 --> 00:10:27.536 A:middle
the helper method that I

00:10:27.536 --> 00:10:28.266 A:middle
mentioned in

00:10:28.266 --> 00:10:29.526 A:middle
LiveViewSupport.swift.

00:10:29.716 --> 00:10:30.346 A:middle
And this is called

00:10:30.346 --> 00:10:31.526 A:middle
instantiateLiveView.

00:10:33.236 --> 00:10:35.396 A:middle
Now I want to invite Grace back

00:10:35.396 --> 00:10:36.976 A:middle
up to the stage and we'll take a

00:10:36.976 --> 00:10:38.096 A:middle
look at the Playground book that

00:10:38.096 --> 00:10:39.356 A:middle
we've been working on using the

00:10:39.356 --> 00:10:40.306 A:middle
Swift Playgrounds Author

00:10:40.306 --> 00:10:40.726 A:middle
Template.

00:10:42.516 --> 00:10:48.746 A:middle
[ Applause ]

00:10:49.246 --> 00:10:51.966 A:middle
OK, so here we're looking at my

00:10:51.966 --> 00:10:54.026 A:middle
Xcode project for the test out

00:10:54.026 --> 00:10:55.656 A:middle
CI filters Playground book that

00:10:55.656 --> 00:10:56.796 A:middle
I showed you a sneak peak of

00:10:56.876 --> 00:10:57.286 A:middle
earlier.

00:10:57.886 --> 00:10:59.616 A:middle
And the idea for this book is

00:10:59.616 --> 00:11:01.376 A:middle
that a learner can create and


00:10:59.616 --> 00:11:01.376 A:middle
that a learner can create and

00:11:01.376 --> 00:11:03.546 A:middle
manipulate core image filters in

00:11:03.546 --> 00:11:04.916 A:middle
the Source Editor and these

00:11:04.916 --> 00:11:06.426 A:middle
filters will be sent over to the

00:11:06.426 --> 00:11:08.556 A:middle
live view and applied on top of

00:11:08.556 --> 00:11:09.926 A:middle
live camera output for them to

00:11:09.926 --> 00:11:11.076 A:middle
see what those filters look

00:11:11.076 --> 00:11:11.336 A:middle
like.

00:11:12.346 --> 00:11:13.956 A:middle
Here we are looking at the

00:11:13.956 --> 00:11:15.756 A:middle
LiveViewController.Swift folder

00:11:16.776 --> 00:11:18.566 A:middle
and I've implemented one of the

00:11:18.566 --> 00:11:19.846 A:middle
methods that came in the

00:11:19.846 --> 00:11:22.016 A:middle
template and below that I've

00:11:22.056 --> 00:11:23.386 A:middle
added the rest of the code that

00:11:23.386 --> 00:11:24.896 A:middle
I need to display the live

00:11:24.896 --> 00:11:26.856 A:middle
camera output in the live view.

00:11:27.866 --> 00:11:29.436 A:middle
As I mentioned, I also want to

00:11:29.436 --> 00:11:31.766 A:middle
apply core image filters on top

00:11:31.766 --> 00:11:33.366 A:middle
of each frame of the live camera

00:11:33.366 --> 00:11:35.396 A:middle
output, so I've added a few more

00:11:35.396 --> 00:11:37.376 A:middle
files in my book level sources

00:11:37.606 --> 00:11:38.946 A:middle
and implemented a filter

00:11:38.946 --> 00:11:40.226 A:middle
renderer for applying this

00:11:40.226 --> 00:11:42.126 A:middle
filter on top of the live camera

00:11:42.126 --> 00:11:42.546 A:middle
output.

00:11:43.406 --> 00:11:45.226 A:middle
So now if I select the

00:11:45.226 --> 00:11:47.966 A:middle
LiveViewTestApp Target, I can

00:11:47.966 --> 00:11:50.776 A:middle
actually run this code and see

00:11:50.776 --> 00:11:52.116 A:middle
what my live view will look

00:11:52.116 --> 00:11:52.366 A:middle
like.

00:11:53.296 --> 00:11:54.986 A:middle
And I've configured this app to

00:11:54.986 --> 00:11:56.296 A:middle
show the live view in a

00:11:56.296 --> 00:11:57.356 A:middle
side-by-side mode.

00:11:59.086 --> 00:12:00.396 A:middle
So where we can see what the


00:11:59.086 --> 00:12:00.396 A:middle
So where we can see what the

00:12:00.396 --> 00:12:02.366 A:middle
live view will look like in a

00:12:02.366 --> 00:12:03.866 A:middle
side-by-side mode similarly to

00:12:03.866 --> 00:12:05.076 A:middle
how it would be shown next to

00:12:05.076 --> 00:12:06.476 A:middle
the Source Code Editor in Swift

00:12:06.476 --> 00:12:06.986 A:middle
Playgrounds.

00:12:07.306 --> 00:12:08.776 A:middle
And to simulate sending filters

00:12:08.776 --> 00:12:10.276 A:middle
over to the live view, I've

00:12:10.276 --> 00:12:11.906 A:middle
added a couple of buttons, which

00:12:11.906 --> 00:12:13.096 A:middle
you see here on the left.

00:12:13.416 --> 00:12:14.736 A:middle
And these are implemented in my

00:12:14.736 --> 00:12:15.626 A:middle
test app code.

00:12:15.816 --> 00:12:17.466 A:middle
So now if Grace taps on one of

00:12:17.466 --> 00:12:19.566 A:middle
the filters, we should see that

00:12:19.566 --> 00:12:20.716 A:middle
filter applied to the live

00:12:20.756 --> 00:12:21.446 A:middle
camera output.

00:12:22.076 --> 00:12:23.216 A:middle
So this looks great.

00:12:23.576 --> 00:12:24.826 A:middle
I want to try out some of the

00:12:24.826 --> 00:12:26.966 A:middle
other filters, so Grace I really

00:12:26.966 --> 00:12:28.926 A:middle
like the CIPointillize filter.

00:12:28.926 --> 00:12:32.576 A:middle
So if she taps on that this

00:12:32.576 --> 00:12:34.866 A:middle
looks pretty close but if you

00:12:34.866 --> 00:12:37.836 A:middle
can -- if you notice the pink

00:12:37.836 --> 00:12:39.536 A:middle
filter from before is still

00:12:39.536 --> 00:12:41.946 A:middle
around some of the edges and the

00:12:41.946 --> 00:12:43.116 A:middle
pointillize filter is a little

00:12:43.116 --> 00:12:44.146 A:middle
smaller than we want.

00:12:44.446 --> 00:12:45.536 A:middle
So I'm going to head back over

00:12:45.536 --> 00:12:47.256 A:middle
to Xcode because I think we have

00:12:47.256 --> 00:12:49.236 A:middle
a bug in my filter renderer that

00:12:49.236 --> 00:12:51.286 A:middle
I wrote in a function called

00:12:51.286 --> 00:12:51.716 A:middle
Render.

00:12:52.026 --> 00:12:53.136 A:middle
So I'm going to navigate to that

00:12:53.136 --> 00:12:54.646 A:middle
function using Open Quickly with

00:12:54.676 --> 00:12:55.616 A:middle
Command Shift O.

00:12:56.766 --> 00:12:58.356 A:middle
And I'm going to set a

00:12:58.356 --> 00:13:00.256 A:middle
breakpoint right before this


00:12:58.356 --> 00:13:00.256 A:middle
breakpoint right before this

00:13:00.256 --> 00:13:01.136 A:middle
method returns.

00:13:01.526 --> 00:13:03.426 A:middle
And since each frame of the live

00:13:03.506 --> 00:13:04.926 A:middle
camera output is getting a

00:13:04.926 --> 00:13:06.536 A:middle
filter applied on top of it, we

00:13:06.536 --> 00:13:07.806 A:middle
should hit this breakpoint right

00:13:07.806 --> 00:13:09.026 A:middle
away because this method is

00:13:09.026 --> 00:13:09.956 A:middle
constantly called.

00:13:10.886 --> 00:13:12.616 A:middle
OK great. So we've hit the break

00:13:12.676 --> 00:13:15.106 A:middle
point and now I can inspect any

00:13:15.106 --> 00:13:16.466 A:middle
of my variables here using the

00:13:16.466 --> 00:13:17.346 A:middle
debug console.

00:13:17.606 --> 00:13:19.456 A:middle
So specifically I want too look

00:13:19.456 --> 00:13:21.766 A:middle
at the size of the source image

00:13:22.326 --> 00:13:26.166 A:middle
and the size of the filtered

00:13:26.166 --> 00:13:28.976 A:middle
image and see how those differ.

00:13:32.056 --> 00:13:34.096 A:middle
OK, so as we can see the size of

00:13:34.096 --> 00:13:35.796 A:middle
the filtered image is larger

00:13:35.796 --> 00:13:36.816 A:middle
than the size of the source

00:13:36.816 --> 00:13:37.306 A:middle
image.

00:13:37.896 --> 00:13:40.066 A:middle
And on line 59 I'm rendering the

00:13:40.066 --> 00:13:42.826 A:middle
filtered image to the size of

00:13:42.826 --> 00:13:44.396 A:middle
the filtered image, but really

00:13:44.396 --> 00:13:45.676 A:middle
what I wanted was the size of

00:13:45.676 --> 00:13:46.436 A:middle
the source image.

00:13:46.436 --> 00:13:47.576 A:middle
So I'm going to fix that.

00:13:48.586 --> 00:13:50.636 A:middle
Disable the breakpoint and run

00:13:51.256 --> 00:13:52.976 A:middle
it again.

00:13:53.346 --> 00:13:54.406 A:middle
Let's head back over to the

00:13:54.406 --> 00:13:54.806 A:middle
iPad.

00:13:58.196 --> 00:13:59.706 A:middle
And let's have Grace take the

00:13:59.706 --> 00:14:00.986 A:middle
same steps as before.


00:13:59.706 --> 00:14:00.986 A:middle
same steps as before.

00:14:01.386 --> 00:14:03.146 A:middle
So let's tap on CIColorMatrix

00:14:03.276 --> 00:14:05.276 A:middle
and then tap on CIPointillize

00:14:06.356 --> 00:14:07.676 A:middle
and we see that the Pointillize

00:14:07.676 --> 00:14:10.126 A:middle
filter is the correct size, it's

00:14:10.126 --> 00:14:11.986 A:middle
the same size as the original

00:14:12.356 --> 00:14:14.926 A:middle
live camera output, so now I

00:14:14.926 --> 00:14:16.366 A:middle
think all of my code is correct

00:14:16.366 --> 00:14:18.256 A:middle
so I actually want to package up

00:14:18.256 --> 00:14:19.496 A:middle
my Playground group, copy it

00:14:19.496 --> 00:14:21.396 A:middle
over to Playgrounds and see what

00:14:21.646 --> 00:14:23.006 A:middle
this live view actually looks

00:14:23.006 --> 00:14:23.226 A:middle
like.

00:14:23.266 --> 00:14:24.716 A:middle
So if I head back over to Xcode

00:14:25.116 --> 00:14:27.036 A:middle
and select the Playground Book

00:14:27.126 --> 00:14:30.186 A:middle
Scheme, I can press Build, and

00:14:30.186 --> 00:14:32.136 A:middle
then in the Project Navigator my

00:14:32.136 --> 00:14:33.266 A:middle
Playground Book is under the

00:14:33.266 --> 00:14:34.366 A:middle
Build Products Group.

00:14:34.836 --> 00:14:36.246 A:middle
So at this point, you'll want to

00:14:36.246 --> 00:14:37.656 A:middle
copy your Playground Group over

00:14:37.656 --> 00:14:39.106 A:middle
to Swift Playgrounds using

00:14:39.106 --> 00:14:41.126 A:middle
Airdrop or iCloud, but for the

00:14:41.126 --> 00:14:42.466 A:middle
sake of time I've all ready done

00:14:42.466 --> 00:14:42.706 A:middle
that.

00:14:42.706 --> 00:14:43.966 A:middle
So if we head back over to the

00:14:44.136 --> 00:14:46.276 A:middle
iPad and have Grace open Swift

00:14:46.276 --> 00:14:48.706 A:middle
Playgrounds, we'll see that my

00:14:48.706 --> 00:14:50.176 A:middle
test out CI Filter Playground

00:14:50.176 --> 00:14:51.176 A:middle
Book is all ready there.

00:14:51.446 --> 00:14:52.656 A:middle
So let's have Grace open it up

00:14:52.746 --> 00:14:53.866 A:middle
and we'll see what our live view

00:14:53.866 --> 00:14:54.846 A:middle
looks like.

00:14:55.416 --> 00:14:58.496 A:middle
So as you can see we have a CI

00:14:58.496 --> 00:15:00.466 A:middle
filter in the Source Editor and


00:14:58.496 --> 00:15:00.466 A:middle
filter in the Source Editor and

00:15:00.466 --> 00:15:01.646 A:middle
we've manipulated some of the

00:15:01.646 --> 00:15:03.026 A:middle
input values for that filter.

00:15:03.026 --> 00:15:05.306 A:middle
So if she taps Run My Code, we

00:15:05.306 --> 00:15:06.636 A:middle
should see that filter applied

00:15:06.636 --> 00:15:07.776 A:middle
on top of the camera output.

00:15:12.046 --> 00:15:13.556 A:middle
OK, I really like this filter.

00:15:14.086 --> 00:15:14.886 A:middle
I love this color.

00:15:14.886 --> 00:15:17.156 A:middle
And hey Grace, do you know what

00:15:17.156 --> 00:15:18.046 A:middle
we look like here?

00:15:18.196 --> 00:15:18.656 A:middle
&gt;&gt; What's that?

00:15:19.066 --> 00:15:20.116 A:middle
&gt;&gt; I think we look like

00:15:20.116 --> 00:15:20.766 A:middle
engineers.

00:15:21.116 --> 00:15:21.476 A:middle
&gt;&gt; Yes!

00:15:23.556 --> 00:15:23.956 A:middle
&gt;&gt; Yes [laughing].

00:15:24.516 --> 00:15:27.546 A:middle
[ Applause ]

00:15:28.046 --> 00:15:29.836 A:middle
&gt;&gt; So you just saw us using the

00:15:29.836 --> 00:15:30.796 A:middle
Swift Playgrounds Author

00:15:30.796 --> 00:15:32.886 A:middle
Template to write and debug the

00:15:32.886 --> 00:15:34.106 A:middle
live view for our Playground

00:15:34.106 --> 00:15:35.676 A:middle
book and we hope that these new

00:15:35.676 --> 00:15:37.086 A:middle
workflows will help you be more

00:15:37.086 --> 00:15:38.086 A:middle
efficient in authoring your

00:15:38.086 --> 00:15:38.856 A:middle
Playground books.

00:15:39.436 --> 00:15:40.486 A:middle
Now I'm going to hand it back

00:15:40.486 --> 00:15:42.026 A:middle
over to Grace and we'll learn

00:15:42.076 --> 00:15:43.336 A:middle
about these Swift Playground

00:15:43.336 --> 00:15:43.996 A:middle
Subscription.

00:15:45.516 --> 00:15:48.626 A:middle
[ Applause ]

00:15:49.126 --> 00:15:49.516 A:middle
&gt;&gt; Awesome.

00:15:50.186 --> 00:15:50.916 A:middle
Thank so much, Holly.

00:15:52.326 --> 00:15:53.726 A:middle
So now that we're refreshed on

00:15:53.726 --> 00:15:55.056 A:middle
the Playground Book format and

00:15:55.126 --> 00:15:56.036 A:middle
have learned about the Swift

00:15:56.036 --> 00:15:57.336 A:middle
Playgrounds Author Template,

00:15:57.636 --> 00:15:58.876 A:middle
let's take a look at how to take

00:15:58.876 --> 00:16:00.226 A:middle
those documents and put them


00:15:58.876 --> 00:16:00.226 A:middle
those documents and put them

00:16:00.226 --> 00:16:01.316 A:middle
into a subscription.

00:16:02.716 --> 00:16:04.116 A:middle
So first off what is a

00:16:04.116 --> 00:16:04.796 A:middle
subscription?

00:16:05.586 --> 00:16:06.166 A:middle
You should think of a

00:16:06.166 --> 00:16:08.016 A:middle
subscription like Podcasts or

00:16:08.016 --> 00:16:09.316 A:middle
like a magazine subscription.

00:16:09.796 --> 00:16:11.196 A:middle
So when new content is published

00:16:11.196 --> 00:16:13.036 A:middle
by the author, subscribers will

00:16:13.036 --> 00:16:14.256 A:middle
become aware of it.

00:16:14.686 --> 00:16:16.516 A:middle
Subscriptions show up here along

00:16:16.516 --> 00:16:17.636 A:middle
side Apple content.

00:16:18.266 --> 00:16:19.586 A:middle
When you publish a new document

00:16:19.586 --> 00:16:21.126 A:middle
to your subscription, Swift

00:16:21.126 --> 00:16:22.376 A:middle
Playgrounds will fetch it and

00:16:22.376 --> 00:16:23.666 A:middle
display it to the user as a

00:16:23.666 --> 00:16:27.106 A:middle
another document to check out.

00:16:27.376 --> 00:16:28.736 A:middle
Users can subscribe to your

00:16:28.736 --> 00:16:30.426 A:middle
subscription by visiting your

00:16:30.546 --> 00:16:31.000 A:middle
website.

00:16:35.236 --> 00:16:37.016 A:middle
Subscriptions live online as a

00:16:37.016 --> 00:16:38.696 A:middle
feed of downloadable content

00:16:38.696 --> 00:16:39.586 A:middle
that you publish.

00:16:40.486 --> 00:16:41.486 A:middle
The way that you publish your

00:16:41.486 --> 00:16:42.446 A:middle
content will be through

00:16:42.446 --> 00:16:44.466 A:middle
publishing JSON files that have

00:16:44.466 --> 00:16:45.736 A:middle
all of the data that Swift

00:16:45.736 --> 00:16:47.486 A:middle
Playgrounds needs to download

00:16:47.486 --> 00:16:48.000 A:middle
your content.

00:16:50.486 --> 00:16:51.486 A:middle
In case you haven't used it

00:16:51.486 --> 00:16:53.576 A:middle
before, JSON is a techs-based

00:16:53.576 --> 00:16:55.296 A:middle
document format for storing and

00:16:55.296 --> 00:16:56.156 A:middle
exchanging data.

00:16:57.096 --> 00:16:58.426 A:middle
The goal is to communicate to

00:16:58.426 --> 00:17:00.016 A:middle
the consumer of the JSON object


00:16:58.426 --> 00:17:00.016 A:middle
the consumer of the JSON object

00:17:00.276 --> 00:17:01.826 A:middle
what value your content should

00:17:01.826 --> 00:17:02.806 A:middle
have for each key.

00:17:03.376 --> 00:17:04.376 A:middle
So for example in our

00:17:04.376 --> 00:17:07.076 A:middle
subscription the key title has

00:17:07.076 --> 00:17:09.756 A:middle
the value, WWDC Photo Filters.

00:17:10.435 --> 00:17:14.266 A:middle
The Playground Feed Format is in

00:17:14.266 --> 00:17:14.915 A:middle
two parts.

00:17:15.465 --> 00:17:16.786 A:middle
One part to determine some of

00:17:16.786 --> 00:17:18.266 A:middle
the overarching characteristics

00:17:18.266 --> 00:17:19.976 A:middle
of your subscription and then

00:17:19.976 --> 00:17:21.685 A:middle
one part the documents to tell

00:17:21.685 --> 00:17:23.136 A:middle
us about teach of the documents

00:17:23.136 --> 00:17:24.116 A:middle
within your subscription.

00:17:25.415 --> 00:17:26.896 A:middle
So let's take a look at the

00:17:26.896 --> 00:17:28.136 A:middle
Playground feed format that

00:17:28.136 --> 00:17:29.366 A:middle
you'll use when creating your

00:17:29.366 --> 00:17:30.016 A:middle
subscription.

00:17:30.576 --> 00:17:34.426 A:middle
Our first key is Title.

00:17:35.206 --> 00:17:36.546 A:middle
This value should be a string,

00:17:36.746 --> 00:17:38.106 A:middle
the title of you subscription.

00:17:38.856 --> 00:17:39.766 A:middle
Here's what it should look like

00:17:39.766 --> 00:17:41.096 A:middle
in JSON and here's where the

00:17:41.096 --> 00:17:42.696 A:middle
title shows up in your app

00:17:42.826 --> 00:17:44.276 A:middle
within your subscription cell

00:17:44.546 --> 00:17:46.076 A:middle
within Swift Playgrounds.

00:17:47.616 --> 00:17:49.246 A:middle
The next key is the name of the

00:17:49.286 --> 00:17:50.556 A:middle
publisher, and that's you.

00:17:51.566 --> 00:17:53.036 A:middle
This keys value should also be a

00:17:53.036 --> 00:17:54.586 A:middle
string and it will be the name

00:17:54.586 --> 00:17:55.536 A:middle
of the publisher of the

00:17:55.536 --> 00:17:56.156 A:middle
subscription.

00:17:56.506 --> 00:17:57.916 A:middle
It will show on the detailed

00:17:57.916 --> 00:17:59.416 A:middle
view of each of the documents

00:17:59.416 --> 00:18:01.000 A:middle
within your subscription.


00:17:59.416 --> 00:18:01.000 A:middle
within your subscription.

00:18:04.046 --> 00:18:05.076 A:middle
Next is the feed identifier.

00:18:05.766 --> 00:18:07.156 A:middle
This should be a reverse DNS

00:18:07.336 --> 00:18:08.636 A:middle
string for the domain that's

00:18:08.706 --> 00:18:09.676 A:middle
hosting your feed.

00:18:10.136 --> 00:18:11.326 A:middle
We'll get to domains later in

00:18:11.326 --> 00:18:12.976 A:middle
this session and reverse DNS

00:18:13.256 --> 00:18:14.406 A:middle
just means that it will be that

00:18:14.406 --> 00:18:15.686 A:middle
website backwards.

00:18:16.176 --> 00:18:17.706 A:middle
So for example, if I'm hosting

00:18:17.706 --> 00:18:20.216 A:middle
my feed at developer.apple.com,

00:18:20.546 --> 00:18:22.306 A:middle
my feed identifier would become

00:18:22.416 --> 00:18:23.566 A:middle
.apple.developer.

00:18:26.056 --> 00:18:28.036 A:middle
The next key is contact URL.

00:18:28.186 --> 00:18:29.736 A:middle
And this what will be used to

00:18:29.736 --> 00:18:33.886 A:middle
report issues with your feed.

00:18:34.466 --> 00:18:36.216 A:middle
Next is the feed format version.

00:18:36.856 --> 00:18:38.036 A:middle
This will be the version of the

00:18:38.036 --> 00:18:39.716 A:middle
feed format to which your feed

00:18:39.716 --> 00:18:40.306 A:middle
conforms.

00:18:41.286 --> 00:18:42.276 A:middle
This feed format that we're

00:18:42.276 --> 00:18:43.586 A:middle
talking about right now is

00:18:43.586 --> 00:18:44.596 A:middle
Version 1.0.

00:18:45.176 --> 00:18:46.526 A:middle
And once updates are made to the

00:18:46.526 --> 00:18:47.756 A:middle
feed format that you'd like to

00:18:47.756 --> 00:18:48.586 A:middle
incorporate with your

00:18:48.586 --> 00:18:50.226 A:middle
subscription, you can update

00:18:50.226 --> 00:18:51.726 A:middle
your feed.JSON file with the

00:18:51.726 --> 00:18:53.166 A:middle
changes and bump this format

00:18:53.166 --> 00:18:54.786 A:middle
version up within your feed.JSON

00:18:54.786 --> 00:18:55.136 A:middle
file.

00:18:55.706 --> 00:18:56.886 A:middle
And remember that this is a

00:18:56.886 --> 00:18:58.116 A:middle
string so it should go in

00:18:58.116 --> 00:18:58.386 A:middle
quotes.


00:19:00.046 --> 00:19:02.586 A:middle
And lastly we need our documents

00:19:02.636 --> 00:19:02.866 A:middle
key.

00:19:03.406 --> 00:19:04.466 A:middle
So this is the beginning of the

00:19:04.466 --> 00:19:06.376 A:middle
second section of the Playground

00:19:06.376 --> 00:19:06.876 A:middle
feed format.

00:19:07.716 --> 00:19:09.186 A:middle
The value for this key should be

00:19:09.186 --> 00:19:10.986 A:middle
an array of objects that

00:19:10.986 --> 00:19:12.636 A:middle
represent your Playground Books

00:19:12.636 --> 00:19:13.266 A:middle
within your feed.

00:19:13.946 --> 00:19:14.956 A:middle
So next we'll talk about the

00:19:14.956 --> 00:19:17.966 A:middle
format of these objects.

00:19:18.216 --> 00:19:21.646 A:middle
Documents is an array of objects

00:19:22.726 --> 00:19:24.276 A:middle
that represent documents with

00:19:24.276 --> 00:19:25.126 A:middle
key value pairs.

00:19:25.666 --> 00:19:27.306 A:middle
Let's go through what you need

00:19:27.306 --> 00:19:28.856 A:middle
to represent a document and then

00:19:28.856 --> 00:19:29.686 A:middle
we'll put it all together.

00:19:31.596 --> 00:19:33.956 A:middle
Title and overviewSubtitle are

00:19:33.956 --> 00:19:34.436 A:middle
strings.

00:19:35.096 --> 00:19:36.296 A:middle
They should be the tile and the

00:19:36.296 --> 00:19:37.376 A:middle
subtitle for each of your

00:19:37.376 --> 00:19:38.046 A:middle
documents.

00:19:38.546 --> 00:19:39.886 A:middle
And they show up within your

00:19:39.886 --> 00:19:42.276 A:middle
subscription cell and also

00:19:42.276 --> 00:19:43.896 A:middle
within Detail Views for each of

00:19:43.896 --> 00:19:44.586 A:middle
your documents.

00:19:48.176 --> 00:19:50.096 A:middle
Detail subtitle is an optional

00:19:50.096 --> 00:19:51.866 A:middle
string that you can use to

00:19:51.866 --> 00:19:53.236 A:middle
create a different subtitle to

00:19:53.236 --> 00:19:54.896 A:middle
be shown in Detail Views like

00:19:54.976 --> 00:19:55.146 A:middle
here.

00:19:56.076 --> 00:19:57.496 A:middle
If you don't provide one, we'll

00:19:57.496 --> 00:19:59.000 A:middle
just omit that section.


00:20:02.046 --> 00:20:03.396 A:middle
Description is text that should

00:20:03.396 --> 00:20:04.826 A:middle
describe the purpose of your

00:20:04.826 --> 00:20:05.306 A:middle
document.

00:20:05.556 --> 00:20:06.926 A:middle
And it will also show up within

00:20:06.926 --> 00:20:07.916 A:middle
Detail Views and Swift

00:20:07.916 --> 00:20:08.396 A:middle
Playgrounds.

00:20:10.996 --> 00:20:12.926 A:middle
contentIdentifier is another

00:20:12.926 --> 00:20:14.506 A:middle
reverse DNS identifier.

00:20:15.176 --> 00:20:16.516 A:middle
It must be unique to the book

00:20:16.516 --> 00:20:17.496 A:middle
and it must match the

00:20:17.496 --> 00:20:19.016 A:middle
contentIdentifier within your

00:20:19.016 --> 00:20:20.756 A:middle
books manifest.plistfile.

00:20:21.756 --> 00:20:23.026 A:middle
It should start with the feed

00:20:23.026 --> 00:20:24.346 A:middle
identifier of the feed that

00:20:24.346 --> 00:20:25.486 A:middle
contains this book.

00:20:25.656 --> 00:20:26.696 A:middle
So in this example

00:20:26.696 --> 00:20:29.486 A:middle
io.github.WWDCPhotoFilters.

00:20:30.976 --> 00:20:32.326 A:middle
You should host your content at

00:20:32.326 --> 00:20:33.636 A:middle
the same place where you host

00:20:33.636 --> 00:20:34.596 A:middle
your feed.JSON file.

00:20:35.126 --> 00:20:36.376 A:middle
But if you don't that's OK,

00:20:36.376 --> 00:20:37.856 A:middle
you'll just need to include a

00:20:37.856 --> 00:20:39.546 A:middle
secure hash of your Zipped

00:20:39.606 --> 00:20:41.046 A:middle
Playground Book as another key.

00:20:41.566 --> 00:20:42.746 A:middle
And you can learn about this

00:20:42.746 --> 00:20:45.000 A:middle
more in the feed format online.

00:20:47.326 --> 00:20:47.726 A:middle
And there's the

00:20:47.726 --> 00:20:48.526 A:middle
contentIdentifier.

00:20:50.776 --> 00:20:52.136 A:middle
Content version is the way that

00:20:52.136 --> 00:20:53.466 A:middle
you can do versioning with your

00:20:53.466 --> 00:20:53.776 A:middle
book.

00:20:54.416 --> 00:20:55.596 A:middle
You need to increment this when

00:20:55.596 --> 00:20:57.156 A:middle
you update your book, and it

00:20:57.156 --> 00:20:58.506 A:middle
always must match the content

00:20:58.506 --> 00:21:01.000 A:middle
version in your book's manifest.


00:20:58.506 --> 00:21:01.000 A:middle
version in your book's manifest.

00:21:03.066 --> 00:21:04.036 A:middle
So next is the URL.

00:21:04.776 --> 00:21:06.106 A:middle
This is very important because

00:21:06.106 --> 00:21:07.356 A:middle
it tells Swift Playgrounds where

00:21:07.356 --> 00:21:08.406 A:middle
to download your book when your

00:21:08.406 --> 00:21:09.336 A:middle
book when your user wants to

00:21:09.336 --> 00:21:09.716 A:middle
download it.

00:21:10.376 --> 00:21:11.376 A:middle
This should be a link to the

00:21:11.376 --> 00:21:12.986 A:middle
zipped copy of your Playground

00:21:13.876 --> 00:21:14.000 A:middle
Book.

00:21:17.046 --> 00:21:18.316 A:middle
The additionalInformation array

00:21:18.316 --> 00:21:19.556 A:middle
allows you to store additional

00:21:19.556 --> 00:21:21.066 A:middle
metadata about your document.

00:21:21.066 --> 00:21:22.026 A:middle
And you can store whatever you

00:21:22.026 --> 00:21:22.506 A:middle
want here.

00:21:23.296 --> 00:21:24.706 A:middle
This is structured as an array

00:21:24.706 --> 00:21:26.416 A:middle
of objects with each object

00:21:26.416 --> 00:21:28.106 A:middle
having key and value pairs.

00:21:28.896 --> 00:21:31.226 A:middle
This example name, made for, and

00:21:31.226 --> 00:21:33.646 A:middle
value WWDC would show up like

00:21:33.646 --> 00:21:34.946 A:middle
this in Swift programs within

00:21:34.946 --> 00:21:35.586 A:middle
the detailed view.

00:21:35.816 --> 00:21:40.126 A:middle
You'll need to include the

00:21:40.126 --> 00:21:41.856 A:middle
publish date and last updated

00:21:41.856 --> 00:21:42.956 A:middle
date of your content.

00:21:43.716 --> 00:21:46.436 A:middle
These dates need to be ISO 8601

00:21:46.436 --> 00:21:48.416 A:middle
formatted and should reflect the

00:21:48.416 --> 00:21:49.806 A:middle
day that you publish this piece

00:21:49.806 --> 00:21:51.506 A:middle
of content and the day that you

00:21:51.506 --> 00:21:52.796 A:middle
last updated this piece of

00:21:52.796 --> 00:21:53.276 A:middle
content.

00:21:53.796 --> 00:21:58.586 A:middle
And lastly, there are three keys

00:21:58.586 --> 00:21:59.836 A:middle
for images used in your

00:21:59.836 --> 00:22:00.506 A:middle
subscription.


00:21:59.836 --> 00:22:00.506 A:middle
subscription.

00:22:01.316 --> 00:22:02.976 A:middle
The thumbnail URL would show up

00:22:02.976 --> 00:22:04.416 A:middle
here within Swift Playgrounds,

00:22:05.956 --> 00:22:07.206 A:middle
as well as within the detail

00:22:07.206 --> 00:22:09.266 A:middle
view for any of your documents.

00:22:10.236 --> 00:22:12.376 A:middle
Preview Image URLs would show up

00:22:12.376 --> 00:22:14.606 A:middle
here in the detail view for each

00:22:14.606 --> 00:22:16.126 A:middle
of your documents and can show

00:22:16.126 --> 00:22:17.366 A:middle
users a little bit of extra

00:22:17.366 --> 00:22:18.586 A:middle
information about your

00:22:18.586 --> 00:22:19.086 A:middle
Playground.

00:22:19.566 --> 00:22:22.596 A:middle
And in older versions of Swift

00:22:22.596 --> 00:22:24.596 A:middle
Playgrounds, we used this as the

00:22:24.596 --> 00:22:25.576 A:middle
banner image URL.

00:22:25.726 --> 00:22:27.646 A:middle
So to support users that are

00:22:27.646 --> 00:22:28.866 A:middle
using older versions of Swift

00:22:28.906 --> 00:22:30.006 A:middle
Playgrounds, you'll also need to

00:22:30.006 --> 00:22:30.846 A:middle
include this image.

00:22:33.116 --> 00:22:35.866 A:middle
So OK, now that we have finished

00:22:35.866 --> 00:22:37.766 A:middle
up with the feed format, let's

00:22:37.766 --> 00:22:38.636 A:middle
jump into publishing.

00:22:39.126 --> 00:22:41.036 A:middle
So you might be wondering, how

00:22:41.036 --> 00:22:42.326 A:middle
do I publish all of these files

00:22:42.326 --> 00:22:42.836 A:middle
that I've made?

00:22:43.576 --> 00:22:44.556 A:middle
You'll need to put both your

00:22:44.556 --> 00:22:46.896 A:middle
feed.JSON file and all of your

00:22:46.896 --> 00:22:48.336 A:middle
documents that you've written on

00:22:48.336 --> 00:22:48.606 A:middle
the web.

00:22:48.606 --> 00:22:50.506 A:middle
For this, you'll need a web

00:22:51.456 --> 00:22:51.586 A:middle
host.

00:22:52.676 --> 00:22:54.706 A:middle
Publishing your subscription

00:22:54.756 --> 00:22:55.876 A:middle
requires a web host.

00:22:56.556 --> 00:22:57.466 A:middle
There are a number of different

00:22:57.466 --> 00:22:59.146 A:middle
ways that you can do this like

00:22:59.146 --> 00:23:00.716 A:middle
using GitHub pages, using


00:22:59.146 --> 00:23:00.716 A:middle
using GitHub pages, using

00:23:00.716 --> 00:23:03.026 A:middle
Squarespace, and others, but for

00:23:03.026 --> 00:23:04.306 A:middle
today we'll be working with an

00:23:04.306 --> 00:23:05.846 A:middle
example of GitHub pages.

00:23:06.446 --> 00:23:09.616 A:middle
GitHub pages is a tool that lets

00:23:09.616 --> 00:23:11.256 A:middle
you create a website for you and

00:23:11.256 --> 00:23:12.866 A:middle
your project and it's hosted

00:23:12.866 --> 00:23:13.896 A:middle
directly from a GitHub

00:23:13.896 --> 00:23:14.586 A:middle
repository.

00:23:15.266 --> 00:23:16.826 A:middle
It uses Git to manage content.

00:23:18.176 --> 00:23:19.156 A:middle
So let's walk through some of

00:23:19.156 --> 00:23:20.086 A:middle
the steps that you'll need to

00:23:20.086 --> 00:23:21.396 A:middle
take to use GitHub pages.

00:23:23.036 --> 00:23:24.956 A:middle
First you will need a GitHub

00:23:24.956 --> 00:23:25.286 A:middle
account.

00:23:26.606 --> 00:23:27.456 A:middle
You can create one through

00:23:27.456 --> 00:23:28.276 A:middle
GitHub's website.

00:23:30.436 --> 00:23:31.376 A:middle
Next, you'll have to make a

00:23:31.376 --> 00:23:32.426 A:middle
repository called

00:23:32.426 --> 00:23:34.446 A:middle
username.github.io.

00:23:34.946 --> 00:23:36.436 A:middle
It must be named in this way or

00:23:36.436 --> 00:23:37.066 A:middle
else it won't work.

00:23:37.576 --> 00:23:38.896 A:middle
And this will be the repository

00:23:38.896 --> 00:23:42.616 A:middle
where you'll store your content.

00:23:43.076 --> 00:23:43.896 A:middle
Once you've cloned that

00:23:43.896 --> 00:23:45.996 A:middle
repository to your Mac, you can

00:23:45.996 --> 00:23:48.236 A:middle
create an index.html file to

00:23:48.236 --> 00:23:49.646 A:middle
serve as the homepage of your

00:23:49.646 --> 00:23:49.956 A:middle
website.

00:23:50.636 --> 00:23:51.966 A:middle
This one here will just display

00:23:51.966 --> 00:23:53.156 A:middle
Hello WWDC.

00:23:55.036 --> 00:23:56.546 A:middle
To learn more about source

00:23:56.546 --> 00:23:57.916 A:middle
control workflows in Xcode,

00:23:58.206 --> 00:23:59.316 A:middle
check out this session from

00:23:59.316 --> 00:24:01.000 A:middle
earlier this week.


00:23:59.316 --> 00:24:01.000 A:middle
earlier this week.

00:24:04.046 --> 00:24:05.456 A:middle
After you've created that file,

00:24:05.626 --> 00:24:06.486 A:middle
make sure it's in your

00:24:06.486 --> 00:24:08.686 A:middle
repository, commit your changes,

00:24:08.916 --> 00:24:10.056 A:middle
push, and then visit your

00:24:10.056 --> 00:24:12.956 A:middle
website at username.github.io.

00:24:13.896 --> 00:24:15.096 A:middle
As you continue adding more

00:24:15.096 --> 00:24:16.166 A:middle
files and folders to your

00:24:16.166 --> 00:24:17.606 A:middle
repository and continue to

00:24:17.606 --> 00:24:18.876 A:middle
commit and push them up to your

00:24:18.876 --> 00:24:20.896 A:middle
website, it will update your

00:24:20.896 --> 00:24:22.026 A:middle
repository and therefore

00:24:22.026 --> 00:24:22.836 A:middle
GitHub's website.

00:24:25.096 --> 00:24:27.196 A:middle
So right now the folder only has

00:24:27.196 --> 00:24:28.996 A:middle
one file, index.html.

00:24:29.396 --> 00:24:30.706 A:middle
This will serve as your landing

00:24:30.706 --> 00:24:31.706 A:middle
page for your website.

00:24:32.066 --> 00:24:33.546 A:middle
But as we talked about earlier

00:24:33.546 --> 00:24:34.736 A:middle
you'll need a couple more files

00:24:34.766 --> 00:24:35.936 A:middle
to support your subscription.

00:24:36.786 --> 00:24:38.696 A:middle
So as Holly mentioned, we have

00:24:38.696 --> 00:24:39.906 A:middle
been working on a subscription

00:24:39.906 --> 00:24:41.816 A:middle
called WWDC Photo Filters that

00:24:41.816 --> 00:24:42.896 A:middle
has some really cool photo

00:24:42.896 --> 00:24:44.246 A:middle
filtering content using Core

00:24:44.246 --> 00:24:45.486 A:middle
Image within Swift Playgrounds.

00:24:45.696 --> 00:24:46.916 A:middle
I'm going to walk you though the

00:24:46.916 --> 00:24:48.536 A:middle
levels of our repository to show

00:24:48.536 --> 00:24:49.716 A:middle
how we've organized it as an

00:24:49.716 --> 00:24:50.156 A:middle
example.

00:24:52.536 --> 00:24:54.456 A:middle
The first file that needs to be

00:24:54.456 --> 00:24:56.506 A:middle
included is your feed.JSON file.

00:24:57.096 --> 00:24:58.676 A:middle
We've put ours in our repository

00:24:58.676 --> 00:24:59.856 A:middle
at the same level as our

00:24:59.856 --> 00:25:01.376 A:middle
index.html file.


00:24:59.856 --> 00:25:01.376 A:middle
index.html file.

00:25:01.926 --> 00:25:05.036 A:middle
And next you'll need to store

00:25:05.036 --> 00:25:05.906 A:middle
all of your documents.

00:25:07.166 --> 00:25:08.086 A:middle
Each playground that we've

00:25:08.136 --> 00:25:09.616 A:middle
published is stored in a folder

00:25:09.616 --> 00:25:11.226 A:middle
to keep our repository clean.

00:25:11.956 --> 00:25:13.056 A:middle
We have a folder for each of our

00:25:13.146 --> 00:25:14.016 A:middle
pieces of content.

00:25:14.376 --> 00:25:17.566 A:middle
So ImageTransitions, IntrotoCI

00:25:17.616 --> 00:25:18.316 A:middle
and so on.

00:25:19.096 --> 00:25:20.556 A:middle
So at the top level of our

00:25:20.556 --> 00:25:22.206 A:middle
repository we have our

00:25:22.296 --> 00:25:24.746 A:middle
index.html file, our feed.JSON

00:25:24.746 --> 00:25:26.456 A:middle
file and a folder for each

00:25:26.456 --> 00:25:27.000 A:middle
document.

00:25:29.506 --> 00:25:30.906 A:middle
If I open one of the folders for

00:25:30.906 --> 00:25:32.746 A:middle
a document I see four things --

00:25:33.456 --> 00:25:35.616 A:middle
a zips.playgroundbook file and

00:25:35.616 --> 00:25:36.206 A:middle
three images.

00:25:37.006 --> 00:25:38.506 A:middle
These three images are a banner

00:25:38.506 --> 00:25:40.846 A:middle
image, one preview image, and a

00:25:40.846 --> 00:25:41.716 A:middle
thumbnail image.

00:25:42.476 --> 00:25:43.576 A:middle
The zipped Playground book will

00:25:43.576 --> 00:25:44.596 A:middle
be the Playground book that a

00:25:44.596 --> 00:25:45.256 A:middle
user downloads.

00:25:45.986 --> 00:25:48.876 A:middle
So let's look at how this

00:25:48.876 --> 00:25:51.076 A:middle
compares with our feed.JSON

00:25:51.216 --> 00:25:51.386 A:middle
file.

00:25:52.436 --> 00:25:54.316 A:middle
At the top level we can see that

00:25:54.316 --> 00:25:55.586 A:middle
the feed identifier is the

00:25:55.586 --> 00:25:57.366 A:middle
reverse DNS of our website,

00:25:57.736 --> 00:26:01.000 A:middle
io.github.wwdcPhotoFilters.


00:25:57.736 --> 00:26:01.000 A:middle
io.github.wwdcPhotoFilters.

00:26:05.046 --> 00:26:06.626 A:middle
In the documents array, there's

00:26:06.626 --> 00:26:07.996 A:middle
an element for each of the four

00:26:07.996 --> 00:26:09.406 A:middle
documents that we've posted.

00:26:09.806 --> 00:26:13.586 A:middle
And if we look at our first

00:26:13.586 --> 00:26:15.646 A:middle
document the contentIdentifier

00:26:15.646 --> 00:26:17.586 A:middle
matches the feed identifier and

00:26:17.586 --> 00:26:19.000 A:middle
adds the first book's title.

00:26:22.586 --> 00:26:24.146 A:middle
For the URL of the book we have

00:26:24.146 --> 00:26:24.796 A:middle
our website

00:26:25.636 --> 00:26:28.926 A:middle
/IntrotoCI/IntrotoCI.

00:26:29.216 --> 00:26:30.006 A:middle
playgroundbook.zip.

00:26:30.006 --> 00:26:31.776 A:middle
And again this is really

00:26:31.776 --> 00:26:33.246 A:middle
important to get right because

00:26:33.246 --> 00:26:34.266 A:middle
it's where Swift Playgrounds

00:26:34.266 --> 00:26:35.036 A:middle
will go to download your

00:26:35.036 --> 00:26:35.486 A:middle
content.

00:26:35.486 --> 00:26:40.526 A:middle
The URLs of your images can be

00:26:40.526 --> 00:26:41.466 A:middle
relative URLs.

00:26:41.466 --> 00:26:43.086 A:middle
So you only need to include the

00:26:43.086 --> 00:26:44.466 A:middle
folder underneath where your

00:26:44.466 --> 00:26:46.146 A:middle
feed.JSON file is stored and

00:26:46.146 --> 00:26:46.686 A:middle
downwards.

00:26:47.126 --> 00:26:48.206 A:middle
So here I just have

00:26:48.256 --> 00:26:50.316 A:middle
IntrotoCI/thumbnail.png.

00:26:50.316 --> 00:26:52.526 A:middle
And each of the documents in

00:26:52.526 --> 00:26:53.916 A:middle
your subscription should mirror

00:26:54.866 --> 00:26:56.626 A:middle
this format.

00:26:57.176 --> 00:26:58.146 A:middle
Once everything is online,

00:26:58.496 --> 00:26:59.676 A:middle
anyone can subscribe to your

00:26:59.676 --> 00:27:00.006 A:middle
feed.


00:26:59.676 --> 00:27:00.006 A:middle
feed.

00:27:00.856 --> 00:27:02.066 A:middle
They could do it by manually

00:27:02.066 --> 00:27:03.766 A:middle
typing in the URL that points to

00:27:03.766 --> 00:27:06.846 A:middle
your feed.JSON file, or you can

00:27:06.846 --> 00:27:08.366 A:middle
use universal links so that a

00:27:08.366 --> 00:27:10.326 A:middle
user can tap on a link from

00:27:10.326 --> 00:27:12.516 A:middle
within Safari and get redirected

00:27:12.516 --> 00:27:13.366 A:middle
to Swift Playgrounds.

00:27:14.676 --> 00:27:15.756 A:middle
To do that you'll need to

00:27:15.756 --> 00:27:17.556 A:middle
combine the URL for your feed

00:27:17.996 --> 00:27:19.516 A:middle
and the Universal link prefix

00:27:19.516 --> 00:27:20.636 A:middle
for Swift Playgrounds.

00:27:21.266 --> 00:27:24.276 A:middle
So here's the code for the link

00:27:24.276 --> 00:27:26.106 A:middle
in our index.html file.

00:27:26.396 --> 00:27:28.156 A:middle
I've combined the universal link

00:27:28.236 --> 00:27:28.886 A:middle
prefix,

00:27:29.796 --> 00:27:33.536 A:middle
https/developer.apple.com/ul/ --

00:27:34.616 --> 00:27:36.586 A:middle
you get it [laughs], with our

00:27:36.586 --> 00:27:38.226 A:middle
subscription URL.

00:27:39.156 --> 00:27:41.446 A:middle
Then you can imbed that link in

00:27:41.446 --> 00:27:43.326 A:middle
an anchor element with an href

00:27:43.326 --> 00:27:45.046 A:middle
attribute so users can simply

00:27:45.046 --> 00:27:47.136 A:middle
tap subscribe and be directed to

00:27:47.136 --> 00:27:48.066 A:middle
Swift Playgrounds.

00:27:49.716 --> 00:27:51.566 A:middle
So next I'd like to demo the

00:27:51.616 --> 00:27:53.306 A:middle
steps that you should take to

00:27:53.306 --> 00:27:54.616 A:middle
add a book to your subscription.

00:27:55.516 --> 00:28:01.926 A:middle
[ Applause ]


00:27:55.516 --> 00:28:01.926 A:middle
[ Applause ]

00:28:02.426 --> 00:28:03.526 A:middle
OK, so like I said, we're

00:28:03.526 --> 00:28:04.766 A:middle
working on this photo filtering

00:28:04.766 --> 00:28:05.916 A:middle
subscription that I think is

00:28:05.916 --> 00:28:06.436 A:middle
really cool.

00:28:07.136 --> 00:28:08.556 A:middle
So I've actually just finished

00:28:08.556 --> 00:28:10.556 A:middle
another book about content aware

00:28:10.556 --> 00:28:11.176 A:middle
resizing.

00:28:12.366 --> 00:28:14.076 A:middle
Content aware resizing is a way

00:28:14.076 --> 00:28:15.586 A:middle
that you can resize your images

00:28:15.586 --> 00:28:16.566 A:middle
without losing the most

00:28:16.566 --> 00:28:17.766 A:middle
important parts of your image.

00:28:18.246 --> 00:28:19.706 A:middle
So I have this photo of Monument

00:28:19.706 --> 00:28:21.496 A:middle
Valley that I think is really

00:28:21.496 --> 00:28:23.416 A:middle
beautiful, but I'd really like

00:28:23.596 --> 00:28:24.816 A:middle
to trim it a little bit and make

00:28:24.856 --> 00:28:26.026 A:middle
the width a little bit smaller.

00:28:26.156 --> 00:28:28.076 A:middle
But I don't want to scale it

00:28:28.076 --> 00:28:29.366 A:middle
down and I don't want to crop it

00:28:29.366 --> 00:28:30.406 A:middle
because I don't want to miss out

00:28:30.406 --> 00:28:31.746 A:middle
on the beautiful sunset and the

00:28:31.746 --> 00:28:32.206 A:middle
monuments.

00:28:33.476 --> 00:28:36.116 A:middle
With content aware resizing, I

00:28:36.206 --> 00:28:38.066 A:middle
can take that photo and look

00:28:38.066 --> 00:28:39.176 A:middle
through all of the different

00:28:39.176 --> 00:28:40.786 A:middle
pixels in the photo, find the

00:28:40.786 --> 00:28:42.586 A:middle
least important vertical seams,

00:28:42.656 --> 00:28:44.436 A:middle
and remove those one-by-one so

00:28:44.436 --> 00:28:45.506 A:middle
that the width gets a little

00:28:45.576 --> 00:28:47.446 A:middle
smaller each time, but I still

00:28:47.446 --> 00:28:48.346 A:middle
have the really important

00:28:48.346 --> 00:28:50.696 A:middle
monuments and the sunset, the

00:28:50.726 --> 00:28:52.186 A:middle
road, and everything is still

00:28:52.846 --> 00:28:52.976 A:middle
there.

00:28:54.696 --> 00:28:56.366 A:middle
So I've written all that code

00:28:56.366 --> 00:28:58.496 A:middle
within a Playground book that

00:28:58.496 --> 00:28:59.686 A:middle
I've called Content Aware

00:28:59.686 --> 00:29:00.146 A:middle
Resizing.


00:28:59.686 --> 00:29:00.146 A:middle
Resizing.

00:29:00.646 --> 00:29:01.756 A:middle
And it's stored within my

00:29:01.756 --> 00:29:03.196 A:middle
Content Aware Resizing folder.

00:29:05.246 --> 00:29:07.106 A:middle
So this is almost done.

00:29:07.296 --> 00:29:09.616 A:middle
All I need to do is zip it up,

00:29:09.726 --> 00:29:11.216 A:middle
so I'm going to select File,

00:29:12.096 --> 00:29:13.856 A:middle
CompressContentAwareResizing.

00:29:14.026 --> 00:29:14.496 A:middle
PlaygroundBook.

00:29:15.116 --> 00:29:16.316 A:middle
So now I have a zipped file of

00:29:16.316 --> 00:29:17.506 A:middle
my Playground book and I'm going

00:29:17.506 --> 00:29:20.466 A:middle
to go ahead and move this to the

00:29:21.016 --> 00:29:21.236 A:middle
Trash.

00:29:21.796 --> 00:29:23.126 A:middle
And lastly, I'm going to need to

00:29:23.126 --> 00:29:24.706 A:middle
move in a couple of images from

00:29:24.706 --> 00:29:25.816 A:middle
the thumbnail and the banner

00:29:25.816 --> 00:29:27.656 A:middle
image, the two required images

00:29:27.656 --> 00:29:28.406 A:middle
within the feed format.

00:29:29.086 --> 00:29:31.436 A:middle
So luckily I have two images on

00:29:31.436 --> 00:29:33.866 A:middle
my desktop called Thumbnail.png

00:29:33.866 --> 00:29:34.896 A:middle
and BannerImage.png.

00:29:35.716 --> 00:29:36.776 A:middle
Adjust these two.

00:29:37.146 --> 00:29:37.506 A:middle
Perfect.

00:29:37.506 --> 00:29:39.666 A:middle
So I'll go ahead and drag that

00:29:39.666 --> 00:29:40.936 A:middle
into my folder.

00:29:41.546 --> 00:29:45.276 A:middle
So if I look within my WWDC

00:29:45.276 --> 00:29:47.616 A:middle
Photo Filters Repository, I have

00:29:47.616 --> 00:29:50.426 A:middle
three folders here right now and

00:29:50.426 --> 00:29:52.276 A:middle
each of them have an image, a

00:29:52.276 --> 00:29:53.866 A:middle
zipped Playground book, and then

00:29:53.866 --> 00:29:54.996 A:middle
another image for the thumbnail.

00:29:55.186 --> 00:29:56.266 A:middle
So this looks pretty good.

00:29:56.716 --> 00:29:58.786 A:middle
I think my folder mirrors that

00:29:58.836 --> 00:29:59.366 A:middle
perfectly.


00:30:00.176 --> 00:30:01.806 A:middle
So I'm ready to put it up and

00:30:01.806 --> 00:30:02.786 A:middle
publish it.

00:30:03.336 --> 00:30:04.996 A:middle
So I've created a workspace for

00:30:04.996 --> 00:30:05.846 A:middle
my repository.

00:30:05.846 --> 00:30:07.206 A:middle
So I'm going to take this folder

00:30:08.266 --> 00:30:12.036 A:middle
and drag it over, put it within

00:30:12.036 --> 00:30:14.146 A:middle
my repository, and now I have

00:30:14.146 --> 00:30:14.986 A:middle
another folder for

00:30:14.986 --> 00:30:16.366 A:middle
ContentAwareResizing.

00:30:17.406 --> 00:30:18.676 A:middle
Double check that everything is

00:30:18.746 --> 00:30:20.536 A:middle
still there and it looks good.

00:30:21.196 --> 00:30:22.986 A:middle
So the last step that we'll need

00:30:22.986 --> 00:30:24.516 A:middle
to take is to update our

00:30:24.516 --> 00:30:25.646 A:middle
feed.JSON file.

00:30:25.916 --> 00:30:29.046 A:middle
So here's that file and you can

00:30:29.046 --> 00:30:30.856 A:middle
see in My Documents array I have

00:30:30.906 --> 00:30:33.076 A:middle
my Image Transitions object, my

00:30:33.076 --> 00:30:34.926 A:middle
Intro to Core Image object, and

00:30:34.926 --> 00:30:36.726 A:middle
my Test Out CI Filters Object.

00:30:36.846 --> 00:30:38.796 A:middle
So I need to add one more object

00:30:38.796 --> 00:30:40.076 A:middle
for ContentAwareResizing.

00:30:40.586 --> 00:30:43.946 A:middle
And luckily I've made a snippet

00:30:43.986 --> 00:30:47.626 A:middle
for it and here we go.

00:30:47.926 --> 00:30:48.796 A:middle
So I've all ready filled most of

00:30:48.796 --> 00:30:50.396 A:middle
this out because of my nails

00:30:50.936 --> 00:30:52.646 A:middle
[laughs], so all I need to do is

00:30:52.646 --> 00:30:54.676 A:middle
type in the title and I'm going

00:30:55.696 --> 00:30:57.456 A:middle
to call this

00:30:58.236 --> 00:30:59.186 A:middle
ContentAwareResizing.


00:31:01.126 --> 00:31:02.246 A:middle
I've decided to omit the

00:31:02.246 --> 00:31:03.736 A:middle
detailed subtitle and I just

00:31:03.736 --> 00:31:05.506 A:middle
have my overview subtitle try

00:31:05.506 --> 00:31:06.886 A:middle
out ContentAwareResizing with

00:31:07.006 --> 00:31:07.236 A:middle
Swift.

00:31:07.726 --> 00:31:09.976 A:middle
I have a description and my

00:31:10.046 --> 00:31:11.266 A:middle
content identifier is

00:31:11.266 --> 00:31:13.856 A:middle
io.github.wwdcphotofilters.

00:31:14.056 --> 00:31:15.866 A:middle
ContentAwareResizing, the title

00:31:15.866 --> 00:31:16.226 A:middle
of my book.

00:31:16.886 --> 00:31:17.576 A:middle
It's the first time I'm

00:31:17.576 --> 00:31:18.996 A:middle
publishing it so my content

00:31:18.996 --> 00:31:20.006 A:middle
version is 1.0.

00:31:20.746 --> 00:31:22.836 A:middle
And my URL maps to my website

00:31:22.836 --> 00:31:25.076 A:middle
and then I have my folder name,

00:31:25.076 --> 00:31:26.136 A:middle
ContentAwareResizing --

00:31:26.696 --> 00:31:28.366 A:middle
/ContentAwareResizing.

00:31:28.366 --> 00:31:29.566 A:middle
PlaygroundBook.zip.

00:31:31.606 --> 00:31:33.636 A:middle
My publish date is right now at

00:31:33.846 --> 00:31:34.506 A:middle
9:40 [laughs].

00:31:34.646 --> 00:31:37.056 A:middle
And my last updated date is also

00:31:37.056 --> 00:31:39.036 A:middle
at 9:40 since publishing it

00:31:39.036 --> 00:31:39.716 A:middle
counts as an update.

00:31:39.756 --> 00:31:42.526 A:middle
I've also included my thumbnail

00:31:42.526 --> 00:31:44.186 A:middle
URL and my Banner Image URL.

00:31:44.996 --> 00:31:46.276 A:middle
For additional information I

00:31:46.276 --> 00:31:48.066 A:middle
have English as a language.

00:31:48.536 --> 00:31:50.796 A:middle
And my Preview Image URLs I've

00:31:50.796 --> 00:31:53.426 A:middle
decided to leave blank for now.

00:31:53.646 --> 00:31:55.186 A:middle
All right, so this all looks

00:31:55.186 --> 00:31:58.556 A:middle
good and now all I need to do is

00:31:58.556 --> 00:31:59.936 A:middle
going to Xcode Source Control,


00:32:00.586 --> 00:32:03.246 A:middle
Commit, make sure all four of

00:32:03.246 --> 00:32:04.436 A:middle
these files are selected.

00:32:04.496 --> 00:32:06.526 A:middle
So I've added three files and I

00:32:06.526 --> 00:32:07.876 A:middle
modified feed.JSON.

00:32:08.706 --> 00:32:10.046 A:middle
I'm going to commit and say

00:32:10.936 --> 00:32:15.466 A:middle
Adding Our Demo Book.

00:32:15.696 --> 00:32:16.846 A:middle
Select Push to Remote.

00:32:18.476 --> 00:32:20.000 A:middle
Cross my fingers.

00:32:24.046 --> 00:32:25.096 A:middle
Invite Holly back on stage.

00:32:25.786 --> 00:32:26.276 A:middle
And, great.

00:32:26.276 --> 00:32:26.616 A:middle
It worked.

00:32:26.746 --> 00:32:26.996 A:middle
Cool.

00:32:28.516 --> 00:32:32.896 A:middle
[ Applause ]

00:32:33.396 --> 00:32:34.566 A:middle
So now I'm going to have Holly

00:32:34.666 --> 00:32:36.286 A:middle
go to our website and subscribe

00:32:36.286 --> 00:32:38.236 A:middle
from there.

00:32:38.436 --> 00:32:40.506 A:middle
So awesome, we have our website

00:32:40.506 --> 00:32:41.826 A:middle
here and you can see we have a

00:32:41.826 --> 00:32:42.796 A:middle
nice subscribe button.

00:32:43.056 --> 00:32:45.546 A:middle
So if Holly taps that she'll be

00:32:45.546 --> 00:32:46.996 A:middle
navigated to Swift Playgrounds,

00:32:48.676 --> 00:32:50.000 A:middle
Subscribe--

00:32:54.176 --> 00:32:56.000 A:middle
Restart QuickTime --


00:33:05.656 --> 00:33:07.000 A:middle
There she is [laughs].

00:33:12.596 --> 00:33:14.256 A:middle
Well, anyway, it's a really cool

00:33:14.316 --> 00:33:14.436 A:middle
book [laughs].

00:33:14.526 --> 00:33:16.876 A:middle
And you can all download it

00:33:16.876 --> 00:33:18.136 A:middle
actually as well because we've

00:33:18.136 --> 00:33:19.246 A:middle
published it to our subscription

00:33:19.246 --> 00:33:19.556 A:middle
now.

00:33:19.556 --> 00:33:20.426 A:middle
It's online at

00:33:20.426 --> 00:33:24.066 A:middle
WWDCPhotoFilters.GitHub.io and

00:33:24.066 --> 00:33:25.346 A:middle
so you can download all of the

00:33:25.416 --> 00:33:26.696 A:middle
four books that we've published.

00:33:27.006 --> 00:33:28.266 A:middle
One is Intro to Core Image.

00:33:28.636 --> 00:33:30.456 A:middle
One is Image Transitions, using

00:33:30.456 --> 00:33:31.886 A:middle
the built in transition filters

00:33:31.886 --> 00:33:32.716 A:middle
within Core Image.

00:33:33.256 --> 00:33:36.196 A:middle
One is Combining Filters within

00:33:36.196 --> 00:33:36.826 A:middle
Core Image.

00:33:36.916 --> 00:33:38.116 A:middle
You can add them on top of each

00:33:38.116 --> 00:33:38.386 A:middle
other.

00:33:38.946 --> 00:33:40.256 A:middle
And then the last one is this

00:33:40.256 --> 00:33:41.576 A:middle
Content Aware Resizing book.

00:33:42.016 --> 00:33:43.666 A:middle
[ Cheering ]

00:33:43.666 --> 00:33:43.976 A:middle
Thank you.

00:33:44.036 --> 00:33:46.036 A:middle
[ Applause ]

00:33:46.056 --> 00:33:48.406 A:middle
And check it out [laughs].

00:33:48.406 --> 00:33:50.000 A:middle
Well, in a second.

00:33:53.336 --> 00:33:54.056 A:middle
There we go.

00:33:54.056 --> 00:33:55.456 A:middle
There's our subscription

00:33:55.456 --> 00:33:56.016 A:middle
[laughing].

00:33:56.516 --> 00:34:00.056 A:middle
[ Applause ]


00:33:56.516 --> 00:34:00.056 A:middle
[ Applause ]

00:34:00.556 --> 00:34:01.606 A:middle
So now if Holly downloads

00:34:01.656 --> 00:34:03.000 A:middle
Content Aware Resizing --

00:34:05.076 --> 00:34:05.866 A:middle
And opens it up.

00:34:08.496 --> 00:34:09.516 A:middle
Cool, it worked.

00:34:10.406 --> 00:34:11.406 A:middle
So, in the live view on the

00:34:11.406 --> 00:34:13.005 A:middle
right I have this beautiful

00:34:13.005 --> 00:34:14.795 A:middle
picture of Monument Valley and

00:34:14.795 --> 00:34:15.926 A:middle
I'm going to have Holly crop it

00:34:15.926 --> 00:34:17.005 A:middle
a little bit and then run the

00:34:17.005 --> 00:34:18.386 A:middle
code and we'll see what it

00:34:18.706 --> 00:34:19.000 A:middle
produces.

00:34:25.045 --> 00:34:26.866 A:middle
So what this algorithm does is

00:34:26.866 --> 00:34:28.735 A:middle
it looks at all of the vertical

00:34:28.826 --> 00:34:31.166 A:middle
seams in an image, decides which

00:34:31.166 --> 00:34:33.676 A:middle
of the seams are least different

00:34:33.676 --> 00:34:34.646 A:middle
from the ones around it and

00:34:34.646 --> 00:34:35.766 A:middle
removes those one by one.

00:34:36.196 --> 00:34:37.516 A:middle
So now we can see it's a little

00:34:37.516 --> 00:34:39.275 A:middle
bit cropped and it looks

00:34:39.306 --> 00:34:40.000 A:middle
beautiful.

00:34:43.516 --> 00:34:49.556 A:middle
[ Applause ]

00:34:50.056 --> 00:34:51.226 A:middle
That's all we have for today.

00:34:51.485 --> 00:34:52.886 A:middle
For more information please come

00:34:52.886 --> 00:34:54.315 A:middle
visit us in our lab Creating

00:34:54.315 --> 00:34:55.735 A:middle
Content for Swift Playgrounds

00:34:55.735 --> 00:34:56.396 A:middle
today at noon.

00:34:56.795 --> 00:34:58.016 A:middle
&gt;&gt; And for more information on

00:34:58.016 --> 00:34:59.056 A:middle
this session and on our

00:34:59.056 --> 00:35:00.696 A:middle
subscription, you can visit the


00:34:59.056 --> 00:35:00.696 A:middle
subscription, you can visit the

00:35:00.696 --> 00:35:02.396 A:middle
Session 413 website on

00:35:02.396 --> 00:35:03.646 A:middle
developer.apple.com.

00:35:04.716 --> 00:35:06.236 A:middle
&gt;&gt; Thanks for joining us today.

00:35:06.656 --> 00:35:08.106 A:middle
&gt;&gt; We can't wait to subscribe to

00:35:08.106 --> 00:35:09.156 A:middle
all of your published

00:35:09.156 --> 00:35:09.736 A:middle
playgrounds.

00:35:10.126 --> 00:35:10.686 A:middle
Thank you.

00:35:11.516 --> 00:35:20.500 A:middle
[ Applause ]
