WEBVTT

00:00:07.516 --> 00:00:15.500 A:middle
[ Music ]

00:00:22.476 --> 00:00:23.016 A:middle
&gt;&gt; All right.

00:00:23.016 --> 00:00:23.083 A:middle
[ Applause ]

00:00:28.136 --> 00:00:28.946 A:middle
&gt;&gt; My name is Pierre-Olivier

00:00:28.946 --> 00:00:29.476 A:middle
Martel.

00:00:29.476 --> 00:00:31.186 A:middle
I'm an engineering manager in

00:00:31.186 --> 00:00:32.235 A:middle
the Security, Engineering, and

00:00:32.235 --> 00:00:33.146 A:middle
Occupational Group here at

00:00:33.146 --> 00:00:33.396 A:middle
Apple.

00:00:34.236 --> 00:00:35.756 A:middle
And today, along with two of my

00:00:35.756 --> 00:00:36.946 A:middle
colleagues, I am here to talk to

00:00:36.946 --> 00:00:38.046 A:middle
you about some of the new

00:00:38.046 --> 00:00:39.736 A:middle
security features in macOS

00:00:39.736 --> 00:00:41.766 A:middle
Mojave and how you can make the

00:00:41.766 --> 00:00:44.626 A:middle
most of it in your apps.

00:00:44.886 --> 00:00:46.286 A:middle
I'll start by going over some of

00:00:46.286 --> 00:00:47.586 A:middle
the high-level security

00:00:47.586 --> 00:00:48.896 A:middle
improvements that went into the

00:00:48.896 --> 00:00:49.506 A:middle
OS this year.

00:00:50.266 --> 00:00:51.086 A:middle
And then I would like to

00:00:51.086 --> 00:00:52.206 A:middle
dedicate the rest of this

00:00:52.206 --> 00:00:53.776 A:middle
session to talk about some of

00:00:53.776 --> 00:00:54.556 A:middle
the enhancements that we are

00:00:54.556 --> 00:00:54.976 A:middle
putting in Gatekeeper.

00:00:59.816 --> 00:01:01.186 A:middle
A few years ago we introduced a

00:00:59.816 --> 00:01:01.186 A:middle
A few years ago we introduced a

00:01:01.186 --> 00:01:02.616 A:middle
feature called Systemic Security

00:01:02.616 --> 00:01:04.426 A:middle
Protection to macOS with the

00:01:04.426 --> 00:01:06.406 A:middle
goal to increase the protection

00:01:06.706 --> 00:01:08.566 A:middle
of the operating system by

00:01:08.566 --> 00:01:10.536 A:middle
making it so that platform

00:01:10.536 --> 00:01:12.366 A:middle
binaries are protected from

00:01:12.366 --> 00:01:14.806 A:middle
modification both on disk and at

00:01:15.356 --> 00:01:15.536 A:middle
runtime.

00:01:16.276 --> 00:01:17.936 A:middle
This year we are taking it one

00:01:17.936 --> 00:01:20.066 A:middle
step further by enforcing

00:01:20.066 --> 00:01:21.066 A:middle
additional code-sending

00:01:21.066 --> 00:01:22.306 A:middle
requirements on platform

00:01:22.306 --> 00:01:22.726 A:middle
binaries.

00:01:24.036 --> 00:01:26.866 A:middle
The system will now enforce the

00:01:27.076 --> 00:01:29.356 A:middle
validity of code signatures

00:01:29.446 --> 00:01:31.016 A:middle
throughout the lifetime of

00:01:31.016 --> 00:01:32.766 A:middle
system processes and will

00:01:32.766 --> 00:01:34.726 A:middle
automatically abort any process

00:01:35.036 --> 00:01:36.236 A:middle
that deviates from its code

00:01:36.236 --> 00:01:38.656 A:middle
signature or that attempts to

00:01:38.656 --> 00:01:40.846 A:middle
execute any code that is not

00:01:40.846 --> 00:01:41.786 A:middle
properly signed by Apple.

00:01:42.886 --> 00:01:44.956 A:middle
In addition to that, the system

00:01:44.956 --> 00:01:47.936 A:middle
will monitor it - the dynamic

00:01:48.046 --> 00:01:50.136 A:middle
loading of any libraries,

00:01:50.236 --> 00:01:51.856 A:middle
frameworks, and plug-ins and

00:01:51.856 --> 00:01:53.566 A:middle
enforce that - those objects

00:01:53.886 --> 00:01:55.226 A:middle
also be signed by Apple.

00:01:55.696 --> 00:01:57.826 A:middle
It's a mechanism that has been

00:01:57.826 --> 00:01:59.246 A:middle
enforced on iOS for several

00:01:59.246 --> 00:02:00.656 A:middle
years now, and we are excited to

00:01:59.246 --> 00:02:00.656 A:middle
years now, and we are excited to

00:02:00.656 --> 00:02:01.886 A:middle
make this to be for the macOS.

00:02:02.466 --> 00:02:04.326 A:middle
Of course, not that this only

00:02:04.326 --> 00:02:05.266 A:middle
applies to the system.

00:02:05.266 --> 00:02:06.776 A:middle
This does not apply - it does

00:02:06.776 --> 00:02:07.876 A:middle
not apply to your apps.

00:02:08.476 --> 00:02:11.466 A:middle
However, there still remains a

00:02:11.466 --> 00:02:13.786 A:middle
few system extension points

00:02:13.876 --> 00:02:15.036 A:middle
throughout the operating system

00:02:15.376 --> 00:02:16.636 A:middle
that have not yet made the move

00:02:16.886 --> 00:02:18.046 A:middle
to the app extensions model.

00:02:19.006 --> 00:02:19.976 A:middle
And those are technically

00:02:19.976 --> 00:02:21.526 A:middle
considered to be platform

00:02:21.526 --> 00:02:22.936 A:middle
binaries; OK, it's the plug-in

00:02:22.936 --> 00:02:23.316 A:middle
loaders.

00:02:24.126 --> 00:02:25.436 A:middle
So for those we are going to

00:02:25.436 --> 00:02:26.826 A:middle
relax that policy, and the

00:02:26.826 --> 00:02:29.176 A:middle
system will still allow these

00:02:29.176 --> 00:02:32.006 A:middle
processes to load code that is

00:02:32.006 --> 00:02:34.406 A:middle
either third-party signed or

00:02:34.406 --> 00:02:35.156 A:middle
completely unsigned.

00:02:35.686 --> 00:02:38.866 A:middle
So if you ship any of these

00:02:38.866 --> 00:02:41.186 A:middle
plug-ins in your app, please

00:02:41.186 --> 00:02:42.606 A:middle
make sure that you test on the

00:02:42.666 --> 00:02:44.656 A:middle
developer preview and make sure

00:02:44.656 --> 00:02:45.476 A:middle
it works properly.

00:02:45.626 --> 00:02:46.526 A:middle
If not, please let us know.

00:02:47.006 --> 00:02:50.576 A:middle
Next, I would like to talk about

00:02:50.576 --> 00:02:51.716 A:middle
UI automation.

00:02:52.156 --> 00:02:54.986 A:middle
The security model of a macOS,

00:02:55.236 --> 00:02:56.476 A:middle
especially when it comes to user

00:02:56.476 --> 00:02:58.996 A:middle
data access, relies on the user

00:02:59.456 --> 00:03:00.876 A:middle
making security decisions for

00:02:59.456 --> 00:03:00.876 A:middle
making security decisions for

00:03:00.876 --> 00:03:02.346 A:middle
their self - for themselves.

00:03:03.146 --> 00:03:04.726 A:middle
We deliberately captured those

00:03:04.726 --> 00:03:07.556 A:middle
decisions, either via the user

00:03:07.556 --> 00:03:09.536 A:middle
intent using the mechanisms like

00:03:09.536 --> 00:03:11.206 A:middle
the open/save dialogs or

00:03:11.206 --> 00:03:13.606 A:middle
drag-and-drop operations -- or

00:03:13.996 --> 00:03:15.946 A:middle
by a user consent, with more

00:03:15.946 --> 00:03:18.176 A:middle
explicit authorization dialogs

00:03:18.556 --> 00:03:20.246 A:middle
or asking the user to make

00:03:20.586 --> 00:03:22.296 A:middle
security configuration changes

00:03:22.366 --> 00:03:23.336 A:middle
in System Preferences.

00:03:23.756 --> 00:03:26.886 A:middle
As such, it's critical for the

00:03:26.886 --> 00:03:28.386 A:middle
operating system to be able to

00:03:28.386 --> 00:03:30.456 A:middle
differentiate between the user

00:03:30.706 --> 00:03:32.696 A:middle
actually making these decisions

00:03:33.646 --> 00:03:35.976 A:middle
and software driving the UI on

00:03:35.976 --> 00:03:36.416 A:middle
their behalf.

00:03:36.856 --> 00:03:39.346 A:middle
In the past we have made a few

00:03:39.426 --> 00:03:41.186 A:middle
targeted enhancements to some of

00:03:41.186 --> 00:03:43.176 A:middle
the system authorization dialogs

00:03:43.176 --> 00:03:43.996 A:middle
to make sure that they can

00:03:43.996 --> 00:03:46.446 A:middle
detect and block these synthetic

00:03:46.446 --> 00:03:46.856 A:middle
events.

00:03:47.926 --> 00:03:49.386 A:middle
But these decision points have

00:03:49.386 --> 00:03:51.456 A:middle
become so pervasive across the

00:03:51.456 --> 00:03:53.396 A:middle
OS that we need a better model.

00:03:53.916 --> 00:03:58.076 A:middle
In macOS Mojave, the system will

00:03:58.136 --> 00:04:00.216 A:middle
only allow UI events to be

00:03:58.136 --> 00:04:00.216 A:middle
only allow UI events to be

00:04:00.216 --> 00:04:02.326 A:middle
dispatched by processes that the

00:04:02.326 --> 00:04:04.176 A:middle
user has specifically configured

00:04:05.066 --> 00:04:06.836 A:middle
to control the UI on their

00:04:06.836 --> 00:04:09.186 A:middle
behalf and effectively

00:04:09.546 --> 00:04:10.226 A:middle
impersonate them.

00:04:11.226 --> 00:04:13.456 A:middle
This configuration is made in

00:04:13.456 --> 00:04:14.976 A:middle
the Security and Privacy Press

00:04:14.976 --> 00:04:17.026 A:middle
pane in the System Preferences.

00:04:17.266 --> 00:04:19.005 A:middle
And it's currently co-located

00:04:19.196 --> 00:04:20.466 A:middle
with the existing accessing to

00:04:20.466 --> 00:04:21.466 A:middle
the key list.

00:04:23.516 --> 00:04:25.256 A:middle
This is the list of APIs that

00:04:25.526 --> 00:04:26.916 A:middle
will be impacted moving forward.

00:04:27.356 --> 00:04:28.416 A:middle
They mostly fall under two

00:04:28.416 --> 00:04:29.106 A:middle
categories.

00:04:29.616 --> 00:04:31.546 A:middle
First, the kidlet [phonetic]

00:04:31.706 --> 00:04:34.346 A:middle
Layer: IOHIDPostEvent and the

00:04:34.346 --> 00:04:37.026 A:middle
IOHIDSetMouseLocation; and then

00:04:37.076 --> 00:04:38.786 A:middle
second, at the CG Layer.

00:04:39.406 --> 00:04:41.316 A:middle
If you attempt to post any CG

00:04:41.316 --> 00:04:44.376 A:middle
event or if you create any CG

00:04:44.376 --> 00:04:46.526 A:middle
event tab, we are now providing

00:04:46.526 --> 00:04:48.126 A:middle
the Listen Only option --

00:04:48.986 --> 00:04:50.196 A:middle
effectively creating what we

00:04:50.196 --> 00:04:51.276 A:middle
call a modifying tab.

00:04:51.276 --> 00:04:52.756 A:middle
And the user will have to

00:04:52.756 --> 00:04:53.976 A:middle
approve those processes as well.

00:04:54.956 --> 00:05:01.146 A:middle
And then next, we put a lot of

00:04:54.956 --> 00:05:01.146 A:middle
And then next, we put a lot of

00:05:01.146 --> 00:05:03.186 A:middle
focus of hardening Safari

00:05:03.186 --> 00:05:03.506 A:middle
itself.

00:05:04.756 --> 00:05:06.156 A:middle
It is, after all, one of the

00:05:06.156 --> 00:05:07.806 A:middle
most important Internet facing

00:05:07.806 --> 00:05:09.346 A:middle
applications on the machine.

00:05:09.946 --> 00:05:11.776 A:middle
So it deserves special

00:05:11.776 --> 00:05:12.146 A:middle
attention.

00:05:12.716 --> 00:05:16.746 A:middle
In Mojave, Safari, as well as

00:05:16.966 --> 00:05:19.286 A:middle
every satellite processes that

00:05:19.286 --> 00:05:21.386 A:middle
ship as part of it, it's fully

00:05:21.386 --> 00:05:21.996 A:middle
sandboxed.

00:05:22.796 --> 00:05:25.076 A:middle
If you are a web developer, this

00:05:25.076 --> 00:05:26.316 A:middle
may potentially have an impact

00:05:26.316 --> 00:05:27.356 A:middle
on your local development

00:05:27.356 --> 00:05:29.406 A:middle
workflow due to the way that

00:05:29.406 --> 00:05:30.806 A:middle
Safari now acts as its local

00:05:30.806 --> 00:05:32.226 A:middle
resources on this.

00:05:32.766 --> 00:05:34.766 A:middle
If you want more details, please

00:05:34.766 --> 00:05:35.986 A:middle
check out the What's New in

00:05:35.986 --> 00:05:37.786 A:middle
Safari and WebKit session this

00:05:37.786 --> 00:05:38.006 A:middle
Friday.

00:05:39.116 --> 00:05:40.486 A:middle
And then of course, WebKit has

00:05:40.486 --> 00:05:41.656 A:middle
been sandboxed for many years

00:05:41.656 --> 00:05:41.886 A:middle
now.

00:05:42.506 --> 00:05:44.356 A:middle
We put a lot of attention in

00:05:44.606 --> 00:05:46.276 A:middle
auditing the existing sandboxes

00:05:46.956 --> 00:05:49.056 A:middle
as well as removing any risky

00:05:49.056 --> 00:05:50.466 A:middle
and unnecessary dependencies

00:05:50.466 --> 00:05:51.046 A:middle
from those.

00:05:51.606 --> 00:05:53.636 A:middle
For example, the web content

00:05:54.026 --> 00:05:56.166 A:middle
process no longer needs access

00:05:56.216 --> 00:05:57.696 A:middle
through the Windows server, to

00:05:57.696 --> 00:05:59.906 A:middle
the dock, or to the network.

00:05:59.906 --> 00:06:03.416 A:middle
If your app uses the system

00:05:59.906 --> 00:06:03.416 A:middle
If your app uses the system

00:06:03.416 --> 00:06:05.676 A:middle
WebKit, then there is nothing

00:06:05.676 --> 00:06:06.736 A:middle
for you to do in order to adopt

00:06:06.736 --> 00:06:06.836 A:middle
this.

00:06:06.836 --> 00:06:08.586 A:middle
You will automatically benefit

00:06:08.586 --> 00:06:09.426 A:middle
from those improvements.

00:06:12.736 --> 00:06:15.006 A:middle
Next, I'd like to talk about

00:06:15.856 --> 00:06:16.076 A:middle
Gatekeeper.

00:06:16.156 --> 00:06:17.256 A:middle
So Gatekeeper has done a great

00:06:17.256 --> 00:06:19.116 A:middle
job over the years in stopping

00:06:19.116 --> 00:06:21.616 A:middle
widespread malware attacks on

00:06:21.616 --> 00:06:22.056 A:middle
the platform.

00:06:22.776 --> 00:06:23.266 A:middle
It's here.

00:06:23.266 --> 00:06:24.856 A:middle
We would like to make it better.

00:06:24.966 --> 00:06:26.546 A:middle
And we are focusing on three

00:06:26.546 --> 00:06:27.686 A:middle
main aspects.

00:06:28.896 --> 00:06:31.446 A:middle
First, I invite Kelly onstage to

00:06:31.446 --> 00:06:33.286 A:middle
tell you about a new security

00:06:33.286 --> 00:06:35.756 A:middle
mechanism that puts the user in

00:06:35.756 --> 00:06:38.086 A:middle
control over the way apps access

00:06:38.126 --> 00:06:39.496 A:middle
their personal data.

00:06:40.356 --> 00:06:42.366 A:middle
Then I'll introduce a new

00:06:42.366 --> 00:06:43.656 A:middle
security feature that you as a

00:06:43.656 --> 00:06:45.836 A:middle
developer can adopt in your apps

00:06:46.596 --> 00:06:47.866 A:middle
to increase their security and

00:06:47.866 --> 00:06:48.896 A:middle
their transparency.

00:06:50.256 --> 00:06:51.476 A:middle
And then finally, I am sure you

00:06:51.476 --> 00:06:52.616 A:middle
are all very impatient to hear

00:06:52.616 --> 00:06:54.426 A:middle
more about the Developer ID

00:06:54.686 --> 00:06:56.146 A:middle
notary service that Sebastian

00:06:56.146 --> 00:06:57.306 A:middle
mentioned in his talk yesterday.

00:06:57.976 --> 00:06:59.746 A:middle
So I invite Garrett onstage to

00:06:59.746 --> 00:07:02.556 A:middle
tell you more about that.

00:06:59.746 --> 00:07:02.556 A:middle
tell you more about that.

00:07:02.736 --> 00:07:02.966 A:middle
All right?

00:07:03.076 --> 00:07:03.586 A:middle
Let's get started.

00:07:03.656 --> 00:07:03.776 A:middle
Kelly?

00:07:04.516 --> 00:07:10.546 A:middle
[ Applause ]

00:07:11.046 --> 00:07:11.766 A:middle
&gt;&gt; OK, thank you Pierre.

00:07:12.616 --> 00:07:13.826 A:middle
Hi, my name is Kelly Yancy.

00:07:13.886 --> 00:07:15.316 A:middle
I'm with the OS Security Team

00:07:15.316 --> 00:07:15.906 A:middle
here at Apple.

00:07:15.906 --> 00:07:17.726 A:middle
And I am really excited today to

00:07:17.726 --> 00:07:18.996 A:middle
tell you about the new user data

00:07:18.996 --> 00:07:20.666 A:middle
protections in macOS Mojave.

00:07:21.536 --> 00:07:24.846 A:middle
Now in macOS High Sierra, these

00:07:24.846 --> 00:07:24.976 A:middle
APIs --

00:07:29.196 --> 00:07:30.896 A:middle
-- prompt the user for consent

00:07:31.146 --> 00:07:32.656 A:middle
before allowing apps to access

00:07:32.656 --> 00:07:33.556 A:middle
their respective data.

00:07:34.096 --> 00:07:37.536 A:middle
With these prompts,

00:07:37.766 --> 00:07:39.206 A:middle
well-intentioned software can

00:07:39.206 --> 00:07:40.666 A:middle
honor the user's preferences

00:07:41.316 --> 00:07:43.106 A:middle
with regards to how they access

00:07:43.316 --> 00:07:44.816 A:middle
their personal data.

00:07:46.076 --> 00:07:48.066 A:middle
Well now, in macOS Mojave,

00:07:48.466 --> 00:07:50.076 A:middle
access to this data requires

00:07:50.076 --> 00:07:51.776 A:middle
user consent -- even for apps

00:07:51.776 --> 00:07:53.246 A:middle
that access the Backing/Store

00:07:53.296 --> 00:07:54.596 A:middle
directly via the file system.

00:07:55.586 --> 00:07:56.786 A:middle
Now apps that currently use

00:07:56.816 --> 00:07:59.386 A:middle
prescribed APIs to access this

00:08:00.356 --> 00:08:01.666 A:middle
data should be well prepared.

00:08:02.236 --> 00:08:03.516 A:middle
But as always, we encourage you

00:08:03.516 --> 00:08:04.786 A:middle
to test your apps against the

00:08:04.786 --> 00:08:06.646 A:middle
latest macOS release.

00:08:07.986 --> 00:08:09.926 A:middle
Now if your app does access the

00:08:09.926 --> 00:08:11.416 A:middle
underlying databases directly

00:08:11.416 --> 00:08:13.866 A:middle
via the file system, be aware

00:08:13.866 --> 00:08:15.786 A:middle
that that may - that access may

00:08:15.786 --> 00:08:17.366 A:middle
now block the calling thread

00:08:17.856 --> 00:08:18.866 A:middle
while the operating system

00:08:18.866 --> 00:08:20.296 A:middle
presents an authorization prompt

00:08:20.296 --> 00:08:20.866 A:middle
to the user.

00:08:21.626 --> 00:08:22.906 A:middle
And in a world where computers

00:08:23.076 --> 00:08:24.586 A:middle
do billions of operations per

00:08:24.586 --> 00:08:26.216 A:middle
second, it turns out people are

00:08:26.216 --> 00:08:27.356 A:middle
relatively high latency.

00:08:28.096 --> 00:08:29.436 A:middle
So you don't want to do that I/O

00:08:29.436 --> 00:08:31.126 A:middle
in your app's main thread, or it

00:08:31.196 --> 00:08:33.486 A:middle
may appear hung while the prompt

00:08:33.486 --> 00:08:33.976 A:middle
is displayed.

00:08:36.176 --> 00:08:37.756 A:middle
So here is an example of code

00:08:38.216 --> 00:08:39.336 A:middle
that accesses the user's

00:08:39.395 --> 00:08:40.936 A:middle
pictures via the file system.

00:08:42.025 --> 00:08:43.506 A:middle
Now by default, the Photos app

00:08:43.506 --> 00:08:45.226 A:middle
stores the user's Photos library

00:08:45.516 --> 00:08:46.496 A:middle
in the Pictures folder.

00:08:47.406 --> 00:08:51.636 A:middle
So when this code traverses the

00:08:51.636 --> 00:08:53.696 A:middle
user's Photos library, it may

00:08:53.696 --> 00:08:54.906 A:middle
now trigger an authorization

00:08:54.906 --> 00:08:56.376 A:middle
prompt for access to the user's

00:08:56.376 --> 00:08:58.206 A:middle
photos -- where it would not

00:08:58.206 --> 00:09:00.106 A:middle
have in macOS High Sierra.

00:08:58.206 --> 00:09:00.106 A:middle
have in macOS High Sierra.

00:09:00.106 --> 00:09:03.656 A:middle
Now apps that traverse the

00:09:03.656 --> 00:09:05.746 A:middle
user's Home folder could trigger

00:09:05.856 --> 00:09:08.196 A:middle
multiple approval prompts, not

00:09:08.196 --> 00:09:09.936 A:middle
just for photos -- for contacts,

00:09:09.936 --> 00:09:12.166 A:middle
for calendars, and so on -- as

00:09:12.166 --> 00:09:13.256 A:middle
many apps that traverse the

00:09:13.256 --> 00:09:15.176 A:middle
entire file system, such as disk

00:09:15.176 --> 00:09:16.676 A:middle
management or backup software.

00:09:17.886 --> 00:09:19.746 A:middle
So user can pre-approve such

00:09:19.746 --> 00:09:22.086 A:middle
apps by adding them to the new

00:09:22.166 --> 00:09:24.036 A:middle
System Application Data category

00:09:24.286 --> 00:09:25.536 A:middle
in the System Preferences

00:09:25.666 --> 00:09:26.846 A:middle
Security and Privacy pane.

00:09:27.886 --> 00:09:28.886 A:middle
By doing so, the user

00:09:28.886 --> 00:09:30.536 A:middle
preauthorizes those apps to

00:09:30.536 --> 00:09:31.526 A:middle
access all of their

00:09:31.526 --> 00:09:33.426 A:middle
privacy-sensitive data without

00:09:33.456 --> 00:09:33.876 A:middle
prompting.

00:09:34.766 --> 00:09:35.976 A:middle
Authorization can also be

00:09:35.976 --> 00:09:38.796 A:middle
preconfigured in education or

00:09:38.796 --> 00:09:40.996 A:middle
enterprise environments via MDM

00:09:40.996 --> 00:09:42.286 A:middle
server as long as it's a

00:09:42.286 --> 00:09:43.706 A:middle
user-improved enrollment.

00:09:46.256 --> 00:09:47.546 A:middle
When the user is prompted to

00:09:47.546 --> 00:09:49.616 A:middle
authorize access to their

00:09:49.616 --> 00:09:51.546 A:middle
personal data, it is important

00:09:51.546 --> 00:09:52.886 A:middle
to communicate the purpose of

00:09:52.886 --> 00:09:53.566 A:middle
that access.

00:09:54.456 --> 00:09:56.006 A:middle
Imagine that you just installed

00:09:56.006 --> 00:09:57.536 A:middle
an app that you had never used

00:09:57.586 --> 00:09:58.036 A:middle
before.

00:09:58.886 --> 00:10:00.236 A:middle
And the very first time you

00:09:58.886 --> 00:10:00.236 A:middle
And the very first time you

00:10:00.236 --> 00:10:02.256 A:middle
launch it, you saw this prompt.

00:10:03.036 --> 00:10:04.006 A:middle
That's a tough decision.

00:10:04.166 --> 00:10:06.366 A:middle
But we can make that decision

00:10:06.366 --> 00:10:08.736 A:middle
easier by including purpose

00:10:08.736 --> 00:10:11.396 A:middle
text, which makes it clear why

00:10:11.396 --> 00:10:13.576 A:middle
the app is requesting access and

00:10:13.576 --> 00:10:14.866 A:middle
what the consequences of

00:10:14.866 --> 00:10:16.366 A:middle
declining that access would be.

00:10:17.486 --> 00:10:18.916 A:middle
Now your app can specify the

00:10:18.916 --> 00:10:20.266 A:middle
text displayed in the

00:10:20.266 --> 00:10:21.736 A:middle
authorization prompts displayed

00:10:21.736 --> 00:10:24.406 A:middle
on its behalf by including keys

00:10:24.466 --> 00:10:25.726 A:middle
in your Info.plist file.

00:10:26.306 --> 00:10:28.806 A:middle
So here are the Info.plist keys

00:10:28.806 --> 00:10:29.986 A:middle
for each of the APIs that we

00:10:29.986 --> 00:10:30.966 A:middle
have been looking at.

00:10:32.296 --> 00:10:33.476 A:middle
Now you may notice that these

00:10:33.476 --> 00:10:35.756 A:middle
are largely the same as on iOS.

00:10:35.756 --> 00:10:38.206 A:middle
I want to call out one

00:10:38.206 --> 00:10:39.016 A:middle
difference, and that's the

00:10:39.016 --> 00:10:40.876 A:middle
Locations Services Info.plist

00:10:40.876 --> 00:10:41.126 A:middle
key.

00:10:41.626 --> 00:10:44.956 A:middle
This key is actually deprecated

00:10:44.956 --> 00:10:47.586 A:middle
on iOS, but I assure you it is

00:10:47.586 --> 00:10:49.696 A:middle
the correct key to use in macOS

00:10:49.926 --> 00:10:50.396 A:middle
Mojave.

00:10:50.986 --> 00:10:54.066 A:middle
So these keys will be required

00:10:54.306 --> 00:10:55.986 A:middle
for apps linked against the

00:10:55.986 --> 00:10:57.226 A:middle
10.14 SDK.

00:10:58.666 --> 00:11:00.666 A:middle
So besides informing the user,

00:10:58.666 --> 00:11:00.666 A:middle
So besides informing the user,

00:11:00.936 --> 00:11:02.496 A:middle
these keys are also being used

00:11:02.496 --> 00:11:04.066 A:middle
to inform the operating system

00:11:04.486 --> 00:11:06.926 A:middle
that -- as the developer -- you

00:11:06.926 --> 00:11:08.366 A:middle
intend for your app to access

00:11:08.406 --> 00:11:09.506 A:middle
the user's personal data.

00:11:10.816 --> 00:11:12.636 A:middle
And should an app try to access

00:11:12.696 --> 00:11:14.716 A:middle
the user personal data but not

00:11:14.716 --> 00:11:17.406 A:middle
include the appropriate key and

00:11:17.406 --> 00:11:18.726 A:middle
purpose string for that data,

00:11:20.056 --> 00:11:22.156 A:middle
macOS Mojave assumes that that

00:11:22.156 --> 00:11:24.296 A:middle
access was unintended -- and the

00:11:24.296 --> 00:11:24.946 A:middle
app exits.

00:11:26.426 --> 00:11:28.146 A:middle
For compatibility, these keys

00:11:28.226 --> 00:11:30.256 A:middle
are optional for apps that link

00:11:30.306 --> 00:11:31.926 A:middle
- that target older SDKs.

00:11:33.126 --> 00:11:34.146 A:middle
So for example, if you have an

00:11:34.146 --> 00:11:36.176 A:middle
app that still targets the 10.13

00:11:36.396 --> 00:11:38.426 A:middle
SDK and tries to access the

00:11:38.426 --> 00:11:40.246 A:middle
user's personal data via one of

00:11:40.246 --> 00:11:43.376 A:middle
these APIs, the app will not

00:11:43.426 --> 00:11:45.516 A:middle
exit but will display a prompt

00:11:45.686 --> 00:11:46.856 A:middle
lacking the purpose string --

00:11:47.006 --> 00:11:48.246 A:middle
like the first one that we saw a

00:11:48.246 --> 00:11:48.706 A:middle
minute ago.

00:11:49.276 --> 00:11:50.556 A:middle
So we still encourage you to

00:11:50.556 --> 00:11:53.016 A:middle
include the Info.plist keys in

00:11:53.016 --> 00:11:54.586 A:middle
your apps, even if you are

00:11:54.586 --> 00:11:56.716 A:middle
targeting an older SDK, so that

00:11:57.786 --> 00:11:59.516 A:middle
the user is better informed why

00:11:59.516 --> 00:12:00.616 A:middle
your app is accessing their

00:11:59.516 --> 00:12:00.616 A:middle
your app is accessing their

00:12:00.616 --> 00:12:00.906 A:middle
data.

00:12:01.486 --> 00:12:04.856 A:middle
So in addition to these

00:12:04.856 --> 00:12:07.516 A:middle
prompting categories, macOS

00:12:07.786 --> 00:12:10.936 A:middle
Mojave also restricts access to

00:12:10.936 --> 00:12:12.696 A:middle
this privacy-sensitive user data

00:12:12.696 --> 00:12:12.976 A:middle
as well.

00:12:19.686 --> 00:12:21.536 A:middle
So the operating system will not

00:12:21.536 --> 00:12:24.006 A:middle
prompt for authorization to

00:12:24.006 --> 00:12:25.396 A:middle
access this data via the file

00:12:25.436 --> 00:12:25.766 A:middle
system.

00:12:26.376 --> 00:12:28.236 A:middle
Only the respective system apps

00:12:28.816 --> 00:12:30.566 A:middle
or services have access to this

00:12:30.566 --> 00:12:33.066 A:middle
data plus any apps that the user

00:12:33.066 --> 00:12:35.186 A:middle
has preauthorized for system

00:12:35.186 --> 00:12:36.246 A:middle
application data via the

00:12:36.286 --> 00:12:37.586 A:middle
Security and Privacy Preference

00:12:37.626 --> 00:12:39.076 A:middle
pane that we just saw.

00:12:39.716 --> 00:12:43.056 A:middle
In addition, authorization may

00:12:43.056 --> 00:12:45.276 A:middle
be preconfigured via MDM

00:12:45.276 --> 00:12:45.886 A:middle
enrollment.

00:12:47.696 --> 00:12:49.946 A:middle
Another way that this data can

00:12:49.946 --> 00:12:53.066 A:middle
be accessed is via scripting.

00:12:53.066 --> 00:12:55.666 A:middle
So Mail, Messages, and Safari

00:12:55.836 --> 00:12:57.376 A:middle
are all scriptable, exposing

00:12:57.426 --> 00:12:58.306 A:middle
some of their functionalities

00:12:58.306 --> 00:12:59.536 A:middle
automation by other apps.

00:13:00.736 --> 00:13:01.976 A:middle
Let's use Mail for an example.

00:13:02.696 --> 00:13:04.196 A:middle
Mail's local database contains

00:13:04.196 --> 00:13:05.596 A:middle
lots of personal information.

00:13:06.176 --> 00:13:07.466 A:middle
It has the e-mail addresses of

00:13:07.466 --> 00:13:09.446 A:middle
my friends, family, companies I

00:13:09.446 --> 00:13:10.136 A:middle
do business with.

00:13:10.136 --> 00:13:11.126 A:middle
And then there is the contents

00:13:11.126 --> 00:13:12.746 A:middle
of the mail messages themselves

00:13:13.466 --> 00:13:15.056 A:middle
-- my private correspondence, my

00:13:15.526 --> 00:13:16.866 A:middle
shopping receipts, my shipping

00:13:16.866 --> 00:13:19.336 A:middle
notifications, and my temporary

00:13:19.336 --> 00:13:20.926 A:middle
passwords for services I forgot

00:13:20.956 --> 00:13:21.646 A:middle
the password of.

00:13:22.206 --> 00:13:24.576 A:middle
So the Mail app necessarily has

00:13:24.576 --> 00:13:25.936 A:middle
access to its own local

00:13:25.936 --> 00:13:26.456 A:middle
database.

00:13:27.306 --> 00:13:30.026 A:middle
And in macOS Mojave, other apps

00:13:30.026 --> 00:13:31.066 A:middle
do not.

00:13:32.256 --> 00:13:34.086 A:middle
But since Mail can be scripted

00:13:34.226 --> 00:13:35.626 A:middle
by other applications, we need

00:13:35.626 --> 00:13:37.206 A:middle
to be sure that Mail only shares

00:13:37.206 --> 00:13:38.946 A:middle
my personal information with my

00:13:38.946 --> 00:13:39.446 A:middle
consent.

00:13:42.946 --> 00:13:43.956 A:middle
Because we want the user to be

00:13:43.956 --> 00:13:45.286 A:middle
in control of how apps they have

00:13:45.286 --> 00:13:46.586 A:middle
trusted with access to their

00:13:46.586 --> 00:13:48.186 A:middle
data act on behalf of other

00:13:48.186 --> 00:13:50.886 A:middle
apps, macOS Mojave will include

00:13:50.886 --> 00:13:51.806 A:middle
prompts like this one,

00:13:52.166 --> 00:13:53.946 A:middle
authorizing apps to control

00:13:53.946 --> 00:13:54.456 A:middle
other apps.

00:13:55.616 --> 00:13:57.026 A:middle
Now the developer preview does

00:13:57.026 --> 00:13:58.096 A:middle
not currently require

00:13:58.096 --> 00:13:59.556 A:middle
authorization to automate other

00:13:59.556 --> 00:13:59.966 A:middle
apps.

00:14:00.436 --> 00:14:01.796 A:middle
But you can try this new

00:14:01.796 --> 00:14:03.216 A:middle
protection out in a future

00:14:03.216 --> 00:14:03.616 A:middle
preview.

00:14:04.116 --> 00:14:08.646 A:middle
Only if the user consents will

00:14:08.646 --> 00:14:10.356 A:middle
Mail accept being automated by

00:14:10.356 --> 00:14:11.616 A:middle
other apps.

00:14:12.456 --> 00:14:14.516 A:middle
So this applies to Apple events.

00:14:15.166 --> 00:14:18.436 A:middle
But there are exceptions.

00:14:18.496 --> 00:14:19.726 A:middle
And there are exceptions for

00:14:19.726 --> 00:14:21.676 A:middle
Apple events that are not

00:14:21.676 --> 00:14:23.116 A:middle
particularly privacy sensitive

00:14:23.736 --> 00:14:25.266 A:middle
-- for example, opening

00:14:25.266 --> 00:14:26.176 A:middle
documents in a default

00:14:26.176 --> 00:14:28.236 A:middle
application, opening URLs in the

00:14:28.236 --> 00:14:29.526 A:middle
default handler for that URL

00:14:29.616 --> 00:14:31.846 A:middle
scheme, or opening other

00:14:31.846 --> 00:14:32.526 A:middle
applications.

00:14:35.516 --> 00:14:38.416 A:middle
Finally, macOS Mojave brings

00:14:38.416 --> 00:14:39.636 A:middle
every one of my favorite

00:14:39.796 --> 00:14:41.166 A:middle
features from iOS.

00:14:42.156 --> 00:14:43.536 A:middle
User authorization for camera

00:14:43.536 --> 00:14:46.626 A:middle
and microphone: I think I am

00:14:46.626 --> 00:14:48.326 A:middle
going to decline this one.

00:14:51.056 --> 00:14:53.066 A:middle
So apps can - that's not a link

00:14:53.066 --> 00:14:54.126 A:middle
in [inaudible] - apps can

00:14:54.206 --> 00:14:55.266 A:middle
enumerate the camera and

00:14:55.266 --> 00:14:56.966 A:middle
microphone hardware without user

00:14:57.006 --> 00:14:57.466 A:middle
consent.

00:14:58.046 --> 00:15:00.776 A:middle
But initiating capture requires

00:14:58.046 --> 00:15:00.776 A:middle
But initiating capture requires

00:15:00.776 --> 00:15:01.726 A:middle
user authorization.

00:15:03.016 --> 00:15:04.706 A:middle
And this applies to all devices

00:15:04.706 --> 00:15:05.736 A:middle
supported by the built-in

00:15:05.736 --> 00:15:06.176 A:middle
drivers.

00:15:09.096 --> 00:15:13.946 A:middle
Now your app can query the

00:15:14.216 --> 00:15:15.316 A:middle
authorization status.

00:15:15.966 --> 00:15:18.526 A:middle
And this is useful if you'd like

00:15:18.526 --> 00:15:20.086 A:middle
your app's user experience to

00:15:20.086 --> 00:15:21.386 A:middle
reflect user's previous

00:15:21.796 --> 00:15:22.276 A:middle
decisions.

00:15:23.356 --> 00:15:24.906 A:middle
And this API provided by

00:15:24.906 --> 00:15:27.036 A:middle
AVFoundation is the same as on

00:15:27.036 --> 00:15:27.226 A:middle
iOS.

00:15:27.226 --> 00:15:29.956 A:middle
And what's interesting is it

00:15:29.996 --> 00:15:31.366 A:middle
doesn't just return a simple

00:15:31.366 --> 00:15:32.596 A:middle
Boolean yes/no.

00:15:33.456 --> 00:15:34.416 A:middle
It actually returns an

00:15:34.416 --> 00:15:36.006 A:middle
enumeration of four possible

00:15:36.006 --> 00:15:36.456 A:middle
values.

00:15:36.676 --> 00:15:39.196 A:middle
And I'd like to drill down on

00:15:39.306 --> 00:15:40.576 A:middle
those because I think these are

00:15:40.576 --> 00:15:41.116 A:middle
relevant.

00:15:41.836 --> 00:15:44.166 A:middle
The first one, notDetermined,

00:15:44.166 --> 00:15:45.456 A:middle
means that the user has not

00:15:45.496 --> 00:15:47.376 A:middle
previously been consented for

00:15:47.376 --> 00:15:49.016 A:middle
your app to access the camera or

00:15:49.016 --> 00:15:49.636 A:middle
microphone.

00:15:51.256 --> 00:15:53.166 A:middle
So should your app try to access

00:15:53.536 --> 00:15:55.636 A:middle
that hardware, the operating

00:15:55.636 --> 00:15:56.796 A:middle
system will display a prompt at

00:15:56.796 --> 00:15:56.976 A:middle
that time.

00:16:01.056 --> 00:16:03.516 A:middle
The restricted value actually

00:16:03.516 --> 00:16:04.476 A:middle
means that the user cannot

00:16:04.476 --> 00:16:06.606 A:middle
consent, that the hardware --

00:16:06.786 --> 00:16:08.626 A:middle
the camera or microphone -- has

00:16:08.626 --> 00:16:10.416 A:middle
been disabled -- the parental

00:16:10.416 --> 00:16:11.686 A:middle
controls or mobile device

00:16:11.686 --> 00:16:12.136 A:middle
management.

00:16:12.656 --> 00:16:16.496 A:middle
The denied value means the user

00:16:16.496 --> 00:16:18.166 A:middle
has previously been prompted,

00:16:18.206 --> 00:16:21.306 A:middle
but the user declined to give

00:16:21.306 --> 00:16:21.756 A:middle
consent.

00:16:22.216 --> 00:16:23.536 A:middle
They don't want your app to

00:16:23.536 --> 00:16:25.126 A:middle
access that hardware.

00:16:25.666 --> 00:16:28.786 A:middle
And finally, the authorized

00:16:28.786 --> 00:16:30.126 A:middle
value means that the user has

00:16:30.176 --> 00:16:32.016 A:middle
previously been prompted, and

00:16:32.016 --> 00:16:33.346 A:middle
they did consent and your app

00:16:33.486 --> 00:16:34.976 A:middle
can access that hardware.

00:16:40.576 --> 00:16:42.606 A:middle
So we believe it's important to

00:16:42.606 --> 00:16:43.696 A:middle
prompt in context.

00:16:44.416 --> 00:16:45.286 A:middle
And this is the reason why the

00:16:45.286 --> 00:16:47.396 A:middle
operating system currently

00:16:47.396 --> 00:16:48.656 A:middle
displays the prompts kind of

00:16:48.656 --> 00:16:49.416 A:middle
just in time.

00:16:49.416 --> 00:16:50.456 A:middle
At the moment that your app

00:16:50.596 --> 00:16:52.716 A:middle
accesses the microphone of the

00:16:52.716 --> 00:16:55.306 A:middle
camera, the operating system

00:16:55.306 --> 00:16:56.496 A:middle
will present a prompt when

00:16:56.496 --> 00:16:57.156 A:middle
necessary.

00:16:57.506 --> 00:16:58.346 A:middle
And we feel that that's the

00:16:58.346 --> 00:17:00.116 A:middle
right time because the user has

00:16:58.346 --> 00:17:00.116 A:middle
right time because the user has

00:17:00.116 --> 00:17:02.126 A:middle
the most context to understand

00:17:02.126 --> 00:17:03.866 A:middle
why your app is accessing the

00:17:03.866 --> 00:17:04.205 A:middle
hardware.

00:17:04.746 --> 00:17:07.356 A:middle
But there are times where your

00:17:07.356 --> 00:17:09.156 A:middle
app might want more control over

00:17:09.156 --> 00:17:10.046 A:middle
the timing of those

00:17:10.046 --> 00:17:11.036 A:middle
authorization prompts.

00:17:11.526 --> 00:17:13.286 A:middle
For example, if your app opens a

00:17:13.286 --> 00:17:14.846 A:middle
new window, and in that window

00:17:14.846 --> 00:17:16.986 A:middle
displays frames from the camera

00:17:17.195 --> 00:17:19.435 A:middle
or a visualization of the audio

00:17:19.606 --> 00:17:21.566 A:middle
from the microphone, you might

00:17:21.566 --> 00:17:22.726 A:middle
want to avoid displaying an

00:17:22.726 --> 00:17:24.046 A:middle
empty window if the user

00:17:24.046 --> 00:17:26.306 A:middle
declines authorization -- in

00:17:26.306 --> 00:17:27.445 A:middle
which case it's better to prompt

00:17:27.726 --> 00:17:28.976 A:middle
before opening the window.

00:17:29.946 --> 00:17:32.146 A:middle
So AVFoundation provides this

00:17:32.146 --> 00:17:35.146 A:middle
API so that you can preflight

00:17:35.146 --> 00:17:36.036 A:middle
that authorization.

00:17:36.596 --> 00:17:39.416 A:middle
And I'd like to call out that

00:17:39.416 --> 00:17:40.656 A:middle
this API is actually

00:17:40.656 --> 00:17:41.136 A:middle
asynchronous.

00:17:41.416 --> 00:17:43.816 A:middle
It takes a block with - that is

00:17:43.876 --> 00:17:46.366 A:middle
called with a Boolean value of

00:17:46.366 --> 00:17:47.956 A:middle
whether your app has access or

00:17:47.956 --> 00:17:48.236 A:middle
not.

00:17:48.276 --> 00:17:49.066 A:middle
So this is a little bit

00:17:49.066 --> 00:17:50.046 A:middle
different than the enumeration

00:17:50.046 --> 00:17:50.736 A:middle
that we just saw.

00:17:52.216 --> 00:17:53.526 A:middle
That block may be invoked

00:17:53.636 --> 00:17:55.236 A:middle
immediately when you make - when

00:17:55.236 --> 00:17:56.456 A:middle
your app makes this call.

00:17:56.656 --> 00:17:57.606 A:middle
For example, if the user has

00:17:57.686 --> 00:17:59.756 A:middle
previously already consented or

00:17:59.756 --> 00:18:01.766 A:middle
denied access, the operating

00:17:59.756 --> 00:18:01.766 A:middle
denied access, the operating

00:18:01.766 --> 00:18:02.806 A:middle
system already knows that answer

00:18:02.806 --> 00:18:04.706 A:middle
and can immediately invoke the

00:18:04.706 --> 00:18:05.656 A:middle
block telling you what that

00:18:05.656 --> 00:18:06.166 A:middle
answer is.

00:18:06.636 --> 00:18:09.216 A:middle
Similarly, if the parental

00:18:10.126 --> 00:18:13.836 A:middle
controls or MDM server has made

00:18:13.836 --> 00:18:15.866 A:middle
that hardware unavailable, the

00:18:15.866 --> 00:18:17.246 A:middle
callback is immediately invoked

00:18:17.246 --> 00:18:19.516 A:middle
with a Boolean value of fault.

00:18:22.706 --> 00:18:24.586 A:middle
But it's also possible that this

00:18:24.586 --> 00:18:26.306 A:middle
callback will be invoked later

00:18:26.966 --> 00:18:29.106 A:middle
-- possibly much later -- as a

00:18:29.106 --> 00:18:30.896 A:middle
prompt is displayed while we are

00:18:30.896 --> 00:18:31.956 A:middle
waiting for - and then only when

00:18:31.956 --> 00:18:34.076 A:middle
the user makes their decision

00:18:34.326 --> 00:18:35.486 A:middle
will this callback actually be

00:18:35.486 --> 00:18:35.816 A:middle
invoked.

00:18:36.766 --> 00:18:38.446 A:middle
At that time we will know the

00:18:38.446 --> 00:18:39.296 A:middle
Boolean "Yes your app has

00:18:39.296 --> 00:18:39.976 A:middle
access" or "No it doesn't."

00:18:44.746 --> 00:18:46.626 A:middle
So your app can include purpose

00:18:46.656 --> 00:18:47.976 A:middle
text for both the camera and

00:18:47.976 --> 00:18:48.526 A:middle
microphone.

00:18:49.426 --> 00:18:50.576 A:middle
And as with the other purpose

00:18:50.576 --> 00:18:53.076 A:middle
strings, these are required for

00:18:53.076 --> 00:18:54.626 A:middle
apps linked against the 10.14

00:18:54.786 --> 00:18:58.486 A:middle
SDK, and optional and certainly

00:18:58.486 --> 00:18:59.396 A:middle
encouraged because they are

00:18:59.396 --> 00:19:00.596 A:middle
informative for apps linked

00:18:59.396 --> 00:19:00.596 A:middle
informative for apps linked

00:19:00.596 --> 00:19:01.666 A:middle
against earlier SDKs.

00:19:05.126 --> 00:19:06.586 A:middle
So to recap: Here is an overview

00:19:06.586 --> 00:19:08.026 A:middle
of all the topics that we just

00:19:08.026 --> 00:19:09.106 A:middle
looked at.

00:19:11.176 --> 00:19:14.346 A:middle
macOS Mojave does not solicit

00:19:14.346 --> 00:19:17.136 A:middle
user approval for access to this

00:19:17.136 --> 00:19:17.646 A:middle
user data.

00:19:18.356 --> 00:19:20.116 A:middle
Only the respective system apps

00:19:20.506 --> 00:19:21.446 A:middle
and apps the user has

00:19:21.446 --> 00:19:22.916 A:middle
preapproved via the Security and

00:19:22.916 --> 00:19:24.906 A:middle
Privacy Preference pane, or

00:19:24.906 --> 00:19:26.846 A:middle
preconfigured the parental

00:19:26.846 --> 00:19:29.496 A:middle
controls or MDM are permitted to

00:19:29.496 --> 00:19:30.476 A:middle
access this data.

00:19:31.016 --> 00:19:34.916 A:middle
And here are the categories of

00:19:34.916 --> 00:19:36.566 A:middle
user data and devices the apps

00:19:36.566 --> 00:19:38.546 A:middle
may access with user consent.

00:19:39.196 --> 00:19:40.786 A:middle
Now the operating system --

00:19:40.786 --> 00:19:43.096 A:middle
macOS -- presents the

00:19:43.246 --> 00:19:44.896 A:middle
authorization prompt to the user

00:19:45.166 --> 00:19:46.846 A:middle
the first time the app accesses

00:19:47.086 --> 00:19:47.526 A:middle
this data.

00:19:47.526 --> 00:19:49.686 A:middle
And then it remembers the user's

00:19:49.686 --> 00:19:50.136 A:middle
decision.

00:19:50.446 --> 00:19:51.536 A:middle
And this is great for users

00:19:51.576 --> 00:19:53.796 A:middle
because then they only see one

00:19:53.796 --> 00:19:55.956 A:middle
prompt per app per piece of

00:19:55.956 --> 00:19:56.166 A:middle
data.

00:19:56.166 --> 00:19:57.356 A:middle
They don't get multiple prompts.

00:19:58.246 --> 00:20:00.586 A:middle
But as a developer, you may

00:19:58.246 --> 00:20:00.586 A:middle
But as a developer, you may

00:20:00.846 --> 00:20:01.806 A:middle
actually want to get

00:20:01.806 --> 00:20:03.716 A:middle
pre-prompted so that you can

00:20:03.716 --> 00:20:05.876 A:middle
test how your app behaves while

00:20:05.876 --> 00:20:08.586 A:middle
the prompt is displayed, if the

00:20:08.586 --> 00:20:11.386 A:middle
user consents, and if the user

00:20:11.786 --> 00:20:12.906 A:middle
declines authorization.

00:20:13.826 --> 00:20:15.246 A:middle
So for that purpose macOS

00:20:15.376 --> 00:20:17.376 A:middle
provides a tool, called tccutil,

00:20:18.396 --> 00:20:19.666 A:middle
that you can use to make the

00:20:19.746 --> 00:20:22.596 A:middle
operating system forget your

00:20:22.596 --> 00:20:23.876 A:middle
previous answers to consent

00:20:24.096 --> 00:20:24.436 A:middle
prompts.

00:20:25.506 --> 00:20:26.626 A:middle
So the next time that you run

00:20:26.626 --> 00:20:28.676 A:middle
your app, and your app requires

00:20:28.676 --> 00:20:30.626 A:middle
authorization, the operating

00:20:30.626 --> 00:20:31.606 A:middle
system will re-prompt.

00:20:32.776 --> 00:20:33.776 A:middle
So this tool is provided for

00:20:33.776 --> 00:20:34.966 A:middle
testing purposes only.

00:20:35.726 --> 00:20:37.406 A:middle
Your app should not invoke this

00:20:37.406 --> 00:20:38.736 A:middle
tool automatically, even in

00:20:38.736 --> 00:20:39.386 A:middle
debug builds.

00:20:39.386 --> 00:20:42.576 A:middle
So in summary, ensure your

00:20:43.296 --> 00:20:44.806 A:middle
approval prompts are presented

00:20:44.806 --> 00:20:45.436 A:middle
in context.

00:20:46.046 --> 00:20:46.996 A:middle
This is important so that the

00:20:46.996 --> 00:20:48.716 A:middle
user understands why they are

00:20:48.716 --> 00:20:49.476 A:middle
being prompted.

00:20:50.966 --> 00:20:53.566 A:middle
And add Info.plist keys so the

00:20:53.566 --> 00:20:55.726 A:middle
user understands what your app

00:20:55.726 --> 00:20:57.906 A:middle
is going to do with the data and

00:20:57.906 --> 00:20:59.006 A:middle
what functionality will be

00:20:59.006 --> 00:21:01.056 A:middle
unavailable if they decline.

00:20:59.006 --> 00:21:01.056 A:middle
unavailable if they decline.

00:21:02.506 --> 00:21:04.166 A:middle
Access approval-gated resources

00:21:04.166 --> 00:21:05.426 A:middle
from threads other than the main

00:21:05.426 --> 00:21:06.806 A:middle
thread so that your app doesn't

00:21:06.806 --> 00:21:08.056 A:middle
appear to be hung while waiting

00:21:08.096 --> 00:21:08.696 A:middle
for approval.

00:21:09.656 --> 00:21:11.166 A:middle
And gracefully handle failure to

00:21:11.166 --> 00:21:12.926 A:middle
access approval-gated resources

00:21:13.216 --> 00:21:14.506 A:middle
in the event that the user does

00:21:14.566 --> 00:21:15.456 A:middle
decline.

00:21:15.986 --> 00:21:18.796 A:middle
But finally, when the user does

00:21:19.096 --> 00:21:21.126 A:middle
consent, be responsible with the

00:21:21.126 --> 00:21:22.046 A:middle
user's personal data.

00:21:22.606 --> 00:21:25.446 A:middle
So these are the new user data

00:21:25.446 --> 00:21:26.776 A:middle
protections available in macOS

00:21:26.776 --> 00:21:27.216 A:middle
Mojave.

00:21:27.766 --> 00:21:28.946 A:middle
Thank you, and I will turn the

00:21:28.946 --> 00:21:30.116 A:middle
stage back to over to Pierre to

00:21:30.116 --> 00:21:31.366 A:middle
tell you about the enhanced

00:21:31.366 --> 00:21:31.976 A:middle
runtime protections.

00:21:32.516 --> 00:21:38.396 A:middle
[ Applause ]

00:21:38.896 --> 00:21:39.396 A:middle
&gt;&gt; Thanks Kelly.

00:21:39.966 --> 00:21:42.516 A:middle
So in the few years since the

00:21:42.516 --> 00:21:43.676 A:middle
maturity of system integrity of

00:21:43.676 --> 00:21:45.526 A:middle
protection to the Mac, a lot of

00:21:45.526 --> 00:21:47.036 A:middle
you have asked us what you could

00:21:47.036 --> 00:21:49.126 A:middle
do in your apps to adopt some of

00:21:49.126 --> 00:21:50.566 A:middle
the runtime protections that we

00:21:50.566 --> 00:21:51.356 A:middle
afford to the rest of the

00:21:51.356 --> 00:21:51.786 A:middle
system.

00:21:53.026 --> 00:21:54.246 A:middle
Until now, there wasn't really a

00:21:54.246 --> 00:21:56.346 A:middle
good story for this.

00:21:56.836 --> 00:21:58.896 A:middle
Today, we are introducing a new

00:21:58.896 --> 00:22:00.146 A:middle
set of runtime protections that

00:21:58.896 --> 00:22:00.146 A:middle
set of runtime protections that

00:22:00.146 --> 00:22:01.656 A:middle
you can easily adopt within your

00:22:02.456 --> 00:22:02.526 A:middle
app.

00:22:03.486 --> 00:22:05.196 A:middle
It is a new opt-in mechanism

00:22:05.446 --> 00:22:06.556 A:middle
that is available within the

00:22:06.556 --> 00:22:07.946 A:middle
10.14 SDK.

00:22:07.946 --> 00:22:10.716 A:middle
It effectively sets a new

00:22:10.716 --> 00:22:12.816 A:middle
security baseline for your app

00:22:13.276 --> 00:22:14.496 A:middle
by enabling the full set of

00:22:14.496 --> 00:22:15.496 A:middle
runtime protections that the

00:22:15.546 --> 00:22:18.206 A:middle
system provides, and requiring

00:22:18.206 --> 00:22:20.326 A:middle
you - requires you to opt to

00:22:20.326 --> 00:22:22.436 A:middle
back into more risky behaviors

00:22:22.436 --> 00:22:22.826 A:middle
or ideas.

00:22:23.436 --> 00:22:26.376 A:middle
It is easily configurable with a

00:22:26.376 --> 00:22:27.516 A:middle
new set of unrestricted

00:22:27.516 --> 00:22:28.146 A:middle
entitlements.

00:22:28.706 --> 00:22:30.656 A:middle
Unrestricted here means that

00:22:31.026 --> 00:22:32.466 A:middle
these entitlements are available

00:22:32.466 --> 00:22:34.266 A:middle
to everybody without any prior

00:22:34.266 --> 00:22:34.666 A:middle
approval.

00:22:35.236 --> 00:22:38.326 A:middle
It can be easily configured from

00:22:38.326 --> 00:22:39.616 A:middle
within the Xcode UI.

00:22:39.616 --> 00:22:42.596 A:middle
And then finally, it is fully

00:22:42.596 --> 00:22:44.456 A:middle
backward compatible if you need

00:22:44.456 --> 00:22:45.716 A:middle
to be able to deploy your app to

00:22:45.716 --> 00:22:48.386 A:middle
older releases of macOS and its

00:22:48.386 --> 00:22:48.836 A:middle
version.

00:22:49.336 --> 00:22:51.156 A:middle
So as we add more features to

00:22:51.156 --> 00:22:52.246 A:middle
this one time in the future,

00:22:52.506 --> 00:22:53.636 A:middle
apps that have already shipped

00:22:53.886 --> 00:22:54.746 A:middle
will not be impacted.

00:22:55.836 --> 00:22:57.156 A:middle
Now let's see what - let's talk

00:22:57.156 --> 00:22:58.036 A:middle
about these new protections.

00:22:59.236 --> 00:23:02.086 A:middle
First off, code signing: When

00:22:59.236 --> 00:23:02.086 A:middle
First off, code signing: When

00:23:02.086 --> 00:23:03.646 A:middle
you opt into this new runtime,

00:23:04.016 --> 00:23:05.506 A:middle
the system will enforce that

00:23:05.876 --> 00:23:07.846 A:middle
every single executable page

00:23:07.946 --> 00:23:09.746 A:middle
within your address space must

00:23:09.746 --> 00:23:11.176 A:middle
be backed by the original code

00:23:11.176 --> 00:23:12.636 A:middle
signature that shipped with your

00:23:13.296 --> 00:23:13.366 A:middle
app.

00:23:14.586 --> 00:23:17.336 A:middle
It is a fine behavior for most

00:23:17.336 --> 00:23:17.946 A:middle
apps out there.

00:23:18.046 --> 00:23:18.866 A:middle
Of course it might be

00:23:18.866 --> 00:23:20.546 A:middle
undesirable in some of these

00:23:20.546 --> 00:23:20.766 A:middle
cases.

00:23:20.956 --> 00:23:21.596 A:middle
So let's see how we can

00:23:21.596 --> 00:23:22.246 A:middle
configure this.

00:23:22.746 --> 00:23:25.136 A:middle
Let's say, for example, that

00:23:25.136 --> 00:23:27.206 A:middle
your app has a scripting runtime

00:23:27.336 --> 00:23:28.086 A:middle
for which you have

00:23:28.086 --> 00:23:29.326 A:middle
high-performance requirements --

00:23:29.996 --> 00:23:31.346 A:middle
in which case, you'll most

00:23:31.346 --> 00:23:33.476 A:middle
likely use JIT compiled code if

00:23:33.576 --> 00:23:34.606 A:middle
you want to execute a runtime.

00:23:35.586 --> 00:23:37.826 A:middle
With this, you can use the first

00:23:37.826 --> 00:23:38.816 A:middle
entitlement in this list.

00:23:39.596 --> 00:23:40.666 A:middle
It gives you access to the new

00:23:40.666 --> 00:23:43.286 A:middle
MAP JIT flag in the MMAP system

00:23:43.286 --> 00:23:45.046 A:middle
call, which allows you to create

00:23:45.046 --> 00:23:46.586 A:middle
what we call JIT regions, which

00:23:46.586 --> 00:23:48.406 A:middle
are memory regions that are

00:23:48.406 --> 00:23:50.686 A:middle
readable, writable, and

00:23:51.436 --> 00:23:51.856 A:middle
executable.

00:23:52.306 --> 00:23:54.596 A:middle
And if you have a poliacre

00:23:54.596 --> 00:23:54.976 A:middle
[phonetic] system,

00:23:55.086 --> 00:23:56.926 A:middle
where you might expect to be

00:23:56.926 --> 00:23:58.936 A:middle
able to execute load plug-ins

00:23:59.256 --> 00:24:01.246 A:middle
that are not properly signed or

00:23:59.256 --> 00:24:01.246 A:middle
that are not properly signed or

00:24:01.246 --> 00:24:03.626 A:middle
not signed at all, then you have

00:24:03.676 --> 00:24:05.096 A:middle
to use the second entitlement in

00:24:05.096 --> 00:24:05.456 A:middle
this list.

00:24:06.886 --> 00:24:09.016 A:middle
And finally, if your app needs

00:24:09.016 --> 00:24:10.626 A:middle
the ability to modify its own

00:24:10.626 --> 00:24:11.816 A:middle
code pages at runtime,

00:24:12.286 --> 00:24:14.056 A:middle
effectively breaking its own

00:24:14.056 --> 00:24:15.896 A:middle
code signature, then you will

00:24:15.896 --> 00:24:18.616 A:middle
have to use the last entitlement

00:24:18.846 --> 00:24:19.376 A:middle
in the system.

00:24:20.226 --> 00:24:21.766 A:middle
And note that the vast majority

00:24:21.766 --> 00:24:23.496 A:middle
of apps should not need that

00:24:23.496 --> 00:24:24.146 A:middle
functionality.

00:24:24.606 --> 00:24:28.756 A:middle
But we still want it to operate

00:24:28.786 --> 00:24:28.936 A:middle
anyway.

00:24:28.936 --> 00:24:31.686 A:middle
Next, library validation: When

00:24:31.686 --> 00:24:32.986 A:middle
you opt into the new runtime,

00:24:33.536 --> 00:24:35.216 A:middle
the system will enforce the code

00:24:35.216 --> 00:24:37.296 A:middle
signature of every library,

00:24:37.476 --> 00:24:39.546 A:middle
framework, and plug-in that you

00:24:39.546 --> 00:24:41.706 A:middle
dynamically load at runtime, and

00:24:41.706 --> 00:24:44.666 A:middle
by default will enforce that.

00:24:45.366 --> 00:24:47.316 A:middle
These modules have - these

00:24:47.316 --> 00:24:48.606 A:middle
objects have to be signed by

00:24:48.606 --> 00:24:49.966 A:middle
Apple and shipping as part of

00:24:49.966 --> 00:24:52.256 A:middle
the OS -- or that they be signed

00:24:52.256 --> 00:24:53.496 A:middle
with the same Team ID as the

00:24:53.496 --> 00:24:55.086 A:middle
main executable that ships with

00:24:55.086 --> 00:24:55.376 A:middle
your app.

00:24:56.306 --> 00:24:57.866 A:middle
If you have a plug-in ecosystem

00:24:57.866 --> 00:24:59.646 A:middle
here and you need the ability to

00:24:59.646 --> 00:25:02.936 A:middle
load objects that are signed by

00:24:59.646 --> 00:25:02.936 A:middle
load objects that are signed by

00:25:02.936 --> 00:25:05.016 A:middle
another team, you can use this

00:25:05.016 --> 00:25:06.496 A:middle
entitlement to relax that

00:25:06.496 --> 00:25:06.916 A:middle
policy.

00:25:08.096 --> 00:25:09.496 A:middle
Note that it still requires you

00:25:09.496 --> 00:25:11.576 A:middle
to load signed code; it just can

00:25:11.576 --> 00:25:12.766 A:middle
be signed by other teams.

00:25:13.016 --> 00:25:14.516 A:middle
If you need the ability to load

00:25:14.936 --> 00:25:16.796 A:middle
fully unsigned code, you will

00:25:16.796 --> 00:25:18.156 A:middle
need to use one of the

00:25:18.156 --> 00:25:19.926 A:middle
entitlements from the previous

00:25:21.656 --> 00:25:21.816 A:middle
slide.

00:25:21.986 --> 00:25:24.626 A:middle
Next, debugging: Apps that are

00:25:24.726 --> 00:25:26.326 A:middle
opting into the new runtime

00:25:26.626 --> 00:25:29.746 A:middle
cannot be debugged and cannot

00:25:29.746 --> 00:25:30.706 A:middle
debug other apps.

00:25:31.806 --> 00:25:33.116 A:middle
If you need the ability to debug

00:25:33.116 --> 00:25:34.346 A:middle
your app while it's opting into

00:25:34.346 --> 00:25:35.846 A:middle
the new runtime, you can use the

00:25:35.846 --> 00:25:37.206 A:middle
get-task-allow entitlement.

00:25:37.706 --> 00:25:39.716 A:middle
Note that Xcode will

00:25:39.716 --> 00:25:40.736 A:middle
automatically add this

00:25:40.736 --> 00:25:42.736 A:middle
entitlement for you when you hit

00:25:42.926 --> 00:25:44.356 A:middle
Build and Run from Xcode.

00:25:44.356 --> 00:25:45.566 A:middle
So if you use Xcode as part of

00:25:45.566 --> 00:25:46.936 A:middle
your local development workflow,

00:25:47.396 --> 00:25:48.126 A:middle
then you don't need to do

00:25:48.126 --> 00:25:48.486 A:middle
anything.

00:25:49.076 --> 00:25:50.516 A:middle
Executable will also make sure

00:25:50.516 --> 00:25:51.966 A:middle
that the entitlement is properly

00:25:51.966 --> 00:25:53.016 A:middle
stripped from your signature

00:25:53.016 --> 00:25:54.646 A:middle
when you do an export for

00:25:54.646 --> 00:25:55.166 A:middle
distribution.

00:25:55.836 --> 00:25:57.406 A:middle
If you don't use Xcode, make

00:25:57.406 --> 00:25:58.376 A:middle
sure you don't ship your app

00:25:58.376 --> 00:25:59.696 A:middle
with this entitlement unless you

00:25:59.696 --> 00:26:00.686 A:middle
really need it.

00:25:59.696 --> 00:26:00.686 A:middle
really need it.

00:26:01.296 --> 00:26:02.746 A:middle
If your app is actually a

00:26:02.746 --> 00:26:04.296 A:middle
debugger, then you will use the

00:26:04.296 --> 00:26:05.576 A:middle
second entitlement in the list.

00:26:06.466 --> 00:26:07.776 A:middle
And then finally, in the few

00:26:07.776 --> 00:26:09.176 A:middle
rare occasions where your app

00:26:09.766 --> 00:26:11.476 A:middle
needs to rely on the DYLD

00:26:11.476 --> 00:26:12.736 A:middle
environment variables to modify

00:26:12.736 --> 00:26:12.976 A:middle
its BFU [phonetic]

00:26:13.096 --> 00:26:15.756 A:middle
at runtime, then you can use the

00:26:15.756 --> 00:26:19.856 A:middle
last entitlement in this list.

00:26:19.856 --> 00:26:20.766 A:middle
And finally, your resource

00:26:20.766 --> 00:26:23.636 A:middle
access: This runtime requires

00:26:23.636 --> 00:26:25.356 A:middle
you to be transparent about the

00:26:25.356 --> 00:26:27.196 A:middle
kind of data classing that your

00:26:27.196 --> 00:26:28.246 A:middle
app needs to access.

00:26:28.886 --> 00:26:30.176 A:middle
So if your app attempts to

00:26:30.176 --> 00:26:32.736 A:middle
access any data that is part of

00:26:32.736 --> 00:26:34.216 A:middle
one of the protected categories

00:26:34.216 --> 00:26:35.426 A:middle
that Kelly described in his

00:26:35.526 --> 00:26:37.616 A:middle
previous section, and you don't

00:26:37.616 --> 00:26:38.856 A:middle
have the appropriate entitlement

00:26:38.906 --> 00:26:40.296 A:middle
signed in your app, then the

00:26:40.296 --> 00:26:41.346 A:middle
system will automatically

00:26:41.346 --> 00:26:42.446 A:middle
terminate it.

00:26:44.096 --> 00:26:45.786 A:middle
We have entitlements that map to

00:26:45.786 --> 00:26:47.156 A:middle
every single category that Kelly

00:26:47.156 --> 00:26:47.646 A:middle
described.

00:26:48.906 --> 00:26:50.986 A:middle
But remember that just adding

00:26:50.986 --> 00:26:52.256 A:middle
this entitlement is not enough.

00:26:53.616 --> 00:26:54.656 A:middle
You also need to add a purpose

00:26:54.656 --> 00:26:55.436 A:middle
string if you are linking

00:26:55.436 --> 00:26:56.586 A:middle
against the 10.14 SDK.

00:26:56.586 --> 00:26:58.876 A:middle
And finally, it does not

00:26:58.876 --> 00:27:00.306 A:middle
automatically grant you access

00:26:58.876 --> 00:27:00.306 A:middle
automatically grant you access

00:27:00.356 --> 00:27:00.746 A:middle
to the data.

00:27:01.356 --> 00:27:02.726 A:middle
The user is still in control of

00:27:02.726 --> 00:27:03.416 A:middle
the final decision.

00:27:03.966 --> 00:27:07.276 A:middle
So how do we enable this?

00:27:07.396 --> 00:27:09.966 A:middle
Well, from Xcode you can go into

00:27:09.966 --> 00:27:12.296 A:middle
Target setting in the

00:27:12.296 --> 00:27:14.006 A:middle
Tap-ability tab.

00:27:15.096 --> 00:27:16.426 A:middle
There you will find a new hard

00:27:16.426 --> 00:27:18.566 A:middle
and Runtime section, which you

00:27:18.566 --> 00:27:18.976 A:middle
can enable.

00:27:20.266 --> 00:27:21.136 A:middle
We have checkboxes for every

00:27:21.136 --> 00:27:22.346 A:middle
single of the entitlements that

00:27:22.346 --> 00:27:22.976 A:middle
are previously described.

00:27:29.686 --> 00:27:31.306 A:middle
And then a few more comportable

00:27:31.306 --> 00:27:32.606 A:middle
[phonetic] using the using the

00:27:32.606 --> 00:27:34.486 A:middle
Command Line interface, then we

00:27:34.486 --> 00:27:36.576 A:middle
can use the new runtime option

00:27:37.016 --> 00:27:37.936 A:middle
in the codesign command.

00:27:38.506 --> 00:27:40.966 A:middle
And in order for you to validate

00:27:40.966 --> 00:27:42.146 A:middle
that you have properly enrolled

00:27:42.456 --> 00:27:43.766 A:middle
and opted into this new runtime,

00:27:43.866 --> 00:27:44.806 A:middle
you can use the dash-dash

00:27:44.836 --> 00:27:45.566 A:middle
display option.

00:27:46.096 --> 00:27:48.066 A:middle
And here, the things to look for

00:27:48.066 --> 00:27:51.566 A:middle
are the runtime flag as well as

00:27:52.436 --> 00:27:52.976 A:middle
the runtime version.

00:27:57.266 --> 00:27:57.546 A:middle
All right.

00:27:57.856 --> 00:27:58.726 A:middle
Now let's look at the final

00:27:58.726 --> 00:28:00.376 A:middle
piece of that puzzle and talk

00:27:58.726 --> 00:28:00.376 A:middle
piece of that puzzle and talk

00:28:00.376 --> 00:28:01.346 A:middle
about notarized apps.

00:28:01.696 --> 00:28:01.846 A:middle
Garrett?

00:28:02.516 --> 00:28:06.716 A:middle
[ Applause ]

00:28:07.216 --> 00:28:07.836 A:middle
&gt;&gt; Thanks Pierre.

00:28:09.186 --> 00:28:09.786 A:middle
Hi everyone.

00:28:10.206 --> 00:28:11.516 A:middle
I'm Garrett, and I work on the

00:28:11.516 --> 00:28:13.686 A:middle
Trusted Execution Team here at

00:28:14.646 --> 00:28:14.786 A:middle
Apple.

00:28:14.966 --> 00:28:16.596 A:middle
Now my colleague earlier, Kelly,

00:28:16.966 --> 00:28:18.476 A:middle
talked about one way we help

00:28:18.476 --> 00:28:19.696 A:middle
protect users from malicious

00:28:19.696 --> 00:28:21.586 A:middle
software by ensuring the user is

00:28:21.586 --> 00:28:22.856 A:middle
always in control of their

00:28:22.856 --> 00:28:23.576 A:middle
private data.

00:28:24.356 --> 00:28:25.436 A:middle
I'd like to talk about another

00:28:25.436 --> 00:28:26.516 A:middle
way that we protect users from

00:28:26.516 --> 00:28:27.256 A:middle
malicious software.

00:28:27.836 --> 00:28:29.956 A:middle
And that's by identifying and

00:28:29.956 --> 00:28:31.406 A:middle
blocking malicious software so

00:28:31.406 --> 00:28:32.246 A:middle
it doesn't have the chance to

00:28:32.246 --> 00:28:32.506 A:middle
run.

00:28:33.126 --> 00:28:35.786 A:middle
Now the Mac App Store is a great

00:28:35.786 --> 00:28:37.396 A:middle
place for users to find and

00:28:37.396 --> 00:28:38.376 A:middle
download new software.

00:28:38.376 --> 00:28:40.226 A:middle
And people can confidently

00:28:40.226 --> 00:28:42.146 A:middle
install apps knowing that Apple

00:28:42.146 --> 00:28:44.306 A:middle
has taken steps to ensure they

00:28:44.306 --> 00:28:45.036 A:middle
are not harmful.

00:28:45.616 --> 00:28:47.936 A:middle
Now the Mac App Store is getting

00:28:47.936 --> 00:28:49.056 A:middle
a lot of attention this year,

00:28:49.376 --> 00:28:50.046 A:middle
and that's great.

00:28:50.046 --> 00:28:51.686 A:middle
But we also understand that some

00:28:51.686 --> 00:28:53.476 A:middle
developers need the flexibility

00:28:53.626 --> 00:28:54.886 A:middle
of the Developer ID program.

00:28:56.306 --> 00:28:57.876 A:middle
Together, Gatekeeper and

00:28:57.876 --> 00:28:59.276 A:middle
Developer ID have done a great

00:28:59.276 --> 00:29:00.716 A:middle
job of preventing widespread

00:28:59.276 --> 00:29:00.716 A:middle
job of preventing widespread

00:29:00.716 --> 00:29:02.016 A:middle
outbreaks of malicious software.

00:29:02.686 --> 00:29:04.096 A:middle
And today, we are making the

00:29:04.096 --> 00:29:06.046 A:middle
Developer ID program even safer

00:29:06.486 --> 00:29:07.796 A:middle
with the introduction of app

00:29:07.846 --> 00:29:08.606 A:middle
notarization.

00:29:09.186 --> 00:29:11.756 A:middle
Now app notarization is a

00:29:11.756 --> 00:29:13.256 A:middle
process designed to help

00:29:13.256 --> 00:29:15.096 A:middle
identify and block malicious

00:29:15.096 --> 00:29:17.046 A:middle
software before distribution

00:29:17.726 --> 00:29:19.056 A:middle
while still maintaining all the

00:29:19.056 --> 00:29:20.746 A:middle
flexibility of the Developer ID

00:29:20.746 --> 00:29:21.186 A:middle
program.

00:29:22.196 --> 00:29:23.466 A:middle
That means that you can continue

00:29:23.466 --> 00:29:24.766 A:middle
to ship your apps the way you do

00:29:24.766 --> 00:29:26.636 A:middle
today with the same capabilities

00:29:26.636 --> 00:29:27.326 A:middle
that they have today.

00:29:27.856 --> 00:29:29.646 A:middle
And the key to this is the

00:29:29.646 --> 00:29:31.276 A:middle
Develop ID notary service.

00:29:31.846 --> 00:29:35.096 A:middle
Now the notary service is an

00:29:35.096 --> 00:29:37.236 A:middle
automated service that performs

00:29:37.236 --> 00:29:39.756 A:middle
security checks of Developer ID

00:29:39.756 --> 00:29:40.566 A:middle
signed content.

00:29:41.476 --> 00:29:43.006 A:middle
It's an optional extension to

00:29:43.006 --> 00:29:44.436 A:middle
the Developer ID program, and

00:29:44.736 --> 00:29:48.056 A:middle
it's not an app review.

00:29:48.206 --> 00:29:50.376 A:middle
Starting today, developers can

00:29:50.526 --> 00:29:51.566 A:middle
start uploading

00:29:51.776 --> 00:29:53.566 A:middle
distribution-ready content to

00:29:53.566 --> 00:29:54.456 A:middle
the notary service.

00:29:55.096 --> 00:29:56.016 A:middle
And assuming that those

00:29:56.016 --> 00:29:57.636 A:middle
applications, installer

00:29:57.636 --> 00:30:00.076 A:middle
packages, and disk images don't

00:29:57.636 --> 00:30:00.076 A:middle
packages, and disk images don't

00:30:00.076 --> 00:30:01.446 A:middle
contain any malicious software,

00:30:02.006 --> 00:30:03.316 A:middle
the notary service will issue a

00:30:03.316 --> 00:30:05.346 A:middle
notarization ticket back to your

00:30:05.346 --> 00:30:05.946 A:middle
application.

00:30:07.036 --> 00:30:08.636 A:middle
That ticket can be stapled and

00:30:08.636 --> 00:30:09.916 A:middle
then distributed alongside your

00:30:09.916 --> 00:30:10.516 A:middle
application.

00:30:10.816 --> 00:30:12.076 A:middle
And when Gatekeeper launches a

00:30:12.076 --> 00:30:13.176 A:middle
notarized app for the first

00:30:13.176 --> 00:30:14.776 A:middle
time, it can verify the

00:30:14.776 --> 00:30:16.376 A:middle
notarization and provide a new

00:30:16.376 --> 00:30:17.446 A:middle
first-launch experience.

00:30:18.106 --> 00:30:20.816 A:middle
Now your development workflow

00:30:20.816 --> 00:30:22.386 A:middle
prior to distribution is

00:30:22.386 --> 00:30:22.976 A:middle
completely unchanged.

00:30:27.586 --> 00:30:28.466 A:middle
Now you may have heard, in the

00:30:28.466 --> 00:30:29.636 A:middle
State of the Union, that this

00:30:29.636 --> 00:30:30.966 A:middle
process will be required in the

00:30:30.966 --> 00:30:31.356 A:middle
future.

00:30:31.826 --> 00:30:33.596 A:middle
And while that's true, for now

00:30:33.866 --> 00:30:35.096 A:middle
notarization is completely

00:30:35.096 --> 00:30:36.246 A:middle
optional while we roll the

00:30:36.246 --> 00:30:37.466 A:middle
service out and listen to

00:30:37.466 --> 00:30:37.886 A:middle
feedback.

00:30:40.256 --> 00:30:41.776 A:middle
Before we move on, I want to

00:30:41.776 --> 00:30:43.386 A:middle
make one important point.

00:30:43.976 --> 00:30:45.586 A:middle
This is not an app review.

00:30:46.486 --> 00:30:47.846 A:middle
The notary service is simply

00:30:47.846 --> 00:30:49.126 A:middle
performing a set of security

00:30:49.126 --> 00:30:50.586 A:middle
checks to ensure that your

00:30:50.586 --> 00:30:51.826 A:middle
content can be distributed

00:30:51.826 --> 00:30:52.346 A:middle
safely.

00:30:52.926 --> 00:30:56.416 A:middle
So what does this actually look

00:30:56.416 --> 00:30:57.196 A:middle
like for your development

00:30:57.196 --> 00:30:57.536 A:middle
workflow?

00:30:58.406 --> 00:30:59.686 A:middle
Well here's a high level and

00:30:59.686 --> 00:31:01.176 A:middle
simplified overview of the

00:30:59.686 --> 00:31:01.176 A:middle
simplified overview of the

00:31:01.176 --> 00:31:02.126 A:middle
development process.

00:31:03.486 --> 00:31:05.236 A:middle
Over on the left, a developer

00:31:05.236 --> 00:31:07.036 A:middle
iterates on an application local

00:31:07.036 --> 00:31:08.556 A:middle
to their system building

00:31:08.556 --> 00:31:10.806 A:middle
features, debugging, and signing

00:31:10.806 --> 00:31:11.666 A:middle
with their Mac Developer

00:31:11.666 --> 00:31:12.126 A:middle
certificate.

00:31:13.226 --> 00:31:14.446 A:middle
When the application is ready

00:31:14.446 --> 00:31:17.016 A:middle
for release, it's signed with

00:31:17.016 --> 00:31:18.246 A:middle
the Developer ID certificate,

00:31:18.246 --> 00:31:19.836 A:middle
and a final test task can be

00:31:19.836 --> 00:31:20.256 A:middle
performed.

00:31:21.396 --> 00:31:23.196 A:middle
After that, the content can be

00:31:23.196 --> 00:31:24.656 A:middle
distributed directly to users --

00:31:24.896 --> 00:31:26.336 A:middle
who can run it -- or Gatekeeper

00:31:26.336 --> 00:31:27.356 A:middle
can verify that it wasn't

00:31:27.356 --> 00:31:29.066 A:middle
tampered with; and the user gets

00:31:29.066 --> 00:31:29.896 A:middle
to run your application.

00:31:30.846 --> 00:31:32.136 A:middle
For this app to be notarized,

00:31:32.386 --> 00:31:33.696 A:middle
only one additional step is

00:31:33.696 --> 00:31:34.146 A:middle
required.

00:31:35.616 --> 00:31:37.036 A:middle
You continue to develop locally,

00:31:37.306 --> 00:31:38.116 A:middle
just like before.

00:31:39.166 --> 00:31:40.156 A:middle
And once you sign it with your

00:31:40.156 --> 00:31:42.666 A:middle
Develop ID certificate, a copy

00:31:42.666 --> 00:31:43.696 A:middle
can be uploaded to the Apple

00:31:43.696 --> 00:31:44.486 A:middle
notary service.

00:31:45.256 --> 00:31:46.416 A:middle
Assuming that the Developer ID

00:31:46.416 --> 00:31:47.736 A:middle
content doesn't contain anything

00:31:47.736 --> 00:31:50.036 A:middle
malicious, a ticket will be

00:31:50.036 --> 00:31:51.496 A:middle
issued back that can be attached

00:31:51.786 --> 00:31:53.466 A:middle
to the content through a process

00:31:53.466 --> 00:31:54.406 A:middle
we call stapling.

00:31:54.936 --> 00:31:58.786 A:middle
And then the stapled content can

00:31:58.786 --> 00:32:00.206 A:middle
be distributed just like before.

00:31:58.786 --> 00:32:00.206 A:middle
be distributed just like before.

00:32:00.956 --> 00:32:02.256 A:middle
And when it ends up on a user's

00:32:02.256 --> 00:32:04.196 A:middle
system, Gatekeeper will verify

00:32:04.196 --> 00:32:05.996 A:middle
notarization and provide the new

00:32:05.996 --> 00:32:06.936 A:middle
first-launch experience.

00:32:07.606 --> 00:32:11.796 A:middle
Now because this is a highly

00:32:11.796 --> 00:32:13.396 A:middle
automated process, we are

00:32:13.396 --> 00:32:15.046 A:middle
targeting providing tickets back

00:32:15.296 --> 00:32:16.026 A:middle
within an hour.

00:32:16.776 --> 00:32:17.916 A:middle
But we'll be working to improve

00:32:17.916 --> 00:32:19.496 A:middle
the speed and quality of the

00:32:19.496 --> 00:32:20.996 A:middle
service as we roll it out.

00:32:22.356 --> 00:32:23.256 A:middle
So let's talk a little more

00:32:23.256 --> 00:32:24.016 A:middle
about those security

00:32:24.016 --> 00:32:24.876 A:middle
requirements I mentioned

00:32:24.876 --> 00:32:25.226 A:middle
earlier.

00:32:26.226 --> 00:32:29.016 A:middle
Well, first and foremost, no

00:32:29.016 --> 00:32:29.906 A:middle
malicious software.

00:32:30.646 --> 00:32:32.966 A:middle
If the security check finds

00:32:32.966 --> 00:32:34.216 A:middle
anything malicious inside of the

00:32:34.216 --> 00:32:35.706 A:middle
Developer ID signed content, it

00:32:35.776 --> 00:32:36.746 A:middle
will immediately create a

00:32:36.746 --> 00:32:37.946 A:middle
special kind of ticket called a

00:32:37.946 --> 00:32:39.636 A:middle
revocation ticket and

00:32:39.636 --> 00:32:40.486 A:middle
immediately notify the

00:32:40.486 --> 00:32:40.906 A:middle
developer.

00:32:42.156 --> 00:32:44.846 A:middle
Second, all executables need to

00:32:44.846 --> 00:32:45.976 A:middle
be properly code signed.

00:32:46.926 --> 00:32:47.976 A:middle
And this is important to make

00:32:47.976 --> 00:32:49.356 A:middle
sure that when the application

00:32:49.356 --> 00:32:50.656 A:middle
ends up on a develop - on a

00:32:50.656 --> 00:32:52.646 A:middle
user's system, Gatekeeper can

00:32:52.646 --> 00:32:53.976 A:middle
verify that it wasn't tampered

00:32:53.976 --> 00:32:54.176 A:middle
with.

00:32:54.666 --> 00:32:58.466 A:middle
And finally, all binaries must

00:32:58.466 --> 00:32:59.786 A:middle
opt into the enhanced runtime

00:32:59.786 --> 00:33:01.446 A:middle
that Pierre described earlier so

00:32:59.786 --> 00:33:01.446 A:middle
that Pierre described earlier so

00:33:01.446 --> 00:33:02.376 A:middle
they can benefit from the

00:33:02.376 --> 00:33:03.426 A:middle
additional protections of the

00:33:03.426 --> 00:33:04.906 A:middle
operating system without

00:33:04.906 --> 00:33:06.046 A:middle
reducing their capabilities.

00:33:07.586 --> 00:33:08.756 A:middle
So assuming that you have an app

00:33:08.796 --> 00:33:10.036 A:middle
that's ready for notarization,

00:33:10.536 --> 00:33:11.596 A:middle
how do you actually go about

00:33:11.596 --> 00:33:12.106 A:middle
uploading it?

00:33:12.826 --> 00:33:14.136 A:middle
Well, it's built into the

00:33:14.166 --> 00:33:15.256 A:middle
Archive and Distribution

00:33:15.256 --> 00:33:16.426 A:middle
workflow inside of Xcode.

00:33:16.816 --> 00:33:17.906 A:middle
So if you already use that, you

00:33:17.906 --> 00:33:18.766 A:middle
are pretty much set.

00:33:19.816 --> 00:33:20.926 A:middle
Here you can see the Archive

00:33:20.976 --> 00:33:21.856 A:middle
pane of the Organizer.

00:33:22.196 --> 00:33:23.526 A:middle
And I have the Watch Grass Grow

00:33:23.526 --> 00:33:24.556 A:middle
app already archived.

00:33:25.316 --> 00:33:26.486 A:middle
So I click the Distribute App

00:33:26.486 --> 00:33:27.226 A:middle
button on the right.

00:33:27.816 --> 00:33:30.676 A:middle
I'll be taken to my distribution

00:33:30.676 --> 00:33:31.056 A:middle
options.

00:33:31.906 --> 00:33:33.046 A:middle
I'll continue to distribute it

00:33:33.046 --> 00:33:34.406 A:middle
via Developer ID just like I

00:33:34.406 --> 00:33:35.156 A:middle
have in the past.

00:33:35.936 --> 00:33:36.866 A:middle
And when I select that, I'll

00:33:36.866 --> 00:33:38.386 A:middle
have a new option -- to upload

00:33:38.386 --> 00:33:39.926 A:middle
to the notary service.

00:33:40.456 --> 00:33:41.966 A:middle
Clicking Next will show a

00:33:41.966 --> 00:33:43.526 A:middle
progress bar while the Developer

00:33:43.526 --> 00:33:44.846 A:middle
ID content is uploaded to the

00:33:44.846 --> 00:33:45.596 A:middle
notary service.

00:33:46.196 --> 00:33:47.156 A:middle
And as soon as the upload is

00:33:47.156 --> 00:33:49.376 A:middle
complete, you'll be notified

00:33:49.376 --> 00:33:50.926 A:middle
that notarization has started.

00:33:51.446 --> 00:33:54.186 A:middle
From here you can export a copy

00:33:54.186 --> 00:33:55.426 A:middle
of your app to perform any local

00:33:55.426 --> 00:33:56.286 A:middle
testing that you might want to

00:33:56.286 --> 00:33:56.926 A:middle
do in parallel.

00:33:56.926 --> 00:33:59.346 A:middle
And if you click Close, you'll

00:33:59.346 --> 00:34:00.466 A:middle
be taken back to the Archive

00:33:59.346 --> 00:34:00.466 A:middle
be taken back to the Archive

00:34:00.466 --> 00:34:02.616 A:middle
pane; and you can see that the

00:34:02.616 --> 00:34:04.596 A:middle
status has switched to

00:34:05.256 --> 00:34:05.496 A:middle
Processing.

00:34:05.566 --> 00:34:07.526 A:middle
When notarization is complete, a

00:34:09.196 --> 00:34:10.856 A:middle
push notification will arrive

00:34:10.856 --> 00:34:12.596 A:middle
and Xcode will notify you that

00:34:12.596 --> 00:34:13.565 A:middle
notarization is done.

00:34:14.806 --> 00:34:16.295 A:middle
Xcode will then automatically

00:34:16.295 --> 00:34:18.235 A:middle
download the ticket, staple it

00:34:18.235 --> 00:34:18.926 A:middle
to your content.

00:34:19.266 --> 00:34:20.315 A:middle
So the next time you go into the

00:34:20.315 --> 00:34:22.196 A:middle
Archive pane and click Export,

00:34:22.496 --> 00:34:23.686 A:middle
you'll already have a stapled

00:34:23.686 --> 00:34:25.156 A:middle
Developer ID notarized

00:34:25.576 --> 00:34:26.146 A:middle
application.

00:34:26.676 --> 00:34:28.726 A:middle
And when the user launches it

00:34:28.726 --> 00:34:30.255 A:middle
for the first time, they'll see

00:34:30.255 --> 00:34:30.866 A:middle
a new version of the

00:34:30.866 --> 00:34:32.406 A:middle
first-launch dialog that

00:34:32.406 --> 00:34:33.726 A:middle
includes your app's icon.

00:34:34.326 --> 00:34:37.295 A:middle
Now we understand that not

00:34:37.295 --> 00:34:38.485 A:middle
everybody uses Xcode's

00:34:38.485 --> 00:34:40.255 A:middle
distribution workflow, although

00:34:40.255 --> 00:34:41.346 A:middle
this Xcode works - dah.

00:34:41.576 --> 00:34:42.846 A:middle
The Xcode workflow is available

00:34:42.846 --> 00:34:43.556 A:middle
today in the preview.

00:34:43.556 --> 00:34:45.306 A:middle
We have also built a set of

00:34:45.306 --> 00:34:46.966 A:middle
command line tools to perform

00:34:46.966 --> 00:34:48.016 A:middle
every step of this so that you

00:34:48.016 --> 00:34:48.916 A:middle
can integrate them with any

00:34:48.916 --> 00:34:49.666 A:middle
custom flows [phonetic] you

00:34:49.666 --> 00:34:49.966 A:middle
have.

00:34:50.235 --> 00:34:52.576 A:middle
And the first step is to upload

00:34:52.576 --> 00:34:53.755 A:middle
a copy for notarization.

00:34:54.326 --> 00:34:57.896 A:middle
Now the notary service accepts

00:34:57.976 --> 00:35:00.176 A:middle
Zip files, installer packages,

00:34:57.976 --> 00:35:00.176 A:middle
Zip files, installer packages,

00:35:00.376 --> 00:35:01.136 A:middle
and disk images.

00:35:02.156 --> 00:35:03.006 A:middle
So if you have a bare

00:35:03.006 --> 00:35:04.556 A:middle
application, you'll need to zip

00:35:04.556 --> 00:35:05.806 A:middle
it up prior to uploading to the

00:35:05.806 --> 00:35:06.566 A:middle
notary service.

00:35:07.396 --> 00:35:08.416 A:middle
The tool for working with the

00:35:08.416 --> 00:35:09.936 A:middle
notary service is altool.

00:35:10.816 --> 00:35:12.116 A:middle
Here you can see a command line

00:35:12.116 --> 00:35:13.866 A:middle
indication sending the Watch

00:35:13.866 --> 00:35:15.316 A:middle
Grass Grow image up for

00:35:15.316 --> 00:35:16.026 A:middle
notarization.

00:35:17.186 --> 00:35:18.546 A:middle
Note that altool does require

00:35:18.546 --> 00:35:20.206 A:middle
authentication, but you can pass

00:35:20.206 --> 00:35:20.966 A:middle
in your credentials via

00:35:20.966 --> 00:35:22.496 A:middle
Environment Variables or the key

00:35:22.496 --> 00:35:22.756 A:middle
chain.

00:35:24.076 --> 00:35:25.966 A:middle
Once upload is complete, you'll

00:35:25.966 --> 00:35:27.486 A:middle
get a UUID that can be used to

00:35:27.486 --> 00:35:28.816 A:middle
monitor status of processing.

00:35:29.346 --> 00:35:31.616 A:middle
But you can also turn back and

00:35:31.616 --> 00:35:33.276 A:middle
pass the altool to check on the

00:35:33.276 --> 00:35:34.456 A:middle
status of your notarization.

00:35:35.936 --> 00:35:37.426 A:middle
Here we see another command line

00:35:37.426 --> 00:35:39.166 A:middle
indication of altool to just

00:35:39.166 --> 00:35:39.866 A:middle
check the status of

00:35:39.866 --> 00:35:40.506 A:middle
notarization.

00:35:40.586 --> 00:35:42.896 A:middle
And then you can see here that

00:35:42.896 --> 00:35:44.676 A:middle
notarization was complete, was

00:35:44.676 --> 00:35:45.266 A:middle
successful.

00:35:45.756 --> 00:35:47.316 A:middle
And importantly, there is a log

00:35:47.316 --> 00:35:48.726 A:middle
file that comes back from the

00:35:48.726 --> 00:35:49.806 A:middle
notarization service.

00:35:50.266 --> 00:35:51.536 A:middle
This is a great place to check

00:35:51.536 --> 00:35:54.136 A:middle
for any warnings, or it tells

00:35:54.136 --> 00:35:55.626 A:middle
you exactly what was included in

00:35:55.626 --> 00:35:56.646 A:middle
your notarization ticket.

00:35:56.936 --> 00:35:57.906 A:middle
So you can make sure that

00:35:57.906 --> 00:35:59.316 A:middle
everything in your package was

00:35:59.316 --> 00:36:00.196 A:middle
notarized properly.

00:35:59.316 --> 00:36:00.196 A:middle
notarized properly.

00:36:00.706 --> 00:36:04.376 A:middle
And the last step before you

00:36:04.376 --> 00:36:06.086 A:middle
distribute content is to staple

00:36:06.086 --> 00:36:07.466 A:middle
your notarization ticket to

00:36:07.466 --> 00:36:08.336 A:middle
whatever content you are going

00:36:08.336 --> 00:36:08.836 A:middle
to distribute.

00:36:09.876 --> 00:36:10.926 A:middle
Now we have a special tool for

00:36:10.926 --> 00:36:11.716 A:middle
that called Stapler.

00:36:12.406 --> 00:36:13.626 A:middle
Now you can staple tickets

00:36:13.676 --> 00:36:16.296 A:middle
directly to applications, disk

00:36:16.296 --> 00:36:18.326 A:middle
images, and installer packages.

00:36:19.096 --> 00:36:20.326 A:middle
And Stapler combines both

00:36:20.326 --> 00:36:22.246 A:middle
retrieving the ticket and

00:36:22.246 --> 00:36:23.396 A:middle
attaching it to the content in

00:36:23.396 --> 00:36:23.916 A:middle
one easy step.

00:36:24.756 --> 00:36:26.066 A:middle
Here you can see I am stapling

00:36:26.066 --> 00:36:27.096 A:middle
the ticket directly to this

00:36:27.096 --> 00:36:27.506 A:middle
image.

00:36:28.346 --> 00:36:29.836 A:middle
After that's done, I can

00:36:29.836 --> 00:36:31.636 A:middle
distribute the disk image, and

00:36:31.686 --> 00:36:33.396 A:middle
the users will already get a

00:36:33.396 --> 00:36:34.416 A:middle
notarized application.

00:36:34.986 --> 00:36:40.376 A:middle
So as a quick reminder, in macOS

00:36:40.376 --> 00:36:42.646 A:middle
Mojave, for non-notarized apps

00:36:42.946 --> 00:36:43.856 A:middle
we'll continue to keep the

00:36:43.856 --> 00:36:45.536 A:middle
first-launch dialog that

00:36:45.536 --> 00:36:46.736 A:middle
Gatekeeper has always had for

00:36:46.736 --> 00:36:47.846 A:middle
Developer ID applications.

00:36:48.866 --> 00:36:50.156 A:middle
For notarized applications,

00:36:51.346 --> 00:36:52.166 A:middle
they'll get a new version of

00:36:52.166 --> 00:36:53.696 A:middle
this dialog that prominently

00:36:53.696 --> 00:36:54.886 A:middle
displays the app's icon.

00:36:55.366 --> 00:36:57.856 A:middle
And if the user does manage to

00:36:57.856 --> 00:36:59.856 A:middle
download software that has

00:36:59.856 --> 00:37:02.016 A:middle
malicious content in it, the

00:36:59.856 --> 00:37:02.016 A:middle
malicious content in it, the

00:37:02.016 --> 00:37:03.306 A:middle
content won't run, and they'll

00:37:03.306 --> 00:37:06.336 A:middle
be treated to this warning.

00:37:06.336 --> 00:37:08.196 A:middle
Now this is not a new

00:37:08.196 --> 00:37:10.206 A:middle
capability; macOS has always had

00:37:10.206 --> 00:37:13.066 A:middle
the capability to block

00:37:13.066 --> 00:37:14.146 A:middle
applications like this.

00:37:14.606 --> 00:37:17.566 A:middle
But notarization does allow us

00:37:17.566 --> 00:37:19.196 A:middle
to identify specific malicious

00:37:19.196 --> 00:37:21.396 A:middle
content earlier and provides a

00:37:21.396 --> 00:37:23.156 A:middle
much better experience than if a

00:37:23.156 --> 00:37:24.426 A:middle
developer needs to revoke their

00:37:24.426 --> 00:37:25.816 A:middle
entire Developer ID certificate.

00:37:26.366 --> 00:37:29.366 A:middle
So that's how to build notarized

00:37:29.366 --> 00:37:30.376 A:middle
apps and how they are going to

00:37:30.376 --> 00:37:31.796 A:middle
help keep Mac users safer.

00:37:33.136 --> 00:37:33.806 A:middle
What can you do?

00:37:34.716 --> 00:37:36.216 A:middle
Well, the notary service is

00:37:36.216 --> 00:37:36.996 A:middle
available today.

00:37:37.836 --> 00:37:39.396 A:middle
So feel free to start uploading

00:37:39.396 --> 00:37:40.206 A:middle
your applications.

00:37:40.846 --> 00:37:42.936 A:middle
And there is no reason to wait

00:37:42.936 --> 00:37:44.036 A:middle
for your next app update.

00:37:44.486 --> 00:37:45.626 A:middle
The service will gladly check

00:37:45.626 --> 00:37:46.576 A:middle
your back catalog, too.

00:37:46.686 --> 00:37:47.636 A:middle
So send in anything you have

00:37:47.636 --> 00:37:47.866 A:middle
got.

00:37:48.026 --> 00:37:50.246 A:middle
We are looking for feedback

00:37:50.246 --> 00:37:51.356 A:middle
while we roll the service out.

00:37:51.466 --> 00:37:52.566 A:middle
So if you have any issues with

00:37:52.566 --> 00:37:54.076 A:middle
notarization, please come to the

00:37:54.076 --> 00:37:55.096 A:middle
labs and we'd love to work

00:37:55.096 --> 00:37:55.616 A:middle
through them with you.

00:37:57.006 --> 00:37:58.216 A:middle
Remember that signing issues,

00:37:58.216 --> 00:38:00.146 A:middle
for now, will be warnings but

00:37:58.216 --> 00:38:00.146 A:middle
for now, will be warnings but

00:38:00.146 --> 00:38:01.156 A:middle
are going to become errors in

00:38:01.156 --> 00:38:01.616 A:middle
the future.

00:38:02.796 --> 00:38:04.236 A:middle
And when macOS Mojave ships

00:38:04.236 --> 00:38:06.216 A:middle
later this year, Gatekeeper will

00:38:06.216 --> 00:38:07.356 A:middle
be highlighting notarized

00:38:07.356 --> 00:38:08.506 A:middle
applications to users.

00:38:09.096 --> 00:38:10.266 A:middle
But then in a future macOS

00:38:10.266 --> 00:38:11.776 A:middle
release, Gatekeeper will be

00:38:11.776 --> 00:38:13.256 A:middle
requiring notarized apps by

00:38:13.256 --> 00:38:13.606 A:middle
default.

00:38:14.116 --> 00:38:16.716 A:middle
And that's all for Gatekeeper.

00:38:16.806 --> 00:38:17.746 A:middle
So now I'd like to hand it back

00:38:17.746 --> 00:38:18.636 A:middle
to Pierre for some closing

00:38:18.636 --> 00:38:18.866 A:middle
words.

00:38:19.516 --> 00:38:27.756 A:middle
[ Applause ]

00:38:28.256 --> 00:38:28.806 A:middle
&gt;&gt; Thank you Garrett.

00:38:30.416 --> 00:38:31.556 A:middle
All right, let's look at the key

00:38:31.556 --> 00:38:32.576 A:middle
takeaways from this session.

00:38:33.056 --> 00:38:36.096 A:middle
First, the macOS Mojave, the

00:38:36.376 --> 00:38:38.326 A:middle
user is now in control over the

00:38:38.326 --> 00:38:40.516 A:middle
way apps can access their

00:38:40.686 --> 00:38:41.206 A:middle
personal data.

00:38:42.516 --> 00:38:43.716 A:middle
It means your app needs to be

00:38:43.896 --> 00:38:46.086 A:middle
ready to handle their decisions

00:38:46.386 --> 00:38:48.006 A:middle
-- first, because the user make

00:38:48.006 --> 00:38:49.106 A:middle
take a while before they

00:38:49.106 --> 00:38:50.046 A:middle
actually give you an answer.

00:38:51.106 --> 00:38:52.326 A:middle
Second, because they might

00:38:52.356 --> 00:38:54.866 A:middle
completely decline the request.

00:38:54.996 --> 00:38:56.766 A:middle
Additionally, please be

00:38:56.766 --> 00:38:59.546 A:middle
transparent to the user about

00:38:59.616 --> 00:39:01.246 A:middle
what did I need to access and

00:38:59.616 --> 00:39:01.246 A:middle
what did I need to access and

00:39:01.246 --> 00:39:03.756 A:middle
why you need to access it, using

00:39:03.756 --> 00:39:05.676 A:middle
new entitlements and purpose

00:39:05.676 --> 00:39:06.656 A:middle
strings for this effect.

00:39:07.696 --> 00:39:09.146 A:middle
Also, make sure you request

00:39:09.146 --> 00:39:11.096 A:middle
access to this data in context

00:39:11.096 --> 00:39:12.466 A:middle
-- in the context where the user

00:39:12.666 --> 00:39:14.076 A:middle
can actually understand why you

00:39:14.076 --> 00:39:16.436 A:middle
need it and is more likely to

00:39:16.436 --> 00:39:17.396 A:middle
grant you this request.

00:39:17.916 --> 00:39:20.656 A:middle
We have a new higher runtime,

00:39:20.656 --> 00:39:21.696 A:middle
which you can adopt in your app

00:39:21.696 --> 00:39:22.026 A:middle
today.

00:39:23.206 --> 00:39:24.736 A:middle
It effectively increases the

00:39:24.736 --> 00:39:26.136 A:middle
security and the transparency of

00:39:26.136 --> 00:39:26.446 A:middle
your app.

00:39:26.966 --> 00:39:28.316 A:middle
It does not take away any of the

00:39:28.316 --> 00:39:29.336 A:middle
capabilities that you have

00:39:29.386 --> 00:39:29.696 A:middle
today.

00:39:30.126 --> 00:39:32.516 A:middle
It just requires you to opt into

00:39:33.876 --> 00:39:33.976 A:middle
them.

00:39:34.196 --> 00:39:35.886 A:middle
And finally, please help us make

00:39:36.186 --> 00:39:38.876 A:middle
our users feel more secure and

00:39:38.996 --> 00:39:40.596 A:middle
stop malware as soon as possible

00:39:41.156 --> 00:39:42.376 A:middle
by getting your apps notarized.

00:39:43.096 --> 00:39:44.956 A:middle
The Developer ID notary service

00:39:44.956 --> 00:39:46.206 A:middle
is open for submission right

00:39:46.206 --> 00:39:46.406 A:middle
now.

00:39:47.036 --> 00:39:49.286 A:middle
If you need more information

00:39:49.286 --> 00:39:51.026 A:middle
about this session, please check

00:39:51.026 --> 00:39:52.036 A:middle
out our developer website.

00:39:53.206 --> 00:39:55.016 A:middle
We have a lab immediately after

00:39:55.016 --> 00:39:56.726 A:middle
this section from 3:00 to 6:00

00:39:56.876 --> 00:39:58.276 A:middle
and then another lab tomorrow

00:39:58.276 --> 00:40:00.176 A:middle
from 9:00 to 12:00.

00:39:58.276 --> 00:40:00.176 A:middle
from 9:00 to 12:00.

00:40:00.326 --> 00:40:01.206 A:middle
And finally, there will be

00:40:01.206 --> 00:40:02.296 A:middle
another lab on Thursday

00:40:02.296 --> 00:40:03.786 A:middle
dedicated to signing and

00:40:03.786 --> 00:40:04.336 A:middle
distribution.

00:40:04.756 --> 00:40:07.086 A:middle
Again, thank you very much for

00:40:07.086 --> 00:40:07.456 A:middle
coming.

00:40:07.876 --> 00:40:08.666 A:middle
Hope you have a great rest of

00:40:08.696 --> 00:40:08.946 A:middle
the week.

00:40:09.016 --> 00:40:11.000 A:middle
[ Applause ]
