WEBVTT

00:00:07.516 --> 00:00:16.500 A:middle
[ Music ]

00:00:21.186 --> 00:00:22.136 A:middle
&gt;&gt; Hi, everyone.

00:00:23.516 --> 00:00:28.146 A:middle
[ Applause ]

00:00:28.646 --> 00:00:30.106 A:middle
&gt;&gt; I'm Vicki Murley and I'm the

00:00:30.106 --> 00:00:31.306 A:middle
Engineering Manager for the

00:00:31.306 --> 00:00:32.476 A:middle
MapKit JS Team.

00:00:32.695 --> 00:00:34.876 A:middle
This is Session 212, Introducing

00:00:34.876 --> 00:00:36.896 A:middle
MapKit JS.

00:00:37.026 --> 00:00:39.536 A:middle
So, when iPhone came out more

00:00:39.536 --> 00:00:41.136 A:middle
than ten years ago, it really

00:00:41.136 --> 00:00:42.646 A:middle
changed the game, and it

00:00:42.646 --> 00:00:44.666 A:middle
introduced us all to what we now

00:00:44.666 --> 00:00:45.566 A:middle
kind of know as this app

00:00:45.826 --> 00:00:46.706 A:middle
ecosystem.

00:00:46.846 --> 00:00:48.576 A:middle
And it's funny to think about,

00:00:48.576 --> 00:00:50.196 A:middle
because for so many of us, apps

00:00:50.196 --> 00:00:51.866 A:middle
are such an integral part of our

00:00:51.866 --> 00:00:54.016 A:middle
daily lives, but before there

00:00:54.096 --> 00:00:56.296 A:middle
were apps, there were websites.

00:00:57.126 --> 00:00:58.806 A:middle
If your company was founded

00:00:59.076 --> 00:01:00.336 A:middle
before iPhone, your whole

00:00:59.076 --> 00:01:00.336 A:middle
before iPhone, your whole

00:01:00.336 --> 00:01:01.576 A:middle
company may have started as a

00:01:01.576 --> 00:01:03.546 A:middle
website, and even today, if you

00:01:03.546 --> 00:01:05.536 A:middle
have an app, you might be using

00:01:05.536 --> 00:01:07.216 A:middle
a website to reach a larger

00:01:07.216 --> 00:01:08.246 A:middle
audience or even just a

00:01:08.246 --> 00:01:09.546 A:middle
different audience of people.

00:01:09.996 --> 00:01:12.326 A:middle
So, lots of developers out

00:01:12.326 --> 00:01:13.616 A:middle
there, just like you, have a

00:01:13.616 --> 00:01:15.506 A:middle
website and an app.

00:01:15.506 --> 00:01:18.776 A:middle
And the WWDC site is a great

00:01:18.776 --> 00:01:19.806 A:middle
example.

00:01:20.156 --> 00:01:21.876 A:middle
We have this site and there's an

00:01:21.876 --> 00:01:23.326 A:middle
accompanying app, which you're

00:01:23.326 --> 00:01:25.236 A:middle
probably using to find your way

00:01:25.236 --> 00:01:26.806 A:middle
around the conference center, as

00:01:26.806 --> 00:01:28.466 A:middle
you're on the go, here this

00:01:28.466 --> 00:01:28.706 A:middle
week.

00:01:29.706 --> 00:01:32.036 A:middle
So, at Apple, we've been really

00:01:32.036 --> 00:01:34.736 A:middle
lucky that we have been able to

00:01:34.736 --> 00:01:36.326 A:middle
show Apple Maps on our own

00:01:36.326 --> 00:01:38.506 A:middle
websites for a little while now.

00:01:38.876 --> 00:01:41.506 A:middle
This is a page on the WWDC site,

00:01:41.506 --> 00:01:42.976 A:middle
which is showing you other

00:01:42.976 --> 00:01:44.436 A:middle
events around the convention

00:01:44.436 --> 00:01:44.946 A:middle
center.

00:01:46.256 --> 00:01:47.796 A:middle
If you've ever used Find My

00:01:47.796 --> 00:01:49.766 A:middle
iPhone of iCloud.com, you've

00:01:49.766 --> 00:01:51.466 A:middle
seen Apple Maps on a website.

00:01:52.696 --> 00:01:54.266 A:middle
And if you've ever searched for

00:01:54.266 --> 00:01:55.896 A:middle
a retail store, again, an

00:01:56.006 --> 00:01:57.616 A:middle
example of Apple Maps on a

00:01:57.616 --> 00:01:58.136 A:middle
website.

00:01:59.616 --> 00:02:00.646 A:middle
So, most of you out there are

00:01:59.616 --> 00:02:00.646 A:middle
So, most of you out there are

00:02:00.646 --> 00:02:02.346 A:middle
probably used to using MapKit

00:02:02.346 --> 00:02:05.166 A:middle
inside your apps, and today,

00:02:05.396 --> 00:02:07.086 A:middle
we're making MapKit JS available

00:02:07.086 --> 00:02:09.946 A:middle
to you for your websites.

00:02:10.515 --> 00:02:14.566 A:middle
[ Applause ]

00:02:15.066 --> 00:02:17.296 A:middle
So, this week at WWDC, we're

00:02:17.296 --> 00:02:18.656 A:middle
making a MapKit JS Beta

00:02:18.746 --> 00:02:20.516 A:middle
available, and this is the same

00:02:20.516 --> 00:02:22.156 A:middle
library that we have been using

00:02:22.156 --> 00:02:23.906 A:middle
on our production websites.

00:02:24.926 --> 00:02:27.016 A:middle
Every web mapping library out

00:02:27.016 --> 00:02:30.616 A:middle
there, has a free tier of usage.

00:02:30.616 --> 00:02:31.976 A:middle
Like some number of requests

00:02:31.976 --> 00:02:33.686 A:middle
that you get for free, and

00:02:33.686 --> 00:02:35.586 A:middle
MapKit JS Beta is no different.

00:02:36.256 --> 00:02:38.126 A:middle
So, you -- as part of the MapKit

00:02:38.126 --> 00:02:40.656 A:middle
JS Beta, you're getting 250,000

00:02:40.976 --> 00:02:45.226 A:middle
map initializations, and 25,000

00:02:45.226 --> 00:02:46.246 A:middle
service requests.

00:02:46.536 --> 00:02:48.796 A:middle
That includes geocoding, search,

00:02:49.086 --> 00:02:50.606 A:middle
search auto-complete, and

00:02:50.606 --> 00:02:51.376 A:middle
directions.

00:02:51.866 --> 00:02:54.106 A:middle
And often these free usage tiers

00:02:54.106 --> 00:02:55.596 A:middle
are specified over some period

00:02:55.596 --> 00:02:58.336 A:middle
of time, like per year, per

00:02:58.336 --> 00:02:59.836 A:middle
month, per week.

00:03:00.186 --> 00:03:01.926 A:middle
For the MapKit JS Beta, we're

00:03:01.926 --> 00:03:03.646 A:middle
making this amount of free usage

00:03:03.646 --> 00:03:05.626 A:middle
available to you per day.

00:03:06.516 --> 00:03:11.266 A:middle
[ Applause ]

00:03:11.766 --> 00:03:12.936 A:middle
So, that's a good amount.

00:03:13.586 --> 00:03:15.386 A:middle
And -- but if you need more for

00:03:15.386 --> 00:03:17.126 A:middle
your particular use case or your

00:03:17.126 --> 00:03:18.996 A:middle
business, you can contact us.

00:03:18.996 --> 00:03:20.116 A:middle
There's a form online.

00:03:20.246 --> 00:03:21.826 A:middle
Just fill it out and submit it,

00:03:21.826 --> 00:03:23.086 A:middle
and we will receive that

00:03:23.086 --> 00:03:23.736 A:middle
request.

00:03:24.256 --> 00:03:27.146 A:middle
To use MapKit JS, you need a

00:03:27.146 --> 00:03:28.816 A:middle
key, and you can get that by

00:03:28.816 --> 00:03:30.086 A:middle
signing into your developer

00:03:30.086 --> 00:03:31.736 A:middle
account, and go to the

00:03:31.736 --> 00:03:33.526 A:middle
Certificates, ID's, and Profiles

00:03:33.526 --> 00:03:34.016 A:middle
Panel.

00:03:34.216 --> 00:03:35.716 A:middle
And you can get a key there,

00:03:35.716 --> 00:03:36.606 A:middle
just like you would for any

00:03:36.606 --> 00:03:39.286 A:middle
other service in your developer

00:03:39.286 --> 00:03:39.706 A:middle
account.

00:03:40.686 --> 00:03:42.346 A:middle
There's a limited number of keys

00:03:42.346 --> 00:03:44.256 A:middle
available for the MapKit JS

00:03:44.256 --> 00:03:46.336 A:middle
Beta, so I suggest you go and

00:03:46.336 --> 00:03:47.796 A:middle
get one as soon as possible.

00:03:50.516 --> 00:03:52.826 A:middle
Once you get a key and start

00:03:52.826 --> 00:03:54.636 A:middle
using MapKit JS, I mean, I'm

00:03:54.636 --> 00:03:56.896 A:middle
biased because I work on it, but

00:03:56.896 --> 00:03:58.096 A:middle
I think there's a lot of things

00:03:58.096 --> 00:03:59.156 A:middle
that you're going to really like

00:03:59.156 --> 00:04:00.196 A:middle
about it.

00:03:59.156 --> 00:04:00.196 A:middle
about it.

00:04:00.426 --> 00:04:02.596 A:middle
The first thing is, it lets you

00:04:02.596 --> 00:04:04.796 A:middle
unify on one map provider, for

00:04:04.796 --> 00:04:06.686 A:middle
both your app and your website.

00:04:06.906 --> 00:04:08.206 A:middle
So, we've noticed lots of you

00:04:08.206 --> 00:04:09.806 A:middle
are using Apple Maps inside your

00:04:10.566 --> 00:04:10.776 A:middle
apps.

00:04:10.776 --> 00:04:12.066 A:middle
Now, you'll be able to use Apple

00:04:12.066 --> 00:04:12.976 A:middle
Maps everywhere.

00:04:14.416 --> 00:04:18.196 A:middle
The MapKit JS APIs, are really

00:04:18.245 --> 00:04:20.125 A:middle
inspired by the APIs that you're

00:04:20.125 --> 00:04:21.495 A:middle
already using inside native

00:04:21.495 --> 00:04:22.936 A:middle
MapKit, but they're using

00:04:22.936 --> 00:04:24.316 A:middle
conventions that are familiar to

00:04:24.316 --> 00:04:25.106 A:middle
web developers.

00:04:25.106 --> 00:04:28.046 A:middle
So, they should be easy for you

00:04:29.436 --> 00:04:29.776 A:middle
to adapt.

00:04:29.776 --> 00:04:32.256 A:middle
Also, MapKit JS really brings

00:04:32.306 --> 00:04:36.016 A:middle
the Apple Maps experience to web

00:04:36.016 --> 00:04:36.576 A:middle
pages.

00:04:36.946 --> 00:04:38.266 A:middle
It's localized and in 32

00:04:38.266 --> 00:04:39.886 A:middle
languages with full right to

00:04:39.886 --> 00:04:40.786 A:middle
left support.

00:04:41.046 --> 00:04:42.776 A:middle
It's accessible via keyboard

00:04:42.776 --> 00:04:44.576 A:middle
access and with voiceover.

00:04:45.396 --> 00:04:47.556 A:middle
It has the beautiful cartography

00:04:47.556 --> 00:04:48.686 A:middle
that we all know and love in

00:04:48.686 --> 00:04:49.446 A:middle
Apple Maps.

00:04:49.796 --> 00:04:51.006 A:middle
And it has support for native

00:04:51.006 --> 00:04:52.646 A:middle
gestures like Pinch to Zoom,

00:04:52.976 --> 00:04:55.236 A:middle
Two-Finger Rotation, and also

00:04:55.236 --> 00:04:56.886 A:middle
Shift, and Two Finger Scroll to

00:04:56.886 --> 00:04:57.476 A:middle
zoom in.

00:04:58.466 --> 00:05:00.416 A:middle
It also uses something that's

00:04:58.466 --> 00:05:00.416 A:middle
It also uses something that's

00:05:00.416 --> 00:05:02.306 A:middle
called Adaptive Rendering Modes.

00:05:02.696 --> 00:05:04.586 A:middle
So, what that means is, there's

00:05:04.586 --> 00:05:05.926 A:middle
a couple different modes in

00:05:05.926 --> 00:05:07.166 A:middle
which the map can be rendered.

00:05:07.846 --> 00:05:09.526 A:middle
The first is Client-Side

00:05:09.526 --> 00:05:11.306 A:middle
Rendering, and this is a full

00:05:11.306 --> 00:05:13.926 A:middle
WebGL engine that is rendering

00:05:13.926 --> 00:05:15.236 A:middle
the map on the client.

00:05:15.386 --> 00:05:17.096 A:middle
And this allows us to do lots of

00:05:17.096 --> 00:05:19.166 A:middle
things, like these very, smooth

00:05:19.166 --> 00:05:21.386 A:middle
transitions as users pinch to

00:05:21.386 --> 00:05:23.556 A:middle
zoom or shift two-finger scroll

00:05:23.556 --> 00:05:24.296 A:middle
to zoom in.

00:05:24.596 --> 00:05:25.976 A:middle
You'll see the labels fading in

00:05:25.976 --> 00:05:27.836 A:middle
and out as we transition between

00:05:27.836 --> 00:05:28.926 A:middle
zoom levels, just like on

00:05:28.926 --> 00:05:29.316 A:middle
native.

00:05:32.116 --> 00:05:33.986 A:middle
Also, Client-Side Rendering

00:05:33.986 --> 00:05:35.486 A:middle
gives us full control over the

00:05:35.486 --> 00:05:36.306 A:middle
labels on the map.

00:05:36.856 --> 00:05:38.446 A:middle
So, we can enable features such

00:05:38.446 --> 00:05:41.046 A:middle
as Rotation, where I'm rotating

00:05:41.046 --> 00:05:42.976 A:middle
the map with two-fingers, but

00:05:42.976 --> 00:05:43.916 A:middle
the labels are staying

00:05:43.916 --> 00:05:45.606 A:middle
horizontal as I rotate.

00:05:47.156 --> 00:05:50.616 A:middle
Finally, with CSR, we have the

00:05:50.616 --> 00:05:52.876 A:middle
marker style annotations that

00:05:52.876 --> 00:05:54.406 A:middle
you're used to seeing on iOS.

00:05:54.756 --> 00:05:57.206 A:middle
And the title of this annotation

00:05:57.206 --> 00:05:58.066 A:middle
is My Marker.

00:05:58.326 --> 00:05:59.856 A:middle
If I select this annotation, the

00:05:59.856 --> 00:06:01.676 A:middle
subtitle will appear, but it

00:05:59.856 --> 00:06:01.676 A:middle
subtitle will appear, but it

00:06:01.676 --> 00:06:03.566 A:middle
would overlap that label that is

00:06:03.566 --> 00:06:04.166 A:middle
beneath it.

00:06:04.886 --> 00:06:06.636 A:middle
So, with Client-Side Rendering,

00:06:06.686 --> 00:06:08.086 A:middle
and full control over the

00:06:08.086 --> 00:06:09.996 A:middle
labels, we can just collide that

00:06:09.996 --> 00:06:11.976 A:middle
label out and remove it so that

00:06:11.976 --> 00:06:14.056 A:middle
the labels on the map never

00:06:14.056 --> 00:06:15.736 A:middle
overlap the text for your

00:06:15.736 --> 00:06:16.546 A:middle
annotations.

00:06:17.516 --> 00:06:20.276 A:middle
And even as users are zooming in

00:06:20.276 --> 00:06:22.106 A:middle
and out, and the map labels are

00:06:22.106 --> 00:06:24.016 A:middle
changing all over the place, the

00:06:24.016 --> 00:06:25.666 A:middle
map labels are never going to

00:06:25.666 --> 00:06:27.406 A:middle
overlap your annotation labels.

00:06:28.156 --> 00:06:29.936 A:middle
In fact, if you have a draggable

00:06:29.936 --> 00:06:31.286 A:middle
annotation and the user is

00:06:31.286 --> 00:06:33.036 A:middle
picking it up and moving it all

00:06:33.036 --> 00:06:35.716 A:middle
over the map, labels are never

00:06:35.716 --> 00:06:37.726 A:middle
going to overlap your annotation

00:06:37.726 --> 00:06:38.216 A:middle
labels.

00:06:38.896 --> 00:06:41.166 A:middle
So, this is one of the rendering

00:06:41.166 --> 00:06:42.596 A:middle
modes, Client-Side Rendering.

00:06:43.096 --> 00:06:45.026 A:middle
But web code can run anywhere,

00:06:45.506 --> 00:06:47.066 A:middle
and not all devices are created

00:06:47.066 --> 00:06:47.546 A:middle
equal.

00:06:48.466 --> 00:06:51.616 A:middle
So, for those times when your

00:06:51.616 --> 00:06:53.046 A:middle
users may be running on a low

00:06:53.046 --> 00:06:54.646 A:middle
performance configuration, maybe

00:06:54.646 --> 00:06:56.856 A:middle
an old device, we have a

00:06:56.856 --> 00:06:58.076 A:middle
different mode that we call

00:06:58.076 --> 00:06:59.276 A:middle
Labels Only Client-Side

00:06:59.276 --> 00:06:59.766 A:middle
Rendering.

00:07:00.476 --> 00:07:03.296 A:middle
And what this is, it's a grid of

00:07:03.296 --> 00:07:05.106 A:middle
image tiles that show the base

00:07:05.106 --> 00:07:09.006 A:middle
map, with a layer of WebGL

00:07:09.006 --> 00:07:10.466 A:middle
labels over the top of it.

00:07:10.866 --> 00:07:13.166 A:middle
So, we can still give as many

00:07:13.166 --> 00:07:14.786 A:middle
users as possible these great

00:07:14.786 --> 00:07:16.986 A:middle
features like rotation and label

00:07:16.986 --> 00:07:18.536 A:middle
collisions, in a

00:07:18.676 --> 00:07:19.846 A:middle
high-performance way.

00:07:22.086 --> 00:07:23.976 A:middle
In your users' configuration

00:07:23.976 --> 00:07:25.516 A:middle
does not support WebGL at all,

00:07:25.676 --> 00:07:26.706 A:middle
they get something that we call

00:07:26.706 --> 00:07:28.476 A:middle
Server-Side Rendering, which is

00:07:28.476 --> 00:07:31.286 A:middle
a grid of tiles, tile images,

00:07:31.636 --> 00:07:32.996 A:middle
and in this case, the labels are

00:07:32.996 --> 00:07:34.346 A:middle
actually part of the image.

00:07:35.606 --> 00:07:38.026 A:middle
So, adaptive rendering modes are

00:07:38.026 --> 00:07:39.886 A:middle
pretty cool because there is an

00:07:39.886 --> 00:07:41.486 A:middle
ideal mode for every client

00:07:41.486 --> 00:07:42.656 A:middle
configuration out there.

00:07:43.576 --> 00:07:45.396 A:middle
And we choose the best mode for

00:07:45.396 --> 00:07:46.866 A:middle
your user automatically.

00:07:46.866 --> 00:07:48.096 A:middle
So, you don't have to decide

00:07:48.386 --> 00:07:49.496 A:middle
whether to use the WebGL

00:07:49.496 --> 00:07:52.006 A:middle
version, or the tile version, or

00:07:52.006 --> 00:07:52.456 A:middle
whatever.

00:07:52.566 --> 00:07:54.416 A:middle
We run a quick test and give

00:07:54.416 --> 00:07:56.156 A:middle
that user the best mode for

00:07:56.156 --> 00:07:57.206 A:middle
their configuration.

00:07:57.756 --> 00:08:00.956 A:middle
In our experience so far, most

00:07:57.756 --> 00:08:00.956 A:middle
In our experience so far, most

00:08:00.956 --> 00:08:02.406 A:middle
users are getting Client-Side

00:08:02.406 --> 00:08:03.706 A:middle
Rendering or Labels Only

00:08:03.706 --> 00:08:04.726 A:middle
Client-Side Rendering.

00:08:05.296 --> 00:08:07.686 A:middle
So, that's a quick introduction

00:08:07.686 --> 00:08:08.696 A:middle
to MapKit JS.

00:08:08.696 --> 00:08:10.706 A:middle
And now, to tell you more about

00:08:10.706 --> 00:08:12.176 A:middle
using the API, I'm going to hand

00:08:12.176 --> 00:08:13.706 A:middle
it off to Julien Quint.

00:08:15.516 --> 00:08:18.500 A:middle
[ Applause ]

00:08:21.376 --> 00:08:22.086 A:middle
&gt;&gt; Thank you, Vicki.

00:08:24.486 --> 00:08:26.106 A:middle
Let's get down to the technical

00:08:26.106 --> 00:08:27.896 A:middle
details of using MapKit JS for

00:08:27.896 --> 00:08:28.456 A:middle
your website.

00:08:29.256 --> 00:08:31.386 A:middle
We will see how to set up a map.

00:08:32.236 --> 00:08:33.726 A:middle
We will see how to navigate an

00:08:33.726 --> 00:08:34.916 A:middle
annotate this map so that you

00:08:34.916 --> 00:08:36.155 A:middle
can show your own data.

00:08:37.556 --> 00:08:38.626 A:middle
And finally, we'll see how to

00:08:38.626 --> 00:08:40.816 A:middle
enable rich interactions with

00:08:40.816 --> 00:08:41.806 A:middle
additional services.

00:08:43.966 --> 00:08:45.686 A:middle
To set up your map, you need to

00:08:45.686 --> 00:08:46.846 A:middle
go through these four steps.

00:08:47.516 --> 00:08:49.466 A:middle
First step is to import MapKit

00:08:50.236 --> 00:08:50.326 A:middle
JS.

00:08:50.326 --> 00:08:51.726 A:middle
Here you see a script tag that

00:08:51.726 --> 00:08:53.026 A:middle
you can add somewhere on your

00:08:53.026 --> 00:08:53.436 A:middle
page.

00:08:53.886 --> 00:08:57.356 A:middle
And the URL of the MapKit JS

00:08:57.736 --> 00:08:59.736 A:middle
script includes a version

00:08:59.736 --> 00:09:00.046 A:middle
number.

00:08:59.736 --> 00:09:00.046 A:middle
number.

00:09:00.906 --> 00:09:03.006 A:middle
We follow the semantic

00:09:03.006 --> 00:09:05.016 A:middle
versioning system where the

00:09:05.016 --> 00:09:06.276 A:middle
first number is the major

00:09:06.456 --> 00:09:08.716 A:middle
version number, which is updated

00:09:08.716 --> 00:09:09.746 A:middle
if breaking changes are

00:09:09.746 --> 00:09:10.336 A:middle
introduced.

00:09:10.676 --> 00:09:12.026 A:middle
The second number is a minor

00:09:12.346 --> 00:09:15.036 A:middle
version number, so when bugs are

00:09:15.036 --> 00:09:16.946 A:middle
fixed, when new features are

00:09:16.946 --> 00:09:18.756 A:middle
added or when performance

00:09:18.756 --> 00:09:20.186 A:middle
improvements take place, we

00:09:20.186 --> 00:09:20.996 A:middle
update this number.

00:09:21.266 --> 00:09:23.336 A:middle
And finally, for urgent patches,

00:09:23.336 --> 00:09:24.946 A:middle
we update the patch number.

00:09:24.946 --> 00:09:26.806 A:middle
You can specify and X instead of

00:09:26.806 --> 00:09:28.666 A:middle
a specific number for the minor

00:09:28.666 --> 00:09:29.966 A:middle
or the patch version, and we

00:09:30.596 --> 00:09:32.176 A:middle
recommend that you use this

00:09:32.176 --> 00:09:34.156 A:middle
Version 5.0.X to get started so

00:09:34.156 --> 00:09:35.996 A:middle
that you will get urgent bug

00:09:35.996 --> 00:09:37.476 A:middle
fixes on our first public

00:09:37.476 --> 00:09:37.826 A:middle
release.

00:09:38.036 --> 00:09:41.406 A:middle
In order to be able to show a

00:09:41.406 --> 00:09:43.806 A:middle
map on your website, you will

00:09:43.806 --> 00:09:46.186 A:middle
need to tell your page -- to

00:09:46.186 --> 00:09:47.606 A:middle
tell MapKit where to show that

00:09:47.606 --> 00:09:47.776 A:middle
map.

00:09:47.776 --> 00:09:50.916 A:middle
So, in order to do that, you can

00:09:51.166 --> 00:09:53.646 A:middle
use an HTML element that will be

00:09:53.796 --> 00:09:55.156 A:middle
the container for your map.

00:09:55.556 --> 00:09:56.646 A:middle
So, in this case, I'm using a

00:09:56.646 --> 00:09:58.446 A:middle
development which is usually a

00:09:58.446 --> 00:10:01.436 A:middle
very good candidate for that.

00:09:58.446 --> 00:10:01.436 A:middle
very good candidate for that.

00:10:01.436 --> 00:10:02.936 A:middle
I give it an ID so that I can

00:10:02.936 --> 00:10:03.976 A:middle
refer back to it easily.

00:10:04.066 --> 00:10:06.546 A:middle
And one thing that is very

00:10:06.546 --> 00:10:08.946 A:middle
important is to set its size,

00:10:09.306 --> 00:10:10.516 A:middle
because the map doesn't have a

00:10:10.516 --> 00:10:12.716 A:middle
size of its own, so it will just

00:10:12.716 --> 00:10:14.736 A:middle
use the size of the elements

00:10:14.736 --> 00:10:15.676 A:middle
that it is part of.

00:10:16.296 --> 00:10:17.916 A:middle
So, if you have a development

00:10:18.346 --> 00:10:20.276 A:middle
that I represented here with a

00:10:20.276 --> 00:10:22.066 A:middle
gray background, a map will be

00:10:22.066 --> 00:10:24.156 A:middle
shown inside that element.

00:10:24.156 --> 00:10:26.086 A:middle
If your element size changes,

00:10:26.086 --> 00:10:27.426 A:middle
then your map size will change

00:10:27.426 --> 00:10:27.736 A:middle
as well.

00:10:28.326 --> 00:10:31.776 A:middle
So, I have set up an element for

00:10:31.776 --> 00:10:32.256 A:middle
my map.

00:10:32.696 --> 00:10:34.686 A:middle
The next step is to initialize

00:10:34.686 --> 00:10:35.606 A:middle
MapKit JS.

00:10:35.606 --> 00:10:37.576 A:middle
So, we just saw that you need a

00:10:37.576 --> 00:10:39.806 A:middle
key to be able to use MapKit JS,

00:10:39.976 --> 00:10:42.136 A:middle
and in initializing MapKit, you

00:10:43.216 --> 00:10:46.746 A:middle
get your authorization callback

00:10:46.746 --> 00:10:49.646 A:middle
so that you will be able to use

00:10:49.646 --> 00:10:51.546 A:middle
the services that MapKit JS

00:10:51.546 --> 00:10:52.006 A:middle
provides.

00:10:52.006 --> 00:10:54.346 A:middle
And most importantly, to show

00:10:54.346 --> 00:10:56.696 A:middle
the actual map on your websites.

00:10:57.356 --> 00:10:59.546 A:middle
And the last point is to create

00:10:59.546 --> 00:11:02.386 A:middle
a map object, here using the Map

00:10:59.546 --> 00:11:02.386 A:middle
a map object, here using the Map

00:11:02.386 --> 00:11:03.716 A:middle
Constructor from MapKit.

00:11:04.046 --> 00:11:05.326 A:middle
I give it the idea of the

00:11:05.326 --> 00:11:06.476 A:middle
container where the map will

00:11:06.476 --> 00:11:06.856 A:middle
show.

00:11:07.236 --> 00:11:08.466 A:middle
And this is what happens.

00:11:08.796 --> 00:11:10.426 A:middle
We have a map showing on our

00:11:10.426 --> 00:11:10.886 A:middle
sites.

00:11:11.946 --> 00:11:13.716 A:middle
This is the different map.

00:11:13.836 --> 00:11:15.486 A:middle
We didn't pass any other

00:11:15.486 --> 00:11:16.866 A:middle
parameters, so it will show a

00:11:16.866 --> 00:11:17.966 A:middle
different region and the

00:11:17.966 --> 00:11:18.726 A:middle
different control.

00:11:18.726 --> 00:11:21.286 A:middle
You can see the controls in the

00:11:21.286 --> 00:11:21.836 A:middle
corners.

00:11:21.836 --> 00:11:23.396 A:middle
You can see the Compass for

00:11:23.396 --> 00:11:23.986 A:middle
rotation.

00:11:24.256 --> 00:11:25.516 A:middle
The Zoom control.

00:11:26.426 --> 00:11:29.486 A:middle
The Map Type Control on the top,

00:11:30.296 --> 00:11:31.056 A:middle
etcetera.

00:11:31.056 --> 00:11:33.216 A:middle
This was a pretty large area,

00:11:33.596 --> 00:11:37.346 A:middle
but if you're on a page where

00:11:37.346 --> 00:11:38.816 A:middle
you want to show only a very

00:11:38.816 --> 00:11:40.376 A:middle
small map, these controls can

00:11:40.376 --> 00:11:42.916 A:middle
use a lot of valuable space, so

00:11:42.916 --> 00:11:44.616 A:middle
by default, when your map size

00:11:44.896 --> 00:11:46.406 A:middle
is below a certain width or

00:11:46.406 --> 00:11:48.646 A:middle
height, we will toggle these

00:11:48.646 --> 00:11:49.926 A:middle
controls off automatically.

00:11:50.806 --> 00:11:52.946 A:middle
On touch devices, the situation

00:11:52.946 --> 00:11:54.236 A:middle
is a little bit different.

00:11:54.236 --> 00:11:55.906 A:middle
We don't really need to show the

00:11:55.906 --> 00:11:57.096 A:middle
-- some of the controls like the

00:11:57.096 --> 00:12:00.156 A:middle
Zoom or the Compass, because we

00:11:57.096 --> 00:12:00.156 A:middle
Zoom or the Compass, because we

00:12:00.156 --> 00:12:03.346 A:middle
have gestures to change the

00:12:03.346 --> 00:12:04.686 A:middle
rotation of the map or to zoom

00:12:04.686 --> 00:12:04.856 A:middle
in.

00:12:05.306 --> 00:12:07.316 A:middle
So again, we don't really need

00:12:07.316 --> 00:12:09.186 A:middle
to use up that space by showing

00:12:09.186 --> 00:12:10.496 A:middle
these controls, and we turn them

00:12:10.496 --> 00:12:11.146 A:middle
off by default.

00:12:11.646 --> 00:12:14.496 A:middle
Note that the Apple logo and the

00:12:14.496 --> 00:12:15.946 A:middle
legal text are always present.

00:12:16.956 --> 00:12:18.146 A:middle
These are the difference for the

00:12:18.146 --> 00:12:20.086 A:middle
controls, but you can also set

00:12:20.086 --> 00:12:21.896 A:middle
these control visibilities

00:12:21.896 --> 00:12:22.646 A:middle
yourself.

00:12:22.676 --> 00:12:23.846 A:middle
Some controls are so-called

00:12:23.846 --> 00:12:24.806 A:middle
Adaptive Controls.

00:12:24.806 --> 00:12:25.976 A:middle
This includes the Compass and

00:12:25.976 --> 00:12:26.386 A:middle
the Scale.

00:12:26.906 --> 00:12:28.416 A:middle
This means that depending on the

00:12:28.416 --> 00:12:30.116 A:middle
platform, they will behave in a

00:12:30.116 --> 00:12:31.166 A:middle
slightly different manner.

00:12:31.446 --> 00:12:34.696 A:middle
So, on iOS, the Compass control

00:12:34.696 --> 00:12:36.196 A:middle
is not shown by default, but if

00:12:36.196 --> 00:12:37.876 A:middle
the map rotates, then we will

00:12:37.876 --> 00:12:39.666 A:middle
show it indicate where North is

00:12:39.666 --> 00:12:40.136 A:middle
pointing.

00:12:40.506 --> 00:12:42.256 A:middle
And the Scale is an indicator of

00:12:42.306 --> 00:12:44.566 A:middle
the units of distance on your

00:12:44.566 --> 00:12:44.846 A:middle
map.

00:12:44.846 --> 00:12:47.226 A:middle
And we show it only when the

00:12:47.226 --> 00:12:48.506 A:middle
user is zooming in and out.

00:12:49.066 --> 00:12:52.016 A:middle
So, here, we can see the -- when

00:12:52.016 --> 00:12:54.076 A:middle
we have zooming and rotation, we

00:12:54.076 --> 00:12:55.666 A:middle
can see the Compass appear and

00:12:55.666 --> 00:12:56.826 A:middle
disappear in the bottom right

00:12:56.826 --> 00:12:57.226 A:middle
corner.

00:12:57.606 --> 00:12:58.636 A:middle
And the Scale appear and

00:12:58.636 --> 00:12:59.916 A:middle
disappear in the top left

00:12:59.916 --> 00:13:00.166 A:middle
corner.

00:12:59.916 --> 00:13:00.166 A:middle
corner.

00:13:00.556 --> 00:13:01.896 A:middle
Of course, we can also select

00:13:01.896 --> 00:13:03.096 A:middle
these controls to be always

00:13:03.096 --> 00:13:04.496 A:middle
visible or always hidden.

00:13:05.156 --> 00:13:07.466 A:middle
The rest of the controls have a

00:13:07.466 --> 00:13:09.326 A:middle
binary state, so they can be

00:13:09.326 --> 00:13:11.936 A:middle
hidden or set to be visible by

00:13:11.936 --> 00:13:14.146 A:middle
setting a Boolean property.

00:13:14.666 --> 00:13:18.286 A:middle
In this example, we show the

00:13:18.286 --> 00:13:19.496 A:middle
controls that do not show by

00:13:19.496 --> 00:13:21.556 A:middle
default on desktop, such as the

00:13:21.556 --> 00:13:23.056 A:middle
User Location Control which

00:13:23.056 --> 00:13:25.206 A:middle
appears in the bottom right of

00:13:25.206 --> 00:13:26.086 A:middle
the window.

00:13:26.626 --> 00:13:28.036 A:middle
Here, I've selected it.

00:13:28.036 --> 00:13:29.756 A:middle
So now, the user location is

00:13:29.756 --> 00:13:30.736 A:middle
tracked, and you can see the

00:13:30.736 --> 00:13:32.126 A:middle
user location in the center of

00:13:32.126 --> 00:13:32.386 A:middle
the map.

00:13:33.336 --> 00:13:34.586 A:middle
And the Scale is shown at the

00:13:34.586 --> 00:13:36.466 A:middle
top let, because I marked it to

00:13:36.466 --> 00:13:37.376 A:middle
Always Visible.

00:13:38.756 --> 00:13:40.246 A:middle
We can go further in configuring

00:13:40.246 --> 00:13:40.936 A:middle
these controls.

00:13:41.286 --> 00:13:44.186 A:middle
In order to match better the

00:13:44.186 --> 00:13:45.666 A:middle
color scheme of your page, you

00:13:45.666 --> 00:13:47.566 A:middle
can set the tint of the map.

00:13:47.936 --> 00:13:49.536 A:middle
And this changes the color of

00:13:49.536 --> 00:13:51.456 A:middle
the user controls.

00:13:51.456 --> 00:13:53.606 A:middle
So, you can see, for instance,

00:13:53.606 --> 00:13:54.836 A:middle
the -- all of the controls of

00:13:54.836 --> 00:13:55.086 A:middle
the map.

00:13:55.346 --> 00:13:56.786 A:middle
You can see the user control is

00:13:56.786 --> 00:13:58.116 A:middle
now highlighted in red because I

00:13:58.116 --> 00:14:00.076 A:middle
set this tint color to a red

00:13:58.116 --> 00:14:00.076 A:middle
set this tint color to a red

00:14:00.076 --> 00:14:00.406 A:middle
color.

00:14:00.406 --> 00:14:02.236 A:middle
You can use any CSS color value

00:14:02.236 --> 00:14:02.486 A:middle
here.

00:14:03.796 --> 00:14:06.896 A:middle
The MapKit will use your

00:14:06.896 --> 00:14:07.686 A:middle
[inaudible] language

00:14:07.686 --> 00:14:11.206 A:middle
configuration, so that it will

00:14:11.806 --> 00:14:13.806 A:middle
adapt itself to the language

00:14:13.806 --> 00:14:14.886 A:middle
that your user expects.

00:14:15.066 --> 00:14:16.426 A:middle
You can also set that language

00:14:16.426 --> 00:14:18.266 A:middle
into the initialization code or

00:14:18.266 --> 00:14:19.596 A:middle
you can even set it on the fly

00:14:19.596 --> 00:14:20.836 A:middle
using the language property.

00:14:21.216 --> 00:14:22.746 A:middle
So here, I've set it to Japanese

00:14:22.746 --> 00:14:24.216 A:middle
so that I'm sure -- so that I

00:14:24.216 --> 00:14:26.836 A:middle
can show the map, as well as the

00:14:26.836 --> 00:14:27.846 A:middle
controls in Japanese.

00:14:27.996 --> 00:14:29.826 A:middle
So, you can see the North

00:14:29.826 --> 00:14:31.076 A:middle
indicator for instance in the

00:14:31.076 --> 00:14:32.816 A:middle
Compass has been replaced, and

00:14:32.816 --> 00:14:34.846 A:middle
the units are not in -- using

00:14:34.846 --> 00:14:36.526 A:middle
the metric system which is more

00:14:36.526 --> 00:14:38.406 A:middle
traditional in Japan, than using

00:14:38.406 --> 00:14:40.176 A:middle
miles or years.

00:14:41.516 --> 00:14:44.476 A:middle
If you set your language to a

00:14:44.476 --> 00:14:46.216 A:middle
right to left language, such as

00:14:46.216 --> 00:14:47.376 A:middle
Hebrew in this example, or

00:14:47.376 --> 00:14:49.076 A:middle
Arabic, the controls are also

00:14:49.076 --> 00:14:51.376 A:middle
mirrored to match your users'

00:14:51.376 --> 00:14:52.066 A:middle
expectations.

00:14:52.656 --> 00:14:55.376 A:middle
So, the controls are the way --

00:14:55.376 --> 00:14:57.196 A:middle
are some of the ways that your

00:14:57.196 --> 00:14:58.946 A:middle
users can interact with the map,

00:14:58.946 --> 00:15:00.046 A:middle
but again, also in turn

00:14:58.946 --> 00:15:00.046 A:middle
but again, also in turn

00:15:00.046 --> 00:15:00.536 A:middle
directly.

00:15:00.536 --> 00:15:02.486 A:middle
As I said, we can use touch

00:15:02.486 --> 00:15:04.956 A:middle
events on touch enabled device.

00:15:05.036 --> 00:15:06.166 A:middle
On this stuff, you can use the

00:15:06.166 --> 00:15:07.516 A:middle
Track Pad for some of the

00:15:07.516 --> 00:15:08.986 A:middle
gestures, and you can also use

00:15:08.986 --> 00:15:10.816 A:middle
the mouse to click and pan the

00:15:10.816 --> 00:15:12.466 A:middle
map, or double-tap for instance,

00:15:12.466 --> 00:15:14.156 A:middle
to zoom in on the map.

00:15:14.526 --> 00:15:16.306 A:middle
You can also disable these

00:15:16.306 --> 00:15:18.316 A:middle
interactions directly, by

00:15:18.316 --> 00:15:19.996 A:middle
setting the Zoom Enabled, Scroll

00:15:19.996 --> 00:15:22.096 A:middle
Enabled, or Rotate Enabled

00:15:22.096 --> 00:15:23.166 A:middle
property to be false.

00:15:23.166 --> 00:15:24.646 A:middle
So, for instance, in the case

00:15:24.646 --> 00:15:25.636 A:middle
where you have this very small

00:15:25.636 --> 00:15:27.946 A:middle
map as I showed earlier, you

00:15:27.946 --> 00:15:28.966 A:middle
might want to make sure that the

00:15:28.966 --> 00:15:30.866 A:middle
user doesn't accidentally move

00:15:30.866 --> 00:15:32.156 A:middle
the map around to be sure that

00:15:32.156 --> 00:15:33.666 A:middle
it always shows the right area.

00:15:33.666 --> 00:15:35.006 A:middle
And you would set these

00:15:35.006 --> 00:15:36.606 A:middle
properties to false, which would

00:15:36.606 --> 00:15:40.276 A:middle
make the map static.

00:15:40.276 --> 00:15:42.626 A:middle
Now, that we know how to set up

00:15:42.626 --> 00:15:44.336 A:middle
the map on our page, we want to

00:15:44.336 --> 00:15:45.716 A:middle
make sure that we show some

00:15:45.716 --> 00:15:46.576 A:middle
interesting content.

00:15:47.656 --> 00:15:49.706 A:middle
So, we can do that by navigating

00:15:49.706 --> 00:15:51.306 A:middle
around the world to show a

00:15:51.306 --> 00:15:53.156 A:middle
specific area, but also to

00:15:53.156 --> 00:15:54.286 A:middle
annotate the map to call

00:15:54.286 --> 00:15:57.976 A:middle
attention to the region that we

00:15:58.046 --> 00:16:01.016 A:middle
are showing.

00:15:58.046 --> 00:16:01.016 A:middle
are showing.

00:16:01.016 --> 00:16:02.486 A:middle
We'll see how to set the center

00:16:02.486 --> 00:16:03.806 A:middle
in the region, how to add

00:16:03.806 --> 00:16:05.466 A:middle
annotations to the map to mark

00:16:05.466 --> 00:16:07.066 A:middle
locations, and how to cover the

00:16:07.066 --> 00:16:08.276 A:middle
-- some areas of the map with

00:16:08.276 --> 00:16:08.806 A:middle
overlays.

00:16:08.966 --> 00:16:10.696 A:middle
So, starting with the center and

00:16:10.696 --> 00:16:13.696 A:middle
the region of the map, again,

00:16:13.696 --> 00:16:15.226 A:middle
this is the default map.

00:16:15.226 --> 00:16:18.166 A:middle
And it shows the default region,

00:16:18.166 --> 00:16:20.646 A:middle
which is zooming out at the

00:16:20.646 --> 00:16:22.126 A:middle
minimum possible level.

00:16:22.606 --> 00:16:24.496 A:middle
And centering the map on, zero,

00:16:24.496 --> 00:16:26.056 A:middle
zero, latitude and longitude.

00:16:26.266 --> 00:16:28.546 A:middle
You probably want to show a more

00:16:28.546 --> 00:16:29.836 A:middle
specific area of the world.

00:16:29.836 --> 00:16:32.046 A:middle
So, for this example, I want to

00:16:32.046 --> 00:16:34.006 A:middle
focus on Rio de Janeiro in

00:16:34.006 --> 00:16:34.396 A:middle
Brazil.

00:16:35.266 --> 00:16:36.466 A:middle
And to do that, I will set the

00:16:36.466 --> 00:16:37.976 A:middle
center of my map to the

00:16:37.976 --> 00:16:39.426 A:middle
coordinate of Rio de Janeiro.

00:16:39.426 --> 00:16:40.446 A:middle
So, you can see on the right,

00:16:40.796 --> 00:16:43.466 A:middle
that the map center has moved to

00:16:43.466 --> 00:16:45.006 A:middle
show Rio at is center.

00:16:45.906 --> 00:16:47.216 A:middle
But setting the center of the

00:16:47.216 --> 00:16:48.636 A:middle
map does not change the scale.

00:16:48.636 --> 00:16:49.966 A:middle
So, at this scale, we are always

00:16:50.026 --> 00:16:51.256 A:middle
still not very much in focus

00:16:51.256 --> 00:16:52.546 A:middle
because we can see all of South

00:16:52.546 --> 00:16:53.356 A:middle
America, for instance.

00:16:53.356 --> 00:16:55.166 A:middle
So, let's zoom in a little bit.

00:16:56.236 --> 00:16:57.966 A:middle
And in order to do that, I will

00:16:57.966 --> 00:16:59.086 A:middle
set a region.

00:16:59.376 --> 00:17:01.286 A:middle
So, a coordinate region is made

00:16:59.376 --> 00:17:01.286 A:middle
So, a coordinate region is made

00:17:01.286 --> 00:17:02.756 A:middle
up of a center, which is

00:17:02.756 --> 00:17:04.465 A:middle
represented by these dots at the

00:17:04.465 --> 00:17:06.506 A:middle
center of the map, as well as a

00:17:06.506 --> 00:17:07.876 A:middle
latitude and longitude span.

00:17:07.876 --> 00:17:09.226 A:middle
So here, I have represented the

00:17:09.226 --> 00:17:12.076 A:middle
region as this dotted box.

00:17:12.986 --> 00:17:14.896 A:middle
But we will not that the map --

00:17:15.016 --> 00:17:16.076 A:middle
the region that is set

00:17:16.076 --> 00:17:18.246 A:middle
ultimately on your map, will be

00:17:18.246 --> 00:17:19.626 A:middle
bigger than the region that you

00:17:19.626 --> 00:17:21.006 A:middle
asked for because we need to

00:17:21.006 --> 00:17:22.846 A:middle
make sure that it fits entirely

00:17:22.846 --> 00:17:25.006 A:middle
within the bounds that you have

00:17:25.006 --> 00:17:25.786 A:middle
set for your map.

00:17:26.076 --> 00:17:27.496 A:middle
So, in this case, I need to add

00:17:27.496 --> 00:17:29.926 A:middle
some padding, north and south of

00:17:29.926 --> 00:17:31.666 A:middle
the region to be able to show

00:17:31.666 --> 00:17:33.456 A:middle
the -- all of the region that

00:17:33.456 --> 00:17:34.496 A:middle
was specified.

00:17:34.806 --> 00:17:37.606 A:middle
So, in terms of putting the

00:17:37.796 --> 00:17:39.856 A:middle
MapKit JS framework -- the

00:17:40.186 --> 00:17:42.346 A:middle
center is set to a MapKit

00:17:42.346 --> 00:17:43.746 A:middle
coordinator object which is a

00:17:43.746 --> 00:17:45.126 A:middle
latitude and longitude pair.

00:17:45.916 --> 00:17:47.966 A:middle
In the Coordinate Region, to set

00:17:47.966 --> 00:17:50.156 A:middle
the region of the map, is an

00:17:50.156 --> 00:17:52.006 A:middle
object that contains two member,

00:17:52.126 --> 00:17:53.376 A:middle
a center which is also a

00:17:53.376 --> 00:17:55.486 A:middle
coordinate and a coordinate span

00:17:55.486 --> 00:17:57.076 A:middle
which is a latitude delta and a

00:17:57.076 --> 00:18:01.496 A:middle
longitude delta there.

00:17:57.076 --> 00:18:01.496 A:middle
longitude delta there.

00:18:01.736 --> 00:18:03.236 A:middle
How did I come up with the

00:18:03.236 --> 00:18:04.776 A:middle
region or with the coordinates

00:18:04.776 --> 00:18:05.886 A:middle
that I showed you in these

00:18:05.886 --> 00:18:06.416 A:middle
screen shots?

00:18:06.416 --> 00:18:09.046 A:middle
There are many ways to decide on

00:18:09.046 --> 00:18:12.196 A:middle
regions and coordinates.

00:18:12.196 --> 00:18:14.006 A:middle
You can look them up on

00:18:14.006 --> 00:18:15.556 A:middle
Wikipedia and help put them in

00:18:15.556 --> 00:18:16.096 A:middle
your code.

00:18:16.276 --> 00:18:17.746 A:middle
You could get them from some

00:18:17.746 --> 00:18:20.276 A:middle
database that has some

00:18:20.276 --> 00:18:21.486 A:middle
geographical information.

00:18:21.986 --> 00:18:23.706 A:middle
But one way that you can also

00:18:23.706 --> 00:18:26.226 A:middle
get this information, is to use

00:18:26.226 --> 00:18:29.366 A:middle
MapKit Services that includes

00:18:29.366 --> 00:18:30.866 A:middle
Geocoding and Search.

00:18:31.096 --> 00:18:33.256 A:middle
So, Geocoding lets you look at a

00:18:33.256 --> 00:18:35.796 A:middle
place and will return your

00:18:35.796 --> 00:18:36.966 A:middle
coordinate in a region.

00:18:36.966 --> 00:18:38.776 A:middle
So, in these previous examples,

00:18:38.776 --> 00:18:41.116 A:middle
I used the geocoding from MapKit

00:18:41.116 --> 00:18:43.046 A:middle
JS to look at the coordinate in

00:18:43.046 --> 00:18:44.486 A:middle
the region for Rio de Janeiro

00:18:44.486 --> 00:18:45.866 A:middle
and this is what I set on my

00:18:46.666 --> 00:18:46.846 A:middle
map.

00:18:46.846 --> 00:18:48.016 A:middle
You can also use search to

00:18:48.016 --> 00:18:50.026 A:middle
search for places.

00:18:50.306 --> 00:18:52.876 A:middle
And it will return not only the

00:18:52.876 --> 00:18:54.326 A:middle
coordinates of these places, but

00:18:54.326 --> 00:18:55.696 A:middle
also bounding region that you

00:18:55.696 --> 00:18:57.166 A:middle
can set on your map, to make

00:18:57.166 --> 00:18:59.146 A:middle
sure that it encloses all of the

00:19:00.416 --> 00:19:01.156 A:middle
results.

00:19:01.246 --> 00:19:02.956 A:middle
Another way to quickly set a

00:19:02.956 --> 00:19:04.566 A:middle
region on your map that is very

00:19:04.566 --> 00:19:05.976 A:middle
convenient, is a method called

00:19:05.976 --> 00:19:06.736 A:middle
Show Items.

00:19:07.106 --> 00:19:08.836 A:middle
We will see now how to add

00:19:08.836 --> 00:19:10.266 A:middle
annotations and overlays on your

00:19:10.266 --> 00:19:11.916 A:middle
map, and by calling Show Items,

00:19:11.916 --> 00:19:13.706 A:middle
we will make sure that we have a

00:19:13.706 --> 00:19:15.646 A:middle
region that encloses these items

00:19:15.646 --> 00:19:17.076 A:middle
so that they are all visible to

00:19:17.076 --> 00:19:17.536 A:middle
your user.

00:19:18.796 --> 00:19:21.066 A:middle
I will note that region changes

00:19:21.066 --> 00:19:23.226 A:middle
may be animated, so that you can

00:19:23.336 --> 00:19:24.646 A:middle
provide a nice animation.

00:19:24.896 --> 00:19:26.236 A:middle
Or you can set the region

00:19:26.236 --> 00:19:26.776 A:middle
instantly.

00:19:28.256 --> 00:19:31.666 A:middle
Because these things, changing

00:19:31.666 --> 00:19:33.676 A:middle
the regions, changing the

00:19:33.676 --> 00:19:35.296 A:middle
center, etcetera, can be done

00:19:35.296 --> 00:19:37.206 A:middle
from your code but can also be

00:19:37.206 --> 00:19:38.776 A:middle
done by the user as a result of

00:19:38.776 --> 00:19:40.686 A:middle
interactions you want to be able

00:19:40.686 --> 00:19:42.636 A:middle
to react to these interactions.

00:19:43.086 --> 00:19:44.586 A:middle
And we -- and the Map Object

00:19:45.706 --> 00:19:48.496 A:middle
allows you to listen to user

00:19:48.496 --> 00:19:50.616 A:middle
events such as region changes,

00:19:50.616 --> 00:19:51.856 A:middle
when they begin, when they end,

00:19:52.326 --> 00:19:53.886 A:middle
since they can be animated.

00:19:54.186 --> 00:19:55.926 A:middle
And also, when gestures such as

00:19:55.926 --> 00:19:57.676 A:middle
coding, zooming, rotations begin

00:19:57.676 --> 00:19:58.116 A:middle
and end.

00:19:58.526 --> 00:20:00.986 A:middle
We follow the model of DOM Event

00:19:58.526 --> 00:20:00.986 A:middle
We follow the model of DOM Event

00:20:00.986 --> 00:20:02.556 A:middle
Handling, so you will have the

00:20:02.556 --> 00:20:04.216 A:middle
familiar method such as Add

00:20:04.216 --> 00:20:05.396 A:middle
Event Listener and Remove Event

00:20:05.396 --> 00:20:07.536 A:middle
Listener, the name of the event,

00:20:07.536 --> 00:20:09.256 A:middle
and you get past an event object

00:20:09.256 --> 00:20:10.516 A:middle
with the parameters of the

00:20:10.516 --> 00:20:10.826 A:middle
event.

00:20:11.146 --> 00:20:13.006 A:middle
So, for instance, if I wanted to

00:20:13.006 --> 00:20:15.376 A:middle
refresh my map with some new

00:20:15.376 --> 00:20:16.856 A:middle
information every time the user

00:20:16.856 --> 00:20:18.166 A:middle
has mapped to a different area,

00:20:18.456 --> 00:20:20.076 A:middle
I can listen to region change

00:20:20.076 --> 00:20:22.106 A:middle
and events, and that will let me

00:20:22.106 --> 00:20:23.836 A:middle
know that the map has settled to

00:20:23.836 --> 00:20:25.616 A:middle
a new place, and I can now use

00:20:25.616 --> 00:20:27.866 A:middle
the region of that map to

00:20:28.216 --> 00:20:30.876 A:middle
compute which information I

00:20:30.876 --> 00:20:34.586 A:middle
wanted to show at this stage.

00:20:34.796 --> 00:20:36.816 A:middle
Now, that we know how to set up

00:20:36.816 --> 00:20:38.416 A:middle
a map, let's add some our own

00:20:38.416 --> 00:20:39.346 A:middle
information on it.

00:20:39.766 --> 00:20:40.606 A:middle
And we can do that with

00:20:40.606 --> 00:20:41.686 A:middle
annotations and overlay.

00:20:41.686 --> 00:20:43.046 A:middle
We'll start with annotations.

00:20:43.126 --> 00:20:44.506 A:middle
And MapKit JS provides three

00:20:44.506 --> 00:20:45.496 A:middle
kinds of annotations.

00:20:45.496 --> 00:20:46.576 A:middle
The first one, you've had a

00:20:46.576 --> 00:20:48.276 A:middle
quick peek at it, which is the

00:20:48.276 --> 00:20:49.236 A:middle
Marker Annotation.

00:20:50.546 --> 00:20:52.036 A:middle
You can customize annotations

00:20:52.036 --> 00:20:53.606 A:middle
further than the -- what the

00:20:53.606 --> 00:20:54.986 A:middle
marker annotation provides by

00:20:54.986 --> 00:20:57.406 A:middle
using images, or even DOM

00:20:57.406 --> 00:20:58.566 A:middle
Elements that will have

00:20:58.566 --> 00:21:00.166 A:middle
completely customizable

00:20:58.566 --> 00:21:00.166 A:middle
completely customizable

00:21:00.166 --> 00:21:01.196 A:middle
appearance.

00:21:02.336 --> 00:21:04.096 A:middle
The marker annotations are the

00:21:04.096 --> 00:21:06.136 A:middle
most useful annotations that

00:21:06.136 --> 00:21:08.786 A:middle
MapKit JS provide as they also

00:21:08.786 --> 00:21:11.316 A:middle
have lots of rich interaction

00:21:11.316 --> 00:21:11.806 A:middle
built-in.

00:21:12.706 --> 00:21:13.766 A:middle
And there's lots of styling

00:21:13.766 --> 00:21:14.136 A:middle
options.

00:21:14.136 --> 00:21:15.416 A:middle
So, they are analogous to the

00:21:15.416 --> 00:21:16.616 A:middle
marker annotations that that you

00:21:16.616 --> 00:21:18.106 A:middle
may have seen already on iOS.

00:21:18.716 --> 00:21:20.386 A:middle
They have a built-in animation

00:21:20.386 --> 00:21:22.116 A:middle
for selection and deselection.

00:21:22.396 --> 00:21:23.796 A:middle
And they automatically collide

00:21:23.796 --> 00:21:26.116 A:middle
out the underlying map labels as

00:21:26.116 --> 00:21:26.826 A:middle
we've seen before.

00:21:26.826 --> 00:21:27.986 A:middle
So here, when I select my

00:21:27.986 --> 00:21:30.436 A:middle
annotation, the label for the

00:21:30.436 --> 00:21:32.836 A:middle
exit of the station is hidden to

00:21:32.836 --> 00:21:34.186 A:middle
make room for the subtitle.

00:21:35.766 --> 00:21:38.376 A:middle
Marker annotations -- the

00:21:39.016 --> 00:21:40.946 A:middle
appearance of marker annotation

00:21:40.946 --> 00:21:43.156 A:middle
also adapts itself automatically

00:21:43.436 --> 00:21:44.686 A:middle
to the rendering mode that has

00:21:44.686 --> 00:21:46.176 A:middle
been selected by MapKit JS for

00:21:46.176 --> 00:21:46.466 A:middle
your map.

00:21:46.966 --> 00:21:48.236 A:middle
So, we've seen that if we have

00:21:48.236 --> 00:21:49.666 A:middle
Client-Side Rendering Mode or

00:21:49.666 --> 00:21:51.616 A:middle
Label Only Client-Side Rendering

00:21:51.616 --> 00:21:53.186 A:middle
Mode, we are able to hide

00:21:53.186 --> 00:21:54.926 A:middle
labels, so we can display the

00:21:54.926 --> 00:21:56.296 A:middle
title and the subtitle of your

00:21:56.296 --> 00:21:57.226 A:middle
annotations on the map.

00:21:57.566 --> 00:21:59.166 A:middle
And this is what is shown on the

00:21:59.166 --> 00:21:59.816 A:middle
left-hand side.

00:22:00.576 --> 00:22:02.196 A:middle
If you have Server-Side

00:22:02.196 --> 00:22:03.926 A:middle
Rendering, the labels are built

00:22:03.926 --> 00:22:05.766 A:middle
into tiles and we cannot hide

00:22:05.766 --> 00:22:05.966 A:middle
them.

00:22:05.966 --> 00:22:07.506 A:middle
So, if you see the map on the

00:22:07.506 --> 00:22:08.636 A:middle
right-hand side, we see that we

00:22:08.636 --> 00:22:10.006 A:middle
have many more labels because

00:22:10.006 --> 00:22:11.366 A:middle
none of them have been hidden.

00:22:11.846 --> 00:22:13.166 A:middle
So, in order to be able to show

00:22:13.166 --> 00:22:16.336 A:middle
our annotations legibly, we only

00:22:16.336 --> 00:22:17.836 A:middle
show the annotation balloon and

00:22:17.836 --> 00:22:19.236 A:middle
the labels are not shown on the

00:22:19.236 --> 00:22:19.466 A:middle
map.

00:22:19.906 --> 00:22:21.426 A:middle
We can still see the title and

00:22:21.426 --> 00:22:22.806 A:middle
the subtitle of these

00:22:22.806 --> 00:22:24.976 A:middle
annotations when we select them

00:22:24.976 --> 00:22:26.866 A:middle
by using a callout bubble as in

00:22:26.866 --> 00:22:27.446 A:middle
this example.

00:22:27.796 --> 00:22:29.066 A:middle
And custom annotations, will

00:22:29.066 --> 00:22:31.156 A:middle
also make use of these callout

00:22:31.306 --> 00:22:33.966 A:middle
bubble to show the title and

00:22:34.756 --> 00:22:35.626 A:middle
subtitle.

00:22:35.626 --> 00:22:37.016 A:middle
Finally, the market annotations

00:22:37.016 --> 00:22:38.616 A:middle
provide a lot of standing

00:22:38.616 --> 00:22:39.066 A:middle
options.

00:22:39.626 --> 00:22:41.016 A:middle
So, this is the default for

00:22:41.016 --> 00:22:41.816 A:middle
market annotation.

00:22:41.816 --> 00:22:43.596 A:middle
You create an annotation with a

00:22:43.596 --> 00:22:45.776 A:middle
coordinate and some properties

00:22:45.776 --> 00:22:47.176 A:middle
such as title and subtitle, and

00:22:47.176 --> 00:22:49.736 A:middle
this is the basic default

00:22:49.736 --> 00:22:50.346 A:middle
rendering.

00:22:50.576 --> 00:22:52.346 A:middle
You have glyph image which is a

00:22:52.346 --> 00:22:54.296 A:middle
pin shown in the balloon, and it

00:22:54.386 --> 00:22:55.686 A:middle
comes up with a red color.

00:22:57.036 --> 00:22:59.216 A:middle
You can change that color to any

00:22:59.216 --> 00:23:00.256 A:middle
CSS color value.

00:22:59.216 --> 00:23:00.256 A:middle
CSS color value.

00:23:00.256 --> 00:23:02.176 A:middle
So, here, I've used a green

00:23:02.176 --> 00:23:03.406 A:middle
color for my balloon.

00:23:03.836 --> 00:23:05.316 A:middle
You can also change the color of

00:23:05.316 --> 00:23:06.136 A:middle
the glyph.

00:23:06.136 --> 00:23:07.506 A:middle
So, the glyph can only have one

00:23:07.506 --> 00:23:07.846 A:middle
color.

00:23:08.156 --> 00:23:10.056 A:middle
So, in this case, I switched

00:23:10.056 --> 00:23:11.716 A:middle
from the default white to a

00:23:11.716 --> 00:23:13.816 A:middle
yellow color.

00:23:13.986 --> 00:23:15.256 A:middle
You can change the image of the

00:23:15.256 --> 00:23:15.556 A:middle
glyph.

00:23:15.556 --> 00:23:16.946 A:middle
So, from the default pin that is

00:23:16.946 --> 00:23:19.166 A:middle
provided by MapKit JS, to any

00:23:19.166 --> 00:23:20.756 A:middle
raster image that you can

00:23:20.756 --> 00:23:21.166 A:middle
provide.

00:23:21.216 --> 00:23:22.866 A:middle
So, in this case, I've provided

00:23:22.866 --> 00:23:23.966 A:middle
this image.

00:23:23.966 --> 00:23:25.526 A:middle
You can give several sources for

00:23:25.526 --> 00:23:27.336 A:middle
your images for different pixel

00:23:27.336 --> 00:23:27.796 A:middle
ratios.

00:23:29.176 --> 00:23:31.396 A:middle
When the annotation is selected,

00:23:31.536 --> 00:23:33.106 A:middle
it becomes bigger, so you have

00:23:33.106 --> 00:23:34.646 A:middle
more room to show more details

00:23:34.646 --> 00:23:35.656 A:middle
in your glyph.

00:23:35.706 --> 00:23:37.136 A:middle
So, in this case, we can also

00:23:37.136 --> 00:23:39.476 A:middle
specify a selected glyph image,

00:23:39.476 --> 00:23:40.896 A:middle
which is different from the

00:23:40.896 --> 00:23:41.596 A:middle
original one.

00:23:43.076 --> 00:23:44.766 A:middle
Finally, instead of an image,

00:23:44.766 --> 00:23:46.026 A:middle
you can change the glyph by

00:23:46.026 --> 00:23:47.486 A:middle
using some text.

00:23:47.486 --> 00:23:49.756 A:middle
We recommend that you stick to

00:23:49.756 --> 00:23:51.886 A:middle
very, short strings such as one

00:23:51.886 --> 00:23:53.856 A:middle
to three characters, and in this

00:23:53.856 --> 00:23:55.206 A:middle
case, I'm just using the Letter

00:23:55.206 --> 00:23:55.436 A:middle
M.

00:23:55.996 --> 00:23:57.166 A:middle
When the glyph text and the

00:23:57.166 --> 00:23:58.776 A:middle
glyph image are both specified,

00:23:58.776 --> 00:24:00.796 A:middle
then the glyph text is shown.

00:23:58.776 --> 00:24:00.796 A:middle
then the glyph text is shown.

00:24:01.556 --> 00:24:03.006 A:middle
So, now that we know how to

00:24:03.006 --> 00:24:04.746 A:middle
display marker annotations, we

00:24:04.746 --> 00:24:06.376 A:middle
can go crazy and put a lot of

00:24:06.376 --> 00:24:07.236 A:middle
annotations on our map.

00:24:07.686 --> 00:24:08.896 A:middle
So, this is the result of doing

00:24:08.896 --> 00:24:11.246 A:middle
searches for cafes and bars in

00:24:11.246 --> 00:24:11.676 A:middle
Paris.

00:24:11.676 --> 00:24:12.716 A:middle
And I've styled them slightly

00:24:12.716 --> 00:24:14.416 A:middle
differently to distinguish them

00:24:14.416 --> 00:24:15.096 A:middle
from one another.

00:24:15.586 --> 00:24:16.996 A:middle
But the problem is that there is

00:24:16.996 --> 00:24:19.176 A:middle
a very dense number of

00:24:19.176 --> 00:24:20.916 A:middle
annotations in the same area.

00:24:21.486 --> 00:24:23.576 A:middle
Fortunately, we have two ways in

00:24:23.576 --> 00:24:25.336 A:middle
MapKit JS to deal with this sort

00:24:25.336 --> 00:24:25.856 A:middle
of clutter.

00:24:26.466 --> 00:24:27.676 A:middle
The first one is to set a

00:24:27.676 --> 00:24:29.406 A:middle
display priority property on

00:24:29.406 --> 00:24:30.096 A:middle
annotations.

00:24:30.776 --> 00:24:32.226 A:middle
What this means is that when two

00:24:32.226 --> 00:24:33.466 A:middle
annotations collide, the

00:24:33.466 --> 00:24:34.596 A:middle
annotation with the highest

00:24:34.596 --> 00:24:35.866 A:middle
display property, which is a

00:24:35.866 --> 00:24:39.466 A:middle
number, will collide out the

00:24:39.466 --> 00:24:40.666 A:middle
annotation with the lowest

00:24:40.726 --> 00:24:41.596 A:middle
display priority.

00:24:42.236 --> 00:24:43.936 A:middle
So, in this case, we can see

00:24:43.936 --> 00:24:45.176 A:middle
that many annotations have been

00:24:45.176 --> 00:24:45.816 A:middle
collided out.

00:24:46.006 --> 00:24:47.726 A:middle
When you zoom in and out, these

00:24:47.726 --> 00:24:49.266 A:middle
collisions run again, so that

00:24:49.266 --> 00:24:51.066 A:middle
zooming in for instance, will

00:24:51.156 --> 00:24:52.506 A:middle
let you discover more

00:24:52.506 --> 00:24:53.046 A:middle
annotations.

00:24:53.496 --> 00:24:54.376 A:middle
And when they have the same

00:24:54.376 --> 00:24:56.356 A:middle
display priority, we will use

00:24:56.356 --> 00:24:57.466 A:middle
the one that appears at the

00:24:57.466 --> 00:24:59.336 A:middle
bottom of the screen as the more

00:24:59.636 --> 00:25:01.756 A:middle
-- as the one with the highest

00:24:59.636 --> 00:25:01.756 A:middle
-- as the one with the highest

00:25:02.876 --> 00:25:03.286 A:middle
priority.

00:25:03.286 --> 00:25:04.236 A:middle
Another way to deal with

00:25:04.236 --> 00:25:05.746 A:middle
clutter, is to use clustering

00:25:05.746 --> 00:25:06.676 A:middle
instead of these display

00:25:06.676 --> 00:25:07.266 A:middle
priorities.

00:25:07.696 --> 00:25:08.686 A:middle
So, in this case, when two

00:25:08.686 --> 00:25:10.256 A:middle
annotations that have the same

00:25:10.256 --> 00:25:11.706 A:middle
clustering identifier, which is

00:25:11.706 --> 00:25:13.036 A:middle
a property that can be set on

00:25:13.036 --> 00:25:14.736 A:middle
marker annotations, and is a

00:25:14.736 --> 00:25:16.406 A:middle
simple string, when two

00:25:16.406 --> 00:25:17.896 A:middle
annotations that collide and

00:25:17.896 --> 00:25:18.966 A:middle
have the same clustering

00:25:18.966 --> 00:25:20.956 A:middle
identifier, they are replaced by

00:25:20.956 --> 00:25:22.396 A:middle
a single annotation that will

00:25:22.396 --> 00:25:23.856 A:middle
represent both of them, or more

00:25:23.856 --> 00:25:25.316 A:middle
than two of them of course if

00:25:25.316 --> 00:25:26.506 A:middle
more than two annotations

00:25:26.506 --> 00:25:26.866 A:middle
collide.

00:25:26.996 --> 00:25:28.906 A:middle
So, in this case, we see that

00:25:28.906 --> 00:25:30.436 A:middle
some of the annotations can be

00:25:30.436 --> 00:25:32.456 A:middle
shown by themselves because they

00:25:32.456 --> 00:25:35.176 A:middle
have no neighbor, but in the

00:25:35.176 --> 00:25:37.196 A:middle
dense areas in the center, we

00:25:37.196 --> 00:25:39.186 A:middle
have clustered several

00:25:39.186 --> 00:25:40.086 A:middle
annotations together.

00:25:40.546 --> 00:25:42.306 A:middle
When a cluster is created, we

00:25:42.306 --> 00:25:43.446 A:middle
use a marker annotation to

00:25:43.446 --> 00:25:44.676 A:middle
represent it and we use the

00:25:44.676 --> 00:25:45.856 A:middle
glyph to show how many

00:25:45.856 --> 00:25:47.366 A:middle
annotations are in the cluster.

00:25:47.876 --> 00:25:50.066 A:middle
You can also change the behavior

00:25:50.066 --> 00:25:51.006 A:middle
-- not the behavior, the

00:25:51.006 --> 00:25:53.226 A:middle
appearance of your clusters, by

00:25:53.226 --> 00:25:56.176 A:middle
specifying a new style or a new

00:25:56.176 --> 00:25:57.076 A:middle
kind of annotation.

00:25:57.756 --> 00:25:59.526 A:middle
And now, we'll do a small demo

00:25:59.826 --> 00:26:01.466 A:middle
to show these annotations in

00:25:59.826 --> 00:26:01.466 A:middle
to show these annotations in

00:26:01.466 --> 00:26:01.826 A:middle
action.

00:26:06.276 --> 00:26:08.856 A:middle
So, in this demo, which should

00:26:10.456 --> 00:26:12.886 A:middle
appear here -- in this demo, we

00:26:12.886 --> 00:26:15.656 A:middle
will use a map and the data that

00:26:15.656 --> 00:26:18.306 A:middle
we will display is Bigfoot

00:26:18.306 --> 00:26:19.866 A:middle
Sightings that Have Occurred in

00:26:19.866 --> 00:26:20.386 A:middle
this Area.

00:26:20.796 --> 00:26:23.166 A:middle
So, after this session, or maybe

00:26:23.166 --> 00:26:25.146 A:middle
this weekend when you are done

00:26:25.146 --> 00:26:26.926 A:middle
with the conference, you can

00:26:26.926 --> 00:26:29.066 A:middle
maybe go explore the woods of

00:26:29.066 --> 00:26:30.396 A:middle
Northern California and see if

00:26:30.396 --> 00:26:33.776 A:middle
you can find Bigfoot.

00:26:33.776 --> 00:26:37.086 A:middle
I have created a map which I

00:26:37.086 --> 00:26:38.446 A:middle
have initialized in the manner

00:26:38.446 --> 00:26:40.966 A:middle
that I've displayed in the

00:26:40.966 --> 00:26:41.786 A:middle
previous slides.

00:26:42.746 --> 00:26:46.086 A:middle
And what I have done, is I have

00:26:46.086 --> 00:26:47.646 A:middle
gathered a list of Bigfoot

00:26:47.646 --> 00:26:49.246 A:middle
annotations -- of Bigfoot

00:26:49.246 --> 00:26:51.716 A:middle
sightings, sorry, including the

00:26:51.716 --> 00:26:53.466 A:middle
location, the year in which they

00:26:53.466 --> 00:26:56.206 A:middle
occurred, and some other

00:26:56.206 --> 00:26:56.896 A:middle
information.

00:26:57.446 --> 00:26:58.696 A:middle
So, what I will want to do is I

00:26:58.696 --> 00:26:59.476 A:middle
will want to use these

00:26:59.476 --> 00:27:00.716 A:middle
annotations, show them on the

00:26:59.476 --> 00:27:00.716 A:middle
annotations, show them on the

00:27:00.716 --> 00:27:02.416 A:middle
map, with marker annotation.

00:27:02.416 --> 00:27:04.296 A:middle
So, let me start by creating a

00:27:04.296 --> 00:27:06.896 A:middle
function to translate a sighting

00:27:06.896 --> 00:27:08.136 A:middle
object which has all these

00:27:08.136 --> 00:27:09.986 A:middle
properties, into a marker

00:27:09.986 --> 00:27:10.616 A:middle
annotation.

00:27:11.796 --> 00:27:13.486 A:middle
So, when I get a sighting, I

00:27:13.486 --> 00:27:14.966 A:middle
want the coordinate of the

00:27:14.966 --> 00:27:16.126 A:middle
sighting to be used as the

00:27:16.126 --> 00:27:17.186 A:middle
coordinate of my marker

00:27:17.186 --> 00:27:17.776 A:middle
annotation.

00:27:18.536 --> 00:27:20.156 A:middle
And these sightings have several

00:27:20.156 --> 00:27:21.286 A:middle
other properties, such as the

00:27:21.286 --> 00:27:22.376 A:middle
year of the sighting, which I

00:27:22.376 --> 00:27:24.336 A:middle
will display in the title.

00:27:24.646 --> 00:27:26.806 A:middle
This comes from a database put

00:27:26.806 --> 00:27:28.446 A:middle
together by the Bigfoot Field

00:27:28.446 --> 00:27:30.426 A:middle
Researchers Organization.

00:27:30.756 --> 00:27:32.706 A:middle
So, I will show the idea so that

00:27:32.706 --> 00:27:33.936 A:middle
if you are interested in more

00:27:33.936 --> 00:27:35.106 A:middle
details about that sighting, you

00:27:35.106 --> 00:27:37.596 A:middle
can go look at that database and

00:27:37.596 --> 00:27:39.486 A:middle
find even more information.

00:27:39.956 --> 00:27:41.986 A:middle
And finally, I'm ready to create

00:27:41.986 --> 00:27:43.216 A:middle
a marker annotation with that

00:27:43.216 --> 00:27:44.706 A:middle
coordinate and these options

00:27:44.706 --> 00:27:45.406 A:middle
that I've created.

00:27:46.306 --> 00:27:47.766 A:middle
So, now that I know how to set

00:27:47.766 --> 00:27:49.646 A:middle
up a marker annotation for a

00:27:49.646 --> 00:27:52.616 A:middle
sighting, I will get the

00:27:52.616 --> 00:27:54.756 A:middle
sightings that I've prepared.

00:27:56.076 --> 00:27:58.426 A:middle
And with this list of sightings,

00:27:58.816 --> 00:28:00.566 A:middle
I will create an annotation for

00:27:58.816 --> 00:28:00.566 A:middle
I will create an annotation for

00:28:00.566 --> 00:28:03.526 A:middle
each of them.

00:28:03.576 --> 00:28:05.746 A:middle
I will then make sure that my

00:28:05.746 --> 00:28:07.366 A:middle
sightings are shown on the map.

00:28:07.796 --> 00:28:09.066 A:middle
My annotations are shown on the

00:28:09.066 --> 00:28:09.256 A:middle
map.

00:28:09.516 --> 00:28:10.726 A:middle
And I will use the Show Items

00:28:10.726 --> 00:28:12.366 A:middle
method, which is very convenient

00:28:12.366 --> 00:28:14.316 A:middle
because not only it ensures that

00:28:14.316 --> 00:28:16.086 A:middle
the items are visible, but also

00:28:16.086 --> 00:28:17.986 A:middle
that they are added to the map.

00:28:18.626 --> 00:28:20.396 A:middle
And since I'm doing a webpage, I

00:28:20.396 --> 00:28:21.856 A:middle
can also add some extra

00:28:21.856 --> 00:28:23.376 A:middle
information on my page such as

00:28:23.376 --> 00:28:24.656 A:middle
how many sightings there were in

00:28:24.656 --> 00:28:25.126 A:middle
this area.

00:28:26.536 --> 00:28:29.316 A:middle
So, let me make sure that I save

00:28:30.666 --> 00:28:33.926 A:middle
and by reloading, I now see a

00:28:33.926 --> 00:28:36.236 A:middle
map with 60 sightings on it.

00:28:36.696 --> 00:28:38.166 A:middle
So, all of these annotations are

00:28:38.166 --> 00:28:39.816 A:middle
sightings and we run into the

00:28:39.816 --> 00:28:40.686 A:middle
problem that I've just

00:28:40.686 --> 00:28:42.196 A:middle
highlighted which is that in

00:28:42.196 --> 00:28:44.086 A:middle
this park area, I can see lots

00:28:44.086 --> 00:28:45.726 A:middle
of sightings happening, and they

00:28:45.726 --> 00:28:46.836 A:middle
all overlap each other.

00:28:47.196 --> 00:28:48.936 A:middle
And even as I zoom in, I can see

00:28:48.936 --> 00:28:50.416 A:middle
that there's still lots of

00:28:50.716 --> 00:28:52.236 A:middle
clutter, so I will clean that up

00:28:52.616 --> 00:28:54.066 A:middle
using the Display Priority

00:28:54.506 --> 00:28:56.506 A:middle
Property on Annotations.

00:28:57.886 --> 00:28:59.916 A:middle
So, in order to choose a display

00:28:59.916 --> 00:29:01.416 A:middle
priority, what I will use is I

00:28:59.916 --> 00:29:01.416 A:middle
priority, what I will use is I

00:29:01.416 --> 00:29:04.016 A:middle
will use a very important

00:29:04.016 --> 00:29:06.306 A:middle
property of the sightings which

00:29:06.306 --> 00:29:07.306 A:middle
is whether they were clear

00:29:07.306 --> 00:29:07.786 A:middle
sightings.

00:29:07.786 --> 00:29:09.106 A:middle
So, if someone really, really

00:29:09.106 --> 00:29:11.056 A:middle
saw bigfoot, or maybe they just

00:29:11.056 --> 00:29:13.536 A:middle
heard it or saw some traces of

00:29:13.536 --> 00:29:13.756 A:middle
it.

00:29:14.126 --> 00:29:15.806 A:middle
So, I have this clear flag which

00:29:15.806 --> 00:29:17.296 A:middle
I will use to set my display

00:29:17.296 --> 00:29:17.826 A:middle
priority.

00:29:18.346 --> 00:29:20.116 A:middle
Display priorities a number and

00:29:20.116 --> 00:29:21.346 A:middle
these priorities can be pretty

00:29:21.346 --> 00:29:22.016 A:middle
arbitrary.

00:29:22.306 --> 00:29:24.416 A:middle
So, we provide predefined

00:29:24.526 --> 00:29:26.186 A:middle
values, such as required,

00:29:26.186 --> 00:29:27.376 A:middle
meaning that your annotation

00:29:27.376 --> 00:29:29.026 A:middle
must always be shown on the map,

00:29:29.266 --> 00:29:30.966 A:middle
but also, high and low display

00:29:30.966 --> 00:29:31.546 A:middle
priority.

00:29:31.896 --> 00:29:33.176 A:middle
So, when the sighting is clear,

00:29:33.176 --> 00:29:34.466 A:middle
I will set a high display

00:29:34.466 --> 00:29:35.036 A:middle
priority.

00:29:35.356 --> 00:29:36.916 A:middle
When it's not, I will set a low

00:29:36.916 --> 00:29:37.736 A:middle
display priority.

00:29:38.766 --> 00:29:40.296 A:middle
And finally, I will also encode

00:29:40.296 --> 00:29:41.746 A:middle
that information as the color of

00:29:41.746 --> 00:29:43.306 A:middle
my annotation so that the users

00:29:43.306 --> 00:29:45.636 A:middle
can understand better why an

00:29:45.636 --> 00:29:47.416 A:middle
annotation was shown or now.

00:29:47.836 --> 00:29:49.846 A:middle
So, when it's brown, it's a

00:29:49.846 --> 00:29:51.226 A:middle
clear annotation and when it's

00:29:51.226 --> 00:29:52.526 A:middle
great, it was not so clear.

00:29:53.276 --> 00:29:54.236 A:middle
So, let's see the difference

00:29:54.236 --> 00:29:55.036 A:middle
that this makes.

00:29:56.856 --> 00:29:58.316 A:middle
So, now you can see that the map

00:29:58.316 --> 00:30:00.316 A:middle
is much cleaner because all of

00:29:58.316 --> 00:30:00.316 A:middle
is much cleaner because all of

00:30:00.316 --> 00:30:01.696 A:middle
the collisions have been a

00:30:01.696 --> 00:30:02.876 A:middle
result.

00:30:02.876 --> 00:30:04.376 A:middle
You can see that some of the

00:30:04.376 --> 00:30:05.296 A:middle
annotations are brown.

00:30:05.296 --> 00:30:06.046 A:middle
So, these are the clear

00:30:06.046 --> 00:30:06.526 A:middle
sightings.

00:30:06.526 --> 00:30:07.976 A:middle
These are probably the ones that

00:30:07.976 --> 00:30:10.246 A:middle
are the most interesting ones to

00:30:10.246 --> 00:30:11.376 A:middle
visit first.

00:30:11.666 --> 00:30:13.476 A:middle
But you can also see that if I

00:30:13.476 --> 00:30:15.536 A:middle
zoom in on the map, then new

00:30:15.536 --> 00:30:17.426 A:middle
sightings are being revealed.

00:30:17.736 --> 00:30:19.476 A:middle
So, your users can explore the

00:30:19.476 --> 00:30:21.716 A:middle
map and find out about where

00:30:21.716 --> 00:30:24.356 A:middle
they can hope to see Bigfoot.

00:30:24.476 --> 00:30:27.436 A:middle
I will conclude by this demo, by

00:30:27.436 --> 00:30:29.776 A:middle
adding, another piece of

00:30:29.776 --> 00:30:31.026 A:middle
information to my map.

00:30:31.026 --> 00:30:33.776 A:middle
I will change the glyph to be

00:30:33.846 --> 00:30:37.436 A:middle
either an icon of Bigfoot which

00:30:37.436 --> 00:30:37.956 A:middle
I've prepared.

00:30:37.956 --> 00:30:40.986 A:middle
So, this is a simple PNG image

00:30:41.946 --> 00:30:43.286 A:middle
which I will use for the clear

00:30:43.286 --> 00:30:45.916 A:middle
sightings, and in case the

00:30:45.916 --> 00:30:47.406 A:middle
sighting is not so clear, I will

00:30:47.406 --> 00:30:49.876 A:middle
make that more explicit by

00:30:49.876 --> 00:30:52.676 A:middle
setting the glyph text to be a

00:30:52.676 --> 00:30:53.356 A:middle
question mark.

00:30:54.876 --> 00:30:57.906 A:middle
And now, what I can see, is that

00:30:58.666 --> 00:31:00.966 A:middle
these questionable sightings are

00:30:58.666 --> 00:31:00.966 A:middle
these questionable sightings are

00:31:01.006 --> 00:31:01.836 A:middle
a question mark.

00:31:02.346 --> 00:31:03.936 A:middle
And the Bigfoot sightings that

00:31:03.936 --> 00:31:05.556 A:middle
are really clear, have the

00:31:05.556 --> 00:31:06.316 A:middle
Bigfoot icon.

00:31:06.826 --> 00:31:10.736 A:middle
So, this includes the first

00:31:10.736 --> 00:31:11.156 A:middle
demo.

00:31:11.596 --> 00:31:12.666 A:middle
Thank you.

00:31:13.516 --> 00:31:15.786 A:middle
[ Applause ]

00:31:16.286 --> 00:31:20.036 A:middle
So, in this demo, we show how to

00:31:20.156 --> 00:31:21.996 A:middle
create marker annotations from

00:31:21.996 --> 00:31:24.336 A:middle
JavaScript objects, how to set

00:31:24.336 --> 00:31:25.476 A:middle
the display priority of

00:31:25.476 --> 00:31:27.166 A:middle
annotations to unclutter our

00:31:27.166 --> 00:31:29.226 A:middle
map, and how to style these

00:31:29.226 --> 00:31:30.666 A:middle
annotations with colored glyph

00:31:30.666 --> 00:31:31.916 A:middle
image, glyph text, so that we

00:31:31.916 --> 00:31:33.626 A:middle
can translate the information

00:31:33.626 --> 00:31:36.996 A:middle
that we have onto the map.

00:31:37.506 --> 00:31:39.666 A:middle
Sometimes, market annotation is

00:31:39.666 --> 00:31:41.326 A:middle
very convenient, but may not be

00:31:41.326 --> 00:31:43.476 A:middle
exactly what you want to use on

00:31:43.476 --> 00:31:43.926 A:middle
your map.

00:31:44.076 --> 00:31:45.516 A:middle
For instance, if you want to use

00:31:45.516 --> 00:31:47.186 A:middle
the logo of your company and it

00:31:47.186 --> 00:31:48.906 A:middle
has more than one color, then

00:31:48.906 --> 00:31:50.246 A:middle
you cannot choose a glyph image

00:31:50.246 --> 00:31:52.666 A:middle
because it's restricted to just

00:31:52.666 --> 00:31:53.716 A:middle
one color.

00:31:53.716 --> 00:31:54.896 A:middle
Sometimes the shape of the

00:31:54.896 --> 00:31:56.326 A:middle
annotation is not really the one

00:31:56.326 --> 00:31:57.936 A:middle
that you are going for, so in

00:31:57.936 --> 00:31:59.326 A:middle
this case, you may provide

00:31:59.326 --> 00:32:01.056 A:middle
images to represent your

00:31:59.326 --> 00:32:01.056 A:middle
images to represent your

00:32:01.056 --> 00:32:02.026 A:middle
annotations instead.

00:32:02.306 --> 00:32:03.266 A:middle
So, in this case, I have the

00:32:03.266 --> 00:32:05.666 A:middle
small sticker look to mark

00:32:05.666 --> 00:32:06.986 A:middle
places where -- which I have

00:32:06.986 --> 00:32:07.946 A:middle
visited recently.

00:32:09.066 --> 00:32:11.206 A:middle
So, I can use a raster image for

00:32:11.206 --> 00:32:12.056 A:middle
these annotations.

00:32:12.346 --> 00:32:13.946 A:middle
The title and subtitle are shown

00:32:13.946 --> 00:32:15.306 A:middle
in a callout bubble, just like

00:32:15.306 --> 00:32:16.616 A:middle
in Server-Side Rendering for

00:32:16.616 --> 00:32:17.536 A:middle
marker annotations.

00:32:17.846 --> 00:32:18.886 A:middle
And to create an image

00:32:18.886 --> 00:32:20.706 A:middle
annotation, this is very similar

00:32:20.706 --> 00:32:23.096 A:middle
to a marker annotation, but with

00:32:23.096 --> 00:32:24.466 A:middle
the additional property that

00:32:24.466 --> 00:32:25.706 A:middle
much be provided which is the

00:32:25.706 --> 00:32:26.986 A:middle
URL for the images.

00:32:27.316 --> 00:32:28.246 A:middle
And here, you can see two

00:32:28.246 --> 00:32:29.826 A:middle
different URLs for two different

00:32:29.826 --> 00:32:30.556 A:middle
pixel ratios.

00:32:32.466 --> 00:32:34.836 A:middle
Another way that I could

00:32:34.836 --> 00:32:36.236 A:middle
represent a notation is using

00:32:36.236 --> 00:32:37.726 A:middle
the classic pin example.

00:32:38.226 --> 00:32:40.786 A:middle
And pins usually come up in many

00:32:40.786 --> 00:32:41.486 A:middle
different colors.

00:32:41.696 --> 00:32:42.776 A:middle
And the problem is that if I

00:32:42.776 --> 00:32:44.416 A:middle
want to provide a lot of

00:32:44.416 --> 00:32:45.646 A:middle
different colors, I will need to

00:32:45.646 --> 00:32:46.706 A:middle
provide a lot of different

00:32:46.706 --> 00:32:47.206 A:middle
images.

00:32:47.666 --> 00:32:49.006 A:middle
And this can quickly become

00:32:49.046 --> 00:32:49.686 A:middle
unmanageable.

00:32:49.686 --> 00:32:51.696 A:middle
So instead, what I can do is I

00:32:51.696 --> 00:32:53.096 A:middle
can use a custom annotation.

00:32:53.096 --> 00:32:54.386 A:middle
And in this case, instead of an

00:32:54.386 --> 00:32:56.366 A:middle
image, I will use any DOM

00:32:56.366 --> 00:32:57.666 A:middle
Element to represent my

00:32:57.666 --> 00:32:58.266 A:middle
annotation.

00:32:59.666 --> 00:33:01.416 A:middle
And these elements are created

00:32:59.666 --> 00:33:01.416 A:middle
And these elements are created

00:33:01.416 --> 00:33:03.626 A:middle
on demand for your annotations.

00:33:03.866 --> 00:33:04.986 A:middle
So, let's see an example.

00:33:04.986 --> 00:33:07.906 A:middle
Here, if I wanted to do just

00:33:07.906 --> 00:33:09.876 A:middle
some color for any pin that

00:33:09.876 --> 00:33:12.746 A:middle
shows up on my map, then I will

00:33:12.746 --> 00:33:13.906 A:middle
create an annotation with a

00:33:13.906 --> 00:33:14.786 A:middle
coordinate [inaudible].

00:33:14.786 --> 00:33:16.496 A:middle
And a third parameter which is a

00:33:16.496 --> 00:33:18.086 A:middle
function that we will return a

00:33:18.086 --> 00:33:19.536 A:middle
DOM Element for that annotation.

00:33:19.966 --> 00:33:21.016 A:middle
So, in this case, I will use a

00:33:21.016 --> 00:33:21.856 A:middle
Canvas Element.

00:33:22.356 --> 00:33:23.636 A:middle
I create a Canvas Element.

00:33:23.636 --> 00:33:24.906 A:middle
I get .Context.

00:33:24.906 --> 00:33:26.156 A:middle
I drew a pin image in that

00:33:26.156 --> 00:33:26.656 A:middle
Canvas.

00:33:27.056 --> 00:33:28.936 A:middle
I changed the head of the pin to

00:33:28.936 --> 00:33:30.366 A:middle
the color that I want, and I

00:33:30.366 --> 00:33:31.256 A:middle
returned to Canvas.

00:33:31.256 --> 00:33:32.966 A:middle
And this is the Canvas that is

00:33:32.966 --> 00:33:34.376 A:middle
shown on the map for this

00:33:34.376 --> 00:33:35.116 A:middle
annotation.

00:33:37.366 --> 00:33:38.826 A:middle
So, these were the three kinds

00:33:38.826 --> 00:33:39.936 A:middle
of annotations that you could

00:33:39.936 --> 00:33:40.306 A:middle
use.

00:33:40.736 --> 00:33:42.336 A:middle
But sometimes you want to show

00:33:42.336 --> 00:33:44.716 A:middle
more than just a single location

00:33:44.716 --> 00:33:47.026 A:middle
or a set of single locations.

00:33:47.156 --> 00:33:48.796 A:middle
Sometimes you want to call -- to

00:33:48.796 --> 00:33:50.826 A:middle
show complete areas on your map.

00:33:51.906 --> 00:33:53.616 A:middle
And to do that, we have overlays

00:33:53.616 --> 00:33:54.976 A:middle
and we have -- we provide three

00:33:54.976 --> 00:33:56.206 A:middle
different kinds of overlays.

00:33:56.716 --> 00:33:58.466 A:middle
And here are some examples of

00:33:58.466 --> 00:33:59.366 A:middle
how you could use them.

00:34:00.116 --> 00:34:02.306 A:middle
With a circle overlay, you can

00:34:02.306 --> 00:34:03.926 A:middle
show all of the distances -- or

00:34:03.926 --> 00:34:05.176 A:middle
the distances from a point.

00:34:05.356 --> 00:34:06.836 A:middle
With a polyline overlay, we can

00:34:06.836 --> 00:34:08.315 A:middle
show a route between two points.

00:34:08.775 --> 00:34:10.106 A:middle
And you can highlight

00:34:10.326 --> 00:34:12.585 A:middle
geographical areas such as a

00:34:12.585 --> 00:34:14.826 A:middle
state, the boundaries of a

00:34:14.826 --> 00:34:16.335 A:middle
country or a city, etcetera,

00:34:16.576 --> 00:34:17.706 A:middle
using a polygon overlay.

00:34:18.936 --> 00:34:21.156 A:middle
So, here is an example of a

00:34:21.156 --> 00:34:21.916 A:middle
circle overlay.

00:34:22.356 --> 00:34:25.246 A:middle
So, now I'm in Brussels and I've

00:34:25.246 --> 00:34:26.646 A:middle
centered my map on the Manneken

00:34:26.646 --> 00:34:26.976 A:middle
Pis.

00:34:27.806 --> 00:34:30.406 A:middle
And this is right in the center

00:34:30.406 --> 00:34:31.996 A:middle
of the city and this is a very

00:34:31.996 --> 00:34:33.025 A:middle
nice place to walk around.

00:34:33.536 --> 00:34:35.496 A:middle
So, by using concentric circles

00:34:35.496 --> 00:34:38.716 A:middle
around my location of increasing

00:34:38.716 --> 00:34:40.386 A:middle
radius, I can see walking

00:34:40.386 --> 00:34:41.025 A:middle
distances.

00:34:41.416 --> 00:34:43.795 A:middle
So, here I've created overlays

00:34:43.795 --> 00:34:44.996 A:middle
with their coordinates, and the

00:34:44.996 --> 00:34:46.255 A:middle
second parameter that you need

00:34:46.255 --> 00:34:48.426 A:middle
to give to a circle overlay, is

00:34:48.426 --> 00:34:49.876 A:middle
a radius expressed in meter.

00:34:50.156 --> 00:34:52.136 A:middle
So here, every overlay has a

00:34:52.136 --> 00:34:54.106 A:middle
radius starting from 400 meters,

00:34:54.106 --> 00:34:55.436 A:middle
increasing by 400 meters.

00:34:55.436 --> 00:34:56.815 A:middle
So, 400, 800, etcetera.

00:34:57.726 --> 00:35:00.376 A:middle
So, I can see in the right, that

00:34:57.726 --> 00:35:00.376 A:middle
So, I can see in the right, that

00:35:00.376 --> 00:35:02.776 A:middle
there is a museum for comic

00:35:02.776 --> 00:35:03.316 A:middle
strip art.

00:35:03.316 --> 00:35:04.316 A:middle
That sounds interesting.

00:35:04.316 --> 00:35:05.666 A:middle
And it looks like it could be

00:35:05.666 --> 00:35:08.706 A:middle
between 1200 and then 1600

00:35:08.706 --> 00:35:09.046 A:middle
meters.

00:35:09.046 --> 00:35:10.276 A:middle
So, about 10 to 15 minutes'

00:35:10.276 --> 00:35:11.046 A:middle
walk.

00:35:11.346 --> 00:35:13.366 A:middle
One important thing that I can

00:35:13.366 --> 00:35:14.676 A:middle
do with overlays, is I can also

00:35:14.676 --> 00:35:15.226 A:middle
style them.

00:35:16.156 --> 00:35:18.706 A:middle
So here, to represent this style

00:35:18.706 --> 00:35:20.826 A:middle
of overlay, I can use a MapKit

00:35:20.826 --> 00:35:23.776 A:middle
Style Object, which has several

00:35:23.776 --> 00:35:25.356 A:middle
properties such as the line

00:35:25.356 --> 00:35:26.486 A:middle
width, the line depth, the

00:35:26.486 --> 00:35:28.566 A:middle
stroke color which again, can be

00:35:28.566 --> 00:35:29.516 A:middle
any CSS color.

00:35:29.956 --> 00:35:32.576 A:middle
By default, circle overlays are

00:35:32.656 --> 00:35:35.606 A:middle
filled with blue color, but in

00:35:35.606 --> 00:35:36.686 A:middle
this case, I want them to be

00:35:36.686 --> 00:35:37.226 A:middle
transparent.

00:35:37.226 --> 00:35:39.246 A:middle
So, I set the field color to be

00:35:39.246 --> 00:35:39.476 A:middle
null.

00:35:39.716 --> 00:35:42.846 A:middle
I have decided that I want to go

00:35:42.846 --> 00:35:45.086 A:middle
visit this comic strip museum,

00:35:45.656 --> 00:35:47.516 A:middle
and MapKit JS as we will show,

00:35:47.516 --> 00:35:49.956 A:middle
has services that can give you

00:35:50.036 --> 00:35:51.616 A:middle
walking and driving directions

00:35:51.616 --> 00:35:52.396 A:middle
between two points.

00:35:52.816 --> 00:35:54.186 A:middle
So, in this case, I've asked for

00:35:54.186 --> 00:35:56.766 A:middle
directions from where I was, the

00:35:56.766 --> 00:35:58.036 A:middle
Manneken Pis, to where I want to

00:35:58.036 --> 00:35:58.356 A:middle
go.

00:35:58.776 --> 00:36:01.006 A:middle
I receive as a result, a route

00:35:58.776 --> 00:36:01.006 A:middle
I receive as a result, a route

00:36:01.006 --> 00:36:02.286 A:middle
which I represent on this map

00:36:02.286 --> 00:36:03.436 A:middle
using a polyline overlay.

00:36:03.746 --> 00:36:05.356 A:middle
And a polyline overlay is a list

00:36:05.356 --> 00:36:05.776 A:middle
of points.

00:36:05.776 --> 00:36:07.556 A:middle
So, these are all coordinates

00:36:07.936 --> 00:36:09.046 A:middle
linked to each other.

00:36:09.046 --> 00:36:11.716 A:middle
I can style them by setting the

00:36:11.716 --> 00:36:13.506 A:middle
Stroke Opacity for instance, or

00:36:13.506 --> 00:36:14.816 A:middle
a thick line width to make sure

00:36:14.816 --> 00:36:16.516 A:middle
that it shows up on my map.

00:36:18.166 --> 00:36:19.506 A:middle
And the last example is a

00:36:19.506 --> 00:36:20.366 A:middle
polygon overlay.

00:36:20.636 --> 00:36:21.826 A:middle
This is very useful to do for

00:36:21.826 --> 00:36:23.456 A:middle
instance data visualization.

00:36:23.456 --> 00:36:24.546 A:middle
And here I have a map of the

00:36:24.546 --> 00:36:26.726 A:middle
United States where every state

00:36:26.996 --> 00:36:28.216 A:middle
is an overlay of its own.

00:36:28.216 --> 00:36:30.346 A:middle
A polygon overlay is defined

00:36:30.346 --> 00:36:32.436 A:middle
again by a list of points, but

00:36:32.436 --> 00:36:35.406 A:middle
this -- in this case, the shape

00:36:35.406 --> 00:36:36.436 A:middle
is closed and filled.

00:36:37.536 --> 00:36:40.056 A:middle
You can even specify lists of

00:36:40.056 --> 00:36:41.666 A:middle
lists of points to -- for more

00:36:41.666 --> 00:36:42.486 A:middle
complex scenarios.

00:36:42.486 --> 00:36:43.416 A:middle
So, for instance, if you have

00:36:43.416 --> 00:36:45.216 A:middle
enclaves and exclaves, which is

00:36:45.216 --> 00:36:46.746 A:middle
often the case with real

00:36:46.746 --> 00:36:47.876 A:middle
geographical areas.

00:36:48.956 --> 00:36:50.776 A:middle
Annotations and overlays can

00:36:50.776 --> 00:36:53.366 A:middle
also have an extra piece of

00:36:53.366 --> 00:36:54.676 A:middle
information added to them, which

00:36:54.676 --> 00:36:56.046 A:middle
is this data property.

00:36:56.496 --> 00:36:57.746 A:middle
So, in this example, I want to

00:36:57.746 --> 00:37:00.096 A:middle
show the population of every

00:36:57.746 --> 00:37:00.096 A:middle
show the population of every

00:37:00.096 --> 00:37:01.606 A:middle
state of the United States.

00:37:01.726 --> 00:37:04.266 A:middle
I can show it as a color, which

00:37:04.266 --> 00:37:05.656 A:middle
gives me a rough idea of the

00:37:05.656 --> 00:37:06.356 A:middle
population.

00:37:06.706 --> 00:37:08.356 A:middle
But I can also add some

00:37:08.356 --> 00:37:09.816 A:middle
additional data so that if the

00:37:09.816 --> 00:37:11.766 A:middle
user selects one of the

00:37:11.766 --> 00:37:13.646 A:middle
overlays, so in this case, the

00:37:13.646 --> 00:37:15.926 A:middle
State of Texas, I can show that

00:37:15.926 --> 00:37:18.246 A:middle
the actual population is over 20

00:37:18.246 --> 00:37:18.866 A:middle
million people.

00:37:19.896 --> 00:37:21.736 A:middle
And overlays are selectable just

00:37:21.736 --> 00:37:22.596 A:middle
like annotations.

00:37:25.156 --> 00:37:27.976 A:middle
To show overlays such as the

00:37:27.976 --> 00:37:29.776 A:middle
route that I showed you or to

00:37:29.776 --> 00:37:31.966 A:middle
show all of the states, we need

00:37:31.966 --> 00:37:33.326 A:middle
a lot of data, we need a lot of

00:37:33.326 --> 00:37:34.866 A:middle
points, so for the states, we

00:37:34.866 --> 00:37:36.516 A:middle
had thousands and thousands of

00:37:36.516 --> 00:37:36.886 A:middle
points.

00:37:37.866 --> 00:37:39.496 A:middle
So, a convenient way to get that

00:37:39.496 --> 00:37:41.396 A:middle
data into your program, is to

00:37:41.396 --> 00:37:42.356 A:middle
use GeoJSON Import.

00:37:42.356 --> 00:37:43.826 A:middle
So, if you have a GeoJSON data

00:37:43.826 --> 00:37:45.296 A:middle
file, then you can import it

00:37:45.296 --> 00:37:47.336 A:middle
automatically using MapKit JS.

00:37:47.336 --> 00:37:49.036 A:middle
Annotations and overlays are

00:37:49.036 --> 00:37:49.536 A:middle
created.

00:37:49.536 --> 00:37:51.376 A:middle
So, in this example, this was a

00:37:51.376 --> 00:37:53.056 A:middle
different data file, which

00:37:53.056 --> 00:37:55.246 A:middle
contained a lot of UFO

00:37:55.246 --> 00:37:55.836 A:middle
sightings.

00:37:56.196 --> 00:37:58.286 A:middle
And this is just a detail of the

00:37:58.286 --> 00:37:58.476 A:middle
map.

00:37:58.476 --> 00:37:59.796 A:middle
So, you can see there are lots

00:37:59.796 --> 00:38:01.566 A:middle
of these sightings.

00:37:59.796 --> 00:38:01.566 A:middle
of these sightings.

00:38:02.396 --> 00:38:04.336 A:middle
And all of these annotations and

00:38:04.336 --> 00:38:05.176 A:middle
overlays are created

00:38:05.176 --> 00:38:06.596 A:middle
automatically and can of course

00:38:06.596 --> 00:38:08.456 A:middle
be customized using some

00:38:08.456 --> 00:38:09.366 A:middle
delegate methods.

00:38:10.996 --> 00:38:13.946 A:middle
Finally, these -- since these

00:38:13.946 --> 00:38:15.866 A:middle
annotations and these overlays

00:38:15.866 --> 00:38:18.036 A:middle
can be selected by users, you

00:38:18.036 --> 00:38:19.646 A:middle
want to listen to events from

00:38:19.646 --> 00:38:20.906 A:middle
them, as well as you could from

00:38:20.906 --> 00:38:21.176 A:middle
the map.

00:38:21.826 --> 00:38:23.126 A:middle
So, you can listen to selection

00:38:23.126 --> 00:38:24.346 A:middle
and the selection events.

00:38:24.346 --> 00:38:26.096 A:middle
And we've also seen earlier that

00:38:26.096 --> 00:38:27.766 A:middle
annotations could be dragged, so

00:38:27.766 --> 00:38:29.016 A:middle
you can listen to dragging

00:38:29.016 --> 00:38:29.396 A:middle
events.

00:38:29.396 --> 00:38:30.966 A:middle
And again, this uses the Add

00:38:30.966 --> 00:38:32.576 A:middle
Event Listener Method.

00:38:32.576 --> 00:38:34.266 A:middle
So, for instance, you can use

00:38:34.266 --> 00:38:36.716 A:middle
Add Event Listener to listen to

00:38:36.716 --> 00:38:38.046 A:middle
select events from the map,

00:38:38.116 --> 00:38:39.736 A:middle
which will tell you when an

00:38:39.736 --> 00:38:41.486 A:middle
annotation or an overlay has

00:38:41.486 --> 00:38:42.146 A:middle
been selected.

00:38:42.146 --> 00:38:43.236 A:middle
And we will see an example of

00:38:43.236 --> 00:38:44.216 A:middle
that in the demo.

00:38:46.096 --> 00:38:48.116 A:middle
The next section is Enabling

00:38:48.116 --> 00:38:49.716 A:middle
Rich Interactions with Services,

00:38:49.716 --> 00:38:50.936 A:middle
and for this section, I will

00:38:50.936 --> 00:38:52.356 A:middle
give the mic to Melody.

00:38:53.516 --> 00:38:58.500 A:middle
[ Applause ]

00:39:05.666 --> 00:39:07.216 A:middle
&gt;&gt; MapKit JS provides you with

00:39:07.216 --> 00:39:08.776 A:middle
access to three services,

00:39:09.176 --> 00:39:10.816 A:middle
Geocoding, Search, and

00:39:10.886 --> 00:39:11.536 A:middle
Directions.

00:39:12.346 --> 00:39:14.126 A:middle
I'll step through examples of

00:39:14.126 --> 00:39:15.476 A:middle
each of those, but before that,

00:39:15.476 --> 00:39:16.386 A:middle
I'll tell you what they have in

00:39:16.386 --> 00:39:16.756 A:middle
common.

00:39:17.296 --> 00:39:19.876 A:middle
You can use the services in a

00:39:19.876 --> 00:39:21.546 A:middle
similar way, with four easy

00:39:21.546 --> 00:39:21.916 A:middle
steps.

00:39:22.536 --> 00:39:23.806 A:middle
You first create the service

00:39:23.806 --> 00:39:25.996 A:middle
object, then you specify the

00:39:25.996 --> 00:39:27.666 A:middle
request parameters and options,

00:39:28.376 --> 00:39:30.366 A:middle
then you make the request, and

00:39:30.366 --> 00:39:31.926 A:middle
finally, handle the asynchronous

00:39:31.926 --> 00:39:33.286 A:middle
response via a callback

00:39:33.286 --> 00:39:33.676 A:middle
function.

00:39:34.186 --> 00:39:35.766 A:middle
So first, let's talk about the

00:39:35.766 --> 00:39:36.326 A:middle
Geocoder.

00:39:37.916 --> 00:39:39.816 A:middle
Here's an example of how you can

00:39:39.816 --> 00:39:41.756 A:middle
use the Geocoder, and it has two

00:39:41.896 --> 00:39:43.716 A:middle
methods: Lookup and Reverse

00:39:43.716 --> 00:39:44.126 A:middle
Lookup.

00:39:44.636 --> 00:39:45.986 A:middle
So, this is if have you an

00:39:46.066 --> 00:39:47.636 A:middle
address or a place, and you want

00:39:47.636 --> 00:39:49.236 A:middle
to find the coordinate, or if

00:39:49.236 --> 00:39:50.026 A:middle
you have the opposite.

00:39:50.026 --> 00:39:51.046 A:middle
You have a coordinate and you

00:39:51.046 --> 00:39:53.826 A:middle
want to find the address.

00:39:54.046 --> 00:39:55.386 A:middle
So, the first step is to create

00:39:55.386 --> 00:39:58.106 A:middle
your object, which you can

00:39:58.106 --> 00:40:00.056 A:middle
optionally provide at Gets User

00:39:58.106 --> 00:40:00.056 A:middle
optionally provide at Gets User

00:40:00.056 --> 00:40:01.086 A:middle
Location parameter.

00:40:01.696 --> 00:40:02.946 A:middle
This will allow you to provide

00:40:02.946 --> 00:40:04.886 A:middle
more context to the geocoder.

00:40:05.376 --> 00:40:06.776 A:middle
This is useful in the case where

00:40:06.776 --> 00:40:08.346 A:middle
there are places with the same

00:40:08.346 --> 00:40:09.876 A:middle
name in multiple locations.

00:40:10.476 --> 00:40:12.206 A:middle
For example, if you're using the

00:40:12.206 --> 00:40:14.236 A:middle
geocoder here, you'll be most

00:40:14.316 --> 00:40:15.916 A:middle
likely to return Brisbane,

00:40:15.916 --> 00:40:17.446 A:middle
California instead of Brisbane,

00:40:17.446 --> 00:40:17.926 A:middle
Australia.

00:40:19.456 --> 00:40:21.446 A:middle
Next, you build the requests.

00:40:21.756 --> 00:40:22.576 A:middle
Here, we're using this

00:40:22.576 --> 00:40:23.426 A:middle
convention center.

00:40:23.976 --> 00:40:26.236 A:middle
And then you can handle the

00:40:26.236 --> 00:40:26.866 A:middle
response.

00:40:27.596 --> 00:40:28.976 A:middle
As we mentioned before, the

00:40:28.976 --> 00:40:30.816 A:middle
geocoder can easily be used to

00:40:30.816 --> 00:40:32.416 A:middle
place marker annotations.

00:40:32.646 --> 00:40:33.986 A:middle
So, here we're adding a marker

00:40:33.986 --> 00:40:34.826 A:middle
annotation to the map.

00:40:35.496 --> 00:40:39.376 A:middle
And then here we have an example

00:40:39.376 --> 00:40:41.066 A:middle
of the reverse lookup where we

00:40:41.066 --> 00:40:42.446 A:middle
have a coordinate, and we want

00:40:42.446 --> 00:40:43.436 A:middle
to find the address for the

00:40:43.436 --> 00:40:43.856 A:middle
place.

00:40:44.276 --> 00:40:47.226 A:middle
So, that's the geocoder.

00:40:47.856 --> 00:40:50.856 A:middle
Next up we have service context.

00:40:51.256 --> 00:40:52.426 A:middle
So, as I mentioned before, you

00:40:52.426 --> 00:40:54.326 A:middle
can provide a Gets User Location

00:40:54.326 --> 00:40:55.816 A:middle
parameter, but you can also

00:40:55.816 --> 00:40:57.716 A:middle
provide coordinate and region to

00:40:57.716 --> 00:40:58.186 A:middle
search.

00:40:58.876 --> 00:41:00.196 A:middle
This is useful to provide the

00:40:58.876 --> 00:41:00.196 A:middle
This is useful to provide the

00:41:00.196 --> 00:41:01.606 A:middle
most relevant results to your

00:41:01.606 --> 00:41:02.086 A:middle
user.

00:41:03.166 --> 00:41:06.036 A:middle
So, that's where places are in

00:41:06.036 --> 00:41:07.436 A:middle
multiple locations with the same

00:41:07.436 --> 00:41:08.966 A:middle
name, or you can provide your

00:41:08.966 --> 00:41:10.156 A:middle
search results, closer to the

00:41:10.156 --> 00:41:10.486 A:middle
user.

00:41:12.576 --> 00:41:14.616 A:middle
Here's an example of how you can

00:41:14.616 --> 00:41:15.776 A:middle
use the Search Service.

00:41:16.666 --> 00:41:18.066 A:middle
It's an example for finding

00:41:18.066 --> 00:41:19.316 A:middle
coffee nearby the user.

00:41:20.536 --> 00:41:22.026 A:middle
So first, you create your

00:41:22.166 --> 00:41:22.846 A:middle
service object.

00:41:24.446 --> 00:41:26.226 A:middle
Then you build your request

00:41:26.346 --> 00:41:28.916 A:middle
using query like coffee.

00:41:28.946 --> 00:41:30.126 A:middle
You can also do something more

00:41:30.126 --> 00:41:31.926 A:middle
specific like a specific name of

00:41:31.926 --> 00:41:33.256 A:middle
a coffee shop that you have.

00:41:33.826 --> 00:41:36.856 A:middle
And then you can handle the

00:41:36.856 --> 00:41:39.856 A:middle
results, which can easily be

00:41:39.856 --> 00:41:41.776 A:middle
displayed using annotation since

00:41:41.776 --> 00:41:43.396 A:middle
sometimes you return multiple

00:41:43.696 --> 00:41:44.286 A:middle
results.

00:41:44.286 --> 00:41:45.646 A:middle
And you can use the coordinate

00:41:45.646 --> 00:41:47.896 A:middle
as well as the title to populate

00:41:47.926 --> 00:41:49.196 A:middle
the fields of annotation.

00:41:49.736 --> 00:41:51.936 A:middle
And then finally, we

00:41:51.936 --> 00:41:53.596 A:middle
simultaneously add and display

00:41:53.596 --> 00:41:55.006 A:middle
the annotations using the Map

00:41:55.006 --> 00:41:56.066 A:middle
Show Items method.

00:41:57.776 --> 00:41:59.716 A:middle
So, this is useful if you have

00:41:59.716 --> 00:42:01.306 A:middle
your full query that you want to

00:41:59.716 --> 00:42:01.306 A:middle
your full query that you want to

00:42:01.476 --> 00:42:03.066 A:middle
send in the request, but if you

00:42:03.066 --> 00:42:04.326 A:middle
have a Search Bar that you want

00:42:04.326 --> 00:42:06.356 A:middle
to respond to user input, you

00:42:06.356 --> 00:42:07.846 A:middle
can use the Search Autocomplete

00:42:07.966 --> 00:42:08.246 A:middle
Method.

00:42:09.636 --> 00:42:10.936 A:middle
With Search Autocomplete, you

00:42:10.936 --> 00:42:12.506 A:middle
can provide a partial query to

00:42:12.506 --> 00:42:15.476 A:middle
the user - to the service, and

00:42:15.576 --> 00:42:16.496 A:middle
then save your user some

00:42:16.496 --> 00:42:17.756 A:middle
keystrokes by providing

00:42:17.756 --> 00:42:19.326 A:middle
suggestions which you can then

00:42:19.326 --> 00:42:20.606 A:middle
use to complete a search.

00:42:21.016 --> 00:42:25.036 A:middle
And the last service is

00:42:26.616 --> 00:42:27.216 A:middle
directions.

00:42:27.376 --> 00:42:28.616 A:middle
Similarly, to the other

00:42:28.616 --> 00:42:29.846 A:middle
services, you create your

00:42:29.936 --> 00:42:30.776 A:middle
directions object.

00:42:32.116 --> 00:42:33.356 A:middle
You can choose to provide a

00:42:33.356 --> 00:42:34.816 A:middle
language which will then return

00:42:34.816 --> 00:42:36.826 A:middle
the route steps in that provided

00:42:36.826 --> 00:42:37.356 A:middle
language.

00:42:38.556 --> 00:42:40.446 A:middle
If you don't provide a language,

00:42:40.706 --> 00:42:41.766 A:middle
the language provided to the

00:42:41.766 --> 00:42:43.356 A:middle
MapKit initialization function

00:42:43.356 --> 00:42:43.996 A:middle
will be used.

00:42:44.286 --> 00:42:46.086 A:middle
And if that's not provided, the

00:42:46.086 --> 00:42:47.276 A:middle
browser's preferred language

00:42:47.276 --> 00:42:47.776 A:middle
will be used.

00:42:49.456 --> 00:42:51.256 A:middle
Then you build your request

00:42:51.256 --> 00:42:53.126 A:middle
using two required fields: the

00:42:53.126 --> 00:42:54.666 A:middle
origin and the destination.

00:42:55.056 --> 00:42:56.636 A:middle
These can be coordinates,

00:42:56.636 --> 00:42:58.016 A:middle
addresses, or places.

00:42:59.916 --> 00:43:01.646 A:middle
By default, the transportation

00:42:59.916 --> 00:43:01.646 A:middle
By default, the transportation

00:43:01.646 --> 00:43:02.946 A:middle
type is by automobile.

00:43:03.236 --> 00:43:04.306 A:middle
You can switch this using the

00:43:04.306 --> 00:43:06.326 A:middle
transport enum to walking

00:43:06.326 --> 00:43:06.856 A:middle
directions.

00:43:07.306 --> 00:43:08.176 A:middle
We won't keep that, because

00:43:08.176 --> 00:43:09.436 A:middle
that's a really far way to walk,

00:43:10.246 --> 00:43:11.376 A:middle
but we will use Request

00:43:11.376 --> 00:43:12.126 A:middle
Alternate Routes.

00:43:12.746 --> 00:43:13.796 A:middle
You can use this to provide

00:43:13.796 --> 00:43:15.416 A:middle
multiple options to your users.

00:43:15.786 --> 00:43:16.996 A:middle
This way we can display

00:43:17.266 --> 00:43:19.006 A:middle
different routes instead of the

00:43:19.006 --> 00:43:21.236 A:middle
default of one optimal route.

00:43:22.536 --> 00:43:23.916 A:middle
And then finally, you can

00:43:23.916 --> 00:43:26.496 A:middle
display your results on the map.

00:43:26.496 --> 00:43:28.146 A:middle
Here we have polyline overlays

00:43:28.146 --> 00:43:29.236 A:middle
as you've seen earlier.

00:43:29.546 --> 00:43:31.026 A:middle
And you also get a set of route

00:43:31.026 --> 00:43:32.986 A:middle
steps as well as the distance

00:43:32.986 --> 00:43:33.926 A:middle
and the travel time.

00:43:34.226 --> 00:43:35.386 A:middle
So, those are the services.

00:43:35.386 --> 00:43:36.356 A:middle
Now, that you're more familiar

00:43:36.356 --> 00:43:37.856 A:middle
with them, Julien will come back

00:43:37.856 --> 00:43:39.976 A:middle
up for a demo.

00:43:40.516 --> 00:43:45.056 A:middle
[ Applause ]

00:43:45.556 --> 00:43:46.416 A:middle
&gt;&gt; Thank you, Melody.

00:43:46.826 --> 00:43:48.316 A:middle
So, we will pick up where we

00:43:48.316 --> 00:43:50.716 A:middle
left off and we will continue

00:43:50.716 --> 00:43:52.246 A:middle
building our Bigfoot Finder.

00:43:53.906 --> 00:43:54.926 A:middle
And there's one things that's

00:43:54.926 --> 00:43:58.116 A:middle
really missing from this finder,

00:43:58.476 --> 00:44:00.386 A:middle
is that even though it can tell

00:43:58.476 --> 00:44:00.386 A:middle
is that even though it can tell

00:44:00.386 --> 00:44:02.916 A:middle
us where we are, and it can tell

00:44:02.916 --> 00:44:05.236 A:middle
us where Bigfoot is, it doesn't

00:44:05.236 --> 00:44:06.416 A:middle
yet tell us how to get there.

00:44:07.536 --> 00:44:08.986 A:middle
So, I'm going to add some

00:44:08.986 --> 00:44:11.876 A:middle
directions from All Current

00:44:11.876 --> 00:44:13.086 A:middle
Location, which is the McEnery

00:44:13.086 --> 00:44:15.686 A:middle
Convention Center, to these

00:44:15.686 --> 00:44:17.366 A:middle
Bigfoot locations.

00:44:17.596 --> 00:44:19.276 A:middle
I will use the MapKit JS

00:44:19.276 --> 00:44:20.956 A:middle
direction services to do that.

00:44:21.396 --> 00:44:22.816 A:middle
I will use polyline overlays to

00:44:22.816 --> 00:44:23.296 A:middle
draw them.

00:44:24.206 --> 00:44:25.666 A:middle
But the first thing I need to do

00:44:25.666 --> 00:44:28.206 A:middle
is I need to make sure that the

00:44:28.206 --> 00:44:30.816 A:middle
user - I need to find a way so

00:44:30.816 --> 00:44:32.116 A:middle
that the user can tell me which

00:44:32.116 --> 00:44:33.306 A:middle
one of these sightings they want

00:44:33.456 --> 00:44:33.886 A:middle
to see.

00:44:34.296 --> 00:44:37.326 A:middle
So, well, this one is selected,

00:44:37.326 --> 00:44:38.676 A:middle
so that's probably the one that

00:44:38.676 --> 00:44:40.056 A:middle
the user wants to see, right?

00:44:40.426 --> 00:44:42.156 A:middle
So, this is what we will do.

00:44:42.516 --> 00:44:44.446 A:middle
We will use the Select Event

00:44:44.446 --> 00:44:46.826 A:middle
Listener from the map to listen

00:44:46.826 --> 00:44:48.496 A:middle
to annotation selections from

00:44:48.496 --> 00:44:49.256 A:middle
the user.

00:44:49.786 --> 00:44:50.816 A:middle
And when an annotation is

00:44:50.816 --> 00:44:52.326 A:middle
selected, that means they might

00:44:52.326 --> 00:44:54.036 A:middle
be interested in knowing how to

00:44:54.036 --> 00:44:56.226 A:middle
see that specific location.

00:44:56.556 --> 00:44:59.326 A:middle
So, we will request a route and

00:44:59.326 --> 00:45:01.226 A:middle
draw it so that they can see how

00:44:59.326 --> 00:45:01.226 A:middle
draw it so that they can see how

00:45:01.226 --> 00:45:01.806 A:middle
to get there.

00:45:01.806 --> 00:45:02.976 A:middle
And then finally, we will let

00:45:02.976 --> 00:45:04.626 A:middle
them also select one of the

00:45:04.626 --> 00:45:07.546 A:middle
routes from the options that are

00:45:07.546 --> 00:45:09.306 A:middle
returned by Direction Services

00:45:09.806 --> 00:45:11.456 A:middle
and display more information

00:45:11.456 --> 00:45:12.696 A:middle
about each of these routes.

00:45:13.436 --> 00:45:14.756 A:middle
So, let's start by setting up

00:45:14.756 --> 00:45:15.606 A:middle
our Event Listener.

00:45:17.666 --> 00:45:19.166 A:middle
So, we listen to the select

00:45:19.166 --> 00:45:21.236 A:middle
events from the map, which tells

00:45:21.236 --> 00:45:23.166 A:middle
us when an annotation or an

00:45:23.166 --> 00:45:24.306 A:middle
overlay is selected.

00:45:24.886 --> 00:45:26.196 A:middle
So, this is the property of the

00:45:26.196 --> 00:45:27.976 A:middle
event, object that I received.

00:45:28.236 --> 00:45:30.216 A:middle
And if annotation has a value,

00:45:30.216 --> 00:45:31.276 A:middle
then that means that this

00:45:31.276 --> 00:45:32.656 A:middle
annotation was just selected.

00:45:32.656 --> 00:45:34.126 A:middle
So, there is only one annotation

00:45:34.126 --> 00:45:37.016 A:middle
overlay selected at a time, in

00:45:37.016 --> 00:45:37.456 A:middle
MapKit.

00:45:37.456 --> 00:45:38.956 A:middle
So, there is no ambiguity here.

00:45:39.236 --> 00:45:40.476 A:middle
This is the one that we want to

00:45:40.476 --> 00:45:40.886 A:middle
go to.

00:45:41.256 --> 00:45:43.236 A:middle
So, I will show routes to that

00:45:43.236 --> 00:45:43.846 A:middle
annotation.

00:45:46.506 --> 00:45:48.426 A:middle
Showing our route means drawing

00:45:48.426 --> 00:45:49.106 A:middle
it on the map.

00:45:49.596 --> 00:45:51.516 A:middle
So, let's set up a polyline

00:45:51.516 --> 00:45:54.176 A:middle
overlay to draw a route on the

00:45:54.176 --> 00:45:54.396 A:middle
map.

00:45:55.016 --> 00:45:56.576 A:middle
So, first off, I will start by

00:45:56.576 --> 00:45:58.206 A:middle
defining a style that I will use

00:45:58.206 --> 00:45:59.976 A:middle
for all my routes, setting some

00:45:59.976 --> 00:46:01.566 A:middle
opacity and some line width to

00:45:59.976 --> 00:46:01.566 A:middle
opacity and some line width to

00:46:01.566 --> 00:46:02.756 A:middle
make sure that the route stands

00:46:02.756 --> 00:46:03.036 A:middle
out.

00:46:03.436 --> 00:46:05.026 A:middle
The default color is blue, which

00:46:05.026 --> 00:46:06.736 A:middle
is fine for the moment, so

00:46:06.736 --> 00:46:07.816 A:middle
that's what we will use.

00:46:08.556 --> 00:46:10.636 A:middle
And just like we did a function

00:46:10.636 --> 00:46:12.546 A:middle
that created annotations on

00:46:12.546 --> 00:46:14.346 A:middle
demand for citing objects, here

00:46:14.346 --> 00:46:15.936 A:middle
we'll create overlays on demand

00:46:15.936 --> 00:46:16.546 A:middle
for routes.

00:46:17.216 --> 00:46:19.126 A:middle
So, a route that is returned by

00:46:19.126 --> 00:46:22.066 A:middle
the MapKit JS Direction Service,

00:46:22.546 --> 00:46:24.526 A:middle
contains a lot of information

00:46:24.526 --> 00:46:27.596 A:middle
including a path which is a list

00:46:27.596 --> 00:46:29.616 A:middle
of steps that you can take to go

00:46:29.616 --> 00:46:30.416 A:middle
from A to B.

00:46:31.016 --> 00:46:32.966 A:middle
And each list of steps, itself

00:46:32.966 --> 00:46:34.436 A:middle
contains a list of points.

00:46:35.406 --> 00:46:37.316 A:middle
And if you remember to create a

00:46:37.316 --> 00:46:38.736 A:middle
polyline overlay, I want a list

00:46:38.736 --> 00:46:39.156 A:middle
of points.

00:46:39.516 --> 00:46:40.716 A:middle
So, now that I have a list of -

00:46:40.716 --> 00:46:42.356 A:middle
list of points, I will reduce it

00:46:42.356 --> 00:46:44.356 A:middle
to a single list so that I will

00:46:44.356 --> 00:46:46.546 A:middle
put all of - the path steps one

00:46:46.546 --> 00:46:47.216 A:middle
after the other.

00:46:48.046 --> 00:46:49.386 A:middle
This is the list of points that

00:46:49.386 --> 00:46:51.056 A:middle
I want to create my polyline

00:46:51.056 --> 00:46:51.546 A:middle
overlay.

00:46:51.846 --> 00:46:53.416 A:middle
This is the style that I just

00:46:53.416 --> 00:46:55.616 A:middle
defined above, that I want my

00:46:55.616 --> 00:46:56.926 A:middle
overlay to show up as.

00:46:57.616 --> 00:47:00.036 A:middle
And later, I will let the user

00:46:57.616 --> 00:47:00.036 A:middle
And later, I will let the user

00:47:00.036 --> 00:47:01.846 A:middle
select this overlay to see more

00:47:01.846 --> 00:47:02.336 A:middle
information.

00:47:02.336 --> 00:47:04.156 A:middle
So, I will keep around all of

00:47:04.156 --> 00:47:05.976 A:middle
the route object, in the Data

00:47:05.976 --> 00:47:07.646 A:middle
Properties so that I can display

00:47:07.896 --> 00:47:09.546 A:middle
the distance of the estimated

00:47:09.546 --> 00:47:10.146 A:middle
travel time.

00:47:11.906 --> 00:47:12.956 A:middle
I know how to draw these

00:47:12.956 --> 00:47:14.836 A:middle
overlays, so now I know - I need

00:47:14.836 --> 00:47:16.646 A:middle
to request them from the

00:47:16.646 --> 00:47:17.206 A:middle
service.

00:47:17.956 --> 00:47:19.456 A:middle
So, here we go.

00:47:21.376 --> 00:47:23.006 A:middle
This is a little bit longer but

00:47:23.006 --> 00:47:23.646 A:middle
not so bad.

00:47:24.126 --> 00:47:25.386 A:middle
I first need to create a

00:47:25.386 --> 00:47:26.846 A:middle
directions object.

00:47:26.846 --> 00:47:28.796 A:middle
I will just use the current

00:47:28.796 --> 00:47:30.566 A:middle
language for the directions.

00:47:30.566 --> 00:47:31.606 A:middle
So, the default is fine.

00:47:32.786 --> 00:47:34.576 A:middle
So now, when I'm requesting a

00:47:34.576 --> 00:47:36.836 A:middle
route to a specific annotation

00:47:36.836 --> 00:47:38.736 A:middle
or rather, routes to a specific

00:47:38.736 --> 00:47:40.956 A:middle
annotation, I will clean up my

00:47:40.956 --> 00:47:42.446 A:middle
map first because maybe I've

00:47:42.636 --> 00:47:44.386 A:middle
shown routes to a different

00:47:44.386 --> 00:47:45.496 A:middle
place before.

00:47:45.496 --> 00:47:47.356 A:middle
So, if I query the other list

00:47:47.356 --> 00:47:49.416 A:middle
property of my map, it tells me

00:47:49.416 --> 00:47:51.306 A:middle
which overlays are currently

00:47:51.446 --> 00:47:52.796 A:middle
added to the map, and I can

00:47:52.796 --> 00:47:54.316 A:middle
remove them by using the Remove

00:47:54.316 --> 00:47:55.206 A:middle
Overlays Method.

00:47:55.206 --> 00:47:57.266 A:middle
So, now I have a clean map, and

00:47:57.266 --> 00:47:59.206 A:middle
I can display new routes.

00:47:59.956 --> 00:48:01.796 A:middle
I'm building my request for the

00:47:59.956 --> 00:48:01.796 A:middle
I'm building my request for the

00:48:01.796 --> 00:48:02.156 A:middle
origin.

00:48:02.156 --> 00:48:03.926 A:middle
I will hot code this place, the

00:48:03.926 --> 00:48:05.256 A:middle
McEnery Convention Center.

00:48:05.546 --> 00:48:09.046 A:middle
Again, I could put coordinates

00:48:09.176 --> 00:48:10.956 A:middle
for instance, instead, but this

00:48:10.956 --> 00:48:12.166 A:middle
is much more convenience.

00:48:12.266 --> 00:48:14.236 A:middle
For the destination, I will use

00:48:14.236 --> 00:48:15.626 A:middle
coordinate because I have them.

00:48:15.626 --> 00:48:16.636 A:middle
They are the coordinate of the

00:48:16.636 --> 00:48:18.256 A:middle
annotation that was given as a

00:48:18.256 --> 00:48:18.756 A:middle
parameter.

00:48:19.966 --> 00:48:21.196 A:middle
And I want to show all of the

00:48:21.196 --> 00:48:22.936 A:middle
possible - not all of the

00:48:22.936 --> 00:48:25.226 A:middle
possible but the several

00:48:25.226 --> 00:48:27.166 A:middle
possible routes to this point.

00:48:27.166 --> 00:48:28.916 A:middle
So, I make sure that My Request

00:48:29.076 --> 00:48:30.536 A:middle
Alternate Routes Property's set

00:48:30.536 --> 00:48:32.496 A:middle
to true.

00:48:32.496 --> 00:48:33.646 A:middle
Now, that my request has been

00:48:33.646 --> 00:48:36.846 A:middle
created, I can execute it on the

00:48:36.846 --> 00:48:38.466 A:middle
Direction Services using the

00:48:38.466 --> 00:48:39.126 A:middle
Route Method.

00:48:42.566 --> 00:48:44.476 A:middle
Things can go wrong when you do

00:48:44.476 --> 00:48:45.366 A:middle
these kind of queries.

00:48:45.366 --> 00:48:46.886 A:middle
So, we must make sure that we

00:48:46.886 --> 00:48:48.536 A:middle
have a way to handle errors when

00:48:48.536 --> 00:48:49.116 A:middle
they occur.

00:48:49.536 --> 00:48:51.466 A:middle
So, in this case, I will fall

00:48:51.466 --> 00:48:53.546 A:middle
back to show a default route

00:48:53.546 --> 00:48:54.966 A:middle
that I've created and it's just

00:48:54.966 --> 00:48:55.526 A:middle
a straight line.

00:48:55.526 --> 00:48:56.586 A:middle
So, if we see a straight line,

00:48:56.586 --> 00:48:57.476 A:middle
then we know we're in trouble.

00:48:59.836 --> 00:49:01.606 A:middle
But let's focus, let's be

00:48:59.836 --> 00:49:01.606 A:middle
But let's focus, let's be

00:49:01.606 --> 00:49:03.326 A:middle
positive and focus on the cases

00:49:03.326 --> 00:49:05.716 A:middle
where the request succeeds, and

00:49:05.716 --> 00:49:07.836 A:middle
in this case, I will have a list

00:49:07.836 --> 00:49:09.836 A:middle
of routes and I will create a

00:49:09.836 --> 00:49:11.376 A:middle
new polyline overlay for every

00:49:11.376 --> 00:49:11.926 A:middle
one of them.

00:49:12.816 --> 00:49:14.836 A:middle
I will use my trusty Show Items

00:49:14.836 --> 00:49:17.226 A:middle
Method on the map to add these

00:49:17.226 --> 00:49:18.486 A:middle
routes and make sure that they

00:49:18.486 --> 00:49:19.656 A:middle
are being shown by setting the

00:49:19.656 --> 00:49:21.276 A:middle
region to enclose the routes.

00:49:21.896 --> 00:49:24.366 A:middle
And let me introduce a couple

00:49:24.366 --> 00:49:26.236 A:middle
more options in that method.

00:49:26.666 --> 00:49:27.756 A:middle
The first one is Animate,

00:49:28.166 --> 00:49:29.286 A:middle
because I wanted to make sure

00:49:29.286 --> 00:49:31.296 A:middle
that there is a smooth animation

00:49:31.296 --> 00:49:32.976 A:middle
from the current region of the

00:49:32.976 --> 00:49:36.466 A:middle
map to the one where the routes

00:49:36.466 --> 00:49:37.036 A:middle
are shown.

00:49:38.616 --> 00:49:39.796 A:middle
And finally, I will also add

00:49:39.796 --> 00:49:41.246 A:middle
some padding so that I can keep

00:49:41.246 --> 00:49:42.826 A:middle
some of the context and not

00:49:42.826 --> 00:49:44.336 A:middle
constrict the region too much

00:49:44.336 --> 00:49:45.486 A:middle
around the routes.

00:49:46.716 --> 00:49:50.436 A:middle
So, I'm now ready to request

00:49:50.436 --> 00:49:52.876 A:middle
routes from the - this

00:49:52.876 --> 00:49:54.476 A:middle
convention center to an

00:49:54.476 --> 00:49:54.996 A:middle
annotation.

00:49:54.996 --> 00:49:56.466 A:middle
So, let's select this one again.

00:49:57.436 --> 00:49:59.406 A:middle
And now that my annotation has

00:49:59.406 --> 00:50:01.506 A:middle
been selected, the request has

00:49:59.406 --> 00:50:01.506 A:middle
been selected, the request has

00:50:01.506 --> 00:50:01.946 A:middle
been made.

00:50:02.026 --> 00:50:04.516 A:middle
I see that I have three

00:50:04.516 --> 00:50:05.236 A:middle
different results.

00:50:05.236 --> 00:50:06.976 A:middle
So, they share a part of the

00:50:06.976 --> 00:50:08.266 A:middle
route, but then they diverge in

00:50:08.266 --> 00:50:08.636 A:middle
the end.

00:50:09.336 --> 00:50:11.586 A:middle
And they start from our current

00:50:11.586 --> 00:50:13.166 A:middle
location, the convention center.

00:50:13.616 --> 00:50:14.726 A:middle
So, I think this is right.

00:50:14.926 --> 00:50:17.376 A:middle
Yes, that looks right.

00:50:17.376 --> 00:50:19.636 A:middle
I have got three results.

00:50:19.966 --> 00:50:21.566 A:middle
So now, I might be interested in

00:50:21.566 --> 00:50:23.886 A:middle
knowing more about what's the

00:50:23.886 --> 00:50:25.166 A:middle
difference in travel time or

00:50:25.166 --> 00:50:25.626 A:middle
distance.

00:50:25.996 --> 00:50:27.096 A:middle
So, I can use selection to do

00:50:27.096 --> 00:50:27.356 A:middle
that.

00:50:27.356 --> 00:50:28.936 A:middle
But if I select a route, the

00:50:28.936 --> 00:50:31.106 A:middle
only thing that happens is that

00:50:31.106 --> 00:50:32.416 A:middle
my annotation has been

00:50:32.416 --> 00:50:34.216 A:middle
deselected because there is only

00:50:34.216 --> 00:50:35.276 A:middle
one selection at a time.

00:50:35.666 --> 00:50:37.006 A:middle
The problem here is that there

00:50:37.006 --> 00:50:40.436 A:middle
is no default behavior for

00:50:40.436 --> 00:50:41.526 A:middle
overlays being selected.

00:50:41.926 --> 00:50:43.546 A:middle
So, let's implement our own.

00:50:43.876 --> 00:50:44.976 A:middle
What we will do is we will

00:50:44.976 --> 00:50:46.326 A:middle
highlight these overlays and

00:50:46.326 --> 00:50:47.746 A:middle
then display their information

00:50:47.796 --> 00:50:48.626 A:middle
on the side bar.

00:50:49.726 --> 00:50:51.186 A:middle
So, in order to highlight these

00:50:51.186 --> 00:50:53.656 A:middle
overlays, I will create a new

00:50:53.656 --> 00:50:56.816 A:middle
style for highlighting overlays.

00:50:56.816 --> 00:50:59.026 A:middle
So, let's put it here, along

00:50:59.026 --> 00:51:00.036 A:middle
with my old style.

00:50:59.026 --> 00:51:00.036 A:middle
with my old style.

00:51:00.656 --> 00:51:01.836 A:middle
So, this style will keep the

00:51:01.836 --> 00:51:02.666 A:middle
same opacity.

00:51:02.666 --> 00:51:04.756 A:middle
We will make the line figure and

00:51:04.756 --> 00:51:06.126 A:middle
we will make it purple so that

00:51:06.126 --> 00:51:07.406 A:middle
it stands out from the other

00:51:07.406 --> 00:51:07.866 A:middle
ones.

00:51:09.816 --> 00:51:11.506 A:middle
But now, we need to apply this

00:51:11.506 --> 00:51:13.216 A:middle
style to my overlay once it's

00:51:13.216 --> 00:51:13.746 A:middle
selected.

00:51:14.106 --> 00:51:15.826 A:middle
Fortunately, I already have an

00:51:15.826 --> 00:51:19.206 A:middle
event handler for selections.

00:51:19.326 --> 00:51:22.236 A:middle
And up to that point, we were

00:51:22.236 --> 00:51:24.376 A:middle
only interested in listening to

00:51:24.376 --> 00:51:26.346 A:middle
annotation being selected.

00:51:26.576 --> 00:51:28.906 A:middle
But now we will just add a new

00:51:28.906 --> 00:51:30.166 A:middle
-- we will add plans to this

00:51:30.166 --> 00:51:31.096 A:middle
function.

00:51:31.746 --> 00:51:33.786 A:middle
Oops.

00:51:36.606 --> 00:51:38.196 A:middle
So now, if annotation is

00:51:38.196 --> 00:51:39.686 A:middle
selected, I still do the same

00:51:39.686 --> 00:51:40.746 A:middle
thing that I was doing, but if

00:51:40.746 --> 00:51:42.466 A:middle
an overlay's selected, I will

00:51:42.466 --> 00:51:44.046 A:middle
change its style to be the

00:51:44.046 --> 00:51:45.726 A:middle
selected route style that I've

00:51:45.726 --> 00:51:47.896 A:middle
just defined, so that it is

00:51:48.066 --> 00:51:48.696 A:middle
highlighted.

00:51:49.866 --> 00:51:51.226 A:middle
So, let's see this in action.

00:51:54.606 --> 00:51:56.776 A:middle
We can use a different one.

00:51:56.776 --> 00:51:58.596 A:middle
I'm feeling lucky.

00:52:00.446 --> 00:52:02.656 A:middle
And now, we can see that we can

00:52:02.656 --> 00:52:05.666 A:middle
select the routes to - from the

00:52:05.666 --> 00:52:08.336 A:middle
list of routes that have - that

00:52:08.336 --> 00:52:09.686 A:middle
has been provided.

00:52:09.686 --> 00:52:10.926 A:middle
I haven't implemented showing

00:52:10.926 --> 00:52:11.546 A:middle
the data yet.

00:52:12.196 --> 00:52:13.786 A:middle
Let's see if I select another

00:52:13.786 --> 00:52:14.126 A:middle
route.

00:52:14.716 --> 00:52:16.336 A:middle
What happens is that there is

00:52:16.336 --> 00:52:18.246 A:middle
nothing happening by default

00:52:18.246 --> 00:52:19.416 A:middle
when an overlay's selected, but

00:52:19.416 --> 00:52:20.496 A:middle
there is nothing happening by

00:52:20.496 --> 00:52:21.566 A:middle
default when an overlay is

00:52:21.566 --> 00:52:22.216 A:middle
deselected.

00:52:22.216 --> 00:52:23.276 A:middle
So, I have to implement that

00:52:23.376 --> 00:52:25.336 A:middle
part of the behavior as well.

00:52:25.896 --> 00:52:29.826 A:middle
So, in this case, I will add a

00:52:29.826 --> 00:52:33.266 A:middle
new event listener for deselect

00:52:33.266 --> 00:52:33.646 A:middle
events.

00:52:34.206 --> 00:52:35.316 A:middle
So, when an overlay is

00:52:35.316 --> 00:52:37.616 A:middle
deselected, then I will switch

00:52:37.616 --> 00:52:39.286 A:middle
its style to the default one.

00:52:41.076 --> 00:52:44.456 A:middle
So, this should fix my issue.

00:52:45.686 --> 00:52:46.686 A:middle
So, let's try again.

00:52:47.426 --> 00:52:48.796 A:middle
I have a route here.

00:52:49.466 --> 00:52:51.626 A:middle
And if I select again, I do the

00:52:51.626 --> 00:52:52.786 A:middle
same place because here we have

00:52:52.786 --> 00:52:53.966 A:middle
two overlays on top of each

00:52:53.966 --> 00:52:54.256 A:middle
other.

00:52:54.486 --> 00:52:55.656 A:middle
This will select the other

00:52:55.656 --> 00:52:56.106 A:middle
overlay.

00:52:56.956 --> 00:52:58.456 A:middle
And the deselection event

00:52:58.456 --> 00:53:00.026 A:middle
handler is working, so, my

00:52:58.456 --> 00:53:00.026 A:middle
handler is working, so, my

00:53:00.026 --> 00:53:02.076 A:middle
previous highlighting has

00:53:02.076 --> 00:53:04.536 A:middle
disappeared, and now, the new

00:53:04.606 --> 00:53:06.536 A:middle
selection is shown correctly.

00:53:07.026 --> 00:53:08.346 A:middle
So, this seems to be working

00:53:08.346 --> 00:53:08.866 A:middle
pretty well.

00:53:09.546 --> 00:53:11.516 A:middle
Here is another example.

00:53:12.876 --> 00:53:14.766 A:middle
So again, I can select these

00:53:14.766 --> 00:53:15.236 A:middle
routes.

00:53:15.666 --> 00:53:18.266 A:middle
But now I want to know more

00:53:18.266 --> 00:53:18.706 A:middle
about them.

00:53:18.706 --> 00:53:19.666 A:middle
I want to know what are the

00:53:19.666 --> 00:53:21.076 A:middle
driving directions, how long it

00:53:21.076 --> 00:53:23.246 A:middle
takes to use one of the routes

00:53:23.246 --> 00:53:27.296 A:middle
versus another, etc. So, this is

00:53:27.296 --> 00:53:29.246 A:middle
very simple to do because all of

00:53:29.446 --> 00:53:31.446 A:middle
the - everything that I need is

00:53:31.446 --> 00:53:32.276 A:middle
already in place.

00:53:32.626 --> 00:53:35.646 A:middle
I have saved data on my

00:53:35.646 --> 00:53:38.226 A:middle
overlays, and I have Event List

00:53:38.226 --> 00:53:39.166 A:middle
now for Selection and

00:53:39.166 --> 00:53:39.716 A:middle
Deselection.

00:53:39.716 --> 00:53:41.266 A:middle
So, when the overlay's selected,

00:53:41.636 --> 00:53:46.046 A:middle
I will show the data in the

00:53:46.136 --> 00:53:47.106 A:middle
sidebar.

00:53:48.636 --> 00:53:50.336 A:middle
So, this is just classic.

00:53:50.336 --> 00:53:51.856 A:middle
Now, we are really into web

00:53:51.856 --> 00:53:54.986 A:middle
development land where we have a

00:53:54.986 --> 00:53:56.516 A:middle
bunch of the time we went to --

00:53:56.696 --> 00:53:58.396 A:middle
format it into some HTML, so I

00:53:58.396 --> 00:53:59.356 A:middle
won't go over the details.

00:53:59.876 --> 00:54:01.806 A:middle
But the detail that we have is

00:53:59.876 --> 00:54:01.806 A:middle
But the detail that we have is

00:54:01.806 --> 00:54:03.366 A:middle
the one that is associated with

00:54:03.366 --> 00:54:03.876 A:middle
the overlay.

00:54:04.456 --> 00:54:05.836 A:middle
And it gets shown when the

00:54:05.836 --> 00:54:06.736 A:middle
overlay's selected.

00:54:07.596 --> 00:54:08.866 A:middle
And I will not make the same

00:54:08.866 --> 00:54:09.666 A:middle
mistake about this this

00:54:09.666 --> 00:54:11.126 A:middle
selection, so I will directly

00:54:11.556 --> 00:54:13.156 A:middle
hide the data when the overlay's

00:54:13.156 --> 00:54:14.406 A:middle
deselected so that I don't have

00:54:14.406 --> 00:54:16.236 A:middle
several routes appearing at

00:54:16.236 --> 00:54:16.616 A:middle
once.

00:54:18.176 --> 00:54:19.366 A:middle
So, let's try again.

00:54:20.596 --> 00:54:21.536 A:middle
Let's go back.

00:54:21.536 --> 00:54:22.476 A:middle
I like this example.

00:54:23.856 --> 00:54:26.116 A:middle
So again, I will select this

00:54:26.116 --> 00:54:26.426 A:middle
route.

00:54:26.696 --> 00:54:27.696 A:middle
And now that the route is

00:54:27.696 --> 00:54:29.666 A:middle
selected, we can see on the

00:54:29.666 --> 00:54:31.586 A:middle
right-hand side that we have

00:54:31.586 --> 00:54:32.906 A:middle
some additional information.

00:54:33.396 --> 00:54:34.656 A:middle
This is a quick name for the

00:54:34.656 --> 00:54:34.906 A:middle
route.

00:54:34.906 --> 00:54:36.026 A:middle
So, this is the route that goes

00:54:36.026 --> 00:54:38.596 A:middle
from Mount Hamilton Road.

00:54:38.596 --> 00:54:40.126 A:middle
It's 70 kilometers long and

00:54:40.126 --> 00:54:41.626 A:middle
under ideal driving conditions,

00:54:41.626 --> 00:54:43.316 A:middle
it should take me an hour and 32

00:54:43.316 --> 00:54:44.706 A:middle
minutes to reach there.

00:54:44.706 --> 00:54:46.446 A:middle
And here are all the steps that

00:54:46.446 --> 00:54:48.276 A:middle
I can follow to get to my

00:54:48.276 --> 00:54:48.966 A:middle
destination.

00:54:49.906 --> 00:54:51.196 A:middle
I could see what this one looks

00:54:51.196 --> 00:54:51.516 A:middle
like.

00:54:52.146 --> 00:54:54.136 A:middle
It's actually longer in distance

00:54:54.136 --> 00:54:56.056 A:middle
but it should get me there

00:54:56.056 --> 00:54:56.496 A:middle
faster.

00:54:57.246 --> 00:54:59.826 A:middle
So, there we are.

00:54:59.826 --> 00:55:02.836 A:middle
We have built a Bigfoot Finder

00:54:59.826 --> 00:55:02.836 A:middle
We have built a Bigfoot Finder

00:55:03.356 --> 00:55:07.136 A:middle
and -- that lets us select where

00:55:07.136 --> 00:55:08.806 A:middle
we want to go and tells us where

00:55:08.806 --> 00:55:09.946 A:middle
we are going to go.

00:55:11.016 --> 00:55:12.106 A:middle
[ Applause ]

00:55:12.106 --> 00:55:13.126 A:middle
Thank you.

00:55:16.896 --> 00:55:17.496 A:middle
Quick recap.

00:55:17.936 --> 00:55:19.536 A:middle
We've seen how to react to user

00:55:19.536 --> 00:55:20.106 A:middle
events.

00:55:20.106 --> 00:55:23.256 A:middle
So, in this case, selection and

00:55:23.256 --> 00:55:24.276 A:middle
deselection.

00:55:24.306 --> 00:55:25.826 A:middle
We've got driving directions

00:55:25.826 --> 00:55:27.146 A:middle
from the MapKit JS Service.

00:55:27.486 --> 00:55:29.196 A:middle
We've used polyline overlays to

00:55:29.196 --> 00:55:30.716 A:middle
render these driving directions.

00:55:31.326 --> 00:55:33.766 A:middle
And we've added our own behavior

00:55:33.766 --> 00:55:35.116 A:middle
for the selection of overlays

00:55:35.116 --> 00:55:36.976 A:middle
since there is no specific

00:55:36.976 --> 00:55:38.626 A:middle
behavior provided by default.

00:55:40.416 --> 00:55:42.286 A:middle
So, there is plenty more to talk

00:55:42.286 --> 00:55:45.076 A:middle
about MapKit JS, but we only

00:55:45.076 --> 00:55:45.706 A:middle
have one hour.

00:55:45.826 --> 00:55:47.706 A:middle
So, I will stop here.

00:55:49.426 --> 00:55:52.316 A:middle
But I hope that we have made a

00:55:52.636 --> 00:55:53.796 A:middle
good case for MapKit JS,

00:55:53.796 --> 00:55:55.446 A:middle
delivering a top-notch map

00:55:55.536 --> 00:55:56.816 A:middle
experience for the web.

00:55:58.036 --> 00:56:00.406 A:middle
That it lets you unify on a

00:55:58.036 --> 00:56:00.406 A:middle
That it lets you unify on a

00:56:00.406 --> 00:56:02.036 A:middle
single map provider with a

00:56:02.036 --> 00:56:03.456 A:middle
familiar and flexible API.

00:56:03.456 --> 00:56:04.736 A:middle
So, if you have on your team

00:56:04.736 --> 00:56:06.496 A:middle
people who have used the native

00:56:06.496 --> 00:56:07.976 A:middle
MapKit API, this would feel

00:56:07.976 --> 00:56:09.656 A:middle
right at home, because the same

00:56:09.656 --> 00:56:10.426 A:middle
concepts apply.

00:56:10.766 --> 00:56:12.416 A:middle
And web developers will be happy

00:56:12.416 --> 00:56:14.846 A:middle
to see that the APIs are also

00:56:14.846 --> 00:56:16.936 A:middle
tailored to match JavaScript.

00:56:18.796 --> 00:56:20.516 A:middle
So, I will remind you that you

00:56:20.516 --> 00:56:22.276 A:middle
need the MapKit JS Key to be

00:56:22.276 --> 00:56:23.716 A:middle
able to use MapKit JS.

00:56:23.716 --> 00:56:25.326 A:middle
So, please go to the developer

00:56:25.326 --> 00:56:26.986 A:middle
portal, get your key, and try it

00:56:26.986 --> 00:56:27.526 A:middle
out today.

00:56:28.976 --> 00:56:30.346 A:middle
If you want to know more about

00:56:30.346 --> 00:56:32.026 A:middle
MapKit JS, you can find the

00:56:32.026 --> 00:56:34.726 A:middle
documentation and sample code at

00:56:34.726 --> 00:56:35.386 A:middle
this URL.

00:56:36.066 --> 00:56:38.946 A:middle
And if you want to know more

00:56:38.946 --> 00:56:40.596 A:middle
about this session, you have

00:56:40.596 --> 00:56:42.836 A:middle
this URL for the session itself.

00:56:42.906 --> 00:56:45.606 A:middle
We have accompanying video that

00:56:45.606 --> 00:56:47.106 A:middle
will take you step-by-step

00:56:47.106 --> 00:56:48.536 A:middle
through getting and using a

00:56:48.536 --> 00:56:51.246 A:middle
MapKit JS Key.

00:56:51.246 --> 00:56:52.656 A:middle
And finally, we have labs

00:56:52.656 --> 00:56:55.046 A:middle
happening on Wednesday morning

00:56:55.046 --> 00:56:56.486 A:middle
and Friday morning, so you can

00:56:56.486 --> 00:56:58.466 A:middle
come to talk to the whole MapKit

00:56:58.466 --> 00:57:00.526 A:middle
JS team to ask us questions

00:56:58.466 --> 00:57:00.526 A:middle
JS team to ask us questions

00:57:00.526 --> 00:57:02.156 A:middle
about MapKit JS.

00:57:02.506 --> 00:57:03.306 A:middle
Thank you very much.

00:57:04.516 --> 00:57:07.500 A:middle
[ Applause ]
