WEBVTT

00:00:00.506 --> 00:00:04.500 A:middle
[ Music ]

00:00:07.516 --> 00:00:15.546 A:middle
[ Applause ]

00:00:16.046 --> 00:00:16.606 A:middle
&gt;&gt; Hi everybody.

00:00:16.946 --> 00:00:18.546 A:middle
My name's Ari and I'm really

00:00:18.546 --> 00:00:20.046 A:middle
excited to be here to tell you

00:00:20.046 --> 00:00:21.866 A:middle
today about some new updates to

00:00:21.866 --> 00:00:23.466 A:middle
Shortcuts in iOS 13.

00:00:24.586 --> 00:00:28.256 A:middle
In iOS 12 we extended SiriKit by

00:00:28.256 --> 00:00:30.106 A:middle
introducing the Shortcuts APIs.

00:00:30.426 --> 00:00:31.836 A:middle
Which let you expose actions

00:00:31.836 --> 00:00:33.246 A:middle
from your apps to Siri.

00:00:35.136 --> 00:00:36.726 A:middle
Shortcut actions exposed from

00:00:36.726 --> 00:00:38.466 A:middle
your apps can be used in three

00:00:38.466 --> 00:00:39.216 A:middle
different ways.

00:00:39.796 --> 00:00:41.386 A:middle
They can be used as suggestions.

00:00:41.966 --> 00:00:43.196 A:middle
They can be used through voice.

00:00:43.456 --> 00:00:45.176 A:middle
And they can be used as part of

00:00:45.176 --> 00:00:46.376 A:middle
multi-step shortcuts.

00:00:47.066 --> 00:00:50.866 A:middle
Now, with suggestions, Siri will

00:00:50.866 --> 00:00:52.496 A:middle
suggest your Shortcuts to the

00:00:52.496 --> 00:00:54.856 A:middle
user as just the right time in

00:00:54.856 --> 00:00:56.616 A:middle
search and on the lock screen to

00:00:56.616 --> 00:00:58.096 A:middle
accelerate things they do with

00:00:58.096 --> 00:00:59.426 A:middle
your apps every day.

00:01:00.536 --> 00:01:03.236 A:middle
With voice, customers can use

00:01:03.336 --> 00:01:05.126 A:middle
any capability of your apps just

00:01:05.126 --> 00:01:06.176 A:middle
by asking Siri.

00:01:07.866 --> 00:01:09.936 A:middle
This is really powerful, because

00:01:10.066 --> 00:01:11.446 A:middle
Shortcuts makes it super easy to

00:01:11.446 --> 00:01:13.336 A:middle
voice enable your app, which

00:01:13.336 --> 00:01:14.556 A:middle
lets people use your app in

00:01:14.556 --> 00:01:15.566 A:middle
totally new ways.

00:01:16.266 --> 00:01:17.436 A:middle
Whether they're on the go with

00:01:17.436 --> 00:01:19.856 A:middle
AirPods, in the car with CarPlay

00:01:20.166 --> 00:01:22.016 A:middle
or at home with HomePod, or just

00:01:22.016 --> 00:01:24.136 A:middle
from across the room with "Hey

00:01:24.976 --> 00:01:25.186 A:middle
Siri".

00:01:25.856 --> 00:01:27.626 A:middle
Lastly, users can build their

00:01:27.626 --> 00:01:29.466 A:middle
own shortcuts in the Shortcuts

00:01:29.466 --> 00:01:31.316 A:middle
app, which include multiple

00:01:31.316 --> 00:01:32.736 A:middle
actions, including those from

00:01:32.736 --> 00:01:33.466 A:middle
your apps.

00:01:34.006 --> 00:01:37.136 A:middle
Now, this year we're talking

00:01:37.136 --> 00:01:39.786 A:middle
Shortcuts APIs even further and

00:01:39.786 --> 00:01:41.206 A:middle
we have some really exciting API

00:01:41.206 --> 00:01:43.356 A:middle
updates to share that take voice

00:01:43.356 --> 00:01:44.936 A:middle
and multi-step shortcuts to the

00:01:44.936 --> 00:01:45.566 A:middle
next level.

00:01:46.566 --> 00:01:47.736 A:middle
So let's dive into what's new.

00:01:50.736 --> 00:01:53.726 A:middle
In iOS 13 the Shortcuts app is

00:01:53.886 --> 00:01:55.746 A:middle
redesigned, and it's built into

00:01:55.836 --> 00:01:57.516 A:middle
iOS, so it's easier than ever

00:01:57.516 --> 00:01:59.216 A:middle
for people to discover and use

00:01:59.216 --> 00:01:59.796 A:middle
Shortcuts.

00:02:01.556 --> 00:02:02.816 A:middle
Now, after we announced

00:02:02.816 --> 00:02:04.506 A:middle
Shortcuts last year, the biggest

00:02:04.506 --> 00:02:05.986 A:middle
request we heard from developers

00:02:06.256 --> 00:02:07.666 A:middle
was to add parameters.

00:02:08.386 --> 00:02:10.145 A:middle
So we're really excited to share

00:02:10.145 --> 00:02:12.106 A:middle
that in iOS 13 we're introducing

00:02:12.106 --> 00:02:13.686 A:middle
support for parameters and it

00:02:13.686 --> 00:02:15.116 A:middle
enabled something we call

00:02:15.116 --> 00:02:16.476 A:middle
conversational shortcuts.

00:02:17.326 --> 00:02:19.016 A:middle
This basically allows users to

00:02:19.016 --> 00:02:20.436 A:middle
have a conversation with your

00:02:20.676 --> 00:02:22.416 A:middle
app and you control the

00:02:22.416 --> 00:02:23.186 A:middle
conversation.

00:02:23.446 --> 00:02:26.176 A:middle
So you can prompt the user for

00:02:26.176 --> 00:02:27.896 A:middle
information you need and respond

00:02:27.896 --> 00:02:29.416 A:middle
dynamically based on the users

00:02:29.416 --> 00:02:31.506 A:middle
input and their current context.

00:02:32.246 --> 00:02:34.386 A:middle
This opens up really totally new

00:02:34.386 --> 00:02:36.356 A:middle
use cases for what people can do

00:02:36.426 --> 00:02:37.916 A:middle
with Siri and apps, and I'm

00:02:37.916 --> 00:02:39.116 A:middle
excited to tell you more about

00:02:39.116 --> 00:02:39.986 A:middle
it in just a second.

00:02:40.966 --> 00:02:43.446 A:middle
But next, we're adding new ways

00:02:43.486 --> 00:02:45.016 A:middle
for users to customize your

00:02:45.016 --> 00:02:46.736 A:middle
shortcut actions through a new

00:02:46.786 --> 00:02:48.886 A:middle
customization UI that acts on

00:02:48.886 --> 00:02:50.576 A:middle
the same parameters as the ones

00:02:50.576 --> 00:02:51.756 A:middle
that you define for the voice

00:02:51.756 --> 00:02:52.306 A:middle
interaction.

00:02:52.806 --> 00:02:55.806 A:middle
You can also enable advanced

00:02:55.806 --> 00:02:58.606 A:middle
scenarios like outputs and

00:02:59.416 --> 00:02:59.776 A:middle
variables.

00:03:00.626 --> 00:03:02.686 A:middle
Lastly, we have an updated Add

00:03:02.686 --> 00:03:04.906 A:middle
to Siri UI, which makes it easy

00:03:04.906 --> 00:03:06.116 A:middle
for people to get started with

00:03:06.116 --> 00:03:08.126 A:middle
Shortcuts inside of your app.

00:03:08.676 --> 00:03:11.126 A:middle
So, let's take a look at what

00:03:11.126 --> 00:03:12.486 A:middle
some of these new capabilities

00:03:12.486 --> 00:03:13.866 A:middle
mean to the voice experience

00:03:13.906 --> 00:03:14.856 A:middle
inside of Siri.

00:03:16.306 --> 00:03:18.106 A:middle
I have a great new Siri

00:03:18.106 --> 00:03:18.626 A:middle
shortcut.

00:03:18.626 --> 00:03:20.166 A:middle
It's called Add to Instacart,

00:03:20.166 --> 00:03:21.806 A:middle
and it adds items to my cart.

00:03:22.496 --> 00:03:23.836 A:middle
So, with conversational

00:03:23.836 --> 00:03:25.576 A:middle
shortcuts, when I say Add to

00:03:25.576 --> 00:03:27.726 A:middle
Instacart, Instacart can ask

00:03:27.726 --> 00:03:29.566 A:middle
what I want to add with custom

00:03:29.566 --> 00:03:30.136 A:middle
dialogue.

00:03:30.336 --> 00:03:32.076 A:middle
And I'll say bananas.

00:03:32.786 --> 00:03:36.026 A:middle
So, there are a few different

00:03:36.026 --> 00:03:37.056 A:middle
options for bananas.

00:03:37.616 --> 00:03:38.726 A:middle
Instacart will ask which

00:03:38.726 --> 00:03:40.896 A:middle
specific one I want by showing a

00:03:40.896 --> 00:03:42.256 A:middle
disambiguation.

00:03:42.506 --> 00:03:43.726 A:middle
I'll stay I want the organic

00:03:43.726 --> 00:03:44.216 A:middle
bananas.

00:03:44.886 --> 00:03:48.286 A:middle
So, if it's contextually

00:03:48.286 --> 00:03:49.796 A:middle
appropriate, the app can ask

00:03:49.796 --> 00:03:51.516 A:middle
additional questions based on

00:03:51.516 --> 00:03:52.526 A:middle
what I've said so far.

00:03:53.096 --> 00:03:55.356 A:middle
In this case, Instacart will ask

00:03:55.356 --> 00:03:57.166 A:middle
how many bananas I want, and

00:03:57.896 --> 00:03:59.746 A:middle
I'll say six.

00:04:00.066 --> 00:04:01.686 A:middle
Lastly, Siri can let me know

00:04:01.686 --> 00:04:03.416 A:middle
that the task is complete with

00:04:03.416 --> 00:04:05.056 A:middle
custom dialogue and custom

00:04:05.056 --> 00:04:06.886 A:middle
visuals from Instacart.

00:04:08.236 --> 00:04:10.176 A:middle
I also have another new

00:04:10.176 --> 00:04:10.576 A:middle
shortcut.

00:04:10.576 --> 00:04:12.266 A:middle
It's from the MLB At Bat app,

00:04:12.616 --> 00:04:13.626 A:middle
and it means that I can just

00:04:13.626 --> 00:04:15.276 A:middle
say, "Hey Siri, watch baseball."

00:04:15.276 --> 00:04:17.146 A:middle
and it will jump me right into

00:04:17.146 --> 00:04:18.555 A:middle
my favorite team's games.

00:04:19.836 --> 00:04:21.596 A:middle
So, the Philly's aren't actually

00:04:21.596 --> 00:04:22.796 A:middle
playing right now, but with

00:04:22.796 --> 00:04:24.816 A:middle
conversational shortcuts the MLB

00:04:24.816 --> 00:04:26.586 A:middle
app can detect that and recover

00:04:26.586 --> 00:04:27.166 A:middle
appropriately.

00:04:27.636 --> 00:04:28.716 A:middle
Letting me know that there isn't

00:04:28.716 --> 00:04:30.206 A:middle
a game on right now but giving

00:04:30.206 --> 00:04:31.696 A:middle
me some other options of things

00:04:31.696 --> 00:04:33.406 A:middle
I might want to watch instead.

00:04:34.456 --> 00:04:36.066 A:middle
So, that's just a glimpse of

00:04:36.066 --> 00:04:37.626 A:middle
what you can do in Siri, and in

00:04:37.626 --> 00:04:38.626 A:middle
a minute we'll dive into the

00:04:38.626 --> 00:04:39.446 A:middle
implementation.

00:04:39.976 --> 00:04:41.906 A:middle
But first, let's talk about some

00:04:41.906 --> 00:04:43.646 A:middle
updates to the Shortcuts app in

00:04:43.776 --> 00:04:45.116 A:middle
iOS 13.

00:04:47.016 --> 00:04:49.466 A:middle
The Shortcuts app is now built

00:04:49.466 --> 00:04:50.126 A:middle
in to iOS.

00:04:50.596 --> 00:04:52.196 A:middle
And you don't need to download

00:04:52.196 --> 00:04:52.996 A:middle
it from the App Store.

00:04:53.896 --> 00:04:56.416 A:middle
It's the one place where users

00:04:56.416 --> 00:04:57.506 A:middle
can manage all of their

00:04:57.506 --> 00:04:58.066 A:middle
shortcuts.

00:04:58.096 --> 00:04:59.656 A:middle
So everything that used to be in

00:04:59.656 --> 00:05:01.316 A:middle
settings in now here also.

00:04:59.656 --> 00:05:01.316 A:middle
settings in now here also.

00:05:01.896 --> 00:05:06.106 A:middle
In the My Shortcuts tab the user

00:05:06.106 --> 00:05:07.356 A:middle
can see all of the shortcuts

00:05:07.356 --> 00:05:08.576 A:middle
they have set up and they can

00:05:08.576 --> 00:05:10.566 A:middle
run them just by tapping on them

00:05:10.616 --> 00:05:12.726 A:middle
or by saying the name to Siri.

00:05:13.086 --> 00:05:14.406 A:middle
And there's no need to record a

00:05:14.406 --> 00:05:15.186 A:middle
phrase first.

00:05:15.716 --> 00:05:18.756 A:middle
In iOS 13 we also have a

00:05:18.756 --> 00:05:20.996 A:middle
brand-new Automation tab where

00:05:20.996 --> 00:05:22.456 A:middle
people can set up shortcuts that

00:05:22.456 --> 00:05:23.896 A:middle
show up or even run

00:05:23.896 --> 00:05:25.846 A:middle
automatically based on certain

00:05:25.846 --> 00:05:27.716 A:middle
criteria like when they arrive

00:05:27.716 --> 00:05:29.216 A:middle
at a particular location, when

00:05:29.216 --> 00:05:30.666 A:middle
they get in the car, or when

00:05:30.666 --> 00:05:32.646 A:middle
their alarm goes off in the

00:05:33.476 --> 00:05:33.736 A:middle
morning.

00:05:34.186 --> 00:05:35.966 A:middle
So, we all know Shortcuts is

00:05:36.006 --> 00:05:37.886 A:middle
really useful, but it can be

00:05:37.986 --> 00:05:39.136 A:middle
hard to start from a blank

00:05:39.136 --> 00:05:39.536 A:middle
slate.

00:05:40.246 --> 00:05:42.286 A:middle
So users can find hundreds of

00:05:42.526 --> 00:05:44.386 A:middle
pre-built shortcuts to get

00:05:44.386 --> 00:05:45.916 A:middle
started with in the Gallery tab.

00:05:46.786 --> 00:05:48.536 A:middle
And this year, we're updating

00:05:48.536 --> 00:05:50.286 A:middle
the gallery with a new section

00:05:50.286 --> 00:05:53.376 A:middle
called Shortcuts from Your Apps.

00:05:53.476 --> 00:05:55.476 A:middle
This section highlights relevant

00:05:55.476 --> 00:05:56.996 A:middle
actions from third-party apps

00:05:56.996 --> 00:05:58.216 A:middle
which includes your apps.

00:05:59.216 --> 00:06:00.936 A:middle
So this is a really great

00:05:59.216 --> 00:06:00.936 A:middle
So this is a really great

00:06:00.936 --> 00:06:02.726 A:middle
opportunity to get your apps

00:06:02.726 --> 00:06:04.166 A:middle
actions in front of the user

00:06:04.306 --> 00:06:05.476 A:middle
even when they're not using your

00:06:06.216 --> 00:06:06.476 A:middle
app.

00:06:07.456 --> 00:06:10.116 A:middle
The shortcut editor has been

00:06:10.156 --> 00:06:11.936 A:middle
updated also with a new natural

00:06:11.976 --> 00:06:12.826 A:middle
language format.

00:06:13.066 --> 00:06:15.076 A:middle
Here's what it looks like in the

00:06:15.076 --> 00:06:16.546 A:middle
editor when the user sets up a

00:06:16.546 --> 00:06:19.376 A:middle
shortcut with the Soup Chef app.

00:06:19.716 --> 00:06:21.536 A:middle
Note how my app has exposed this

00:06:21.536 --> 00:06:23.596 A:middle
description, Order 1 Clam

00:06:23.596 --> 00:06:23.996 A:middle
Chowder.

00:06:23.996 --> 00:06:25.556 A:middle
And the user can tweak those

00:06:25.586 --> 00:06:27.106 A:middle
parameters at any time just by

00:06:27.106 --> 00:06:28.386 A:middle
tapping on one of the buttons.

00:06:28.386 --> 00:06:30.086 A:middle
Like tapping on 1 or Clam

00:06:30.086 --> 00:06:30.446 A:middle
Chowder.

00:06:31.856 --> 00:06:34.246 A:middle
The editor also has a new action

00:06:34.246 --> 00:06:36.086 A:middle
pane which features actions from

00:06:36.086 --> 00:06:37.156 A:middle
third-party apps that you can

00:06:37.156 --> 00:06:39.626 A:middle
drag or tap to add to your

00:06:40.836 --> 00:06:41.176 A:middle
shortcut.

00:06:41.176 --> 00:06:43.106 A:middle
Lastly, your apps actions can

00:06:43.106 --> 00:06:45.026 A:middle
now provide outputs, which means

00:06:45.026 --> 00:06:46.436 A:middle
they can be hooked up to other

00:06:46.436 --> 00:06:48.156 A:middle
actions to create even more

00:06:48.156 --> 00:06:49.216 A:middle
powerful shortcuts.

00:06:50.086 --> 00:06:52.076 A:middle
For example, the Soup Chef app

00:06:52.506 --> 00:06:54.206 A:middle
can share an ETA.

00:06:54.406 --> 00:06:56.646 A:middle
So you can add it to an Add New

00:06:56.646 --> 00:06:58.336 A:middle
Reminder actions to make a

00:06:58.336 --> 00:06:59.646 A:middle
shortcut that adds a reminder to

00:06:59.646 --> 00:07:01.056 A:middle
pick up your soup exactly when

00:06:59.646 --> 00:07:01.056 A:middle
pick up your soup exactly when

00:07:01.056 --> 00:07:01.456 A:middle
it's ready.

00:07:02.046 --> 00:07:04.476 A:middle
So, that's what's new in the

00:07:04.476 --> 00:07:05.836 A:middle
Shortcuts app.

00:07:06.216 --> 00:07:07.716 A:middle
But we also have some updates to

00:07:07.716 --> 00:07:08.646 A:middle
Add to Siri.

00:07:09.936 --> 00:07:11.406 A:middle
Now, traditionally, voice

00:07:11.406 --> 00:07:13.006 A:middle
functionality can be hard for

00:07:13.006 --> 00:07:14.696 A:middle
users to discover, because they

00:07:14.696 --> 00:07:16.066 A:middle
don't know which features of

00:07:16.106 --> 00:07:18.166 A:middle
your app are available or what

00:07:18.166 --> 00:07:19.476 A:middle
to say in order to use them.

00:07:19.476 --> 00:07:21.766 A:middle
Add to Siri makes this easy

00:07:21.846 --> 00:07:23.376 A:middle
because people are already using

00:07:23.376 --> 00:07:23.776 A:middle
your app.

00:07:24.026 --> 00:07:25.936 A:middle
So you can add the Add to Siri

00:07:25.936 --> 00:07:27.816 A:middle
button in the relevant parts of

00:07:27.816 --> 00:07:30.206 A:middle
your app and it -- the user

00:07:30.206 --> 00:07:31.596 A:middle
actually wants to use it with

00:07:31.766 --> 00:07:32.366 A:middle
their voice.

00:07:33.076 --> 00:07:35.796 A:middle
In iOS 13 we've redesigned the

00:07:35.796 --> 00:07:36.766 A:middle
Add to Siri sheet.

00:07:37.176 --> 00:07:39.026 A:middle
The new UI lets the user set up

00:07:39.026 --> 00:07:40.186 A:middle
shortcuts without having to

00:07:40.186 --> 00:07:40.996 A:middle
record a phrase.

00:07:41.406 --> 00:07:43.366 A:middle
They can just type a phrase or

00:07:43.366 --> 00:07:44.386 A:middle
they can accept one that's

00:07:44.386 --> 00:07:45.376 A:middle
suggested by you.

00:07:46.816 --> 00:07:49.156 A:middle
Afterwards, saying the phrase to

00:07:49.156 --> 00:07:50.956 A:middle
Siri will run the shortcut.

00:07:50.956 --> 00:07:54.286 A:middle
And if you tap on the action

00:07:54.286 --> 00:07:56.806 A:middle
under Do, the user can tweak the

00:07:56.806 --> 00:07:58.216 A:middle
behavior of the shortcut just

00:07:58.216 --> 00:07:59.366 A:middle
like they can from inside the

00:07:59.366 --> 00:07:59.996 A:middle
Shortcuts app.

00:08:00.056 --> 00:08:03.596 A:middle
Now, let's dive into the

00:08:03.706 --> 00:08:04.606 A:middle
implementation.

00:08:04.996 --> 00:08:06.786 A:middle
First, we're going to talk about

00:08:06.786 --> 00:08:08.286 A:middle
how to enable your shortcuts to

00:08:08.286 --> 00:08:10.026 A:middle
be customized by the user and

00:08:10.526 --> 00:08:11.796 A:middle
then we'll cover parameter

00:08:11.796 --> 00:08:13.156 A:middle
resolution and how to use it to

00:08:13.156 --> 00:08:14.266 A:middle
implement a great voice

00:08:14.266 --> 00:08:14.886 A:middle
experience.

00:08:15.486 --> 00:08:17.736 A:middle
Then, we'll talk about how to

00:08:17.736 --> 00:08:19.226 A:middle
deal with parameters that have

00:08:19.226 --> 00:08:20.436 A:middle
dependencies on each other.

00:08:20.436 --> 00:08:23.056 A:middle
And lastly, we'll cover how

00:08:23.056 --> 00:08:25.186 A:middle
dynamic options and outputs can

00:08:25.186 --> 00:08:26.266 A:middle
help take your actions to the

00:08:26.266 --> 00:08:27.746 A:middle
next level in the shortcut

00:08:27.746 --> 00:08:27.976 A:middle
editor.

00:08:31.256 --> 00:08:32.895 A:middle
So, let's start by enabling

00:08:32.895 --> 00:08:34.606 A:middle
Shortcut Customization for an

00:08:34.606 --> 00:08:35.785 A:middle
app that I've been developing.

00:08:37.046 --> 00:08:40.126 A:middle
I'm really, really into soup and

00:08:40.126 --> 00:08:41.405 A:middle
so I've been working on an app

00:08:41.405 --> 00:08:42.885 A:middle
called Soup Chef, which lets

00:08:42.885 --> 00:08:43.976 A:middle
people order soups from their

00:08:43.976 --> 00:08:44.826 A:middle
favorite restaurants.

00:08:45.606 --> 00:08:47.396 A:middle
I want to enable shortcuts that

00:08:47.396 --> 00:08:48.676 A:middle
let the user order a soup and

00:08:48.676 --> 00:08:50.256 A:middle
choose how many soups they want

00:08:50.466 --> 00:08:51.856 A:middle
right from inside of the action.

00:08:53.216 --> 00:08:55.126 A:middle
So, in order to set this up

00:08:55.276 --> 00:08:57.046 A:middle
let's start in the Intent editor

00:08:57.046 --> 00:08:58.026 A:middle
in Xcode.

00:08:59.306 --> 00:09:01.856 A:middle
As you know, an Intent is a

00:08:59.306 --> 00:09:01.856 A:middle
As you know, an Intent is a

00:09:01.856 --> 00:09:03.376 A:middle
specification of a task that the

00:09:03.376 --> 00:09:05.696 A:middle
user can complete in your app.

00:09:06.006 --> 00:09:07.736 A:middle
In this case, ordering soup.

00:09:08.916 --> 00:09:10.846 A:middle
You should define parameters for

00:09:10.956 --> 00:09:12.616 A:middle
every piece of information that

00:09:12.616 --> 00:09:14.426 A:middle
you need from the user in order

00:09:14.426 --> 00:09:16.566 A:middle
to complete that task.

00:09:16.846 --> 00:09:18.056 A:middle
The set of parameters that you

00:09:18.056 --> 00:09:20.706 A:middle
define here is used for both the

00:09:21.036 --> 00:09:22.826 A:middle
set of questions that Siri will

00:09:22.826 --> 00:09:24.716 A:middle
ask in conversational shortcuts

00:09:25.046 --> 00:09:27.256 A:middle
as well as the set of parameters

00:09:27.406 --> 00:09:28.346 A:middle
that you can edit in the

00:09:28.346 --> 00:09:28.976 A:middle
shortcuts editor.

00:09:31.646 --> 00:09:33.626 A:middle
From each parameter that you add

00:09:33.626 --> 00:09:35.386 A:middle
to your Intent, you can choose

00:09:35.496 --> 00:09:37.236 A:middle
from the list of supported types

00:09:37.286 --> 00:09:38.556 A:middle
that are provided by the system

00:09:39.326 --> 00:09:42.136 A:middle
or you can create an Enum, or

00:09:42.136 --> 00:09:43.786 A:middle
you can even in iOS 13 create

00:09:43.786 --> 00:09:44.986 A:middle
your own custom types.

00:09:45.486 --> 00:09:48.706 A:middle
Once you pick a type, you'll see

00:09:48.706 --> 00:09:49.886 A:middle
some additional settings that

00:09:49.886 --> 00:09:51.296 A:middle
let you customize that parameter

00:09:51.296 --> 00:09:52.706 A:middle
which are specific to that type.

00:09:53.146 --> 00:09:54.956 A:middle
For example, if I pick String,

00:09:55.306 --> 00:09:56.666 A:middle
I'll see some new options for

00:09:56.666 --> 00:09:58.546 A:middle
capitalization and autocorrect

00:09:58.546 --> 00:09:59.036 A:middle
behavior.

00:10:01.236 --> 00:10:03.146 A:middle
For this parameter I'm going to

00:10:03.146 --> 00:10:04.846 A:middle
choose a soup enum type that I

00:10:04.846 --> 00:10:05.606 A:middle
already created.

00:10:06.146 --> 00:10:08.496 A:middle
Now, since I'm updating an

00:10:08.496 --> 00:10:10.156 A:middle
existing parameter, I need to

00:10:10.156 --> 00:10:12.396 A:middle
check the User Facing checkbox

00:10:12.546 --> 00:10:14.036 A:middle
so that this parameter can be

00:10:14.036 --> 00:10:15.266 A:middle
exposed to Siri and the

00:10:15.266 --> 00:10:16.446 A:middle
Shortcuts app.

00:10:17.276 --> 00:10:19.276 A:middle
For new parameters that I add,

00:10:19.276 --> 00:10:22.336 A:middle
this will be checked by default.

00:10:22.566 --> 00:10:23.826 A:middle
Next, I'll need to fill in some

00:10:23.826 --> 00:10:25.016 A:middle
new information for my

00:10:25.016 --> 00:10:25.476 A:middle
parameter.

00:10:25.476 --> 00:10:26.896 A:middle
I'm going to add this Display

00:10:26.896 --> 00:10:28.226 A:middle
Name, because that's used to

00:10:28.226 --> 00:10:29.776 A:middle
show the parameter inside of the

00:10:29.776 --> 00:10:30.446 A:middle
shortcut editor.

00:10:30.446 --> 00:10:33.196 A:middle
Then, because this is an

00:10:33.196 --> 00:10:35.836 A:middle
existing Intent, I also need to

00:10:35.836 --> 00:10:36.926 A:middle
check the Intent is

00:10:36.926 --> 00:10:38.696 A:middle
user-configurable checkbox,

00:10:38.896 --> 00:10:39.996 A:middle
which makes the Intent as a

00:10:39.996 --> 00:10:42.026 A:middle
whole available to both Siri and

00:10:42.026 --> 00:10:43.286 A:middle
the Shortcuts app.

00:10:44.056 --> 00:10:46.636 A:middle
Now, lastly, I need to fill in a

00:10:46.636 --> 00:10:47.736 A:middle
parameter summary.

00:10:48.576 --> 00:10:49.886 A:middle
I want to include the parameters

00:10:49.946 --> 00:10:51.866 A:middle
quantity and soup in the

00:10:51.866 --> 00:10:53.436 A:middle
parameter summary so that

00:10:53.436 --> 00:10:54.596 A:middle
they're really easy for the user

00:10:54.596 --> 00:10:55.896 A:middle
to tweak in the shortcut editor.

00:10:56.236 --> 00:10:58.826 A:middle
So, I'll add a string, order

00:10:58.826 --> 00:11:00.636 A:middle
quantity soup, and I'll let

00:10:58.826 --> 00:11:00.636 A:middle
quantity soup, and I'll let

00:11:00.636 --> 00:11:02.646 A:middle
Xcode turn quantity and soup

00:11:02.836 --> 00:11:06.886 A:middle
into variables for me in Xcode.

00:11:07.196 --> 00:11:07.896 A:middle
So that's it.

00:11:07.896 --> 00:11:09.196 A:middle
That's actually all you have to

00:11:09.196 --> 00:11:10.906 A:middle
do to get your shortcuts to be

00:11:10.906 --> 00:11:12.166 A:middle
exposed like this in the

00:11:12.166 --> 00:11:12.956 A:middle
shortcut editor.

00:11:13.036 --> 00:11:16.656 A:middle
Now that the Intent is

00:11:16.656 --> 00:11:18.786 A:middle
configurable, and it shows up in

00:11:18.786 --> 00:11:19.566 A:middle
the Shortcuts app, it's

00:11:19.656 --> 00:11:21.066 A:middle
ready-to-use parameters.

00:11:21.266 --> 00:11:23.036 A:middle
So, the next thing we need to be

00:11:23.036 --> 00:11:24.526 A:middle
able to do is resolve the

00:11:24.526 --> 00:11:25.806 A:middle
parameters of the Intent.

00:11:26.376 --> 00:11:28.306 A:middle
Let's talk about how to do that.

00:11:28.856 --> 00:11:32.166 A:middle
In iOS 12, when the user invokes

00:11:32.166 --> 00:11:33.306 A:middle
a shortcut through Siri it goes

00:11:33.306 --> 00:11:34.406 A:middle
through two phases.

00:11:34.726 --> 00:11:36.656 A:middle
First Confirm and then Handle.

00:11:38.316 --> 00:11:40.106 A:middle
This year we're adding a third

00:11:40.106 --> 00:11:41.446 A:middle
phase which is called Resolve.

00:11:41.686 --> 00:11:42.956 A:middle
And it should be familiar to you

00:11:42.956 --> 00:11:43.996 A:middle
if you've already worked with

00:11:43.996 --> 00:11:45.516 A:middle
SiriKit APIs in the past.

00:11:49.376 --> 00:11:52.216 A:middle
In the Resolve phase Siri goes

00:11:52.216 --> 00:11:53.576 A:middle
through each parameter that

00:11:53.576 --> 00:11:54.716 A:middle
you've defined on your Intent

00:11:54.986 --> 00:11:57.746 A:middle
and asks your Intent handler to

00:11:57.746 --> 00:11:58.786 A:middle
resolve that parameter.

00:11:58.786 --> 00:12:00.236 A:middle
To decide whether or not to ask

00:11:58.786 --> 00:12:00.236 A:middle
To decide whether or not to ask

00:12:00.416 --> 00:12:02.046 A:middle
the user a question.

00:12:02.756 --> 00:12:05.196 A:middle
For Soup Chef, Siri will first

00:12:05.196 --> 00:12:06.726 A:middle
call Resolve on the soup

00:12:06.726 --> 00:12:08.006 A:middle
parameter which might ask a

00:12:08.006 --> 00:12:09.226 A:middle
question like, "What soup do you

00:12:09.226 --> 00:12:09.526 A:middle
want?"

00:12:10.756 --> 00:12:12.496 A:middle
And then it will call Resolve on

00:12:12.496 --> 00:12:13.636 A:middle
quantity, which could ask a

00:12:13.636 --> 00:12:14.926 A:middle
question like, "How many soups

00:12:14.926 --> 00:12:15.416 A:middle
do you want?"

00:12:16.096 --> 00:12:17.736 A:middle
And lastly, it will ask it on

00:12:17.736 --> 00:12:19.196 A:middle
store location, which might say,

00:12:19.196 --> 00:12:20.726 A:middle
"Where do you want to order your

00:12:21.366 --> 00:12:23.056 A:middle
soup from?"

00:12:23.586 --> 00:12:24.776 A:middle
Once all the parameters are

00:12:24.776 --> 00:12:26.326 A:middle
resolved, Siri will invoke the

00:12:26.326 --> 00:12:28.076 A:middle
same Confirm and Handle methods

00:12:28.076 --> 00:12:29.756 A:middle
as the ones that we had in iOS

00:12:29.756 --> 00:12:29.996 A:middle
12.

00:12:29.996 --> 00:12:34.716 A:middle
So, let's take a look at what

00:12:34.716 --> 00:12:36.116 A:middle
this means in code.

00:12:36.716 --> 00:12:38.756 A:middle
Because Xcode automatically

00:12:38.756 --> 00:12:40.066 A:middle
generates an Intent handling

00:12:40.066 --> 00:12:41.666 A:middle
protocol for every Intent that

00:12:41.666 --> 00:12:42.156 A:middle
you define.

00:12:42.716 --> 00:12:44.986 A:middle
And you implement that protocol

00:12:44.986 --> 00:12:46.246 A:middle
in your Intent handler.

00:12:46.456 --> 00:12:49.726 A:middle
In iOS 12 Xcode generated these

00:12:49.726 --> 00:12:51.586 A:middle
two methods; Confirm and Handle,

00:12:52.306 --> 00:12:53.356 A:middle
which you would implement in

00:12:53.356 --> 00:12:54.566 A:middle
order to execute your Intent.

00:12:55.636 --> 00:12:57.166 A:middle
But this year, Xcode will also

00:12:57.166 --> 00:12:59.146 A:middle
generate Resolve methods for

00:12:59.146 --> 00:13:00.086 A:middle
each parameter that you've

00:12:59.146 --> 00:13:00.086 A:middle
each parameter that you've

00:13:00.086 --> 00:13:01.526 A:middle
marked as configurable.

00:13:02.006 --> 00:13:05.366 A:middle
Siri will call the resolve

00:13:05.366 --> 00:13:07.696 A:middle
methods and ask questions in the

00:13:07.696 --> 00:13:09.096 A:middle
order of the parameters that

00:13:09.096 --> 00:13:10.206 A:middle
you've defined in Xcode.

00:13:10.206 --> 00:13:12.016 A:middle
And you can drag and drop the

00:13:12.016 --> 00:13:13.676 A:middle
parameters in Xcode to change

00:13:13.676 --> 00:13:14.496 A:middle
the order of parameter

00:13:14.496 --> 00:13:14.946 A:middle
resolution.

00:13:18.806 --> 00:13:19.836 A:middle
When the Resolve method is

00:13:19.836 --> 00:13:22.206 A:middle
called, the Intent is passed as

00:13:22.306 --> 00:13:23.866 A:middle
input to the Resolve method,

00:13:24.176 --> 00:13:25.536 A:middle
including a value for the

00:13:25.536 --> 00:13:27.166 A:middle
parameter that's currently being

00:13:27.166 --> 00:13:27.536 A:middle
resolved.

00:13:28.056 --> 00:13:29.476 A:middle
So that value can come from a

00:13:29.476 --> 00:13:30.716 A:middle
couple of different places.

00:13:31.886 --> 00:13:33.476 A:middle
The first time the Resolve

00:13:33.476 --> 00:13:35.066 A:middle
method is called, when the

00:13:35.066 --> 00:13:37.096 A:middle
shortcut is being run, the value

00:13:37.096 --> 00:13:38.436 A:middle
is filled in from whatever the

00:13:38.436 --> 00:13:40.096 A:middle
user set on the shortcut when

00:13:40.096 --> 00:13:41.116 A:middle
they created it.

00:13:41.476 --> 00:13:43.206 A:middle
In this example, the soup field

00:13:43.206 --> 00:13:45.096 A:middle
is empty, maybe because the user

00:13:45.096 --> 00:13:46.526 A:middle
sometimes orders clam chowder

00:13:46.526 --> 00:13:47.946 A:middle
and sometimes orders tomato

00:13:47.946 --> 00:13:48.186 A:middle
soup.

00:13:48.786 --> 00:13:50.036 A:middle
And they want to set up a

00:13:50.036 --> 00:13:50.946 A:middle
shortcut that's going to ask

00:13:51.186 --> 00:13:52.436 A:middle
them every time they use it

00:13:52.436 --> 00:13:53.146 A:middle
which one they want.

00:13:54.406 --> 00:13:56.066 A:middle
So, when the Resolve method is

00:13:56.066 --> 00:13:57.606 A:middle
called the soup parameter will

00:13:57.606 --> 00:14:00.086 A:middle
be filled in as empty because

00:13:57.606 --> 00:14:00.086 A:middle
be filled in as empty because

00:14:00.086 --> 00:14:01.076 A:middle
there was nothing filled out in

00:14:01.076 --> 00:14:03.706 A:middle
the shortcut and that's going to

00:14:03.706 --> 00:14:05.566 A:middle
be passed to the Intent that's

00:14:06.026 --> 00:14:07.736 A:middle
passed to Resolve.

00:14:08.196 --> 00:14:09.566 A:middle
The responsibility of the

00:14:09.566 --> 00:14:11.446 A:middle
Resolve method is to provide a

00:14:11.496 --> 00:14:13.466 A:middle
Resolution Result which

00:14:13.466 --> 00:14:15.106 A:middle
determines what Siri will do

00:14:15.106 --> 00:14:15.696 A:middle
next.

00:14:16.206 --> 00:14:19.216 A:middle
Now again, because the field is

00:14:19.216 --> 00:14:20.896 A:middle
empty, the Soup Chef app might

00:14:20.966 --> 00:14:22.546 A:middle
want to ask the user for a value

00:14:22.916 --> 00:14:24.536 A:middle
by passing the Needs Value

00:14:24.536 --> 00:14:25.356 A:middle
Resolution Result.

00:14:27.276 --> 00:14:29.346 A:middle
Passing Needs Value will cause

00:14:29.346 --> 00:14:31.056 A:middle
Siri to ask a question for this

00:14:31.056 --> 00:14:32.546 A:middle
parameter which the user can

00:14:32.546 --> 00:14:34.156 A:middle
respond to with their voice.

00:14:35.256 --> 00:14:37.066 A:middle
So Soup Chef might say, "What

00:14:37.066 --> 00:14:38.066 A:middle
type of soup do you want?"

00:14:38.296 --> 00:14:39.746 A:middle
And the user can respond with

00:14:39.746 --> 00:14:41.106 A:middle
something like clam chowder.

00:14:41.726 --> 00:14:44.266 A:middle
Now, the input that the user

00:14:44.266 --> 00:14:46.366 A:middle
says, clam chowder, will be

00:14:46.496 --> 00:14:48.006 A:middle
filled in to the Intent and the

00:14:48.006 --> 00:14:49.386 A:middle
same Resolve method will be

00:14:49.386 --> 00:14:51.386 A:middle
invoked again with that input

00:14:51.416 --> 00:14:51.906 A:middle
this time.

00:14:52.136 --> 00:14:55.336 A:middle
So the app can decide what to do

00:14:55.496 --> 00:14:55.766 A:middle
next.

00:14:55.796 --> 00:14:57.456 A:middle
In this case, clam chowder is a

00:14:57.456 --> 00:14:59.026 A:middle
valid soup and we have it in

00:14:59.026 --> 00:14:59.416 A:middle
stock.

00:14:59.416 --> 00:15:00.936 A:middle
So the Resolve method should

00:14:59.416 --> 00:15:00.936 A:middle
So the Resolve method should

00:15:00.936 --> 00:15:02.516 A:middle
this time return success which

00:15:02.516 --> 00:15:03.706 A:middle
will cause Siri to move on to

00:15:03.706 --> 00:15:05.056 A:middle
the next parameter in the list.

00:15:05.526 --> 00:15:08.806 A:middle
Now, if the user had set up the

00:15:08.806 --> 00:15:10.176 A:middle
shortcut instead to have the

00:15:10.176 --> 00:15:11.976 A:middle
parameter preset to clam

00:15:11.976 --> 00:15:13.476 A:middle
chowder, because maybe they want

00:15:13.476 --> 00:15:14.346 A:middle
their shortcut to order clam

00:15:14.346 --> 00:15:15.426 A:middle
chowder every time without

00:15:15.426 --> 00:15:17.316 A:middle
asking them, then that would be

00:15:17.316 --> 00:15:19.336 A:middle
passed to Resolve instead of the

00:15:19.336 --> 00:15:21.186 A:middle
empty value and in this case,

00:15:21.486 --> 00:15:22.646 A:middle
the Resolve method can return

00:15:22.646 --> 00:15:24.616 A:middle
success right away and Siri

00:15:24.616 --> 00:15:25.686 A:middle
won't ask a question for that

00:15:25.686 --> 00:15:26.416 A:middle
parameter at all.

00:15:26.416 --> 00:15:30.466 A:middle
So, in the implementation of

00:15:30.466 --> 00:15:32.076 A:middle
your Resolve method, you need to

00:15:32.076 --> 00:15:33.606 A:middle
look at the current value of the

00:15:33.606 --> 00:15:34.766 A:middle
parameter on the Intent.

00:15:35.286 --> 00:15:36.786 A:middle
If there's no value, you might

00:15:36.786 --> 00:15:38.126 A:middle
need to ask the user for a value

00:15:38.126 --> 00:15:39.366 A:middle
by returning Needs Value.

00:15:39.746 --> 00:15:41.856 A:middle
And if the user has just -- has

00:15:41.856 --> 00:15:43.046 A:middle
filled out a value on the

00:15:43.046 --> 00:15:44.546 A:middle
shortcut when they set it up or

00:15:44.736 --> 00:15:45.896 A:middle
if they just said something to

00:15:45.896 --> 00:15:47.516 A:middle
Siri, there might be a value

00:15:47.516 --> 00:15:49.096 A:middle
there already which needs to be

00:15:49.096 --> 00:15:51.136 A:middle
validated and hopefully passed

00:15:51.136 --> 00:15:52.616 A:middle
as success.

00:15:52.876 --> 00:15:54.606 A:middle
So every time your Resolve

00:15:54.606 --> 00:15:56.056 A:middle
method is called, it needs to

00:15:56.056 --> 00:15:57.656 A:middle
supply this Resolution Result.

00:15:58.336 --> 00:15:59.586 A:middle
And I'm now going to hand it

00:15:59.586 --> 00:16:01.106 A:middle
over to Roman to tell you about

00:15:59.586 --> 00:16:01.106 A:middle
over to Roman to tell you about

00:16:01.106 --> 00:16:03.236 A:middle
how you can provide great

00:16:03.276 --> 00:16:05.106 A:middle
Resolution Results to provide

00:16:05.106 --> 00:16:06.956 A:middle
robust voice experience in Siri.

00:16:07.606 --> 00:16:07.776 A:middle
Roman.

00:16:08.516 --> 00:16:15.826 A:middle
[ Applause ]

00:16:16.326 --> 00:16:16.856 A:middle
&gt;&gt; Thanks Ari.

00:16:17.236 --> 00:16:19.426 A:middle
Hello. When I'm building a voice

00:16:19.426 --> 00:16:21.246 A:middle
experience I want to think about

00:16:21.456 --> 00:16:22.986 A:middle
all of which cases that the user

00:16:22.986 --> 00:16:24.906 A:middle
could say and how to handle them

00:16:24.906 --> 00:16:25.126 A:middle
well.

00:16:25.666 --> 00:16:28.586 A:middle
For example, if the user asks to

00:16:28.586 --> 00:16:29.686 A:middle
order more soups than we have in

00:16:29.686 --> 00:16:31.206 A:middle
stock we should tell them

00:16:31.206 --> 00:16:31.786 A:middle
appropriately.

00:16:32.376 --> 00:16:35.916 A:middle
If the user asks to order soup

00:16:35.916 --> 00:16:37.696 A:middle
from a store that's far away, we

00:16:37.696 --> 00:16:38.956 A:middle
can give them options of stores

00:16:38.956 --> 00:16:39.586 A:middle
that are closer.

00:16:40.156 --> 00:16:43.286 A:middle
On the Resolve step, this is

00:16:43.286 --> 00:16:44.736 A:middle
your opportunity to influence

00:16:44.736 --> 00:16:46.486 A:middle
Siri's behavior and decide

00:16:46.546 --> 00:16:47.976 A:middle
whether or not Siri asks a

00:16:47.976 --> 00:16:48.436 A:middle
question.

00:16:49.286 --> 00:16:50.746 A:middle
And this is where you handle all

00:16:50.746 --> 00:16:52.056 A:middle
which cases of the user input.

00:16:53.296 --> 00:16:54.766 A:middle
In order to do that, you need to

00:16:54.766 --> 00:16:55.876 A:middle
provide the Resolution Result.

00:16:57.406 --> 00:16:59.036 A:middle
There are six Resolution Result

00:16:59.036 --> 00:17:00.256 A:middle
types that you can choose from.

00:16:59.036 --> 00:17:00.256 A:middle
types that you can choose from.

00:17:00.966 --> 00:17:02.266 A:middle
Let's go through each one of

00:17:02.266 --> 00:17:03.836 A:middle
them starting with needsValue.

00:17:05.425 --> 00:17:06.915 A:middle
If the user didn't specify the

00:17:06.915 --> 00:17:08.026 A:middle
value at the shortcut

00:17:08.026 --> 00:17:09.675 A:middle
configuration time and you need

00:17:09.675 --> 00:17:11.356 A:middle
one in order to proceed, you can

00:17:11.356 --> 00:17:12.665 A:middle
tell Siri that you need a value.

00:17:13.886 --> 00:17:14.836 A:middle
You need to provide your own

00:17:15.076 --> 00:17:16.796 A:middle
custom prompt dialogue for each

00:17:16.796 --> 00:17:17.965 A:middle
parameter that you can resolve.

00:17:19.046 --> 00:17:20.586 A:middle
To do that, open the Intent

00:17:20.586 --> 00:17:20.896 A:middle
editor.

00:17:21.296 --> 00:17:22.455 A:middle
Select the parameter that you

00:17:22.455 --> 00:17:23.556 A:middle
would like to specify Siri

00:17:23.556 --> 00:17:25.425 A:middle
dialogue for and then type your

00:17:25.425 --> 00:17:26.856 A:middle
custom prompt in the prompt text

00:17:26.856 --> 00:17:26.976 A:middle
field.

00:17:30.426 --> 00:17:32.096 A:middle
If you return disambiguation

00:17:32.266 --> 00:17:34.046 A:middle
Siri will ask the user to pick

00:17:34.086 --> 00:17:35.066 A:middle
from a list of values.

00:17:35.846 --> 00:17:37.476 A:middle
This is a good idea if the value

00:17:37.476 --> 00:17:39.096 A:middle
in the parameter is ambiguous or

00:17:39.096 --> 00:17:40.276 A:middle
if you just have few possible

00:17:40.336 --> 00:17:41.496 A:middle
things for the user to choose

00:17:41.496 --> 00:17:41.746 A:middle
from.

00:17:45.576 --> 00:17:47.356 A:middle
You can customize the

00:17:47.586 --> 00:17:50.626 A:middle
disambiguation dialogue in the

00:17:51.236 --> 00:17:53.116 A:middle
Intent editor.

00:17:53.556 --> 00:17:55.076 A:middle
Return unsupported tells Siri

00:17:55.076 --> 00:17:56.576 A:middle
that your app doesn't support

00:17:56.576 --> 00:17:57.326 A:middle
the provided value.

00:17:58.466 --> 00:17:59.946 A:middle
For example, if customer tries

00:17:59.946 --> 00:18:01.616 A:middle
to order too many soups we can

00:17:59.946 --> 00:18:01.616 A:middle
to order too many soups we can

00:18:01.616 --> 00:18:02.906 A:middle
respond appropriately by saying

00:18:02.906 --> 00:18:05.046 A:middle
that we don't have enough in

00:18:05.656 --> 00:18:05.786 A:middle
stock.

00:18:06.006 --> 00:18:07.416 A:middle
And after that, Siri will

00:18:07.416 --> 00:18:08.156 A:middle
re-prompt the user.

00:18:08.766 --> 00:18:12.866 A:middle
We can define the error messages

00:18:13.066 --> 00:18:14.136 A:middle
that can be shown to the user

00:18:14.526 --> 00:18:15.646 A:middle
under the Validation Error

00:18:15.716 --> 00:18:16.616 A:middle
section in Xcode.

00:18:18.126 --> 00:18:19.556 A:middle
Xcode automatically providers

00:18:19.556 --> 00:18:21.076 A:middle
default behavior for medium and

00:18:21.076 --> 00:18:22.916 A:middle
maximum values that you specify

00:18:22.916 --> 00:18:27.006 A:middle
in the Intent editor.

00:18:27.226 --> 00:18:29.226 A:middle
Return confirmationRequired will

00:18:29.226 --> 00:18:30.786 A:middle
cause Siri to ask the user to

00:18:30.786 --> 00:18:31.966 A:middle
confirm the parameter value.

00:18:33.066 --> 00:18:34.586 A:middle
Use this if it's unclear whether

00:18:34.586 --> 00:18:35.756 A:middle
or not the user actually wants

00:18:35.756 --> 00:18:37.566 A:middle
this value or you have a strong

00:18:37.566 --> 00:18:38.846 A:middle
guess, but still would like to

00:18:38.846 --> 00:18:40.856 A:middle
confirm the value with the user.

00:18:44.736 --> 00:18:46.116 A:middle
Again, you can customize the

00:18:46.166 --> 00:18:47.826 A:middle
Parameter Confirmation prompt in

00:18:47.866 --> 00:18:51.066 A:middle
the Intent editor.

00:18:51.596 --> 00:18:53.146 A:middle
Return success means that we

00:18:53.146 --> 00:18:54.956 A:middle
have a valid parameter value and

00:18:54.956 --> 00:18:57.286 A:middle
Siri should move on to the next

00:18:58.656 --> 00:18:58.886 A:middle
parameter.

00:18:58.966 --> 00:19:00.626 A:middle
Return notRequired means that

00:18:58.966 --> 00:19:00.626 A:middle
Return notRequired means that

00:19:00.626 --> 00:19:02.976 A:middle
your app doesn't need a value

00:19:02.976 --> 00:19:04.376 A:middle
for this parameter at this time,

00:19:04.906 --> 00:19:06.376 A:middle
so Siri should skip it and move

00:19:06.376 --> 00:19:07.136 A:middle
on to the next one.

00:19:09.706 --> 00:19:10.846 A:middle
The Result methods will be

00:19:10.846 --> 00:19:11.676 A:middle
invoked at the shortcut

00:19:11.676 --> 00:19:14.486 A:middle
execution time in both Siri and

00:19:14.486 --> 00:19:15.186 A:middle
the Shortcuts app.

00:19:15.936 --> 00:19:17.186 A:middle
So you need to make sure you

00:19:17.186 --> 00:19:18.726 A:middle
implementation behaves correctly

00:19:18.946 --> 00:19:19.966 A:middle
in both environments.

00:19:22.496 --> 00:19:24.216 A:middle
So now let's take a look at what

00:19:24.216 --> 00:19:26.226 A:middle
the execution flow looks like.

00:19:27.056 --> 00:19:28.886 A:middle
This is the new Shortcuts app

00:19:29.356 --> 00:19:30.686 A:middle
and here in my Shortcuts app you

00:19:30.686 --> 00:19:31.826 A:middle
can see all of the shortcuts

00:19:31.826 --> 00:19:33.336 A:middle
that I created or added from the

00:19:33.336 --> 00:19:33.746 A:middle
Gallery.

00:19:34.176 --> 00:19:36.256 A:middle
To create a new shortcut, I'm

00:19:36.256 --> 00:19:37.286 A:middle
going to tap on the Create

00:19:37.286 --> 00:19:37.996 A:middle
Shortcut button.

00:19:38.606 --> 00:19:41.666 A:middle
In the shortcut editor I need to

00:19:41.666 --> 00:19:42.816 A:middle
add actions to my shortcut.

00:19:43.416 --> 00:19:44.716 A:middle
To do that, I'm going to tap on

00:19:44.716 --> 00:19:47.646 A:middle
the Add Action button.

00:19:48.126 --> 00:19:49.766 A:middle
I use the Soup Chef daily to

00:19:49.766 --> 00:19:51.486 A:middle
order delicious soups, so here's

00:19:51.486 --> 00:19:52.586 A:middle
already a suggestion for me to

00:19:52.586 --> 00:19:53.046 A:middle
order soup.

00:19:54.626 --> 00:19:56.276 A:middle
All I need to do is just give it

00:19:56.276 --> 00:19:56.876 A:middle
a name.

00:19:58.266 --> 00:19:59.236 A:middle
So here's my shortcut.

00:19:59.476 --> 00:20:00.436 A:middle
All I need to do is just give it

00:19:59.476 --> 00:20:00.436 A:middle
All I need to do is just give it

00:20:00.436 --> 00:20:01.996 A:middle
a name and save it to My

00:20:02.666 --> 00:20:02.976 A:middle
Shortcuts.

00:20:03.046 --> 00:20:04.156 A:middle
To do that, I'm going to tap on

00:20:04.326 --> 00:20:08.366 A:middle
the Next button.

00:20:08.506 --> 00:20:09.516 A:middle
Let's call this shortcut Order

00:20:09.516 --> 00:20:09.766 A:middle
Soup.

00:20:14.176 --> 00:20:15.156 A:middle
Now let's try invoking the

00:20:15.156 --> 00:20:16.506 A:middle
shortcut with voice and Siri.

00:20:17.096 --> 00:20:17.976 A:middle
"Hey Siri, order soup."

00:20:22.356 --> 00:20:23.236 A:middle
&gt;&gt; Which soup do you want?

00:20:23.776 --> 00:20:25.146 A:middle
We have three specials today.

00:20:25.626 --> 00:20:28.106 A:middle
Clam chowder, tomato soup, or

00:20:28.106 --> 00:20:29.716 A:middle
chicken noodle soup.

00:20:29.716 --> 00:20:30.256 A:middle
&gt;&gt; Clam chowder.

00:20:30.256 --> 00:20:33.706 A:middle
&gt;&gt; There are two restaurants

00:20:33.706 --> 00:20:34.346 A:middle
near you.

00:20:34.406 --> 00:20:35.536 A:middle
Which one do you want to order

00:20:35.536 --> 00:20:36.036 A:middle
from?

00:20:36.136 --> 00:20:40.086 A:middle
38801 S Sheridan Blvd or 7401 S

00:20:40.086 --> 00:20:40.976 A:middle
Lewis Ave?

00:20:41.046 --> 00:20:43.936 A:middle
&gt;&gt; The first one.

00:20:44.716 --> 00:20:45.966 A:middle
&gt;&gt; Ready to order?

00:20:46.206 --> 00:20:48.436 A:middle
&gt;&gt; Yes, please.

00:20:49.096 --> 00:20:51.126 A:middle
&gt;&gt; Okay, ordering.

00:20:51.126 --> 00:20:53.266 A:middle
Your total is $3.75.

00:20:54.066 --> 00:20:55.486 A:middle
Your clam chowder order will be

00:20:55.486 --> 00:20:56.266 A:middle
ready in 10 minutes.

00:20:57.066 --> 00:20:58.526 A:middle
&gt;&gt; And just like that, I ordered

00:20:58.526 --> 00:21:00.616 A:middle
soup with Shortcuts and Siri.

00:20:58.526 --> 00:21:00.616 A:middle
soup with Shortcuts and Siri.

00:21:01.516 --> 00:21:06.996 A:middle
[ Applause ]

00:21:07.496 --> 00:21:08.816 A:middle
Now, let's try writing the same

00:21:08.816 --> 00:21:10.176 A:middle
shortcut from the Shortcuts app.

00:21:10.666 --> 00:21:11.936 A:middle
But before I do that, I would

00:21:11.936 --> 00:21:13.086 A:middle
like to customize the shortcut.

00:21:16.216 --> 00:21:17.316 A:middle
I'm going to tap on the soup

00:21:17.316 --> 00:21:18.936 A:middle
field and select the soup that I

00:21:18.936 --> 00:21:20.176 A:middle
usually order from Soup Chef.

00:21:20.896 --> 00:21:24.776 A:middle
I'm going to select clam

00:21:24.776 --> 00:21:24.976 A:middle
chowder.

00:21:29.996 --> 00:21:31.146 A:middle
Now I'm going to tap on the Done

00:21:31.146 --> 00:21:32.156 A:middle
button to save the shortcut.

00:21:35.886 --> 00:21:37.076 A:middle
Let's try writing the shortcut

00:21:37.076 --> 00:21:38.596 A:middle
from the Shortcuts app by simply

00:21:38.596 --> 00:21:41.826 A:middle
tapping on it.

00:21:41.986 --> 00:21:43.256 A:middle
So here I get presented with the

00:21:43.256 --> 00:21:45.056 A:middle
same disambiguation prompt to

00:21:45.056 --> 00:21:46.386 A:middle
choose a store, just like in

00:21:46.386 --> 00:21:46.716 A:middle
Siri.

00:21:47.046 --> 00:21:48.386 A:middle
I'm going to select the first

00:21:48.386 --> 00:21:48.676 A:middle
option.

00:21:52.446 --> 00:21:53.796 A:middle
And done. I just ordered another

00:21:53.796 --> 00:21:54.046 A:middle
soup.

00:21:54.326 --> 00:21:56.566 A:middle
I guess I'm really hungry today.

00:22:02.746 --> 00:22:04.236 A:middle
Now, let's talk about a few ways

00:22:04.296 --> 00:22:06.006 A:middle
to take our shortcuts even

00:22:06.006 --> 00:22:06.566 A:middle
further.

00:22:08.286 --> 00:22:09.576 A:middle
Wouldn't it be great if I never

00:22:09.576 --> 00:22:10.656 A:middle
have to leave my home to have

00:22:10.656 --> 00:22:11.166 A:middle
some soup?

00:22:12.796 --> 00:22:14.166 A:middle
Yes. And that's why I'm adding

00:22:14.166 --> 00:22:15.056 A:middle
something new in soup shop

00:22:15.056 --> 00:22:15.776 A:middle
delivery.

00:22:16.426 --> 00:22:19.356 A:middle
In the shortcut editor, I want

00:22:19.356 --> 00:22:20.626 A:middle
the user to be able to choose

00:22:20.756 --> 00:22:22.136 A:middle
between delivery and pickup

00:22:22.136 --> 00:22:22.646 A:middle
options.

00:22:23.266 --> 00:22:26.026 A:middle
If they choose delivery, let's

00:22:26.026 --> 00:22:27.126 A:middle
just show them a field that lets

00:22:27.126 --> 00:22:28.976 A:middle
them decide where it should be

00:22:28.976 --> 00:22:29.566 A:middle
delivered to.

00:22:30.016 --> 00:22:31.276 A:middle
For example, to their current

00:22:31.276 --> 00:22:31.686 A:middle
location.

00:22:36.476 --> 00:22:37.966 A:middle
If they choose pickup, we should

00:22:37.966 --> 00:22:39.196 A:middle
show them a field that lets them

00:22:39.196 --> 00:22:40.756 A:middle
decide which store to order

00:22:41.456 --> 00:22:41.656 A:middle
from.

00:22:42.496 --> 00:22:44.216 A:middle
To make that work, we need to

00:22:44.216 --> 00:22:45.566 A:middle
express parameter relationships

00:22:45.566 --> 00:22:48.536 A:middle
in the Intent editor.

00:22:48.606 --> 00:22:49.926 A:middle
So let's start by taking a look

00:22:49.926 --> 00:22:50.836 A:middle
at all of the parameters

00:22:50.836 --> 00:22:51.516 A:middle
involved in this.

00:22:52.196 --> 00:22:53.416 A:middle
We have the orderType parameter

00:22:53.786 --> 00:22:55.056 A:middle
which has two possible values;

00:22:55.386 --> 00:22:56.766 A:middle
delivery and pickup.

00:22:57.696 --> 00:22:58.706 A:middle
We also have parameters for

00:22:58.706 --> 00:23:00.966 A:middle
deliverLocation and

00:22:58.706 --> 00:23:00.966 A:middle
deliverLocation and

00:23:01.696 --> 00:23:02.206 A:middle
storeLocation.

00:23:02.326 --> 00:23:03.296 A:middle
Now, let's take a look at the

00:23:03.296 --> 00:23:04.296 A:middle
Relationship section.

00:23:05.746 --> 00:23:07.216 A:middle
Here for my deliverLocation

00:23:07.216 --> 00:23:08.836 A:middle
parameter I'd like to specify

00:23:08.836 --> 00:23:10.166 A:middle
the Parent Parameter to be the

00:23:10.166 --> 00:23:11.046 A:middle
orderType parameter.

00:23:11.936 --> 00:23:13.226 A:middle
I only want to show my

00:23:13.226 --> 00:23:14.586 A:middle
deliveryLocation parameter if

00:23:14.586 --> 00:23:15.806 A:middle
the parent parameter has the

00:23:15.806 --> 00:23:17.886 A:middle
value of delivery.

00:23:17.966 --> 00:23:19.376 A:middle
And exactly the same thing for

00:23:19.376 --> 00:23:20.446 A:middle
the storeLocation parameter.

00:23:20.786 --> 00:23:22.066 A:middle
I only want to show it if the

00:23:22.116 --> 00:23:23.396 A:middle
parent orderType parameter has

00:23:23.396 --> 00:23:23.976 A:middle
the value of pickup.

00:23:27.696 --> 00:23:29.086 A:middle
So now my users are able to

00:23:29.086 --> 00:23:30.566 A:middle
easily switch between different

00:23:30.566 --> 00:23:30.956 A:middle
order types.

00:23:33.776 --> 00:23:34.496 A:middle
Let's see how to do this in

00:23:34.496 --> 00:23:34.976 A:middle
Xcode.

00:23:37.296 --> 00:23:38.986 A:middle
So I have the Soup Chef project

00:23:38.986 --> 00:23:39.486 A:middle
open here.

00:23:40.196 --> 00:23:41.336 A:middle
I'm going to select the Intent

00:23:41.336 --> 00:23:42.036 A:middle
definition file.

00:23:42.396 --> 00:23:43.596 A:middle
This is where I define all my

00:23:43.596 --> 00:23:44.066 A:middle
Intents.

00:23:45.566 --> 00:23:47.636 A:middle
I already have Intent for order

00:23:47.636 --> 00:23:47.916 A:middle
soup.

00:23:48.726 --> 00:23:49.406 A:middle
Let's take a look at the

00:23:49.406 --> 00:23:49.966 A:middle
parameters.

00:23:50.406 --> 00:23:51.956 A:middle
We have soup, quantity,

00:23:52.266 --> 00:23:53.606 A:middle
toppings, store location.

00:23:54.426 --> 00:23:55.576 A:middle
Now let's scroll down to a new

00:23:55.576 --> 00:23:56.846 A:middle
section in Xcode that we have

00:23:56.906 --> 00:23:57.756 A:middle
called Shortcuts app.

00:23:59.096 --> 00:24:00.556 A:middle
Here you can see the -- all the

00:23:59.096 --> 00:24:00.556 A:middle
Here you can see the -- all the

00:24:00.556 --> 00:24:01.806 A:middle
Support Parameter combinations

00:24:01.806 --> 00:24:03.246 A:middle
by the Shortcuts app and the

00:24:03.246 --> 00:24:04.286 A:middle
corresponding summaries.

00:24:04.966 --> 00:24:06.286 A:middle
You can also see the preview of

00:24:06.336 --> 00:24:07.256 A:middle
what it's going to look like in

00:24:07.256 --> 00:24:07.516 A:middle
the app.

00:24:09.116 --> 00:24:10.086 A:middle
So currently we have the

00:24:10.086 --> 00:24:12.146 A:middle
storeLocation and we have the

00:24:12.146 --> 00:24:13.566 A:middle
summary which says, order

00:24:13.566 --> 00:24:15.276 A:middle
quantity soup for pickup from

00:24:15.276 --> 00:24:15.996 A:middle
storeLocation.

00:24:16.926 --> 00:24:18.666 A:middle
I didn't put toppings in my

00:24:18.666 --> 00:24:21.196 A:middle
summary so it appears under More

00:24:21.196 --> 00:24:21.646 A:middle
Options.

00:24:22.766 --> 00:24:24.746 A:middle
Now, let's go up and add a

00:24:24.746 --> 00:24:25.816 A:middle
couple more parameters to

00:24:25.816 --> 00:24:26.516 A:middle
support delivery.

00:24:27.296 --> 00:24:28.306 A:middle
I'm going to click on the plus

00:24:28.306 --> 00:24:30.336 A:middle
(+) button and add a new

00:24:30.336 --> 00:24:31.426 A:middle
parameter called orderType.

00:24:31.426 --> 00:24:34.086 A:middle
I'm going to specify a display

00:24:34.086 --> 00:24:34.936 A:middle
name for this parameter.

00:24:43.716 --> 00:24:45.096 A:middle
So if I scroll down to the

00:24:45.096 --> 00:24:46.286 A:middle
Shortcuts app section you can

00:24:46.286 --> 00:24:47.076 A:middle
see that the Order Type

00:24:47.076 --> 00:24:48.266 A:middle
parameter now appears under More

00:24:48.266 --> 00:24:49.776 A:middle
Options and it was automatically

00:24:49.776 --> 00:24:51.086 A:middle
added to the Support Parameter

00:24:51.086 --> 00:24:51.526 A:middle
combination.

00:24:52.336 --> 00:24:52.796 A:middle
Let's scroll up.

00:24:53.756 --> 00:24:55.176 A:middle
Let's specify a new type for the

00:24:55.176 --> 00:24:55.936 A:middle
Order Type parameter.

00:24:56.496 --> 00:24:58.136 A:middle
I'm going to add a new enum.

00:24:59.316 --> 00:25:00.556 A:middle
Let's call this enum Order Type.

00:24:59.316 --> 00:25:00.556 A:middle
Let's call this enum Order Type.

00:25:04.046 --> 00:25:05.266 A:middle
I will also specify the display

00:25:05.266 --> 00:25:08.746 A:middle
name for this type.

00:25:08.956 --> 00:25:10.236 A:middle
Now we add to add two cases;

00:25:10.336 --> 00:25:11.276 A:middle
delivery and pickup.

00:25:11.776 --> 00:25:12.846 A:middle
Let's start with delivery.

00:25:12.956 --> 00:25:14.746 A:middle
I'm going to click on a plus (+)

00:25:14.746 --> 00:25:14.996 A:middle
button.

00:25:16.166 --> 00:25:16.796 A:middle
Type delivery.

00:25:17.566 --> 00:25:20.546 A:middle
I will also specify display

00:25:20.546 --> 00:25:20.776 A:middle
name.

00:25:21.386 --> 00:25:24.616 A:middle
Let's add another case for

00:25:24.686 --> 00:25:24.966 A:middle
pickup.

00:25:28.486 --> 00:25:29.376 A:middle
Also provide display name.

00:25:30.116 --> 00:25:33.926 A:middle
Since my users can refer to

00:25:33.966 --> 00:25:35.386 A:middle
pickup as take out when they

00:25:35.386 --> 00:25:37.216 A:middle
speak to Siri, we can add this

00:25:37.216 --> 00:25:38.016 A:middle
as a speakable match.

00:25:38.506 --> 00:25:39.526 A:middle
So I'm going to click on a plus

00:25:39.526 --> 00:25:40.906 A:middle
(+) button and add take out.

00:25:44.766 --> 00:25:49.186 A:middle
Now let's go back to the Intent.

00:25:49.256 --> 00:25:50.176 A:middle
Now we need to add another

00:25:50.216 --> 00:25:51.746 A:middle
parameter called Delivery

00:25:51.746 --> 00:25:51.976 A:middle
Location.

00:25:56.526 --> 00:25:57.936 A:middle
Let's also give it a display

00:25:57.936 --> 00:25:59.526 A:middle
name, Delivery Location.

00:26:04.936 --> 00:26:06.776 A:middle
So now let's scroll down and see

00:26:07.576 --> 00:26:08.106 A:middle
what we have there.

00:26:08.916 --> 00:26:09.766 A:middle
We still have the single

00:26:09.766 --> 00:26:10.816 A:middle
parameter combination which

00:26:10.926 --> 00:26:12.436 A:middle
contains all of the parameters.

00:26:13.656 --> 00:26:14.546 A:middle
But it doesn't make sense to

00:26:14.546 --> 00:26:15.876 A:middle
have both Store Location and

00:26:15.876 --> 00:26:17.036 A:middle
Delivery Location at the same

00:26:17.036 --> 00:26:17.266 A:middle
time.

00:26:17.586 --> 00:26:17.966 A:middle
Let's fix this.

00:26:21.046 --> 00:26:21.846 A:middle
We're going to scroll up to the

00:26:21.846 --> 00:26:22.606 A:middle
parameters section.

00:26:23.736 --> 00:26:24.636 A:middle
Select the Store Location

00:26:24.636 --> 00:26:26.566 A:middle
parameter, expand the

00:26:26.566 --> 00:26:28.376 A:middle
Relationship section, and select

00:26:28.376 --> 00:26:29.606 A:middle
the parent parameter to be the

00:26:29.606 --> 00:26:29.956 A:middle
orderType.

00:26:29.956 --> 00:26:32.506 A:middle
I only want to show my Store

00:26:32.506 --> 00:26:34.476 A:middle
Location parameter if the parent

00:26:34.476 --> 00:26:35.376 A:middle
orderType parameter has the

00:26:35.376 --> 00:26:36.386 A:middle
value of pick up.

00:26:37.856 --> 00:26:39.036 A:middle
Let's do exactly the same thing

00:26:39.036 --> 00:26:39.986 A:middle
for the Delivery Location

00:26:39.986 --> 00:26:40.346 A:middle
parameter.

00:26:41.196 --> 00:26:42.226 A:middle
Let's select the parent

00:26:42.226 --> 00:26:43.286 A:middle
parameter to be the orderType.

00:26:44.396 --> 00:26:45.736 A:middle
Show if parent has exact value

00:26:46.256 --> 00:26:46.816 A:middle
of delivery.

00:26:48.046 --> 00:26:49.046 A:middle
Now, let's go down to the

00:26:49.046 --> 00:26:50.366 A:middle
Shortcuts app section and take a

00:26:50.366 --> 00:26:51.036 A:middle
look what we have there.

00:26:51.696 --> 00:26:53.196 A:middle
Xcode automatically created two

00:26:53.266 --> 00:26:54.516 A:middle
more parameter combinations for

00:26:54.516 --> 00:26:54.706 A:middle
us.

00:26:55.226 --> 00:26:56.356 A:middle
Let's fill out summaries for

00:26:56.356 --> 00:26:58.506 A:middle
each of them.

00:26:58.506 --> 00:27:02.566 A:middle
So will be the Order quantity,

00:26:58.506 --> 00:27:02.566 A:middle
So will be the Order quantity,

00:27:04.126 --> 00:27:08.366 A:middle
soup for orderType.

00:27:09.296 --> 00:27:11.086 A:middle
Now let's imagine user taps on

00:27:11.086 --> 00:27:12.106 A:middle
the orderType field in the

00:27:12.106 --> 00:27:13.546 A:middle
Shortcuts app and they select

00:27:13.616 --> 00:27:13.906 A:middle
pickup.

00:27:14.406 --> 00:27:15.666 A:middle
In this case, they will see the

00:27:15.666 --> 00:27:16.556 A:middle
parameter combination that

00:27:16.596 --> 00:27:17.596 A:middle
contains storeLocation.

00:27:19.706 --> 00:27:21.066 A:middle
So I already have the summary

00:27:21.066 --> 00:27:22.186 A:middle
for this parameter combination,

00:27:22.826 --> 00:27:24.186 A:middle
but I had a hard coded value for

00:27:24.186 --> 00:27:24.856 A:middle
the pickup.

00:27:25.126 --> 00:27:26.326 A:middle
Let's change this to be a

00:27:26.376 --> 00:27:27.596 A:middle
parameter orderType.

00:27:28.716 --> 00:27:30.496 A:middle
And finally, we need to update

00:27:30.496 --> 00:27:31.576 A:middle
the last parameter combination,

00:27:32.296 --> 00:27:32.826 A:middle
which includes the

00:27:32.826 --> 00:27:34.036 A:middle
deliveryLocation parameter.

00:27:34.966 --> 00:27:36.056 A:middle
Let's add the summary.

00:27:36.386 --> 00:27:41.216 A:middle
Order quantity soup for

00:27:41.666 --> 00:27:46.126 A:middle
orderType to deliveryLocation.

00:27:47.366 --> 00:27:48.966 A:middle
Let's take a step back and take

00:27:48.966 --> 00:27:49.926 A:middle
a look at what we just did.

00:27:50.676 --> 00:27:52.286 A:middle
First, we identified parent and

00:27:52.286 --> 00:27:53.596 A:middle
child parameters in our Intent.

00:27:54.456 --> 00:27:55.296 A:middle
And then, we established

00:27:55.296 --> 00:27:56.796 A:middle
parameter relationship between

00:27:56.796 --> 00:27:57.886 A:middle
parent and child parameters.

00:27:58.616 --> 00:27:59.846 A:middle
And finally, we updated

00:27:59.916 --> 00:28:01.186 A:middle
summaries for each parameter

00:27:59.916 --> 00:28:01.186 A:middle
summaries for each parameter

00:28:01.186 --> 00:28:02.976 A:middle
combination so they look great

00:28:02.976 --> 00:28:03.696 A:middle
in the Shortcuts app.

00:28:07.016 --> 00:28:08.256 A:middle
Now, let's talk about Dynamic

00:28:08.256 --> 00:28:08.756 A:middle
Options.

00:28:10.926 --> 00:28:12.486 A:middle
Most parameters such as String

00:28:12.486 --> 00:28:14.116 A:middle
or Number have obvious input

00:28:14.116 --> 00:28:15.946 A:middle
mechanisms, an input field in

00:28:15.946 --> 00:28:16.576 A:middle
the Shortcuts app.

00:28:18.766 --> 00:28:20.226 A:middle
We're asking a user to specify

00:28:20.226 --> 00:28:21.236 A:middle
some values here.

00:28:25.006 --> 00:28:26.476 A:middle
For some parameters you may want

00:28:26.476 --> 00:28:28.176 A:middle
to allow the user to pick from a

00:28:28.276 --> 00:28:30.196 A:middle
fixed set of values and have

00:28:30.196 --> 00:28:31.426 A:middle
those values be dynamically

00:28:31.426 --> 00:28:33.036 A:middle
provided by your app when the

00:28:33.036 --> 00:28:34.286 A:middle
user is setting up the shortcut.

00:28:35.496 --> 00:28:36.826 A:middle
For my Store Location parameter

00:28:37.006 --> 00:28:38.196 A:middle
I wanted the user to be able to

00:28:38.196 --> 00:28:39.646 A:middle
choose from a list of stores

00:28:39.706 --> 00:28:40.256 A:middle
close to them.

00:28:42.756 --> 00:28:44.076 A:middle
In order to accomplish that I'm

00:28:44.076 --> 00:28:45.036 A:middle
going to check the Dynamic

00:28:45.036 --> 00:28:46.886 A:middle
Options checkbox for my Store

00:28:46.886 --> 00:28:47.666 A:middle
Location parameter.

00:28:50.226 --> 00:28:51.946 A:middle
Once I do that, Xcode will

00:28:52.016 --> 00:28:53.906 A:middle
cogenerate two additional

00:28:53.906 --> 00:28:55.106 A:middle
intent handling protocol methods.

00:28:56.056 --> 00:28:57.446 A:middle
The first one provides store

00:28:57.446 --> 00:28:58.256 A:middle
location options.

00:28:58.906 --> 00:29:00.476 A:middle
And another one for providing a

00:28:58.906 --> 00:29:00.476 A:middle
And another one for providing a

00:29:00.476 --> 00:29:01.446 A:middle
default value for this

00:29:01.446 --> 00:29:01.846 A:middle
parameter.

00:29:05.566 --> 00:29:06.916 A:middle
In your provide options method

00:29:07.226 --> 00:29:08.666 A:middle
you need to return the current

00:29:08.666 --> 00:29:10.336 A:middle
set of possible values I the

00:29:10.336 --> 00:29:11.146 A:middle
completion handler.

00:29:16.496 --> 00:29:17.306 A:middle
You will also have the

00:29:17.306 --> 00:29:18.496 A:middle
opportunity to provide default

00:29:18.496 --> 00:29:19.916 A:middle
values for parameters with

00:29:19.916 --> 00:29:20.956 A:middle
Dynamic Options enabled.

00:29:26.346 --> 00:29:27.676 A:middle
When your parameter of Dynamic

00:29:27.676 --> 00:29:29.726 A:middle
Options is being resolved during

00:29:29.726 --> 00:29:31.986 A:middle
the shortcut execution time and

00:29:31.986 --> 00:29:33.596 A:middle
your return needs value in the

00:29:33.596 --> 00:29:35.296 A:middle
completion handler of your

00:29:35.296 --> 00:29:37.376 A:middle
Resolve method, Siri will

00:29:37.376 --> 00:29:38.556 A:middle
automatically use the list of

00:29:38.556 --> 00:29:40.526 A:middle
options you provided in the form

00:29:40.526 --> 00:29:41.646 A:middle
of a disambiguation prompt.

00:29:46.136 --> 00:29:47.596 A:middle
Lastly, I want users to be able

00:29:47.596 --> 00:29:48.686 A:middle
to make more shortcuts work

00:29:48.686 --> 00:29:49.926 A:middle
together with other actions.

00:29:51.796 --> 00:29:53.096 A:middle
For example, a user could set up

00:29:53.096 --> 00:29:54.586 A:middle
a shortcut that places an order

00:29:54.586 --> 00:29:57.726 A:middle
and then sends a message with

00:29:57.726 --> 00:29:58.976 A:middle
order details to their friend

00:29:59.076 --> 00:29:59.836 A:middle
who usually picks up their

00:29:59.836 --> 00:29:59.976 A:middle
order.

00:30:02.806 --> 00:30:04.476 A:middle
In Xcode 11 we are introducing

00:30:04.476 --> 00:30:05.706 A:middle
the ability to define your own

00:30:05.706 --> 00:30:08.856 A:middle
custom tabs that you can use in

00:30:08.856 --> 00:30:09.866 A:middle
both Intent and Intent

00:30:09.866 --> 00:30:10.416 A:middle
responses.

00:30:10.986 --> 00:30:12.146 A:middle
So I'm going to define a new

00:30:12.146 --> 00:30:13.626 A:middle
custom type called Order

00:30:13.626 --> 00:30:15.906 A:middle
Details, which contains proper

00:30:15.906 --> 00:30:17.236 A:middle
sets of information that I want

00:30:17.236 --> 00:30:18.436 A:middle
to pass on to another action.

00:30:19.776 --> 00:30:20.996 A:middle
In this example I'm going to

00:30:20.996 --> 00:30:22.746 A:middle
define two properties; Order

00:30:22.746 --> 00:30:23.976 A:middle
Estimated Time and Total.

00:30:26.476 --> 00:30:27.876 A:middle
As you might know an in turn

00:30:27.876 --> 00:30:29.406 A:middle
response is a logical result of

00:30:29.406 --> 00:30:30.456 A:middle
an execution of an attempt.

00:30:31.306 --> 00:30:32.376 A:middle
It contains properties that

00:30:32.416 --> 00:30:33.646 A:middle
convey the result to the user.

00:30:35.096 --> 00:30:36.476 A:middle
To add an output, I need to

00:30:36.476 --> 00:30:37.986 A:middle
define a new property of my

00:30:38.066 --> 00:30:38.976 A:middle
custom orderDetails type.

00:30:42.046 --> 00:30:43.976 A:middle
And then, I need to designate

00:30:43.976 --> 00:30:45.176 A:middle
this property as the output.

00:30:50.106 --> 00:30:51.536 A:middle
When the user taps on the Order

00:30:51.536 --> 00:30:53.296 A:middle
Details variable in the shortcut

00:30:53.296 --> 00:30:55.216 A:middle
editor, they will get presented

00:30:55.266 --> 00:30:56.776 A:middle
with an option to choose one of

00:30:56.776 --> 00:30:58.056 A:middle
the properties that I just

00:30:58.056 --> 00:30:58.936 A:middle
defined in my custom type.

00:31:03.226 --> 00:31:04.366 A:middle
It can also use custom members

00:31:04.366 --> 00:31:06.056 A:middle
of your custom types in response

00:31:06.396 --> 00:31:07.296 A:middle
templates for Siri.

00:31:07.776 --> 00:31:09.056 A:middle
So the same data that is passed

00:31:09.056 --> 00:31:10.856 A:middle
as the output can be spoken

00:31:10.856 --> 00:31:11.416 A:middle
aloud.

00:31:14.896 --> 00:31:15.906 A:middle
Today you learned how you can

00:31:15.906 --> 00:31:17.186 A:middle
allow users to customize your

00:31:17.186 --> 00:31:18.666 A:middle
shortcuts in the new built-in

00:31:18.666 --> 00:31:19.726 A:middle
Shortcuts app.

00:31:19.726 --> 00:31:20.836 A:middle
You also learned how you can

00:31:20.836 --> 00:31:22.146 A:middle
provide conversational shortcuts

00:31:22.146 --> 00:31:22.536 A:middle
in Siri.

00:31:23.616 --> 00:31:24.806 A:middle
Choose the right parameters for

00:31:24.806 --> 00:31:26.506 A:middle
each Intent so your app can

00:31:26.556 --> 00:31:27.716 A:middle
correctly respond to the user

00:31:27.876 --> 00:31:28.736 A:middle
each step of the way.

00:31:29.966 --> 00:31:31.346 A:middle
You can extend the power of your

00:31:31.346 --> 00:31:33.306 A:middle
shortcuts with other apps using

00:31:33.306 --> 00:31:36.576 A:middle
Outputs in the Shortcuts app.

00:31:36.936 --> 00:31:37.846 A:middle
We have another session on

00:31:37.846 --> 00:31:39.026 A:middle
Friday where my colleagues will

00:31:39.026 --> 00:31:40.476 A:middle
talk about design and building

00:31:40.476 --> 00:31:41.256 A:middle
great shortcuts.

00:31:41.816 --> 00:31:43.096 A:middle
You can also find us in the labs

00:31:43.206 --> 00:31:43.736 A:middle
throughout the week.

00:31:44.756 --> 00:31:46.226 A:middle
Thank you so much for coming and

00:31:46.226 --> 00:31:46.916 A:middle
enjoy the rest of your

00:31:46.916 --> 00:31:47.416 A:middle
conference.

00:31:48.516 --> 00:31:58.500 A:middle
[ Applause ]
