WEBVTT

00:00:01.176 --> 00:00:04.500 A:middle
[ Music ]

00:00:09.516 --> 00:00:13.286 A:middle
[ Applause ]

00:00:13.786 --> 00:00:15.956 A:middle
&gt;&gt; Hello. My name is Jessie

00:00:15.956 --> 00:00:17.436 A:middle
Berlin, and I'm here to talk

00:00:17.436 --> 00:00:18.726 A:middle
about what's new in Safari.

00:00:20.296 --> 00:00:21.476 A:middle
We have three topics to cover

00:00:21.476 --> 00:00:24.556 A:middle
today, and the most exciting one

00:00:24.766 --> 00:00:26.046 A:middle
is desktop-class browsing on

00:00:27.136 --> 00:00:27.266 A:middle
iPad.

00:00:28.356 --> 00:00:31.166 A:middle
In iOS 13, we've made a set of

00:00:31.166 --> 00:00:33.166 A:middle
fundamental changes to allow

00:00:33.166 --> 00:00:35.076 A:middle
iPad to browse desktop websites,

00:00:35.766 --> 00:00:38.626 A:middle
and you'll notice here that I'm

00:00:38.626 --> 00:00:39.826 A:middle
showing Safari View Controller.

00:00:40.346 --> 00:00:41.636 A:middle
It also gets these desktop

00:00:41.636 --> 00:00:43.066 A:middle
websites right out of the box.

00:00:43.736 --> 00:00:46.466 A:middle
If you have a custom in-app web

00:00:46.466 --> 00:00:48.636 A:middle
browser, or even just an app

00:00:48.636 --> 00:00:50.186 A:middle
that uses WKWebView, you're

00:00:50.186 --> 00:00:51.276 A:middle
going to want to check out the

00:00:51.276 --> 00:00:53.006 A:middle
talk from earlier this week for

00:00:53.006 --> 00:00:54.276 A:middle
detailed guidance and best

00:00:54.276 --> 00:00:54.826 A:middle
practices.

00:00:55.526 --> 00:00:57.946 A:middle
So if you haven't already, go

00:00:57.946 --> 00:01:00.246 A:middle
check it out.

00:00:57.946 --> 00:01:00.246 A:middle
check it out.

00:01:00.516 --> 00:01:02.486 A:middle
Next up, improvements to Safari

00:01:02.486 --> 00:01:03.006 A:middle
extensions.

00:01:04.075 --> 00:01:05.385 A:middle
We'll start with a refresher on

00:01:05.556 --> 00:01:06.736 A:middle
the four different types of

00:01:06.736 --> 00:01:07.736 A:middle
Safari extensions.

00:01:08.346 --> 00:01:12.766 A:middle
First, there are Legacy Safari

00:01:12.766 --> 00:01:14.506 A:middle
extensions from macOS.

00:01:15.566 --> 00:01:17.396 A:middle
They were introduced in 2010

00:01:17.396 --> 00:01:19.326 A:middle
with Mac OS X Snow Leopard, and

00:01:19.326 --> 00:01:21.896 A:middle
deprecated last year.

00:01:22.096 --> 00:01:23.506 A:middle
Next, content blockers.

00:01:24.256 --> 00:01:25.836 A:middle
These are available for both iOS

00:01:25.836 --> 00:01:27.586 A:middle
and macOS, and they're designed

00:01:27.586 --> 00:01:29.356 A:middle
for speed and user privacy.

00:01:30.576 --> 00:01:32.456 A:middle
Third, share extensions.

00:01:32.976 --> 00:01:34.146 A:middle
These are also available on both

00:01:34.146 --> 00:01:35.076 A:middle
iOS and macOS.

00:01:36.156 --> 00:01:37.336 A:middle
Once invoked by the user,

00:01:37.696 --> 00:01:38.836 A:middle
they're able to run JavaScript

00:01:38.836 --> 00:01:40.596 A:middle
on the webpage, and return data

00:01:40.596 --> 00:01:41.756 A:middle
to your app extension.

00:01:42.376 --> 00:01:45.166 A:middle
And finally, Safari app

00:01:45.166 --> 00:01:46.976 A:middle
extensions, available on macOS.

00:01:48.276 --> 00:01:49.786 A:middle
These run on web pages without

00:01:49.936 --> 00:01:51.306 A:middle
user action and can be

00:01:51.306 --> 00:01:52.466 A:middle
restricted to run on a single

00:01:52.466 --> 00:01:53.866 A:middle
website or run everywhere.

00:01:54.526 --> 00:01:58.156 A:middle
Now that content blockers, share

00:01:58.156 --> 00:01:59.496 A:middle
extensions, and Safari app

00:01:59.496 --> 00:02:01.136 A:middle
extensions provide great

00:01:59.496 --> 00:02:01.136 A:middle
extensions provide great

00:02:01.136 --> 00:02:02.686 A:middle
extensibility options without

00:02:02.686 --> 00:02:05.086 A:middle
the performance and privacy

00:02:05.086 --> 00:02:06.416 A:middle
problems of Legacy Safari

00:02:06.416 --> 00:02:09.086 A:middle
extensions, we are dropping

00:02:09.086 --> 00:02:10.346 A:middle
support for Legacy Safari

00:02:10.346 --> 00:02:11.896 A:middle
extensions in Safari 13.

00:02:12.456 --> 00:02:15.356 A:middle
Safari will no longer load them.

00:02:16.196 --> 00:02:17.626 A:middle
Today, we're going to be

00:02:17.626 --> 00:02:19.026 A:middle
primarily focusing on

00:02:19.026 --> 00:02:20.596 A:middle
improvements to content blockers

00:02:20.596 --> 00:02:21.706 A:middle
and Safari app extensions on

00:02:21.706 --> 00:02:21.956 A:middle
macOS.

00:02:24.916 --> 00:02:26.436 A:middle
These Safari extensions come

00:02:26.436 --> 00:02:27.706 A:middle
bundled with Mac apps built in

00:02:27.706 --> 00:02:29.386 A:middle
Xcode, which gives you the

00:02:29.386 --> 00:02:30.836 A:middle
ability to take advantage of

00:02:30.886 --> 00:02:32.316 A:middle
powerful native APIs and

00:02:32.316 --> 00:02:34.236 A:middle
frameworks, as well as HTML,

00:02:34.356 --> 00:02:37.886 A:middle
JavaScript, and CSS.

00:02:38.396 --> 00:02:39.896 A:middle
And when you install an app with

00:02:39.896 --> 00:02:41.126 A:middle
a Safari app extension from the

00:02:41.126 --> 00:02:43.596 A:middle
Mac App Store, your extensions

00:02:43.596 --> 00:02:44.896 A:middle
show up immediately in Safari's

00:02:44.896 --> 00:02:46.266 A:middle
preferences, ready for your

00:02:46.266 --> 00:02:48.946 A:middle
users to turn on.

00:02:48.946 --> 00:02:50.716 A:middle
However, you can also distribute

00:02:50.716 --> 00:02:52.086 A:middle
your app directly from your

00:02:52.086 --> 00:02:53.306 A:middle
website after running it through

00:02:53.306 --> 00:02:54.326 A:middle
the notarization service.

00:02:55.536 --> 00:02:56.816 A:middle
Notarized apps need to be

00:02:56.816 --> 00:02:58.556 A:middle
launched at least once for their

00:02:58.556 --> 00:02:59.976 A:middle
extension to show up in Safari.

00:03:00.616 --> 00:03:04.266 A:middle
We love the content blockers and

00:03:04.266 --> 00:03:05.466 A:middle
Safari app extensions you have

00:03:05.466 --> 00:03:07.566 A:middle
created, and we also really

00:03:07.566 --> 00:03:09.126 A:middle
appreciate those of you who have

00:03:09.126 --> 00:03:10.676 A:middle
filed bug reports, suggested

00:03:10.676 --> 00:03:12.636 A:middle
improvements, and commented on

00:03:12.636 --> 00:03:13.946 A:middle
the Safari developer forums.

00:03:16.706 --> 00:03:17.876 A:middle
And in response to that

00:03:17.876 --> 00:03:20.046 A:middle
feedback, we've added new APIs

00:03:20.136 --> 00:03:21.366 A:middle
for Safari app extensions to

00:03:21.366 --> 00:03:21.696 A:middle
use.

00:03:24.156 --> 00:03:25.696 A:middle
Earlier this year, we built out

00:03:25.696 --> 00:03:27.006 A:middle
our windows and tabs APIs.

00:03:27.806 --> 00:03:29.066 A:middle
Now you can navigate a tab

00:03:29.166 --> 00:03:30.656 A:middle
directly from your app extension

00:03:30.656 --> 00:03:32.236 A:middle
process to your full-page

00:03:32.236 --> 00:03:33.676 A:middle
content, to provide extra

00:03:33.676 --> 00:03:35.136 A:middle
functionality, like a dashboard.

00:03:35.776 --> 00:03:38.606 A:middle
You can get all the open windows

00:03:38.606 --> 00:03:39.926 A:middle
and tabs to provide things like

00:03:39.966 --> 00:03:43.226 A:middle
bookmarking services, and get a

00:03:43.226 --> 00:03:44.826 A:middle
reference to the containing tab

00:03:44.826 --> 00:03:46.016 A:middle
and window when handling a

00:03:46.016 --> 00:03:47.166 A:middle
message from your injected

00:03:47.166 --> 00:03:48.756 A:middle
script to do things like

00:03:48.756 --> 00:03:52.466 A:middle
updating your toolbar items.

00:03:52.666 --> 00:03:53.796 A:middle
We've added a way for you to get

00:03:53.796 --> 00:03:55.176 A:middle
the visible contents of a page.

00:03:55.876 --> 00:03:57.406 A:middle
You could use this, for example,

00:03:57.406 --> 00:03:58.696 A:middle
to show a custom visual

00:03:58.696 --> 00:04:00.346 A:middle
representation of your user's

00:03:58.696 --> 00:04:00.346 A:middle
representation of your user's

00:04:00.346 --> 00:04:00.706 A:middle
tabs.

00:04:01.416 --> 00:04:04.426 A:middle
And you now have more control

00:04:04.426 --> 00:04:06.646 A:middle
over your UI in Safari, with the

00:04:06.646 --> 00:04:08.296 A:middle
ability to programmatically show

00:04:08.296 --> 00:04:09.816 A:middle
and dismiss your pop-overs when

00:04:09.816 --> 00:04:11.216 A:middle
it makes the most sense for your

00:04:11.216 --> 00:04:11.856 A:middle
use cases.

00:04:14.616 --> 00:04:15.896 A:middle
You gave us feedback about

00:04:15.896 --> 00:04:16.935 A:middle
wanting to know when a page will

00:04:16.935 --> 00:04:18.676 A:middle
navigate, in order to redirect

00:04:18.676 --> 00:04:19.546 A:middle
for a different version of the

00:04:19.546 --> 00:04:20.096 A:middle
website.

00:04:21.136 --> 00:04:23.056 A:middle
New in Safari 13, there's a

00:04:23.056 --> 00:04:24.446 A:middle
callback that your app extension

00:04:24.446 --> 00:04:26.056 A:middle
can handle to get notified of

00:04:26.056 --> 00:04:27.116 A:middle
the full redirect chain.

00:04:27.666 --> 00:04:30.736 A:middle
For those of you who developed

00:04:30.736 --> 00:04:32.386 A:middle
content blockers, we heard that

00:04:32.386 --> 00:04:33.636 A:middle
you really want a way to show

00:04:33.636 --> 00:04:35.566 A:middle
off to your users just how much

00:04:35.566 --> 00:04:36.576 A:middle
you're helping protect them

00:04:36.806 --> 00:04:38.456 A:middle
against tracking, crypto

00:04:38.456 --> 00:04:40.096 A:middle
currency mining, or other

00:04:40.096 --> 00:04:41.026 A:middle
unnecessary scripts.

00:04:41.786 --> 00:04:44.636 A:middle
So we're excited to announce, in

00:04:44.636 --> 00:04:46.426 A:middle
Safari 13, that you can now

00:04:46.426 --> 00:04:47.756 A:middle
associate your content blocker

00:04:47.756 --> 00:04:49.056 A:middle
with your Safari app extension,

00:04:49.616 --> 00:04:51.896 A:middle
so that it can get notified when

00:04:51.896 --> 00:04:52.666 A:middle
content is blocked.

00:04:54.306 --> 00:04:55.646 A:middle
Users will be able to just turn

00:04:55.646 --> 00:04:57.176 A:middle
on the Safari app extension if

00:04:57.176 --> 00:04:58.576 A:middle
they want to get statistics from

00:04:58.576 --> 00:05:00.566 A:middle
you on what you've blocked or

00:04:58.576 --> 00:05:00.566 A:middle
you on what you've blocked or

00:05:00.566 --> 00:05:01.606 A:middle
keep it off if they want the

00:05:01.606 --> 00:05:02.896 A:middle
most private experience.

00:05:03.616 --> 00:05:06.986 A:middle
I've gone through these APIs

00:05:07.066 --> 00:05:08.896 A:middle
pretty quickly here, but we've

00:05:08.896 --> 00:05:10.076 A:middle
created a video that you can

00:05:10.076 --> 00:05:11.756 A:middle
watch to learn more in-depth how

00:05:11.756 --> 00:05:12.386 A:middle
to adopt them.

00:05:13.826 --> 00:05:16.246 A:middle
Check it out in the WWDC app.

00:05:17.956 --> 00:05:19.746 A:middle
The last time you checked out

00:05:19.746 --> 00:05:21.566 A:middle
Safari app extensions might've

00:05:21.566 --> 00:05:23.186 A:middle
been in 2016, when we first

00:05:23.186 --> 00:05:23.846 A:middle
introduced them.

00:05:24.996 --> 00:05:25.946 A:middle
As you can see from what we

00:05:25.946 --> 00:05:28.006 A:middle
covered today, we've added a lot

00:05:28.006 --> 00:05:29.636 A:middle
of functionality and APIs since

00:05:29.686 --> 00:05:29.916 A:middle
then.

00:05:30.876 --> 00:05:32.046 A:middle
If you haven't converted your

00:05:32.046 --> 00:05:33.466 A:middle
Legacy Safari extension yet,

00:05:34.046 --> 00:05:35.456 A:middle
head on over to our guide on

00:05:35.456 --> 00:05:36.786 A:middle
developer.apple.com.

00:05:37.376 --> 00:05:40.666 A:middle
And that's improvements to

00:05:40.666 --> 00:05:41.586 A:middle
Safari extensions.

00:05:44.336 --> 00:05:45.726 A:middle
Lastly, I want to talk about

00:05:45.726 --> 00:05:47.146 A:middle
following links on macOS.

00:05:47.336 --> 00:05:50.396 A:middle
I'm of course talking about

00:05:50.396 --> 00:05:52.216 A:middle
following links like these to

00:05:52.216 --> 00:05:54.956 A:middle
websites and apps.

00:05:55.076 --> 00:05:56.176 A:middle
For those of you bringing your

00:05:56.176 --> 00:05:58.216 A:middle
iPad apps to the Mac, you might

00:05:58.216 --> 00:05:59.676 A:middle
be wondering how this is going

00:05:59.676 --> 00:06:00.076 A:middle
to work.

00:05:59.676 --> 00:06:00.076 A:middle
to work.

00:06:01.006 --> 00:06:02.646 A:middle
In-app web browsing isn't common

00:06:02.646 --> 00:06:04.386 A:middle
on macOS, but it is on iOS.

00:06:05.146 --> 00:06:07.736 A:middle
And on iOS, you're probably

00:06:07.736 --> 00:06:09.276 A:middle
using SafariViewController for

00:06:09.376 --> 00:06:10.976 A:middle
the best in-app web browsing

00:06:10.976 --> 00:06:11.536 A:middle
experience.

00:06:12.996 --> 00:06:14.006 A:middle
When you open a link in

00:06:14.006 --> 00:06:15.446 A:middle
SafariViewController in your Mac

00:06:15.446 --> 00:06:17.396 A:middle
app, it does exactly what your

00:06:17.796 --> 00:06:19.006 A:middle
macOS users will expect.

00:06:19.646 --> 00:06:21.196 A:middle
It opens the link directly in

00:06:21.196 --> 00:06:22.666 A:middle
their browser, and immediately

00:06:22.666 --> 00:06:24.376 A:middle
calls SafariViewController did

00:06:24.376 --> 00:06:25.366 A:middle
finish to notify you.

00:06:26.006 --> 00:06:28.676 A:middle
For those of you who have

00:06:28.676 --> 00:06:30.256 A:middle
implemented custom in-app web

00:06:30.256 --> 00:06:32.166 A:middle
browser on iOS, you should

00:06:32.166 --> 00:06:34.196 A:middle
strongly instead consider

00:06:34.196 --> 00:06:35.826 A:middle
directly opening links on Mac,

00:06:36.406 --> 00:06:37.526 A:middle
so that they open in the user's

00:06:37.526 --> 00:06:38.096 A:middle
web browser.

00:06:38.576 --> 00:06:39.706 A:middle
That's what your macOS users

00:06:39.706 --> 00:06:43.576 A:middle
will be expecting.

00:06:43.576 --> 00:06:44.576 A:middle
We're also excited that

00:06:44.576 --> 00:06:45.736 A:middle
universal links are coming to

00:06:45.736 --> 00:06:46.576 A:middle
macOS this year.

00:06:47.956 --> 00:06:49.916 A:middle
On iOS and macOS, universal

00:06:49.916 --> 00:06:52.696 A:middle
links allow you to have ordinary

00:06:52.736 --> 00:06:54.816 A:middle
HTTPS URLs to your website open

00:06:54.816 --> 00:06:55.906 A:middle
in your app instead, if it's

00:06:55.906 --> 00:06:56.386 A:middle
installed.

00:06:56.996 --> 00:06:59.646 A:middle
It's way better than custom URL

00:06:59.696 --> 00:07:01.386 A:middle
schemes, which just don't work

00:06:59.696 --> 00:07:01.386 A:middle
schemes, which just don't work

00:07:01.556 --> 00:07:04.986 A:middle
if your app isn't installed.

00:07:05.056 --> 00:07:06.736 A:middle
Universal links on Mac initially

00:07:06.736 --> 00:07:08.146 A:middle
open in your web browser, just

00:07:08.146 --> 00:07:10.346 A:middle
like before, and when they open

00:07:10.346 --> 00:07:11.676 A:middle
in Safari and your app is

00:07:11.676 --> 00:07:13.316 A:middle
installed, Safari will show a

00:07:13.316 --> 00:07:14.666 A:middle
banner at the top of the

00:07:14.666 --> 00:07:15.196 A:middle
webpage.

00:07:16.196 --> 00:07:18.366 A:middle
There, the user can choose to

00:07:18.366 --> 00:07:19.696 A:middle
open the link in your app, and

00:07:20.496 --> 00:07:22.646 A:middle
if they do, future link follows

00:07:22.646 --> 00:07:23.876 A:middle
will be open directly in your

00:07:23.876 --> 00:07:23.976 A:middle
app.

00:07:26.736 --> 00:07:28.356 A:middle
To learn more about universal

00:07:28.356 --> 00:07:29.996 A:middle
links, check out the video we

00:07:29.996 --> 00:07:31.916 A:middle
made, available right now in the

00:07:31.916 --> 00:07:33.546 A:middle
WWDC app.

00:07:35.106 --> 00:07:36.516 A:middle
And that's following links on

00:07:36.516 --> 00:07:36.936 A:middle
macOS.

00:07:37.666 --> 00:07:40.746 A:middle
There have been a bunch of great

00:07:40.746 --> 00:07:42.596 A:middle
improvements in the intersection

00:07:42.596 --> 00:07:44.226 A:middle
of app development and web

00:07:44.226 --> 00:07:45.106 A:middle
technologies this year.

00:07:45.726 --> 00:07:48.796 A:middle
One last point I want to leave

00:07:48.796 --> 00:07:49.106 A:middle
you with.

00:07:50.016 --> 00:07:51.806 A:middle
We're committed to making Safari

00:07:51.806 --> 00:07:53.076 A:middle
app extensions and content

00:07:53.076 --> 00:07:54.186 A:middle
blockers better each year.

00:07:54.326 --> 00:07:56.226 A:middle
If you had previously checked

00:07:56.226 --> 00:07:57.516 A:middle
them out but found that a

00:07:57.516 --> 00:07:59.706 A:middle
particular API or capability was

00:07:59.706 --> 00:08:01.636 A:middle
missing, it's worth taking

00:07:59.706 --> 00:08:01.636 A:middle
missing, it's worth taking

00:08:01.636 --> 00:08:03.046 A:middle
another look and converting your

00:08:03.046 --> 00:08:04.306 A:middle
Legacy Safari extension.

00:08:04.916 --> 00:08:08.046 A:middle
To find out more about what we

00:08:08.046 --> 00:08:10.046 A:middle
covered today, check out the

00:08:10.046 --> 00:08:11.426 A:middle
WWDC app, where there'll be

00:08:11.426 --> 00:08:12.686 A:middle
links to resources we talked

00:08:12.686 --> 00:08:14.586 A:middle
about and further documentation.

00:08:15.836 --> 00:08:16.906 A:middle
And if you have any questions

00:08:16.906 --> 00:08:18.796 A:middle
right now, we'll be headed over

00:08:18.796 --> 00:08:19.886 A:middle
to Technology Lab 3.

00:08:20.286 --> 00:08:21.196 A:middle
We'd love to see you there.

00:08:22.986 --> 00:08:24.186 A:middle
Thank you so much and have a

00:08:24.186 --> 00:08:24.966 A:middle
great WWDC.

00:08:25.508 --> 00:08:27.508 A:middle
[ Applause ]
