WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:00:00.506 --> 00:00:14.056 A:middle
[ Silence ]

00:00:14.556 --> 00:00:15.096 A:middle
&gt;&gt; All right.

00:00:15.096 --> 00:00:17.716 A:middle
Hi, everyone and
welcome to this session,

00:00:17.716 --> 00:00:18.866 A:middle
Getting to Know Web Inspector.

00:00:18.866 --> 00:00:22.096 A:middle
It's the first of two sessions
today about Web Inspector.

00:00:22.386 --> 00:00:24.396 A:middle
The second session is
right after this one

00:00:24.996 --> 00:00:27.876 A:middle
and this session serves as an
introduction to Web Inspector.

00:00:28.216 --> 00:00:30.906 A:middle
So, if you haven't
used this tool before

00:00:30.906 --> 00:00:35.466 A:middle
or only occasionally, this is a
good talk to really get started

00:00:35.466 --> 00:00:36.766 A:middle
and get your hands on the tool.

00:00:37.436 --> 00:00:38.986 A:middle
So, my name is Antoine
[phonetic].

00:00:39.416 --> 00:00:41.786 A:middle
I'm an engineer in the
Safari and WebKit Team

00:00:42.116 --> 00:00:44.576 A:middle
and more specifically,
I work on Web Inspector

00:00:44.736 --> 00:00:46.736 A:middle
which hopefully makes me an--

00:00:46.906 --> 00:00:52.096 A:middle
a relevant speaker
for this session.

00:00:52.246 --> 00:00:55.216 A:middle
I really, really love
working on Web Inspector.

00:00:55.426 --> 00:00:57.906 A:middle
And the reason I love it so
much is that I've been involved

00:00:57.906 --> 00:01:00.386 A:middle
with Web Technologies my
entire professional career.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:01:01.396 --> 00:01:04.756 A:middle
And some may not
remember that time,

00:01:04.906 --> 00:01:07.626 A:middle
but there was a time before
Web Inspector or tools

00:01:07.626 --> 00:01:11.176 A:middle
of that [inaudible], of
that kind, didn't exist.

00:01:11.246 --> 00:01:13.936 A:middle
And that time was a lot more
painful than it is today.

00:01:14.446 --> 00:01:16.376 A:middle
And so, let me tell
you how things used

00:01:16.376 --> 00:01:17.826 A:middle
to work before Web Inspector.

00:01:18.736 --> 00:01:21.036 A:middle
You'd be working on your
web content, your web app,

00:01:21.236 --> 00:01:23.416 A:middle
your website, whatever
it is that you're using

00:01:24.086 --> 00:01:25.716 A:middle
and that's being
powered by web content.

00:01:26.546 --> 00:01:29.646 A:middle
And you encounter an issue
and you try to fix it

00:01:30.196 --> 00:01:35.196 A:middle
and take your best guess as
to what the issues might be

00:01:35.196 --> 00:01:38.676 A:middle
in your HTML or your CSS or
your JavaScript, and so you'd be

00:01:38.676 --> 00:01:40.916 A:middle
in your Text Editor, scratch
your head a little bit

00:01:40.916 --> 00:01:42.856 A:middle
and then eventually you think,
"Okay, I think I got it.

00:01:43.206 --> 00:01:44.886 A:middle
If I change this
thing, type this in,

00:01:45.166 --> 00:01:46.256 A:middle
everything will look
much better."

00:01:46.986 --> 00:01:49.566 A:middle
And then what you would
have to do is you would have

00:01:49.566 --> 00:01:53.706 A:middle
to switch context, go back
to the browser, hit Command-R

00:01:53.706 --> 00:01:55.736 A:middle
to refresh the page after
the changes you've made

00:01:55.736 --> 00:01:56.536 A:middle
in the Text Editor.

00:01:57.046 --> 00:01:59.266 A:middle
And that's just not
an ideal scenario

00:01:59.266 --> 00:02:00.996 A:middle
because wouldn't it be
great if you could stay

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:02:00.996 --> 00:02:02.346 A:middle
in the same tool at all times?

00:02:03.336 --> 00:02:06.626 A:middle
And going back to about
a couple of years ago,

00:02:06.896 --> 00:02:09.086 A:middle
that workflow was
also appropriate

00:02:09.086 --> 00:02:13.246 A:middle
if you were developing an iOS
app and you're using UIWebView

00:02:13.246 --> 00:02:14.426 A:middle
to show-- to power some

00:02:14.426 --> 00:02:16.116 A:middle
of the user interface
of your application.

00:02:16.676 --> 00:02:20.106 A:middle
And you'd be using web
content and you'd be in Xcode,

00:02:20.266 --> 00:02:21.476 A:middle
changing that web content.

00:02:21.826 --> 00:02:23.906 A:middle
And this time, instead of
just switching to a browser

00:02:23.906 --> 00:02:26.416 A:middle
and refreshing, you'd have
to actually rebuild your app

00:02:26.846 --> 00:02:29.336 A:middle
to send it back down
to the device again,

00:02:29.776 --> 00:02:32.636 A:middle
and that would start kind
of a lengthy process.

00:02:33.096 --> 00:02:34.636 A:middle
Xcode will package the content,

00:02:34.976 --> 00:02:36.516 A:middle
compile any code
that's required,

00:02:36.856 --> 00:02:39.166 A:middle
send it down to the device,
and it's kind of lengthy.

00:02:39.296 --> 00:02:40.826 A:middle
And so all the time,
whether it's coming

00:02:40.826 --> 00:02:43.626 A:middle
from your Text Editor or from
Xcode waiting for your app

00:02:43.626 --> 00:02:46.496 A:middle
to be downloaded to the
device, you don't really know

00:02:46.496 --> 00:02:49.526 A:middle
if the changes you've made are
actually the correct changes.

00:02:50.136 --> 00:02:53.426 A:middle
And then once the
content finally loads,

00:02:53.766 --> 00:02:55.966 A:middle
you have to start a
little treasure hunt to get

00:02:55.966 --> 00:02:57.836 A:middle
to the point of your
app or web content

00:02:57.836 --> 00:02:59.146 A:middle
where you think the issue arose.

00:02:59.146 --> 00:03:01.966 A:middle
And so you keep going,
you cross your fingers,

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:03:02.376 --> 00:03:05.116 A:middle
you finally get there,
and unfortunately,

00:03:05.316 --> 00:03:06.716 A:middle
the bug is still
very much there.

00:03:07.686 --> 00:03:09.476 A:middle
So, every time that happens,

00:03:10.126 --> 00:03:12.506 A:middle
there's just a little bit
more added frustration

00:03:13.196 --> 00:03:15.476 A:middle
and it's just not
a good experience.

00:03:15.816 --> 00:03:19.236 A:middle
And so that whole scenario is
the reason why we're making

00:03:19.236 --> 00:03:19.926 A:middle
Web Inspector.

00:03:20.796 --> 00:03:23.276 A:middle
Web Inspector is the
Safari developer tool

00:03:23.496 --> 00:03:27.816 A:middle
to help you diagnose,
inspect, analyze,

00:03:27.916 --> 00:03:30.446 A:middle
and fix any issue you may
find in your web content.

00:03:30.966 --> 00:03:34.316 A:middle
And what's really cool about Web
Inspector is that it's a tool

00:03:34.616 --> 00:03:38.116 A:middle
that runs on your Mac and
you can target Safari on Mac,

00:03:38.926 --> 00:03:42.306 A:middle
but it applies just as
well to Safari on iOS

00:03:42.586 --> 00:03:46.046 A:middle
and your native app running
on iOS using UIWebView.

00:03:46.806 --> 00:03:49.696 A:middle
And even though in this talk,
we'll be using iOS mostly

00:03:49.696 --> 00:03:51.416 A:middle
as a target, always remember

00:03:51.416 --> 00:03:54.476 A:middle
that any feature you see
will apply just as well

00:03:54.476 --> 00:03:57.066 A:middle
to your native app on
iOS or Safari on a Mac.

00:03:58.256 --> 00:04:03.096 A:middle
And so, the way we can remotely
inspect pages on iOS devices is

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:04:03.096 --> 00:04:07.126 A:middle
that you can just run Safari
on your Mac, get your iPad

00:04:07.126 --> 00:04:09.306 A:middle
or any kind of iOS
device running Safari,

00:04:09.976 --> 00:04:13.706 A:middle
tether it up to your Mac and
then that's all you really need.

00:04:13.816 --> 00:04:16.396 A:middle
You're ready to go and you
can remotely inspect your

00:04:16.396 --> 00:04:17.055 A:middle
iOS content.

00:04:17.495 --> 00:04:20.046 A:middle
And you may have any number
of devices, or in fact,

00:04:20.086 --> 00:04:21.636 A:middle
you may be inspecting simulator

00:04:21.636 --> 00:04:23.796 A:middle
so that you're just
working on your workstation.

00:04:24.466 --> 00:04:28.496 A:middle
And this applies not just to iOS
Safari but also your native app

00:04:28.496 --> 00:04:29.856 A:middle
that you built yourself, send it

00:04:29.856 --> 00:04:31.916 A:middle
down to the device
using UIWebView.

00:04:33.316 --> 00:04:36.956 A:middle
Okay, once you've set up,
this is what you'll see.

00:04:37.156 --> 00:04:38.256 A:middle
This is Web Inspector.

00:04:38.926 --> 00:04:41.296 A:middle
And I think just like
any developer tool,

00:04:41.646 --> 00:04:44.646 A:middle
because these tools are
developed for power users

00:04:45.056 --> 00:04:48.086 A:middle
and developer will spend a
lot of time using those tools

00:04:48.086 --> 00:04:49.176 A:middle
to make their life better,

00:04:49.716 --> 00:04:51.456 A:middle
this might seem just
a little bit daunting.

00:04:51.606 --> 00:04:53.466 A:middle
We try to provide a lot
of great functionality,

00:04:53.466 --> 00:04:56.056 A:middle
and at first glance, maybe it's
a little bit tough to get into.

00:04:56.446 --> 00:04:58.416 A:middle
And so in this session,
we're going to drill

00:04:58.416 --> 00:05:01.536 A:middle
into this user interface and I'm
going to walk you through it,

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:05:01.536 --> 00:05:03.516 A:middle
give you a little
guidance to show you how

00:05:03.516 --> 00:05:05.016 A:middle
to use it the best way possible.

00:05:05.946 --> 00:05:08.766 A:middle
So, we'll start this
session with an overview

00:05:08.766 --> 00:05:11.956 A:middle
of the user interface and then
we'll take a really hands-on

00:05:11.956 --> 00:05:15.096 A:middle
approach so that you can learn
about some of the core features

00:05:15.096 --> 00:05:18.466 A:middle
of Web Inspector applied
to three core tasks.

00:05:18.876 --> 00:05:21.616 A:middle
The first one is something I
like to call Inspection Tweaking

00:05:21.616 --> 00:05:24.386 A:middle
where we'll be experimenting
with CSS in our DOM structure

00:05:24.616 --> 00:05:28.356 A:middle
to change the layout and
presentation of our page.

00:05:28.356 --> 00:05:31.586 A:middle
And then we'll start analyzing
the network performance

00:05:31.586 --> 00:05:34.696 A:middle
of our page trying to make the
load time of our page the best

00:05:34.696 --> 00:05:36.836 A:middle
as it can be or rather
analyze it

00:05:36.986 --> 00:05:38.176 A:middle
to figure out what's going on.

00:05:38.796 --> 00:05:42.436 A:middle
And finally, we'll get into
code debugging, trying to work

00:05:42.436 --> 00:05:44.666 A:middle
out some errors and some
JavaScript that we wrote.

00:05:44.666 --> 00:05:49.276 A:middle
So, I'd like to begin with an
overview of the user interface.

00:05:50.086 --> 00:05:52.666 A:middle
And to get started, I'd like
to jump straight to a demo

00:05:52.966 --> 00:05:57.216 A:middle
so we can just see it in action.

00:05:57.216 --> 00:06:02.356 A:middle
Okay, so Web Inspector is
not on by default in Safari.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:06:02.526 --> 00:06:03.696 A:middle
It's a developer tool

00:06:04.086 --> 00:06:08.386 A:middle
and we want developer-specific
functionalities of Safari

00:06:08.416 --> 00:06:10.256 A:middle
to only be available
when they're needed.

00:06:10.566 --> 00:06:12.826 A:middle
So, let me show you
how to turn it on.

00:06:13.036 --> 00:06:16.816 A:middle
I'm going to switch to
Safari and I'm going to bring

00:06:16.816 --> 00:06:23.156 A:middle
up the preferences, and let
me zoom in just a little bit

00:06:23.156 --> 00:06:24.356 A:middle
so it's up more obvious.

00:06:24.356 --> 00:06:27.136 A:middle
We're going to switch to
the Advanced tab and right

00:06:27.136 --> 00:06:28.436 A:middle
at the bottom, right here,

00:06:28.916 --> 00:06:31.306 A:middle
there's a special menu item
called Show Develop Menu

00:06:31.306 --> 00:06:31.916 A:middle
and Menu Bar.

00:06:32.866 --> 00:06:35.946 A:middle
And as I zoom out and turn
it on and off, you'll notice

00:06:35.946 --> 00:06:38.356 A:middle
in the Menu bar that a
new menu item is going

00:06:38.356 --> 00:06:39.556 A:middle
to show up called Develop.

00:06:40.376 --> 00:06:43.916 A:middle
Okay, so we want to keep
it on, and at the moment,

00:06:43.916 --> 00:06:45.306 A:middle
that's all we need
to do in Safari.

00:06:46.566 --> 00:06:49.296 A:middle
Next, I'm going to switch
to the iOS Simulator.

00:06:49.746 --> 00:06:53.886 A:middle
Again, I'll be using Simulator
on stage but this will work just

00:06:53.886 --> 00:06:57.346 A:middle
as well with an actual
iOS device

00:06:57.346 --> 00:06:59.906 A:middle
or several iOS devices
connected to your workstation.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:07:01.216 --> 00:07:04.796 A:middle
Okay, so in this case, what I
need to do is go into Settings,

00:07:05.956 --> 00:07:10.506 A:middle
then Safari, scroll down to
the bottom to the Advanced Menu

00:07:11.636 --> 00:07:13.816 A:middle
and turn on the Web
Inspector item right here.

00:07:14.716 --> 00:07:17.296 A:middle
What that means now
is that this device,

00:07:17.296 --> 00:07:19.776 A:middle
or rather the Simulator
can be a target

00:07:19.776 --> 00:07:22.886 A:middle
for Web Inspector running
in Safari on the Mac.

00:07:23.716 --> 00:07:25.516 A:middle
Okay, let's go back
to the home screen.

00:07:26.686 --> 00:07:29.706 A:middle
And now, what I should be
able to do is open Safari,

00:07:31.376 --> 00:07:33.686 A:middle
navigate to one of my favorite
websites on the internet,

00:07:35.486 --> 00:07:40.276 A:middle
switch to Safari on the Mac and
remotely inspect this web page.

00:07:40.546 --> 00:07:42.286 A:middle
So, how do I go about
doing this?

00:07:42.686 --> 00:07:45.936 A:middle
So, I'm going to go back to
my Develop Menu right here

00:07:46.686 --> 00:07:49.346 A:middle
and when I bring it up,
you'll notice the third item

00:07:49.646 --> 00:07:50.996 A:middle
which is named iPhone Simulator.

00:07:51.586 --> 00:07:54.326 A:middle
And for any iOS device
that's connected to your Mac

00:07:54.446 --> 00:07:56.426 A:middle
and has the Web Inspector
preference turned on,

00:07:57.006 --> 00:07:59.756 A:middle
these devices will appear in
this menu and you'll be able

00:07:59.756 --> 00:08:03.326 A:middle
to drill into this menu
to find specific WebViews

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:08:03.326 --> 00:08:04.966 A:middle
that you can inspect
on this device.

00:08:05.206 --> 00:08:07.776 A:middle
So, in our case, we only
have iPhone Simulator

00:08:08.316 --> 00:08:11.276 A:middle
and it has a single
application running, Safari,

00:08:11.806 --> 00:08:15.386 A:middle
and I can just hover over
the name of the web page

00:08:15.386 --> 00:08:18.246 A:middle
and it will show me, as
you can see in the back,

00:08:19.036 --> 00:08:21.016 A:middle
it will highlight the
WebView in question.

00:08:21.076 --> 00:08:22.606 A:middle
So, it might not
seem like a big deal

00:08:22.606 --> 00:08:23.666 A:middle
when you're targeting Safari

00:08:23.666 --> 00:08:27.686 A:middle
because the web page is
always going to occupy the--

00:08:27.746 --> 00:08:28.926 A:middle
almost the entire screen.

00:08:29.326 --> 00:08:31.356 A:middle
But imagine you're
working on an iOS app

00:08:31.356 --> 00:08:33.966 A:middle
when you have several
UIWebViews laid out on the page,

00:08:33.966 --> 00:08:35.496 A:middle
it might be hard to distinguish

00:08:35.496 --> 00:08:37.936 A:middle
which of this WebViews is
the one you want to inspect,

00:08:38.206 --> 00:08:40.696 A:middle
so this will make it really
easier to pinpoint what you want

00:08:40.696 --> 00:08:41.826 A:middle
to inspect specifically.

00:08:42.336 --> 00:08:44.246 A:middle
Okay, so let me zoom out.

00:08:44.246 --> 00:08:48.376 A:middle
I've picked this page and
this is Web Inspector.

00:08:50.176 --> 00:08:55.336 A:middle
Okay, so let's zoom in a little
bit on our Web Inspector and try

00:08:55.336 --> 00:08:57.256 A:middle
to work out exactly
what we can do here.

00:08:57.816 --> 00:08:59.866 A:middle
The first thing you'll
notice is that by default,

00:08:59.866 --> 00:09:02.436 A:middle
Web Inspector will
select the HTML

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:09:02.436 --> 00:09:03.636 A:middle
of the page you're inspecting

00:09:03.796 --> 00:09:05.556 A:middle
and show it's DOM tree
right in the center.

00:09:05.926 --> 00:09:10.566 A:middle
So, how do-- how can we go about
finding more about this page?

00:09:10.766 --> 00:09:13.096 A:middle
Well, there are three main
sections of Web Inspector.

00:09:13.396 --> 00:09:18.606 A:middle
The first one is Resources and
we've already got it selected,

00:09:18.606 --> 00:09:21.166 A:middle
and then we have
Timelines, we'll get back

00:09:21.166 --> 00:09:23.536 A:middle
to that one later,
and debugger, again,

00:09:23.606 --> 00:09:24.606 A:middle
we'll get back to that later.

00:09:25.216 --> 00:09:26.446 A:middle
Let's focus on Resources.

00:09:27.046 --> 00:09:30.866 A:middle
And the three icons
actually control the display

00:09:31.186 --> 00:09:32.726 A:middle
of the sidebar to the left,

00:09:32.726 --> 00:09:34.506 A:middle
which we call a Navigation
Sidebar.

00:09:35.346 --> 00:09:37.486 A:middle
This button also
acts as a toggle,

00:09:37.486 --> 00:09:39.576 A:middle
so when you don't need
the sidebar anymore,

00:09:39.576 --> 00:09:42.586 A:middle
you can just click on it,
removes it, click back on,

00:09:42.586 --> 00:09:44.696 A:middle
and will turn it back on so

00:09:44.696 --> 00:09:47.926 A:middle
that you can always control
what's exactly is on display

00:09:48.236 --> 00:09:49.506 A:middle
and customize your workspace.

00:09:50.396 --> 00:09:52.726 A:middle
Okay, so depending
on what I choose

00:09:52.726 --> 00:09:53.996 A:middle
in this Navigation Sidebar,

00:09:55.386 --> 00:09:58.836 A:middle
the content of the main view
here is going to change.

00:09:58.836 --> 00:10:01.396 A:middle
So for example, if I pick an
image, the content here changes.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:10:02.046 --> 00:10:07.336 A:middle
If I pick a piece of JavaScript,
the content changes and so on.

00:10:08.176 --> 00:10:10.536 A:middle
This is because there's a
master-detail relationship

00:10:10.536 --> 00:10:12.106 A:middle
between those two things.

00:10:12.156 --> 00:10:16.226 A:middle
The sidebar is the master and
the content is the detail,

00:10:16.556 --> 00:10:19.256 A:middle
which is saying, "We want more
detail about this resource,"

00:10:19.296 --> 00:10:20.646 A:middle
and it appears right
away in the center.

00:10:21.526 --> 00:10:24.156 A:middle
So, one thing that's
really interesting

00:10:24.156 --> 00:10:25.646 A:middle
about the content here is

00:10:25.646 --> 00:10:27.716 A:middle
that it's divided
in three main areas.

00:10:28.176 --> 00:10:30.626 A:middle
So obviously in the center,
you got your source code

00:10:30.686 --> 00:10:32.476 A:middle
or your DOM tree or your image.

00:10:32.916 --> 00:10:36.526 A:middle
But at the top, we always have
what we call the Navigation Bar,

00:10:37.156 --> 00:10:39.176 A:middle
and what this lets
us do is browse

00:10:39.176 --> 00:10:40.906 A:middle
through the various resources
that we've gone through.

00:10:40.906 --> 00:10:43.286 A:middle
So, if I click Back,
I'll be back on my--

00:10:43.286 --> 00:10:44.756 A:middle
the image I was previously on,

00:10:45.006 --> 00:10:46.906 A:middle
and back again, I'll
be on the HTML.

00:10:47.526 --> 00:10:50.166 A:middle
And going back forward, I
can go back to my JavaScript.

00:10:50.456 --> 00:10:52.906 A:middle
So wherever you are in the
user interface and you want

00:10:52.906 --> 00:10:54.366 A:middle
to quickly go back
to where you were,

00:10:54.556 --> 00:10:56.036 A:middle
you can just use
the Navigation Bar,

00:10:56.196 --> 00:10:57.766 A:middle
which of course has a short--

00:10:57.766 --> 00:10:59.606 A:middle
keyboard shortcuts
available for it as well.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:11:00.806 --> 00:11:03.616 A:middle
In the case of a DOM
tree, you also what we

00:11:03.616 --> 00:11:07.306 A:middle
like to call the Breadcrumb
Bar, and what it shows you is--

00:11:07.806 --> 00:11:09.636 A:middle
let me pick a deeper element.

00:11:10.306 --> 00:11:15.236 A:middle
What it shows you is the
hierarchy all the way

00:11:15.236 --> 00:11:17.826 A:middle
up to the HTML element for the
currently selected element.

00:11:17.826 --> 00:11:21.576 A:middle
So, I can go easily to the
header or parent div of the body

00:11:21.836 --> 00:11:24.456 A:middle
and this would be
the HTML element.

00:11:24.456 --> 00:11:29.246 A:middle
Okay, now let's focus at what
we can see at the bottom.

00:11:31.776 --> 00:11:35.456 A:middle
Here, we have what we call the
Quick Console and it's a piece

00:11:35.456 --> 00:11:38.296 A:middle
of user interface where you can
just type code wherever you are,

00:11:38.456 --> 00:11:38.926 A:middle
whenever.

00:11:38.926 --> 00:11:40.896 A:middle
And it's got two appearances.

00:11:41.226 --> 00:11:43.486 A:middle
The default appearance
is just a single prompt.

00:11:44.376 --> 00:11:47.066 A:middle
But if I type things in it,

00:11:48.096 --> 00:11:53.036 A:middle
I immediately get an additional
console log showing right up so

00:11:53.036 --> 00:11:54.696 A:middle
that I can see what
I've just evaluated

00:11:54.696 --> 00:11:58.786 A:middle
so I can type something
else, and you can see that.

00:11:58.786 --> 00:12:02.056 A:middle
And you can toggle this
Quick Console on and off

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:12:02.226 --> 00:12:03.626 A:middle
by just using the Escape key.

00:12:03.786 --> 00:12:07.166 A:middle
So, it's really easy to get more
information about your console

00:12:07.166 --> 00:12:09.736 A:middle
or just collapse it so that
you just focus on the prompt.

00:12:10.566 --> 00:12:12.616 A:middle
Okay, so that was
the Content Browser.

00:12:12.976 --> 00:12:16.286 A:middle
Now, what about those three--
those four icons to the right?

00:12:17.056 --> 00:12:18.606 A:middle
Well, the first thing
I'd like to show you is

00:12:18.606 --> 00:12:21.676 A:middle
that how these things would
change depending on what kind

00:12:21.676 --> 00:12:23.666 A:middle
of resource I'm inspecting.

00:12:23.956 --> 00:12:27.346 A:middle
So, if I go back to inspecting
an image, you'll notice

00:12:27.346 --> 00:12:29.346 A:middle
that I have a single
button here called Resource.

00:12:29.496 --> 00:12:32.896 A:middle
But if I go back to my HTML
page, I have more items.

00:12:33.716 --> 00:12:36.846 A:middle
The reason we have more items
is these control the display

00:12:36.846 --> 00:12:38.626 A:middle
of what we call the
Detail Sidebar.

00:12:38.706 --> 00:12:40.276 A:middle
It's a sidebar that
displays to the right.

00:12:40.616 --> 00:12:42.366 A:middle
In this case, I'm
going to select Styles,

00:12:42.716 --> 00:12:44.386 A:middle
and this will show
the Style Sidebar.

00:12:45.026 --> 00:12:47.376 A:middle
Again, there's a
master-detail relationship

00:12:47.376 --> 00:12:48.796 A:middle
which is going deeper down.

00:12:49.336 --> 00:12:51.156 A:middle
The master is the
Resources Sidebar,

00:12:51.476 --> 00:12:54.726 A:middle
we'll pick a resource which,
in this case, is an HTML file.

00:12:54.726 --> 00:12:56.046 A:middle
This is the detail
of the resource

00:12:56.346 --> 00:12:59.486 A:middle
and we can have even more
details about this HTML5,

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:13:00.156 --> 00:13:03.476 A:middle
HTML file by using one of
the Detail Sidebar icons

00:13:03.476 --> 00:13:06.306 A:middle
to the right, so I can drill
into styles information,

00:13:06.566 --> 00:13:08.906 A:middle
note information,
resource information,

00:13:09.126 --> 00:13:12.006 A:middle
and this is really only
contextual to whatever is

00:13:12.006 --> 00:13:14.546 A:middle
in the center which is itself
selected from the right.

00:13:14.656 --> 00:13:17.426 A:middle
So, there's this right to
left drilling of details.

00:13:17.656 --> 00:13:21.896 A:middle
Okay, again, these act as
toggles and it's really easy

00:13:21.896 --> 00:13:23.116 A:middle
to customize your workspace.

00:13:23.826 --> 00:13:27.106 A:middle
The last thing I'd like to
show you is this in the middle

00:13:27.106 --> 00:13:28.726 A:middle
which we like to call
the Activity Viewer.

00:13:29.106 --> 00:13:31.376 A:middle
Let me reload the page so
that the Activity Viewer fills

00:13:31.376 --> 00:13:32.766 A:middle
up with more interesting
information.

00:13:33.036 --> 00:13:35.466 A:middle
And I can reload the page
just by running Command-R,

00:13:35.466 --> 00:13:38.476 A:middle
I don't even have to switch
to my iOS Simulator or in fact

00:13:38.476 --> 00:13:41.516 A:middle
to iOS device, you can just do
it remotely from Web Inspector.

00:13:41.896 --> 00:13:43.566 A:middle
And in the center, we
have the load time.

00:13:43.566 --> 00:13:46.476 A:middle
Here, the page has some
difficulty running, actually,

00:13:46.476 --> 00:13:49.156 A:middle
sorry, it has-- I'm
really sorry about that.

00:13:49.156 --> 00:13:51.706 A:middle
Okay, this shows us the
load time, the time it took

00:13:51.706 --> 00:13:53.646 A:middle
until the load event
fired on the page.

00:13:53.646 --> 00:13:55.056 A:middle
And as you could
see, it kept running

00:13:55.056 --> 00:13:57.796 A:middle
until the page was fully loaded,
and that's a great metric

00:13:57.796 --> 00:13:59.606 A:middle
to keep an eye on as
you work on your page.

00:13:59.806 --> 00:14:02.636 A:middle
And these are always available,
so you always have a quick idea

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:14:02.636 --> 00:14:05.156 A:middle
of how many resources you're
dealing with, the complete sizes

00:14:05.156 --> 00:14:07.756 A:middle
of the page, and the amount of
time it took until it loaded.

00:14:08.476 --> 00:14:10.826 A:middle
And those three items to
the right are only relevant

00:14:10.826 --> 00:14:12.276 A:middle
when there are messages
in the console.

00:14:12.276 --> 00:14:14.596 A:middle
The first one will be for
console logs, the second one

00:14:14.596 --> 00:14:16.426 A:middle
for errors, and the
third one for warnings.

00:14:16.716 --> 00:14:17.796 A:middle
We'll get back to those later.

00:14:19.316 --> 00:14:21.906 A:middle
Here we are, we took a full
tour of the user interface

00:14:22.876 --> 00:14:25.556 A:middle
and I think this makes you
a little bit more familiar

00:14:25.556 --> 00:14:26.646 A:middle
with the Web Inspector.

00:14:27.246 --> 00:14:29.956 A:middle
So, let's recap what
we just saw.

00:14:30.366 --> 00:14:33.376 A:middle
This is the user interface
of Web Inspector and it split

00:14:33.376 --> 00:14:35.456 A:middle
into a series of subsections.

00:14:36.356 --> 00:14:38.046 A:middle
So, we have a little
coloring going on here

00:14:38.046 --> 00:14:39.586 A:middle
so you can see what
I'm talking about.

00:14:39.906 --> 00:14:41.666 A:middle
And so let's recap
what each of those are.

00:14:42.116 --> 00:14:43.816 A:middle
First, at the top we
have the Tool Bar.

00:14:44.216 --> 00:14:45.446 A:middle
We have the buttons to the left

00:14:45.446 --> 00:14:47.526 A:middle
that control the
Navigation Sidebars

00:14:47.766 --> 00:14:49.366 A:middle
and to the right,
the Detail Sidebar.

00:14:49.846 --> 00:14:52.746 A:middle
And to the center, we have
the Activity Viewer and always

00:14:52.746 --> 00:14:55.856 A:middle
on dashboard, it lets you
know how your page is doing,

00:14:55.856 --> 00:14:59.176 A:middle
how many resources it has,
how long it took to load.

00:14:59.796 --> 00:15:01.666 A:middle
And when we toggle the
buttons to the left

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:15:01.666 --> 00:15:03.326 A:middle
to control the Navigation
Sidebar,

00:15:03.776 --> 00:15:06.466 A:middle
we can see the sidebar
displayed to the left,

00:15:06.466 --> 00:15:07.806 A:middle
in this case, the
Resource Sidebar.

00:15:08.116 --> 00:15:11.406 A:middle
This controls what information
is displayed in the center

00:15:11.406 --> 00:15:14.356 A:middle
of the Content Browser, which
is split in three sections,

00:15:14.696 --> 00:15:18.556 A:middle
the Navigation Bar, the content
itself, and the Quick Console

00:15:18.556 --> 00:15:20.016 A:middle
at the bottom which
you can expand

00:15:20.016 --> 00:15:21.576 A:middle
and collapse by pressing Escape.

00:15:21.976 --> 00:15:25.506 A:middle
And finally to the right, we
have the Detail Sidebar toggled

00:15:25.506 --> 00:15:27.006 A:middle
by the buttons to the
right of the Tool Bar,

00:15:27.006 --> 00:15:28.836 A:middle
and this is our user interface.

00:15:29.226 --> 00:15:32.816 A:middle
So, let's start digging
into actual tasks

00:15:32.816 --> 00:15:34.176 A:middle
and see Web Inspector in action.

00:15:34.806 --> 00:15:38.066 A:middle
And I'd like to start by going
through inspection and tweaking.

00:15:38.436 --> 00:15:42.346 A:middle
And let me go back to demo
again so that we can look

00:15:42.346 --> 00:15:43.886 A:middle
at what we can do
with Web Inspector

00:15:44.096 --> 00:15:47.986 A:middle
to modernize a web page to make
it feel more at home on iOS 7.

00:15:52.006 --> 00:15:56.986 A:middle
Okay, so I'm going to open
Safari, get rid of the page

00:15:56.986 --> 00:15:58.156 A:middle
that we were previously on

00:15:58.916 --> 00:16:01.816 A:middle
and open a page I created
just for this demo.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:16:02.376 --> 00:16:03.916 A:middle
Well, that page may
look familiar to you.

00:16:04.066 --> 00:16:06.446 A:middle
This looks like a page
of iTunes trailers.

00:16:07.376 --> 00:16:10.156 A:middle
And I took that page and
simplified it just a little bit

00:16:10.156 --> 00:16:11.386 A:middle
for a purpose of this demo.

00:16:12.156 --> 00:16:14.356 A:middle
And what I'd like to
do is, in this demo,

00:16:14.656 --> 00:16:18.016 A:middle
is to make it a little
bit better for iPhone.

00:16:18.306 --> 00:16:21.096 A:middle
I'd like it to fit the viewport
of iPhone so that you don't have

00:16:21.096 --> 00:16:22.786 A:middle
to zoom to like, to
look at the content.

00:16:23.306 --> 00:16:25.836 A:middle
And I'd also like to make
it feel a little bit more

00:16:25.836 --> 00:16:28.416 A:middle
like it were a web page trying

00:16:28.416 --> 00:16:30.586 A:middle
to mimic the aesthetics
of iOS 7.

00:16:31.656 --> 00:16:34.996 A:middle
Okay, the first thing I'm
going to do obviously is switch

00:16:35.326 --> 00:16:41.366 A:middle
to Safari, open Web
Inspector for this page and--

00:16:41.536 --> 00:16:42.686 A:middle
okay, let's get started.

00:16:43.026 --> 00:16:45.686 A:middle
The mission here is to always
remain in Web Inspector,

00:16:45.786 --> 00:16:48.416 A:middle
never switch context,
and make all the changes

00:16:48.716 --> 00:16:51.506 A:middle
in this one session of
usage of Web Inspector.

00:16:51.806 --> 00:16:55.606 A:middle
So, the first thing I'd like
to do is remove the background

00:16:55.606 --> 00:16:56.186 A:middle
of the page.

00:16:56.296 --> 00:16:58.776 A:middle
I just don't think this
picture here looks right.

00:16:58.936 --> 00:17:01.826 A:middle
It's landscape and I want a
portrait kind of experience.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:17:02.086 --> 00:17:04.246 A:middle
So, what can I do
to make this better?

00:17:04.955 --> 00:17:09.465 A:middle
Well, I got the body element
selected here and I'm going

00:17:09.465 --> 00:17:12.675 A:middle
to open up the Style
Sidebar so I can control

00:17:12.945 --> 00:17:15.606 A:middle
that CSS properties
applied to this element.

00:17:16.306 --> 00:17:17.715 A:middle
And so this might
be familiar to you

00:17:17.715 --> 00:17:19.096 A:middle
if you used Web Inspector
before,

00:17:19.096 --> 00:17:21.236 A:middle
but the Style Sidebar
is just so much better

00:17:21.236 --> 00:17:22.766 A:middle
in Web Inspector in Safari 7.

00:17:23.185 --> 00:17:26.566 A:middle
Now, we can just simply click
here and edit as if we were

00:17:26.566 --> 00:17:27.596 A:middle
in our own Text Editor.

00:17:27.925 --> 00:17:30.036 A:middle
In this case, I'm selecting
all the background related

00:17:30.036 --> 00:17:32.156 A:middle
properties and by
hitting Delete,

00:17:32.156 --> 00:17:33.276 A:middle
I'm just going to
remove them all.

00:17:33.276 --> 00:17:35.676 A:middle
So, let me zoom out so you can
see what happens when I do that,

00:17:36.156 --> 00:17:38.616 A:middle
delete, the background
is gone instantly.

00:17:38.616 --> 00:17:41.266 A:middle
I didn't have to reload, I
didn't have to save anything,

00:17:41.326 --> 00:17:43.686 A:middle
I didn't have to go back to my
Text Editor and reload the page,

00:17:43.906 --> 00:17:45.206 A:middle
this is all happening live.

00:17:47.216 --> 00:17:51.146 A:middle
Okay, next, I think there's
an image on this page

00:17:51.146 --> 00:17:53.636 A:middle
that would work great
as a background image.

00:17:54.026 --> 00:17:56.676 A:middle
It's this little poster here and
it's got the right aspect ratio.

00:17:57.046 --> 00:17:59.376 A:middle
And so what I'd like to do
is make it the background,

00:17:59.666 --> 00:18:02.596 A:middle
and because eventually we'll
want to add a blur filter

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:18:02.596 --> 00:18:05.526 A:middle
to that image so that it
looks like an iOS 7 kind

00:18:05.526 --> 00:18:09.306 A:middle
of background, I will make
it-- I will keep it as an image

00:18:09.546 --> 00:18:11.896 A:middle
and try to move it to the
top of our DOM structure.

00:18:12.656 --> 00:18:16.186 A:middle
Okay, so let me do that, and the
easiest way I can find out where

00:18:16.186 --> 00:18:19.326 A:middle
that element is in my DOM tree
is I can use the Inspect button

00:18:19.406 --> 00:18:22.966 A:middle
in the Tool Bar and what
this lets me do is tap

00:18:22.966 --> 00:18:24.566 A:middle
on any element on the page.

00:18:24.746 --> 00:18:26.996 A:middle
And, again, remember this
could be in your iOS device.

00:18:26.996 --> 00:18:28.736 A:middle
You could be interacting
with it in real time.

00:18:29.006 --> 00:18:30.476 A:middle
And by just tapping on it,

00:18:30.566 --> 00:18:33.126 A:middle
it will reveal the note
right in Web Inspector.

00:18:33.306 --> 00:18:37.326 A:middle
So, here it is, we have an image
and the hierarchy above it.

00:18:37.556 --> 00:18:38.016 A:middle
Excellent.

00:18:38.336 --> 00:18:41.166 A:middle
So, let's take that image
and move it to the top.

00:18:41.846 --> 00:18:44.726 A:middle
So I suppose I could use a Quick
Console and write some DOM code

00:18:44.946 --> 00:18:46.746 A:middle
to remove it and
put it at the top.

00:18:46.746 --> 00:18:49.626 A:middle
But this is really not the most
intuitive way we could do it.

00:18:49.986 --> 00:18:52.656 A:middle
The most intuitive way on OS
X would be to just drag it

00:18:52.656 --> 00:18:55.036 A:middle
and drop it somewhere
else in the DOM tree.

00:18:56.656 --> 00:18:57.956 A:middle
So, let me do that again.

00:18:57.956 --> 00:19:01.106 A:middle
Just to show you, I'm going
to use Command-Z to undo

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:19:01.356 --> 00:19:02.766 A:middle
because we support
undo and redo,

00:19:04.066 --> 00:19:06.156 A:middle
and redo it so that you
see the changes I've made.

00:19:06.736 --> 00:19:09.616 A:middle
Excellent, the image is
now at the top of the page.

00:19:09.746 --> 00:19:11.086 A:middle
It's kind of small.

00:19:11.916 --> 00:19:13.796 A:middle
Oh, yeah, well, it's
got an explicit size,

00:19:13.796 --> 00:19:14.976 A:middle
and I probably want
to change that.

00:19:15.036 --> 00:19:16.796 A:middle
I just double-click
on the attribute

00:19:16.796 --> 00:19:18.696 A:middle
and I can just start
editing it right away.

00:19:18.986 --> 00:19:23.566 A:middle
So, let me type 100 percent,
again changes are instant.

00:19:24.236 --> 00:19:27.476 A:middle
Well, the Hide is set as well
and we're going to just get rid

00:19:27.476 --> 00:19:30.376 A:middle
of it such that it will match
the aspect ratio of the image.

00:19:31.786 --> 00:19:34.316 A:middle
Okay, well, there is
kind of a problem here

00:19:34.316 --> 00:19:37.296 A:middle
because the image is
really low resolution.

00:19:37.296 --> 00:19:38.946 A:middle
You can really see
it's all pixilated.

00:19:39.606 --> 00:19:43.016 A:middle
So, if I go back to where the
image was hosted, it was inside

00:19:43.016 --> 00:19:45.766 A:middle
of an anchor element
pointing to another image.

00:19:46.136 --> 00:19:47.686 A:middle
Oh, let's see what
that image is.

00:19:47.686 --> 00:19:49.096 A:middle
I'm just going to
click on the URL

00:19:49.536 --> 00:19:51.876 A:middle
and because it's not a
resource of the web page itself,

00:19:51.876 --> 00:19:54.496 A:middle
it's linked from the web
page, this will just download

00:19:54.496 --> 00:19:56.486 A:middle
to my desktop and open
in preview right away.

00:19:56.966 --> 00:19:59.226 A:middle
And I can see this image
as much higher resolution

00:19:59.666 --> 00:20:00.976 A:middle
and I think I just
like to use that.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:20:01.796 --> 00:20:04.786 A:middle
So again, this is just
so easy in Web Inspector.

00:20:05.046 --> 00:20:06.626 A:middle
I can just double-click
on the attribute

00:20:06.666 --> 00:20:08.886 A:middle
and selects automatically
the text.

00:20:08.886 --> 00:20:11.886 A:middle
I'm going to use Command-C
to copy it, double-click

00:20:11.886 --> 00:20:14.056 A:middle
on the Image Source and paste.

00:20:14.356 --> 00:20:16.626 A:middle
And if you pay attention
to the left, the resolution

00:20:16.626 --> 00:20:18.806 A:middle
of the image is going to be
so much better right away.

00:20:19.386 --> 00:20:21.576 A:middle
There you go.

00:20:22.106 --> 00:20:22.596 A:middle
Excellent!

00:20:23.176 --> 00:20:25.156 A:middle
So, this is starting to
look a little bit better.

00:20:25.366 --> 00:20:25.756 A:middle
You know what?

00:20:25.756 --> 00:20:28.476 A:middle
I don't think I need
this Info panel anymore.

00:20:28.746 --> 00:20:30.756 A:middle
It's just too much information.

00:20:30.756 --> 00:20:32.406 A:middle
I'd like to really focus
just on the trailers.

00:20:32.476 --> 00:20:35.716 A:middle
So to find out where this
menu-- this info element is,

00:20:35.906 --> 00:20:38.106 A:middle
instead of inspecting--
using the Inspect button,

00:20:38.356 --> 00:20:41.156 A:middle
I'm going to just rollover to
various elements in the tree

00:20:41.386 --> 00:20:42.826 A:middle
and instantly, it will point

00:20:43.216 --> 00:20:45.006 A:middle
to where these are
painted on the page.

00:20:45.316 --> 00:20:47.756 A:middle
And until I find the right
element which is this one,

00:20:48.656 --> 00:20:51.956 A:middle
I'll just poke around,
select it, and delete it.

00:20:52.246 --> 00:20:54.156 A:middle
Again, I can undo
this by just doing--

00:20:54.156 --> 00:20:56.056 A:middle
pressing Command-Z and redo it.

00:20:56.396 --> 00:20:57.686 A:middle
So even destructive changes

00:20:57.686 --> 00:21:00.276 A:middle
like that is something you
can go back and correct

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:21:00.276 --> 00:21:02.286 A:middle
if it was not what you wanted.

00:21:03.096 --> 00:21:05.996 A:middle
Okay, things are coming together
because another thing I'd

00:21:05.996 --> 00:21:09.116 A:middle
like to do is to have the
page really match the viewport

00:21:09.116 --> 00:21:09.626 A:middle
of iPhone.

00:21:09.996 --> 00:21:12.526 A:middle
I should make sure that it has
the right viewport setting.

00:21:13.016 --> 00:21:15.566 A:middle
So let me click on the
head here, and I'm going

00:21:15.566 --> 00:21:18.236 A:middle
to use another great feature
of Web Inspector and just

00:21:18.236 --> 00:21:21.906 A:middle
like you can free form
CSSEdit, you can edit HTML

00:21:21.906 --> 00:21:23.066 A:middle
into free form way as well.

00:21:23.186 --> 00:21:26.236 A:middle
So I'm going to Control click
to bring up the Contextual menu

00:21:26.826 --> 00:21:28.646 A:middle
and press Edit as HTML.

00:21:29.116 --> 00:21:32.436 A:middle
And what this will bring up
is the small HTML editor right

00:21:32.436 --> 00:21:36.956 A:middle
within my page again and I can
just start typing name viewport

00:21:37.366 --> 00:21:40.916 A:middle
content equals width
equals device width,

00:21:41.396 --> 00:21:44.996 A:middle
and just to press
Tab to make it work

00:21:45.266 --> 00:21:47.176 A:middle
and there it goes,
it applied directly.

00:21:47.426 --> 00:21:51.306 A:middle
Awesome! So you notice there are
two things are just wrong now.

00:21:51.626 --> 00:21:53.576 A:middle
First of all, the menu
is completely gone.

00:21:53.676 --> 00:21:54.376 A:middle
I don't know where it went.

00:21:54.376 --> 00:21:55.606 A:middle
We'll get back to
that in a second.

00:21:55.606 --> 00:21:58.286 A:middle
It's also there's annoying
margins around the image.

00:21:58.456 --> 00:22:00.336 A:middle
That's just something I
need to touch on the body

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:22:00.696 --> 00:22:03.426 A:middle
and I can edit the style
of the body super simply,

00:22:03.626 --> 00:22:06.226 A:middle
I can just type here and
it's just ready to go.

00:22:06.226 --> 00:22:11.276 A:middle
So let me just type margin and
the CSS Editor auto-completes,

00:22:11.276 --> 00:22:13.096 A:middle
it knows all the
properties are--

00:22:13.616 --> 00:22:17.186 A:middle
that are available inside
of WebKit and in fact,

00:22:17.186 --> 00:22:18.716 A:middle
it all knows all the
properties that are available

00:22:18.716 --> 00:22:20.226 A:middle
to this specific
version of WebKit

00:22:20.276 --> 00:22:22.536 A:middle
because Web Inspector
talks to WebKit directly,

00:22:22.796 --> 00:22:24.786 A:middle
it's like your window
inside a WebKit.

00:22:25.336 --> 00:22:29.416 A:middle
So let me use Autocompletion
here and type 0--

00:22:29.416 --> 00:22:32.466 A:middle
let me just zoom out so you
can see, as I press 0, again,

00:22:32.636 --> 00:22:33.936 A:middle
instantly, changes are made.

00:22:34.716 --> 00:22:38.216 A:middle
I'm-- okay, so let's figure
out what happened to the menu.

00:22:38.566 --> 00:22:40.826 A:middle
So, if I select--
hover the menu here,

00:22:40.826 --> 00:22:42.816 A:middle
you'll notice there's nothing
highlighting on the page.

00:22:42.816 --> 00:22:44.316 A:middle
The menu is definitely gone.

00:22:45.226 --> 00:22:48.186 A:middle
So, I can just simply
inspect the CSS to find

00:22:48.186 --> 00:22:50.146 A:middle
out when we had-- what
may have happened.

00:22:50.446 --> 00:22:52.716 A:middle
And I'll notice here that
I have a left property set

00:22:52.716 --> 00:22:56.026 A:middle
up on the menu to be
something slightly convoluted

00:22:56.026 --> 00:22:58.066 A:middle
but let me explain to
you, what it does is

00:22:58.066 --> 00:22:59.856 A:middle
that it positions the
menu to the center

00:22:59.856 --> 00:23:03.056 A:middle
and then it will move it
480 pixels to the left.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:23:03.526 --> 00:23:06.476 A:middle
That was great with the previous
version of the site that we had.

00:23:06.686 --> 00:23:08.986 A:middle
It's no longer accurate for
what we're trying to do now.

00:23:09.566 --> 00:23:12.416 A:middle
We've set up the viewport to be
the device width of the iPhone,

00:23:12.416 --> 00:23:16.236 A:middle
which means it's now 320 pixels,
so these values probably amount

00:23:16.236 --> 00:23:17.576 A:middle
to something that's
going to be negative

00:23:17.676 --> 00:23:19.286 A:middle
and our menu is just off page.

00:23:19.596 --> 00:23:20.956 A:middle
So to validate this theory,

00:23:21.136 --> 00:23:22.696 A:middle
I won't even have
to write any code.

00:23:22.696 --> 00:23:26.136 A:middle
What I'm just going to do is
click on the checkbox next

00:23:26.136 --> 00:23:28.816 A:middle
to the rule and that's going
to comment it out temporarily.

00:23:29.066 --> 00:23:31.766 A:middle
So let me just click on
it and here, directly,

00:23:31.766 --> 00:23:33.396 A:middle
you can see that without
that left property,

00:23:33.606 --> 00:23:35.066 A:middle
everything looks
like what I expect.

00:23:35.466 --> 00:23:37.886 A:middle
So, I'm just going to keep
that and I also I want

00:23:37.886 --> 00:23:41.176 A:middle
to change the top value to be 0.

00:23:41.996 --> 00:23:45.456 A:middle
And let me change the
width to be 100 percent,

00:23:46.336 --> 00:23:48.856 A:middle
and now my menu is starting
to look like what I want.

00:23:49.866 --> 00:23:53.356 A:middle
Okay, it'd be great if it was
just a slightly more revealing

00:23:53.356 --> 00:23:54.666 A:middle
of the background
and I think it's hard

00:23:54.666 --> 00:23:56.836 A:middle
to tell what the background
looks like at this stage.

00:23:57.296 --> 00:24:00.546 A:middle
So here again, I'm going to use
a DOM tree, use the arrow keys

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:24:00.546 --> 00:24:02.896 A:middle
to navigate until I find
the things I want to edit.

00:24:03.236 --> 00:24:05.546 A:middle
Here, I'd like to change
the title to just say

00:24:06.266 --> 00:24:07.606 A:middle
"Trailers," not view trailers.

00:24:07.716 --> 00:24:10.286 A:middle
Again, just double-click,
edit, return, you're done.

00:24:10.976 --> 00:24:12.236 A:middle
And let me [inaudible] as well.

00:24:12.766 --> 00:24:14.436 A:middle
Here, again, super simple.

00:24:14.986 --> 00:24:17.896 A:middle
Start typing text-align,
press Escape

00:24:17.896 --> 00:24:19.986 A:middle
and it automatically knows
all the values I can use

00:24:19.986 --> 00:24:20.586 A:middle
for this property.

00:24:20.586 --> 00:24:22.126 A:middle
So let's go with center.

00:24:23.446 --> 00:24:24.656 A:middle
Okay, much better.

00:24:24.656 --> 00:24:27.396 A:middle
Let me just make it a
little bit less opaque.

00:24:27.396 --> 00:24:28.846 A:middle
And so to do that, I'm going

00:24:28.846 --> 00:24:30.766 A:middle
to use another great
feature of Web Inspector.

00:24:31.316 --> 00:24:33.546 A:middle
And since I'm editing
a numeric value here,

00:24:33.546 --> 00:24:36.246 A:middle
I can use the Option
key and the Arrow keys

00:24:36.486 --> 00:24:38.366 A:middle
and I can just start
decrementing

00:24:38.446 --> 00:24:39.886 A:middle
and incrementing this value.

00:24:39.886 --> 00:24:42.006 A:middle
So I'm going to zoom out so
you can see it in real time,

00:24:42.306 --> 00:24:45.246 A:middle
option down, option up.

00:24:46.366 --> 00:24:49.446 A:middle
Okay, I got-- and again,
instantly, instant feedback

00:24:49.636 --> 00:24:50.846 A:middle
about the content on the page.

00:24:51.346 --> 00:24:53.746 A:middle
And let me change in
the similar fashion,

00:24:54.036 --> 00:24:56.606 A:middle
the gradient applied
to the menu content.

00:24:57.916 --> 00:24:59.326 A:middle
Okay, how does it look?

00:24:59.326 --> 00:25:00.726 A:middle
It's a lot more revealing.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:25:00.866 --> 00:25:01.566 A:middle
We're getting there.

00:25:01.636 --> 00:25:04.016 A:middle
And the last thing I want
to do, like I told you,

00:25:04.016 --> 00:25:07.246 A:middle
is I want to get rid-- I want
to make the background blurred

00:25:07.246 --> 00:25:09.806 A:middle
so that it looks like
an iOS 7 backdrop.

00:25:10.446 --> 00:25:13.186 A:middle
So, I want to hide the
menu here so I can focus

00:25:13.186 --> 00:25:14.966 A:middle
in the background,
and it's really easy

00:25:14.966 --> 00:25:15.996 A:middle
to do in Web Inspector.

00:25:16.236 --> 00:25:18.066 A:middle
There's a key shortcut
you can use at anytime

00:25:18.066 --> 00:25:20.936 A:middle
when you select an element
in the tree and just press H

00:25:20.936 --> 00:25:22.836 A:middle
and it's going to
disappear temporarily,

00:25:22.976 --> 00:25:25.386 A:middle
we'll just apply some style
to make it not visible.

00:25:25.936 --> 00:25:31.486 A:middle
Okay, so let's select the
image and I'll add a new rule

00:25:31.486 --> 00:25:34.546 A:middle
to that image and automatically,
it creates the selector

00:25:34.546 --> 00:25:35.676 A:middle
that matches that element.

00:25:36.146 --> 00:25:42.996 A:middle
And let me type webkit-filter:
blur.

00:25:43.666 --> 00:25:46.076 A:middle
And so, let's play around
with that blur a little bit.

00:25:46.296 --> 00:25:47.886 A:middle
Let's start with five pixels.

00:25:47.886 --> 00:25:50.636 A:middle
And here, again, I'll adjust
it with the Option key

00:25:50.636 --> 00:25:53.616 A:middle
and the arrows until I get
the right amount of blur.

00:25:53.736 --> 00:25:55.216 A:middle
I think 10 pixels
just looks awesome.

00:25:55.786 --> 00:25:56.976 A:middle
Okay, I think we're done.

00:25:57.496 --> 00:26:00.246 A:middle
Let's go back to the Menu,
press H to turn it back on.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:26:00.986 --> 00:26:03.336 A:middle
It's almost right but
there's something wrong.

00:26:03.676 --> 00:26:05.476 A:middle
The images are blurred
here as well.

00:26:05.706 --> 00:26:08.566 A:middle
And if you've paid attention,
you'll notice that the rule

00:26:08.566 --> 00:26:11.516 A:middle
that we added for the image
was a little bit too generic.

00:26:11.806 --> 00:26:13.006 A:middle
So let's change it.

00:26:13.316 --> 00:26:14.696 A:middle
Here, instead of having image,

00:26:15.136 --> 00:26:16.536 A:middle
we want to have a
more specific rule.

00:26:16.536 --> 00:26:18.686 A:middle
So let me just cut
this property,

00:26:19.256 --> 00:26:22.606 A:middle
add an ID to this element

00:26:22.606 --> 00:26:25.286 A:middle
so that we target just the
background specifically,

00:26:25.936 --> 00:26:28.026 A:middle
add a new rule again,
and this time,

00:26:28.076 --> 00:26:30.466 A:middle
it will create an even
more accurate selector

00:26:30.466 --> 00:26:34.206 A:middle
for this element because it
knows that it's specific image,

00:26:34.206 --> 00:26:35.616 A:middle
it's an image with
ID background.

00:26:35.856 --> 00:26:38.796 A:middle
So let me paste the new rule
and you'll notice as soon

00:26:38.796 --> 00:26:41.006 A:middle
as I paste the new rule,
the background will blur

00:26:41.006 --> 00:26:42.416 A:middle
and the content will
remain sharp.

00:26:43.666 --> 00:26:45.066 A:middle
Perfect! This is it.

00:26:45.066 --> 00:26:45.886 A:middle
This is what I wanted

00:26:46.146 --> 00:26:48.236 A:middle
and I could do it all
within Web Inspector.

00:26:48.236 --> 00:26:50.346 A:middle
I never had to switch
back to my Text Editor,

00:26:50.636 --> 00:26:52.906 A:middle
never had to reload, this all--

00:26:52.906 --> 00:26:53.956 A:middle
I could just experiment

00:26:53.956 --> 00:26:55.796 A:middle
to my heart's content
within Web Inspector.

00:26:55.956 --> 00:26:56.896 A:middle
Mission accomplished.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:27:00.876 --> 00:27:05.176 A:middle
Okay, let's recap
what we just did,

00:27:05.346 --> 00:27:07.396 A:middle
inspection tweaking
experimentation.

00:27:07.896 --> 00:27:10.516 A:middle
Well, the first thing is as
soon as we open Web Inspector,

00:27:10.516 --> 00:27:14.166 A:middle
you were presented with the
DOM view of the web page.

00:27:14.516 --> 00:27:17.336 A:middle
And if you think back to
viewer source which has been

00:27:17.336 --> 00:27:20.176 A:middle
around forever ever since
browser existed, this is kind

00:27:20.176 --> 00:27:22.626 A:middle
of the same approach
except everything you can do

00:27:22.626 --> 00:27:24.206 A:middle
with this source is live.

00:27:24.296 --> 00:27:27.346 A:middle
You can edit it right away
and all the changes will show

00:27:27.346 --> 00:27:29.226 A:middle
up instantly on your web page.

00:27:29.276 --> 00:27:30.086 A:middle
It's just so cool.

00:27:31.106 --> 00:27:33.666 A:middle
And what's really great about
it is that you never had

00:27:33.706 --> 00:27:34.566 A:middle
to leave Web Inspector.

00:27:34.566 --> 00:27:37.646 A:middle
You can tweak and you never
have to reload or rebuild.

00:27:37.716 --> 00:27:40.826 A:middle
Again, think about
building an app using Xcode

00:27:41.006 --> 00:27:43.706 A:middle
that has web content, you
would have to usually rebuild.

00:27:43.706 --> 00:27:44.606 A:middle
Here, you don't have to.

00:27:44.606 --> 00:27:46.926 A:middle
You just use Web Inspector,
connect to your iOS device,

00:27:47.066 --> 00:27:47.816 A:middle
and you're good to go.

00:27:48.896 --> 00:27:51.816 A:middle
And it was really easy to find
the content that we wanted

00:27:51.816 --> 00:27:54.606 A:middle
to inspect by using two
different techniques.

00:27:54.686 --> 00:27:56.866 A:middle
The first one is we used the
Inspect button from the toolbar

00:27:56.866 --> 00:27:59.146 A:middle
and just tapped on the item
on the page that we wanted

00:27:59.146 --> 00:28:01.906 A:middle
to inspect and it revealed
immediately in Web Inspector.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:28:02.616 --> 00:28:05.526 A:middle
And another way you can do it is
to do it the other way around.

00:28:05.826 --> 00:28:07.816 A:middle
You want to select
things in the DOM tree

00:28:07.816 --> 00:28:09.976 A:middle
and see what they
match on the web page.

00:28:10.126 --> 00:28:12.276 A:middle
And so you can just hover
DOM nodes in the DOM tree

00:28:12.396 --> 00:28:14.846 A:middle
and they'll highlight right away
on your page and your device.

00:28:15.036 --> 00:28:15.726 A:middle
That's really great.

00:28:16.616 --> 00:28:20.996 A:middle
And finally, anywhere you see
code, whether it's CSS or HTML,

00:28:21.246 --> 00:28:23.536 A:middle
we're just able to
click and start typing.

00:28:23.786 --> 00:28:27.226 A:middle
And in the case of CSS, it
knew all about the support of--

00:28:27.226 --> 00:28:29.266 A:middle
the support of CSS
properties on our page

00:28:29.506 --> 00:28:31.456 A:middle
and it let us have
autocompletion,

00:28:31.546 --> 00:28:32.446 A:middle
syntax highlighting.

00:28:32.446 --> 00:28:35.126 A:middle
It's just such a great
editing experience right

00:28:35.126 --> 00:28:35.986 A:middle
within Web Inspector.

00:28:36.806 --> 00:28:40.996 A:middle
And so, I really think
this idea of experimenting

00:28:40.996 --> 00:28:44.116 A:middle
with Web Inspector is something
that's just so much fun

00:28:44.116 --> 00:28:46.926 A:middle
and it's a great way to learn
about the capabilities of CSS

00:28:46.926 --> 00:28:49.096 A:middle
in the browser that
you're inspecting.

00:28:49.556 --> 00:28:52.046 A:middle
And just this morning at 9
a.m., you may have seen it.

00:28:52.046 --> 00:28:54.246 A:middle
If you've missed it, you
can catch it later on video.

00:28:54.246 --> 00:28:56.186 A:middle
It was a great session
and we went through a lot

00:28:56.186 --> 00:28:59.356 A:middle
of new CSS features made
available in Safari 7

00:28:59.606 --> 00:29:01.396 A:middle
and Safari on iOS and iOS 7.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:29:01.686 --> 00:29:03.666 A:middle
The session was named "What's
new in Safari and WebKit

00:29:03.666 --> 00:29:05.976 A:middle
for web developers," and I
urge you to check it out.

00:29:05.976 --> 00:29:07.556 A:middle
It got some great CSS content

00:29:07.636 --> 00:29:09.146 A:middle
and some great things
you could experiment

00:29:09.146 --> 00:29:10.616 A:middle
with within Web Inspector.

00:29:11.216 --> 00:29:14.006 A:middle
And if you stay in this
room right after this talk,

00:29:14.236 --> 00:29:16.396 A:middle
we're going to go in
much greater details

00:29:16.666 --> 00:29:19.506 A:middle
about inspection tweaking
within Web Inspector.

00:29:19.506 --> 00:29:21.156 A:middle
We've only really
scratched the surface here.

00:29:21.156 --> 00:29:24.276 A:middle
There are so much more to see
so stay tuned and we'll get--

00:29:24.276 --> 00:29:25.296 A:middle
we'll show you a lot more.

00:29:26.176 --> 00:29:28.126 A:middle
So, that was inspection
tweaking.

00:29:28.626 --> 00:29:30.566 A:middle
Now, let's move to network
performance analysis.

00:29:30.966 --> 00:29:34.306 A:middle
And here again, I'd like to
tell you just a little bit

00:29:34.306 --> 00:29:34.996 A:middle
of a story here.

00:29:35.966 --> 00:29:38.956 A:middle
I think we're all here aware

00:29:38.956 --> 00:29:41.786 A:middle
that mobile devices are a
really important target.

00:29:41.986 --> 00:29:45.066 A:middle
It's how a lot of people--
it's, you know, I have my device

00:29:45.066 --> 00:29:46.556 A:middle
in my pocket, I hear
about something,

00:29:46.556 --> 00:29:47.696 A:middle
I want to check it
out right away.

00:29:47.696 --> 00:29:49.656 A:middle
I don't want to wait
until I'm at my desktop.

00:29:49.856 --> 00:29:51.346 A:middle
I just want to go and
look at it right away.

00:29:51.866 --> 00:29:55.056 A:middle
And so, a great experience
in mobile is an experience

00:29:55.056 --> 00:29:56.336 A:middle
where things load quick.

00:29:56.686 --> 00:29:58.916 A:middle
And a way to get things to
load quick on your web page

00:29:59.036 --> 00:30:02.556 A:middle
or your web content in your
iOS app is to have as little

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:30:02.556 --> 00:30:03.976 A:middle
and as few resources
as possible.

00:30:04.136 --> 00:30:06.386 A:middle
That's a great way
to get started.

00:30:06.386 --> 00:30:09.896 A:middle
So, obviously, you have to
have an HTML page, some CSS

00:30:09.896 --> 00:30:12.066 A:middle
and some JavaScript if you
want it to look really good,

00:30:12.396 --> 00:30:14.326 A:middle
and you also want it to
be a little interactive.

00:30:14.856 --> 00:30:17.586 A:middle
And you also want to
distinguish yourself

00:30:17.586 --> 00:30:19.276 A:middle
from other web pages
and, et cetera

00:30:19.276 --> 00:30:21.806 A:middle
and have a little themeing
so you have some images,

00:30:21.806 --> 00:30:23.796 A:middle
maybe one, maybe more than that.

00:30:23.956 --> 00:30:26.346 A:middle
And if you manage to keep
it down to this small number

00:30:26.346 --> 00:30:28.616 A:middle
of resources, you're
probably on the right path.

00:30:29.306 --> 00:30:31.646 A:middle
But I don't think this is
something that we can deal

00:30:31.646 --> 00:30:33.046 A:middle
with in the real world so much.

00:30:33.916 --> 00:30:37.246 A:middle
The expectations of devices
like iOS device is just so high

00:30:37.246 --> 00:30:39.586 A:middle
in terms of quality and
experience and the capabilities

00:30:39.586 --> 00:30:44.266 A:middle
of those devices are
just so astounding

00:30:44.266 --> 00:30:47.826 A:middle
and improved every year
that we want to do more.

00:30:48.406 --> 00:30:50.896 A:middle
So then, you'll probably start
using some JavaScript library

00:30:50.896 --> 00:30:53.966 A:middle
from the network and maybe some
other images that you're loading

00:30:53.966 --> 00:30:55.836 A:middle
from a third-party
service and then you're--

00:30:56.946 --> 00:30:59.656 A:middle
surely enough, you're starting
to have a lot more resources.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:31:00.476 --> 00:31:01.316 A:middle
And on top of that,

00:31:01.316 --> 00:31:03.716 A:middle
those resources may not
be under your control.

00:31:03.996 --> 00:31:06.386 A:middle
Again, you may be using some
JavaScript library loaded

00:31:06.386 --> 00:31:08.496 A:middle
from a CDN or images
from Flickr.

00:31:08.886 --> 00:31:10.586 A:middle
And these are not
things that you control,

00:31:10.586 --> 00:31:12.706 A:middle
you don't know exactly what
size is going to be in advance

00:31:12.766 --> 00:31:15.156 A:middle
or the quality of the service
is going to serve them.

00:31:15.826 --> 00:31:18.226 A:middle
And this is just kind
of a complex situation.

00:31:18.226 --> 00:31:20.506 A:middle
And it would be really
cool if you could just find

00:31:20.506 --> 00:31:21.886 A:middle
out how things get loaded

00:31:22.086 --> 00:31:24.786 A:middle
and understand what could
be potentially a load issue

00:31:24.786 --> 00:31:27.866 A:middle
with your page that would impact
the initial user experience

00:31:27.866 --> 00:31:28.406 A:middle
for a user.

00:31:29.226 --> 00:31:31.166 A:middle
Well, this is when Web
Inspector comes in.

00:31:31.396 --> 00:31:33.366 A:middle
And using the Timeline's
panel, we're going to look

00:31:33.366 --> 00:31:35.916 A:middle
at how we can keep track of
resources using Web Inspector.

00:31:36.466 --> 00:31:38.786 A:middle
So for this demo,
I'm going to go back

00:31:38.906 --> 00:31:41.626 A:middle
to the developer.apple.com,
WWDC page.

00:31:42.546 --> 00:31:45.676 A:middle
So load it up in the
simulator, switch to Safari,

00:31:46.446 --> 00:31:47.516 A:middle
bring up Web Inspector,

00:31:49.066 --> 00:31:50.916 A:middle
and let's switch the
Timeline's panel.

00:31:50.916 --> 00:31:53.086 A:middle
This is what we're
interested in this section.

00:31:53.156 --> 00:31:56.336 A:middle
And the first thing you'll
notice as it loads is

00:31:56.336 --> 00:31:57.486 A:middle
that it's completely empty.

00:31:58.136 --> 00:32:01.516 A:middle
Well, the reason it is empty is
that for the Timeline's panel

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:32:01.516 --> 00:32:04.746 A:middle
to load with useful
content, WebKit needs

00:32:04.746 --> 00:32:06.446 A:middle
to run some special
instrumentation

00:32:06.596 --> 00:32:09.086 A:middle
on the page as it
loads and runs.

00:32:09.686 --> 00:32:12.766 A:middle
And we don't want you to be
running this code at all times.

00:32:12.766 --> 00:32:15.306 A:middle
We only want to run this code
in WebKit when it makes sense.

00:32:15.586 --> 00:32:17.036 A:middle
It might have some
performance issues.

00:32:17.036 --> 00:32:18.886 A:middle
It's only really useful
for instrumentation.

00:32:19.176 --> 00:32:21.156 A:middle
So, what we're going to
do here is we're going

00:32:21.156 --> 00:32:23.366 A:middle
to reload the page
with Web Inspector open

00:32:23.466 --> 00:32:26.286 A:middle
and the Timeline would populate
as soon as we start loading.

00:32:26.416 --> 00:32:28.536 A:middle
The other thing I'd
like to point out is

00:32:28.536 --> 00:32:31.166 A:middle
that not only can I do
Command-R to reload the page,

00:32:31.226 --> 00:32:34.536 A:middle
I can even do Command-shift-R
and what this will do is

00:32:34.536 --> 00:32:36.976 A:middle
that it will reload the page
while ignoring the cache.

00:32:37.246 --> 00:32:38.426 A:middle
This is very important
if we want

00:32:38.426 --> 00:32:40.116 A:middle
to diagnose network
related issues,

00:32:40.356 --> 00:32:42.996 A:middle
we want to test the full load
of the page and not just things

00:32:43.256 --> 00:32:44.316 A:middle
that haven't been cached yet.

00:32:44.746 --> 00:32:47.716 A:middle
So, Command-shift-R,
page starts reloading

00:32:48.156 --> 00:32:49.626 A:middle
and the Timeline is populating.

00:32:50.026 --> 00:32:51.286 A:middle
Okay, recording is done,

00:32:51.986 --> 00:32:53.226 A:middle
and this is what
we're presented with.

00:32:53.276 --> 00:32:55.796 A:middle
So, we're going to look
at this in more details.

00:32:56.506 --> 00:32:59.966 A:middle
The first thing I want to show
you is that these timelines here

00:32:59.966 --> 00:33:03.346 A:middle
at the top are split in
three different categories.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:33:03.826 --> 00:33:07.776 A:middle
There's first, network request
in blue, layout and rendering

00:33:07.866 --> 00:33:10.416 A:middle
in purple, and JavaScript
events in orange.

00:33:10.716 --> 00:33:12.976 A:middle
For the purpose of this talk,

00:33:12.976 --> 00:33:14.976 A:middle
we're going to focus
on network request.

00:33:15.286 --> 00:33:17.116 A:middle
In the second session
right after this one,

00:33:17.296 --> 00:33:19.676 A:middle
we'll go in much greater
detail in the layout

00:33:19.676 --> 00:33:20.676 A:middle
and rendering section.

00:33:20.676 --> 00:33:22.406 A:middle
So if you want to find
out more, stay tuned.

00:33:23.246 --> 00:33:25.606 A:middle
So let's get rid of
this sidebar for now.

00:33:25.606 --> 00:33:27.146 A:middle
We want to focus on the content.

00:33:27.876 --> 00:33:31.686 A:middle
Hide this, and you'll
notice first

00:33:32.046 --> 00:33:36.376 A:middle
that we can see there is
some color coding in the list

00:33:36.376 --> 00:33:37.816 A:middle
of resources loaded right here.

00:33:38.186 --> 00:33:41.796 A:middle
Blue means an HTML page,
green means the CSS page,

00:33:42.176 --> 00:33:45.166 A:middle
orange means the
JavaScript piece of script,

00:33:45.676 --> 00:33:47.006 A:middle
and purple means images.

00:33:47.136 --> 00:33:49.136 A:middle
So, at a glance, you
can tell what's loading

00:33:49.136 --> 00:33:50.656 A:middle
without necessarily
having to look

00:33:50.656 --> 00:33:51.636 A:middle
at the name of the resource.

00:33:51.766 --> 00:33:52.346 A:middle
It's really handy.

00:33:53.846 --> 00:33:56.886 A:middle
Okay, so another thing that
I'd like to point out is

00:33:56.886 --> 00:34:00.996 A:middle
that I'm actually simulating
a 3G network on this computer,

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:34:01.306 --> 00:34:03.926 A:middle
so that it doesn't looks
as fast it would be

00:34:04.146 --> 00:34:05.546 A:middle
on a hardware network.

00:34:06.276 --> 00:34:10.426 A:middle
And when you're using
3G networks or worse

00:34:10.426 --> 00:34:14.646 A:middle
if you're using an EDGE network,
latency can be a big problem.

00:34:15.096 --> 00:34:16.846 A:middle
And for those who are
not aware with this term,

00:34:16.906 --> 00:34:19.766 A:middle
latency is the amount
of time that elapses

00:34:19.766 --> 00:34:22.326 A:middle
between the moment
WebKit asks for resource

00:34:22.606 --> 00:34:24.966 A:middle
and the moment the server
starts coming back to us

00:34:25.216 --> 00:34:26.976 A:middle
with the resource and
when it starts loading.

00:34:27.466 --> 00:34:29.766 A:middle
And latency might be
a lot more important

00:34:29.766 --> 00:34:30.936 A:middle
than the actual load time.

00:34:31.146 --> 00:34:34.426 A:middle
The 3G network is usually pretty
fast downloading content once

00:34:34.426 --> 00:34:36.676 A:middle
it's established the
connection with the server.

00:34:37.266 --> 00:34:39.446 A:middle
So, to illustrate that
a little bit better,

00:34:39.706 --> 00:34:43.436 A:middle
let me select the first item on
the page which is the HTML page,

00:34:43.666 --> 00:34:45.616 A:middle
let me select it, let me get rid

00:34:45.616 --> 00:34:47.056 A:middle
of the Resource sidebar
for a moment.

00:34:47.896 --> 00:34:51.016 A:middle
And you'll notice
here that the item

00:34:51.016 --> 00:34:52.846 A:middle
on the timeline split
in two sections.

00:34:53.146 --> 00:34:55.206 A:middle
First is a semitransparent
section

00:34:55.556 --> 00:34:57.025 A:middle
and a fully opaque section.

00:34:57.556 --> 00:35:00.696 A:middle
The transparent section
is latency, and it's just

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:35:00.696 --> 00:35:02.706 A:middle
so much more than the
actual download time

00:35:02.706 --> 00:35:09.956 A:middle
of 376 milliseconds out of
a total of 412 milliseconds.

00:35:10.276 --> 00:35:12.036 A:middle
That's just a lot
of time spent with--

00:35:12.136 --> 00:35:15.816 A:middle
just waiting on assets to
actually start downloading.

00:35:16.476 --> 00:35:19.306 A:middle
So this is a good indication
of how important it is to try

00:35:19.306 --> 00:35:21.736 A:middle
to reduce the amount of
resources you have on your page.

00:35:21.976 --> 00:35:25.226 A:middle
So, if you're using CSS in
multiple files or JavaScript

00:35:25.226 --> 00:35:28.806 A:middle
in multiple files, maybe you
should consider concatenating

00:35:28.806 --> 00:35:31.746 A:middle
them into a single asset so that
you have fewer assets to deal

00:35:31.746 --> 00:35:34.306 A:middle
with and this will improve
the load time significantly.

00:35:35.486 --> 00:35:38.726 A:middle
Okay, so let's keep looking at
the timeline and find out more.

00:35:39.616 --> 00:35:40.656 A:middle
You'll notice that there seems

00:35:40.656 --> 00:35:42.326 A:middle
to be a sequence of
things happening.

00:35:42.836 --> 00:35:44.686 A:middle
We have this first
resource loading upfront,

00:35:45.166 --> 00:35:47.226 A:middle
and then other resources
loading after that.

00:35:47.226 --> 00:35:49.246 A:middle
Why do they load
only after the HTML?

00:35:49.536 --> 00:35:50.616 A:middle
Well, that's pretty obvious.

00:35:50.856 --> 00:35:53.156 A:middle
The HTML will link
to CSS resources,

00:35:53.326 --> 00:35:54.866 A:middle
JavaScript files, and images.

00:35:55.166 --> 00:35:57.846 A:middle
And until we've loaded
and parsed the HTML page,

00:35:58.086 --> 00:35:59.936 A:middle
we don't what other
content we need to load.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:36:00.656 --> 00:36:03.666 A:middle
So there's a sequence here
and a dependency established

00:36:03.666 --> 00:36:06.546 A:middle
on the HTML to load these
first two style sheets,

00:36:07.286 --> 00:36:10.066 A:middle
these few JavaScript
files, the CSS file,

00:36:10.066 --> 00:36:11.106 A:middle
and a couple more images.

00:36:11.756 --> 00:36:14.316 A:middle
And this is the core content
of the page, it's the content

00:36:14.316 --> 00:36:16.146 A:middle
that the page needs
to load upfront

00:36:16.346 --> 00:36:19.156 A:middle
to make sure it instantly has a
great experience to get going.

00:36:19.936 --> 00:36:21.036 A:middle
And so, that's a great approach.

00:36:21.096 --> 00:36:23.606 A:middle
You want to have your initial
content load right upfront

00:36:23.816 --> 00:36:26.146 A:middle
and any secondary
content load afterwards.

00:36:26.146 --> 00:36:28.526 A:middle
And in fact, this is
what this website does.

00:36:28.846 --> 00:36:31.626 A:middle
You will notice there is another
sequence of images load--

00:36:31.626 --> 00:36:33.396 A:middle
of images loading later on.

00:36:33.596 --> 00:36:38.066 A:middle
And these are queued by a style
sheet as only loaded afterwards,

00:36:38.426 --> 00:36:40.906 A:middle
so that we first get the
main part of the web page.

00:36:40.906 --> 00:36:45.256 A:middle
So these will be
the big WWDC image.

00:36:46.396 --> 00:36:49.006 A:middle
And more or less interesting
images will be loaded

00:36:49.006 --> 00:36:49.506 A:middle
right after.

00:36:49.506 --> 00:36:50.496 A:middle
So we can jump and see

00:36:50.496 --> 00:36:54.146 A:middle
for example here we have a
little Apple logo but it's not

00:36:54.146 --> 00:36:57.456 A:middle
as important as in the great
WWDC logo in the middle.

00:36:58.376 --> 00:37:00.676 A:middle
Okay, so that was a brief
overview of the timeline

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:37:00.676 --> 00:37:01.916 A:middle
for networking resources.

00:37:02.456 --> 00:37:12.096 A:middle
And what we saw here is how we
can visually see on the page

00:37:12.096 --> 00:37:14.516 A:middle
with a great graphical
representation how different

00:37:14.516 --> 00:37:16.266 A:middle
resources load on a timeline.

00:37:16.566 --> 00:37:19.596 A:middle
So we don't have to guess, we
don't have to look at a table

00:37:19.596 --> 00:37:22.256 A:middle
where it just lists start time,
end time, or anything like that,

00:37:22.486 --> 00:37:24.216 A:middle
we can just visualize
those things,

00:37:24.296 --> 00:37:26.206 A:middle
and that's really
makes us understand

00:37:26.206 --> 00:37:28.866 A:middle
at a glance how things get
organized on a page and load.

00:37:29.586 --> 00:37:31.646 A:middle
And the second thing is
that we make it really easy

00:37:31.646 --> 00:37:34.036 A:middle
to distinguish latency
and the download time.

00:37:34.126 --> 00:37:36.786 A:middle
Again, latency is not your
friend on the mobile network.

00:37:37.006 --> 00:37:40.056 A:middle
It's important that you try to
avoid having too many resources

00:37:40.346 --> 00:37:42.306 A:middle
and you can figure that
out really easily using

00:37:42.306 --> 00:37:42.936 A:middle
Web Inspector.

00:37:43.866 --> 00:37:47.556 A:middle
And thirdly, we could
really identify dependencies

00:37:47.586 --> 00:37:49.786 A:middle
and the sequence of how
things load on the page.

00:37:50.026 --> 00:37:52.196 A:middle
And this is really great
because, like I said,

00:37:52.196 --> 00:37:54.136 A:middle
you really want to make sure
your initial content loads

00:37:54.136 --> 00:37:57.476 A:middle
upfront and any second secondary
content only loads afterwards

00:37:57.716 --> 00:38:00.596 A:middle
so that your initial content
loads as fast as possible.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:38:01.056 --> 00:38:03.886 A:middle
And to validate that technique,
you can use Web Inspector

00:38:03.886 --> 00:38:06.386 A:middle
and its timeline to
make sure things load

00:38:06.386 --> 00:38:07.576 A:middle
in the sequence you expect.

00:38:09.276 --> 00:38:11.116 A:middle
So again, stay tuned.

00:38:11.246 --> 00:38:12.776 A:middle
On the next session,
we'll have lot more

00:38:12.776 --> 00:38:15.146 A:middle
about the Timelines
panel, we'll be looking

00:38:15.146 --> 00:38:16.026 A:middle
at layout and rendering.

00:38:16.026 --> 00:38:17.016 A:middle
So, if you want to
find out more,

00:38:17.016 --> 00:38:18.386 A:middle
stay in this room
for the next session.

00:38:19.206 --> 00:38:20.926 A:middle
And on the topic of performance,

00:38:20.986 --> 00:38:24.606 A:middle
even though it's not directly
related to network performance

00:38:24.606 --> 00:38:27.016 A:middle
and more about layout
and rendering,

00:38:27.236 --> 00:38:29.776 A:middle
there's a great talk tomorrow
morning, we'll be discussing how

00:38:29.776 --> 00:38:32.526 A:middle
to optimize power and
performance for your web page,

00:38:32.716 --> 00:38:34.566 A:middle
9 a.m. in Russian
Hill, be there.

00:38:35.226 --> 00:38:35.716 A:middle
I will be.

00:38:37.026 --> 00:38:39.256 A:middle
Okay, let's jump to the
last section, debugging.

00:38:39.906 --> 00:38:42.486 A:middle
And here, again, we're going
to go straight into a demo

00:38:42.486 --> 00:38:44.076 A:middle
and see how we can
use Web Inspector

00:38:44.316 --> 00:38:46.766 A:middle
to debug issues with
our JavaScript.

00:38:48.636 --> 00:38:52.286 A:middle
So, for this specific demo,
I've prepared an update

00:38:52.566 --> 00:38:54.816 A:middle
on the initial demo
that we we're looking

00:38:54.816 --> 00:38:56.426 A:middle
at for Monsters University.

00:38:56.746 --> 00:38:58.266 A:middle
So let me jump straight
to that page.

00:38:58.726 --> 00:39:01.456 A:middle
And what I did here is that
is wanted to go further

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:39:01.456 --> 00:39:05.296 A:middle
in the iOS 7 experience
and provide a new header

00:39:05.296 --> 00:39:08.656 A:middle
with white background and
I wanted the user to have

00:39:08.656 --> 00:39:11.636 A:middle
to tap this back--
to tap this header

00:39:11.696 --> 00:39:13.586 A:middle
such that it would reveal
the list of trailers

00:39:13.586 --> 00:39:14.786 A:middle
with a neat little animation.

00:39:15.796 --> 00:39:19.266 A:middle
Okay, so, again, bring
up Web Inspector,

00:39:19.776 --> 00:39:24.816 A:middle
jump to Resources sidebar,
reveal our HTML page,

00:39:25.786 --> 00:39:28.516 A:middle
and what we did here is
that we added a little piece

00:39:28.516 --> 00:39:33.166 A:middle
of JavaScript whose role is
to toggle a specific CSS class

00:39:33.536 --> 00:39:36.146 A:middle
on the documents body, the class
is called Showing Trailers.

00:39:36.526 --> 00:39:38.746 A:middle
And let me just see
what that would look

00:39:38.746 --> 00:39:39.666 A:middle
like when it's applied.

00:39:39.666 --> 00:39:41.546 A:middle
And I can do that very easily.

00:39:41.546 --> 00:39:43.296 A:middle
I'll jump to the DOM tree
from the source code.

00:39:43.296 --> 00:39:47.756 A:middle
I'm going to select the body,
edit as HTML, and I'm going

00:39:47.756 --> 00:39:51.506 A:middle
to add the CSS class on it so
you can see what it will look

00:39:51.506 --> 00:39:53.366 A:middle
like when the CSS
class is applied.

00:39:53.366 --> 00:39:55.746 A:middle
I'm going to hit Tab and
you'll notice immediately

00:39:55.746 --> 00:39:58.326 A:middle
on the site how it
changes the rendering.

00:39:58.366 --> 00:40:00.246 A:middle
And so, we have an
animation going

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:40:00.246 --> 00:40:00.976 A:middle
as soon as we add this class.

00:40:01.446 --> 00:40:05.836 A:middle
Let me undo it, redo
it, and you'll notice

00:40:05.836 --> 00:40:08.296 A:middle
as we have this animation,
the background will blur

00:40:08.526 --> 00:40:09.926 A:middle
and the content will slide down.

00:40:10.236 --> 00:40:11.326 A:middle
So, this is kind of cool.

00:40:12.346 --> 00:40:14.076 A:middle
Let's see if this
actually works.

00:40:14.466 --> 00:40:16.086 A:middle
So, I'm going to reload the page

00:40:16.816 --> 00:40:18.466 A:middle
and the first thing
you'll notice is

00:40:18.466 --> 00:40:21.456 A:middle
that in the Activity Viewer, we
now see that we have an error.

00:40:22.256 --> 00:40:24.976 A:middle
Okay, let's bring
up the Quick Console

00:40:26.216 --> 00:40:27.896 A:middle
and we could have brought
that up by just clicking

00:40:27.896 --> 00:40:30.296 A:middle
on the Activity Viewer but here,
I've used the Escape command

00:40:30.296 --> 00:40:32.666 A:middle
so I don't have to get
rid of the source code

00:40:32.666 --> 00:40:33.446 A:middle
that I was looking at.

00:40:34.386 --> 00:40:36.886 A:middle
And you'll notice right there
they will tell me exactly what

00:40:36.886 --> 00:40:38.296 A:middle
went wrong, syntax error,

00:40:38.296 --> 00:40:40.506 A:middle
unexpected token,
closing parenthesis.

00:40:41.206 --> 00:40:42.696 A:middle
This in itself is
not that useful.

00:40:42.696 --> 00:40:43.656 A:middle
I'd have to hunt it down.

00:40:44.046 --> 00:40:45.326 A:middle
But of course, Web
Inspector makes

00:40:45.326 --> 00:40:47.496 A:middle
that easily-- easy as well.

00:40:47.666 --> 00:40:50.806 A:middle
It just tells me what file the
error happened and on what line.

00:40:50.996 --> 00:40:53.716 A:middle
And I can just click on that
and I'm going to zoom out

00:40:53.716 --> 00:40:55.676 A:middle
and I will jump straight
to the line

00:40:55.676 --> 00:40:56.976 A:middle
in question and highlight it.

00:40:57.496 --> 00:41:00.516 A:middle
So, it's red, letting me
know there's an error.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:41:00.976 --> 00:41:03.646 A:middle
And what's really cool about
any kind of source we show

00:41:03.646 --> 00:41:06.176 A:middle
in Web Inspector is that we
always have syntax highlighting.

00:41:06.176 --> 00:41:09.026 A:middle
So here, if I bring my cursor
to this closing parenthesis

00:41:09.026 --> 00:41:10.456 A:middle
which just seems
to be the problem,

00:41:10.986 --> 00:41:12.816 A:middle
clicking on it will
highlight it in red.

00:41:13.366 --> 00:41:15.936 A:middle
And you'll notice
there's another piece

00:41:15.996 --> 00:41:19.576 A:middle
of code highlighted in red here
and it's the opening brace.

00:41:20.746 --> 00:41:24.216 A:middle
So it looks like this closing
parenthesis is expecting

00:41:24.216 --> 00:41:26.476 A:middle
to match something
else, and sure enough,

00:41:26.476 --> 00:41:27.676 A:middle
in my function declaration,

00:41:27.676 --> 00:41:29.936 A:middle
I forgot to close
using a closing brace.

00:41:29.936 --> 00:41:32.946 A:middle
So, let me type that, and right
away, it will show in blue,

00:41:33.176 --> 00:41:34.696 A:middle
meaning everything is cool.

00:41:35.096 --> 00:41:37.416 A:middle
All right, I probably
fixed my first error.

00:41:37.716 --> 00:41:41.586 A:middle
So, let me just reload
the page and it seems

00:41:41.586 --> 00:41:42.966 A:middle
like you have a second error.

00:41:43.676 --> 00:41:47.016 A:middle
So, let me jump again to the
Activity Viewer by just--

00:41:47.016 --> 00:41:48.836 A:middle
by the console-- sorry,
by clicking on it.

00:41:49.896 --> 00:41:52.856 A:middle
I'm going to bring up the Quick
Console and here, it says--

00:41:52.856 --> 00:41:54.996 A:middle
oh, I forgot to do
something, right.

00:41:55.476 --> 00:41:57.536 A:middle
There's something really great
that I forgot to mention is

00:41:57.536 --> 00:42:01.976 A:middle
that when we add our closing
brace, we actually need to save

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:42:01.976 --> 00:42:04.696 A:middle
that file for-- in order to
be able to reload the page

00:42:04.696 --> 00:42:07.136 A:middle
as script and it needs
to be reevaluated.

00:42:07.716 --> 00:42:09.726 A:middle
So, what I can do here
is, for the first time,

00:42:09.976 --> 00:42:13.076 A:middle
within Web Inspector, I
can just tap Command-S

00:42:13.076 --> 00:42:16.486 A:middle
and because I'm editing a
local file, I'm prompted

00:42:16.486 --> 00:42:20.776 A:middle
to override the existing
file, save it, replace it,

00:42:21.536 --> 00:42:23.186 A:middle
and this file will now be used

00:42:23.426 --> 00:42:25.616 A:middle
as a version that's
loaded by the web page.

00:42:25.616 --> 00:42:27.716 A:middle
So, this time let
me clear the console

00:42:27.716 --> 00:42:29.456 A:middle
by pressing Command-K
and reload.

00:42:30.336 --> 00:42:32.056 A:middle
This time, I will
not get that error,

00:42:32.356 --> 00:42:33.886 A:middle
instead I get a different error.

00:42:34.406 --> 00:42:37.706 A:middle
This time-- this is
the problematic line.

00:42:37.916 --> 00:42:40.126 A:middle
Let me bring up the Quick
Console again using Esc

00:42:40.956 --> 00:42:43.226 A:middle
and it says, "No,
it's not an object."

00:42:43.316 --> 00:42:45.776 A:middle
Okay, let's jump right
again to the error

00:42:45.776 --> 00:42:48.266 A:middle
in question, which
is further up.

00:42:48.626 --> 00:42:52.956 A:middle
Let me scroll up a
little bit, scroll here.

00:42:53.606 --> 00:42:57.056 A:middle
And, okay, so header
is null apparently.

00:42:57.286 --> 00:42:58.896 A:middle
Let me just set a breakpoint

00:42:58.896 --> 00:43:00.216 A:middle
so we can figure
out what's going on.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:43:00.306 --> 00:43:02.436 A:middle
So, I'm going to bring
up the Debugger sidebar,

00:43:02.686 --> 00:43:03.796 A:middle
set our breakpoint here,

00:43:03.796 --> 00:43:06.636 A:middle
and make sure breakpoints
are enabled by clicking

00:43:06.676 --> 00:43:09.336 A:middle
on these icons right here
which will turn gray to blue,

00:43:09.486 --> 00:43:11.616 A:middle
which means my breakpoint
is set.

00:43:12.116 --> 00:43:15.586 A:middle
So, next time your page is going
to load, if there's an error

00:43:15.586 --> 00:43:18.476 A:middle
on this line, I will pause
automatically in the debugger,

00:43:18.476 --> 00:43:19.596 A:middle
so let me reload again.

00:43:20.386 --> 00:43:22.886 A:middle
And this time, I'm
pause executing

00:43:23.096 --> 00:43:25.026 A:middle
at this specific line, okay.

00:43:25.416 --> 00:43:28.636 A:middle
So, indeed, now I have a
different detail sidebar

00:43:28.856 --> 00:43:30.916 A:middle
which automatically came
up called Scope Chain

00:43:31.146 --> 00:43:33.116 A:middle
and this will let me take a look

00:43:33.116 --> 00:43:36.626 A:middle
at all the variables
available in the current scope.

00:43:37.166 --> 00:43:39.536 A:middle
In here, I can notice that
the header is indeed null

00:43:39.536 --> 00:43:41.396 A:middle
so there's no way I can
pull a function on it.

00:43:42.336 --> 00:43:44.816 A:middle
Okay, so what can I
do to work that out?

00:43:44.816 --> 00:43:47.146 A:middle
So, I'm going to bring up
the Quick Console again,

00:43:47.836 --> 00:43:51.186 A:middle
and what's really awesome
is that I'm just going

00:43:51.186 --> 00:43:54.026 A:middle
to be evaluating script right
where my script is paused

00:43:54.026 --> 00:43:55.196 A:middle
and understand what's happening.

00:43:55.196 --> 00:43:59.536 A:middle
So, for example, I can type
header and indeed it's null.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:44:00.366 --> 00:44:03.016 A:middle
Okay, well, let's
try the document.

00:44:03.236 --> 00:44:04.926 A:middle
Surely, we'll have a
document object, right?

00:44:05.066 --> 00:44:06.716 A:middle
This is kind of-- if
you don't have that,

00:44:06.716 --> 00:44:07.816 A:middle
there's nothing you can redo.

00:44:08.756 --> 00:44:09.956 A:middle
We do have a document object.

00:44:10.186 --> 00:44:12.326 A:middle
Well, does it have any children?

00:44:12.326 --> 00:44:16.386 A:middle
So, let's look at
document.body, that too is null.

00:44:17.186 --> 00:44:20.566 A:middle
Let's go back to the code and
find out what may be going on.

00:44:21.196 --> 00:44:25.906 A:middle
I think I understand, the
problem is the script is in line

00:44:25.906 --> 00:44:29.776 A:middle
"the head element" and it
executes as soon as it's parsed.

00:44:30.226 --> 00:44:31.836 A:middle
But when it's parsed,
the rest of the page

00:44:31.836 --> 00:44:33.906 A:middle
that has not been parsed yet,
so even though I'm trying

00:44:33.906 --> 00:44:36.926 A:middle
to get a pointer to
my header in the DOM,

00:44:37.166 --> 00:44:39.216 A:middle
the DOM is not ready yet,
it hasn't been parsed.

00:44:39.846 --> 00:44:41.236 A:middle
That should be fairly
easy to fix.

00:44:41.466 --> 00:44:43.896 A:middle
Let me resume script by clicking
on the Play/Pause button

00:44:43.896 --> 00:44:46.896 A:middle
at the top and change
the source code.

00:44:47.216 --> 00:44:50.246 A:middle
And what I'd like to do is make
sure I only evaluate this line

00:44:50.396 --> 00:44:53.406 A:middle
of code when the DOM is ready.

00:44:53.406 --> 00:44:56.666 A:middle
And there's really helpful
DOM event that gets triggered

00:44:56.666 --> 00:44:59.676 A:middle
when that happens which is
called DOM content loaded

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:45:00.866 --> 00:45:03.496 A:middle
and let me just call that
function when that happens.

00:45:03.936 --> 00:45:08.366 A:middle
Again, I'm going to save,
turn off breakpoints.

00:45:08.616 --> 00:45:09.536 A:middle
I don't want to pause anymore

00:45:09.536 --> 00:45:11.936 A:middle
because I think I fixed the
problem, reload the page,

00:45:12.356 --> 00:45:13.826 A:middle
I clear the console
again with Command-K

00:45:13.826 --> 00:45:16.036 A:middle
to make sure there are no
errors as it gets loaded.

00:45:17.086 --> 00:45:18.766 A:middle
And this time, no
errors triggered.

00:45:19.096 --> 00:45:20.486 A:middle
Okay, looks like
I'm in business.

00:45:20.486 --> 00:45:22.326 A:middle
I'm just going to
click on the trailers

00:45:22.486 --> 00:45:24.856 A:middle
and the menu is just going
to magically appear for sure.

00:45:26.656 --> 00:45:28.816 A:middle
Well, I click and click
and nothing is happening.

00:45:29.146 --> 00:45:31.006 A:middle
Well, it's not quite right,
something is happening.

00:45:31.416 --> 00:45:34.026 A:middle
I get errors in my
JavaScript console yet again.

00:45:34.726 --> 00:45:36.596 A:middle
So, you know what I'm
going to do this time is--

00:45:36.916 --> 00:45:39.016 A:middle
I don't even want to know
where the error happened,

00:45:39.276 --> 00:45:41.886 A:middle
I'm going to turn
on the debugger

00:45:41.886 --> 00:45:44.136 A:middle
to stop all uncut exceptions.

00:45:44.336 --> 00:45:46.376 A:middle
That means that any time
there's an exception happening

00:45:46.376 --> 00:45:48.786 A:middle
in JavaScript that hasn't
been caught programmatically

00:45:48.786 --> 00:45:52.636 A:middle
in the code, the debugger
will automatically kick in.

00:45:53.236 --> 00:45:56.006 A:middle
So let me turn that on,
and without even having

00:45:56.006 --> 00:45:59.056 A:middle
to reload the page because I
can run this code again live,

00:45:59.056 --> 00:46:00.706 A:middle
I'm just going to
click on trailers,

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:46:01.666 --> 00:46:04.676 A:middle
and as soon as I click it,
again, I will break in the code.

00:46:06.016 --> 00:46:07.516 A:middle
So what's going on here?

00:46:08.356 --> 00:46:11.306 A:middle
Well, so I can use the
Scope Chain to take a look

00:46:11.306 --> 00:46:14.426 A:middle
at the various values
of my local variables

00:46:14.426 --> 00:46:16.676 A:middle
or the Quick Console to
just start evaluating code

00:46:16.916 --> 00:46:20.186 A:middle
but something new that we added
in Web Inspector in Safari 7,

00:46:20.396 --> 00:46:22.756 A:middle
which makes even easier,
is I can just mouse

00:46:22.756 --> 00:46:26.656 A:middle
over different tokens in the
code and I'll instantly see

00:46:26.656 --> 00:46:27.666 A:middle
where they evaluate to.

00:46:27.996 --> 00:46:31.466 A:middle
So the document is available,
it has a body this time

00:46:31.466 --> 00:46:33.166 A:middle
so what I did in the
previous stage worked.

00:46:33.826 --> 00:46:35.796 A:middle
I'm evaluating code
when the DOM is ready.

00:46:36.936 --> 00:46:41.526 A:middle
And-- oh, this doesn't work
anymore, classes is undefined.

00:46:42.026 --> 00:46:44.956 A:middle
Well, I guess there's no class'
member on documented body.

00:46:45.486 --> 00:46:48.026 A:middle
And so since I'm broken
into the debugger,

00:46:48.216 --> 00:46:51.116 A:middle
I'm going to start experimenting
and writing some code

00:46:51.116 --> 00:46:52.166 A:middle
to figure out what went wrong.

00:46:52.216 --> 00:46:56.556 A:middle
So let me clear the console
and type document.body.

00:46:56.556 --> 00:46:59.056 A:middle
I'm going to make
use of autocompletion

00:46:59.056 --> 00:47:01.616 A:middle
within the console to
figure out what it may--

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:47:01.616 --> 00:47:03.826 A:middle
what the property that I was
looking for might have been.

00:47:03.826 --> 00:47:05.686 A:middle
So, I'm sure it's
something related to class

00:47:05.686 --> 00:47:06.886 A:middle
but I can't remember the name.

00:47:06.886 --> 00:47:12.236 A:middle
So let me just start typing,
oops, "Class" and there you go.

00:47:12.236 --> 00:47:14.476 A:middle
There are two options,
class list and class name.

00:47:14.526 --> 00:47:15.766 A:middle
Class list is what I wanted.

00:47:16.306 --> 00:47:18.816 A:middle
Let me validate to
make sure it evaluates

00:47:18.816 --> 00:47:21.926 A:middle
to something that's not
undefined and it looks

00:47:21.926 --> 00:47:23.026 A:middle
like it is what I want.

00:47:23.116 --> 00:47:24.036 A:middle
Okay, excellent.

00:47:24.556 --> 00:47:24.926 A:middle
You know what?

00:47:24.926 --> 00:47:30.546 A:middle
I'm going to go back to my code,
change classes to class list,

00:47:32.476 --> 00:47:36.686 A:middle
resume script execution,
save the file, Command-S,

00:47:37.216 --> 00:47:39.526 A:middle
and I'm going to clear the
console again with Command-K,

00:47:39.616 --> 00:47:41.126 A:middle
I don't want to see
any [inaudible] errors,

00:47:41.446 --> 00:47:44.446 A:middle
reload the page, and finger
crossed, I'm going to click

00:47:44.446 --> 00:47:46.986 A:middle
on trailers and this
time, it just works.

00:47:47.426 --> 00:47:49.536 A:middle
Cool. Mission accomplished
again,

00:47:49.536 --> 00:47:51.906 A:middle
I got where I wanted
all with Web Inspector.

00:47:52.516 --> 00:47:57.606 A:middle
Okay, let's recap
what we just did.

00:47:58.476 --> 00:48:00.476 A:middle
Well, I'll start with
something that we didn't do.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:48:00.626 --> 00:48:03.006 A:middle
You'll notice we
didn't use any technique

00:48:03.006 --> 00:48:04.566 A:middle
that I will call
somewhat ghetto.

00:48:04.826 --> 00:48:07.386 A:middle
We didn't use Alert to
find on what was going on,

00:48:07.386 --> 00:48:09.336 A:middle
we didn't even use
console log which is kind

00:48:09.336 --> 00:48:10.846 A:middle
of the modern version of Alert.

00:48:11.736 --> 00:48:15.186 A:middle
And what the debugger lets us
do is go beyond console log

00:48:15.186 --> 00:48:17.226 A:middle
and actually debug
the code in real time.

00:48:18.126 --> 00:48:21.166 A:middle
So we could use breakpoints
to pause JavaScript execution

00:48:21.526 --> 00:48:24.056 A:middle
and breakpoints are either
something you will target

00:48:24.056 --> 00:48:26.386 A:middle
directly yourself and say, "I
want to break on this line"

00:48:26.936 --> 00:48:30.306 A:middle
or it is something you can just
have generically happen whenever

00:48:30.306 --> 00:48:32.396 A:middle
an error is triggered,
so useful.

00:48:33.416 --> 00:48:35.486 A:middle
And using this Scope
Chain's detail sidebar,

00:48:36.006 --> 00:48:38.866 A:middle
you could always find out about
the context of your current code

00:48:38.966 --> 00:48:43.106 A:middle
or you can even just roll over
your content and use Popovers

00:48:43.106 --> 00:48:46.426 A:middle
to show what you understand
exactly what values

00:48:46.426 --> 00:48:48.566 A:middle
of the various members
of your code evaluate to.

00:48:48.886 --> 00:48:50.176 A:middle
This is so very useful.

00:48:50.726 --> 00:48:53.886 A:middle
And finally, my preferred
technique is to start coding.

00:48:54.186 --> 00:48:56.666 A:middle
I can bring up the Quick
Console, type whatever I want

00:48:56.666 --> 00:48:58.426 A:middle
in there, see what
it would evaluate

00:48:58.426 --> 00:49:00.406 A:middle
to in this current
context and figure

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:49:00.406 --> 00:49:03.406 A:middle
out what right code would
be for the JavaScript

00:49:03.406 --> 00:49:05.916 A:middle
that I was trying to fix.

00:49:06.066 --> 00:49:08.956 A:middle
And so, again, we'll go
in much greater details

00:49:08.956 --> 00:49:10.446 A:middle
about debugging in
the next session.

00:49:10.446 --> 00:49:11.666 A:middle
We've only scratched
the surface.

00:49:11.666 --> 00:49:13.716 A:middle
There is so much more you
can do with the debugger

00:49:13.966 --> 00:49:15.906 A:middle
in Web Inspector and Safari.

00:49:16.706 --> 00:49:19.696 A:middle
So stay tuned, stay in this room
and we'll find that a lot more.

00:49:20.656 --> 00:49:22.386 A:middle
And this wraps up our session.

00:49:22.616 --> 00:49:24.886 A:middle
We've looked an overview
of the user interface,

00:49:25.126 --> 00:49:27.526 A:middle
the master-detail
relationship going left to right

00:49:27.526 --> 00:49:29.776 A:middle
between the Navigation
sidebar, content browser

00:49:29.916 --> 00:49:32.336 A:middle
and Detail sidebar, and
the great Activity Viewer

00:49:32.336 --> 00:49:35.566 A:middle
within the Tool Bar so that you
can always see what errors maybe

00:49:35.566 --> 00:49:37.116 A:middle
triggered, your page load time

00:49:37.116 --> 00:49:38.356 A:middle
and the resources
you're dealing with.

00:49:38.606 --> 00:49:41.026 A:middle
And then we went
through three core tasks

00:49:41.026 --> 00:49:42.956 A:middle
that I think highlighted
different panels

00:49:42.956 --> 00:49:43.786 A:middle
within Web Inspector.

00:49:44.246 --> 00:49:46.716 A:middle
We started by inspection
tweaking where CSS

00:49:46.716 --> 00:49:49.136 A:middle
and HTML editing were
really front and center.

00:49:49.626 --> 00:49:51.646 A:middle
Then we looked at network
performance analysis

00:49:51.646 --> 00:49:53.086 A:middle
where the Timelines
panel made us--

00:49:53.086 --> 00:49:56.446 A:middle
made it really easy to just to
identify how things get loaded

00:49:56.646 --> 00:49:59.046 A:middle
in sequence and visualized
it with a great timeline.

00:49:59.356 --> 00:50:02.486 A:middle
And finally, we just debug the
JavaScript code in real time

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:50:02.486 --> 00:50:05.346 A:middle
within Web Inspector by just
using the great debugging tools

00:50:05.346 --> 00:50:05.976 A:middle
made available.

00:50:06.406 --> 00:50:09.396 A:middle
And so, if you like
what you just saw,

00:50:09.566 --> 00:50:11.296 A:middle
there are different
ways you can remain

00:50:11.296 --> 00:50:13.226 A:middle
and get involved
with Web Inspector.

00:50:13.736 --> 00:50:16.256 A:middle
And the first thing I'd like
to point out is that every day

00:50:16.256 --> 00:50:18.376 A:middle
as we make enhancements
to WebKit,

00:50:18.696 --> 00:50:20.216 A:middle
we build what we call
the "Nightly Build".

00:50:20.466 --> 00:50:22.966 A:middle
And this is like a
special version of Safari

00:50:23.296 --> 00:50:24.686 A:middle
that you can download
to your net--

00:50:24.806 --> 00:50:28.286 A:middle
to your desktop and have the
latest version of WebKit Code

00:50:28.286 --> 00:50:29.686 A:middle
from Open Source compiled in

00:50:29.886 --> 00:50:31.326 A:middle
and you can just
play around with it.

00:50:31.586 --> 00:50:33.266 A:middle
And you can go to
nightly.webkit.org

00:50:33.366 --> 00:50:34.476 A:middle
and you'll get it right away.

00:50:35.266 --> 00:50:38.516 A:middle
And if you find issues when
you're using Nightlys or even

00:50:38.516 --> 00:50:40.976 A:middle
if you find issues in the
currently shipping version

00:50:40.976 --> 00:50:45.116 A:middle
of Safari, you can just go the
bugs@webkit.org/newinspectorbug

00:50:45.616 --> 00:50:47.906 A:middle
and type any problem
you may have found.

00:50:48.106 --> 00:50:50.326 A:middle
You can also use that
that raise future request.

00:50:50.626 --> 00:50:52.546 A:middle
And we pay very close
attention to what goes

00:50:52.546 --> 00:50:54.306 A:middle
on in this bug tracker
and we try

00:50:54.306 --> 00:50:56.296 A:middle
to fix bugs as fast as we can.

00:50:56.646 --> 00:50:58.906 A:middle
And if you need to discuss
things a little bit more

00:50:58.906 --> 00:51:01.146 A:middle
interactively, you can
find us on IRC as well.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:51:01.146 --> 00:51:02.846 A:middle
We hang out at irc.freenode.net,

00:51:03.056 --> 00:51:05.246 A:middle
the channel is
#WebKit-inspector.

00:51:05.726 --> 00:51:08.486 A:middle
And we actually spread all
around the world a little bit

00:51:08.486 --> 00:51:10.336 A:middle
so depending on what
time zone you are,

00:51:10.746 --> 00:51:13.786 A:middle
you should still find someone to
help you and answer questions.

00:51:14.536 --> 00:51:16.026 A:middle
There's something
even better that I'd

00:51:16.026 --> 00:51:17.426 A:middle
like to announce today is

00:51:17.426 --> 00:51:20.426 A:middle
that we're making Safari's
Web Inspector Open Source

00:51:20.426 --> 00:51:22.596 A:middle
contributed back to the
WebKit Open Source project.

00:51:22.836 --> 00:51:25.286 A:middle
And so, what it means is
that you can go ever further

00:51:25.286 --> 00:51:28.376 A:middle
than raising bugs and discussing
future request in IRC.

00:51:28.376 --> 00:51:30.796 A:middle
You can just completely
get involved with the code

00:51:31.076 --> 00:51:32.686 A:middle
and start fixing
things yourself.

00:51:33.076 --> 00:51:35.586 A:middle
In fact, one of the great
features that we show today

00:51:35.826 --> 00:51:37.896 A:middle
about how we can
save files locally

00:51:38.096 --> 00:51:40.866 A:middle
within the Web Inspector is
something that was contributed

00:51:41.176 --> 00:51:42.626 A:middle
by an external contributor.

00:51:42.766 --> 00:51:44.376 A:middle
So the sky is the limit.

00:51:44.656 --> 00:51:47.426 A:middle
You can just contribute as much
as you want to Web Inspector.

00:51:47.956 --> 00:51:52.186 A:middle
And so, for more information,
you can contact John Geleynse,

00:51:52.296 --> 00:51:53.616 A:middle
the Technology Evangelist.

00:51:54.126 --> 00:51:56.606 A:middle
We are greatly updated
documentation

00:51:56.606 --> 00:51:58.066 A:middle
for the Safari Web
Inspector guide

00:51:58.066 --> 00:51:59.846 A:middle
on developer.apple.com/mac.

WEBVTT
X-TIMESTAMP-MAP=MPEGTS:181083,LOCAL:00:00:00.000

00:52:00.296 --> 00:52:01.836 A:middle
WebKit.org is a lot
of information

00:52:01.836 --> 00:52:02.796 A:middle
about WebKit in general.

00:52:03.006 --> 00:52:05.826 A:middle
And the div forums let you
connect with one another

00:52:06.056 --> 00:52:08.436 A:middle
and we track those and
ask any questions you want

00:52:08.436 --> 00:52:09.296 A:middle
and we'll try to answer.

00:52:09.856 --> 00:52:13.246 A:middle
And so, I've already mentioned
some related sessions.

00:52:13.246 --> 00:52:14.086 A:middle
Here they are recapped.

00:52:14.636 --> 00:52:17.986 A:middle
Right here and--
right this morning--

00:52:17.986 --> 00:52:19.776 A:middle
sorry, there was a
session about CSS

00:52:19.776 --> 00:52:21.906 A:middle
and new features in the WebKit.

00:52:22.326 --> 00:52:23.296 A:middle
Right here and right now,

00:52:23.296 --> 00:52:25.706 A:middle
we'll have another more advanced
session about Web Inspector,

00:52:26.206 --> 00:52:28.016 A:middle
and tomorrow at 9
a.m., a great session

00:52:28.016 --> 00:52:29.836 A:middle
about power performance
for web content.

00:52:30.856 --> 00:52:32.326 A:middle
Okay, that's it.

00:52:33.516 --> 00:52:42.730 A:middle
[ Silence ]

