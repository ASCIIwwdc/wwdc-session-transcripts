WEBVTT

00:00:07.516 --> 00:00:17.500 A:middle
[ Music ]

00:00:30.516 --> 00:00:35.246 A:middle
[ Applause ]

00:00:35.746 --> 00:00:36.366 A:middle
&gt;&gt; Hello, everyone.

00:00:37.006 --> 00:00:38.326 A:middle
And welcome to What's
New in SpriteKit.

00:00:39.036 --> 00:00:40.836 A:middle
I'm Ross. I'm an engineer here

00:00:40.836 --> 00:00:42.386 A:middle
in the Games Technology
Team at Apple.

00:00:42.386 --> 00:00:43.836 A:middle
And I'm really excited
to be able

00:00:43.836 --> 00:00:50.066 A:middle
to show you what we've been
working on for the past year.

00:00:50.696 --> 00:00:52.516 A:middle
Before we jump into talking

00:00:52.516 --> 00:00:54.496 A:middle
about the new features
we're introducing this year,

00:00:54.746 --> 00:00:57.016 A:middle
I'd like to take a moment to
quickly recap what SpriteKit is

00:00:57.016 --> 00:00:59.736 A:middle
for anyone who may not
be familiar with it.

00:01:01.086 --> 00:01:04.096 A:middle
So, SpriteKit is our 2D
graphics framework for games.

00:01:04.786 --> 00:01:07.356 A:middle
It's designed to be highly
flexible and super easy

00:01:07.356 --> 00:01:10.196 A:middle
to use while still
offering great performance.

00:01:10.256 --> 00:01:12.636 A:middle
So, there are as few barriers
as possible between you

00:01:12.636 --> 00:01:14.196 A:middle
and the great games
that you want to make.

00:01:15.726 --> 00:01:19.586 A:middle
It's supported across all of our
platforms including iOS, macOS,

00:01:19.956 --> 00:01:22.206 A:middle
tvOS and this year
we're proud to say

00:01:22.206 --> 00:01:24.236 A:middle
that is available
on watchOS as well.

00:01:25.876 --> 00:01:27.826 A:middle
Any app, I know,
isn't that awesome?

00:01:29.201 --> 00:01:31.201 A:middle
[ Applause ]

00:01:31.386 --> 00:01:33.726 A:middle
Any App that uses SpriteKit
automatically gets access

00:01:33.726 --> 00:01:35.296 A:middle
to the latest version of
the framework available

00:01:35.296 --> 00:01:37.456 A:middle
without needing to be
rebuilt and redeployed,

00:01:37.456 --> 00:01:38.486 A:middle
so you're always up-to-date.

00:01:38.716 --> 00:01:41.706 A:middle
And it's naturally integrated
with Swift, so you can use it,

00:01:41.956 --> 00:01:44.106 A:middle
all these great features,
from our newest language.

00:01:45.486 --> 00:01:48.636 A:middle
But the framework is only
half of the SpriteKit picture.

00:01:49.396 --> 00:01:52.126 A:middle
The other half is our Xcode
integrated live editor

00:01:52.246 --> 00:01:55.086 A:middle
which lets you preview your
scenes directly from the editor

00:01:55.086 --> 00:01:56.686 A:middle
and lay them out visually.

00:01:57.786 --> 00:02:00.176 A:middle
It offers timeline-based
animation which allows you

00:01:57.786 --> 00:02:00.176 A:middle
It offers timeline-based
animation which allows you

00:02:00.176 --> 00:02:01.876 A:middle
to bring life to
your games along

00:02:01.876 --> 00:02:03.316 A:middle
with our robust particle editor.

00:02:04.636 --> 00:02:06.316 A:middle
It's fully integrated
with the Asset Catalog,

00:02:06.316 --> 00:02:09.006 A:middle
so you can leverage
features like app thinning

00:02:09.256 --> 00:02:10.735 A:middle
and on-demand resources
without having

00:02:10.735 --> 00:02:11.686 A:middle
to jump through any hoops.

00:02:12.056 --> 00:02:14.226 A:middle
And this year we're
introducing tile ap editing

00:02:14.226 --> 00:02:16.276 A:middle
and GameplayKit integration,
both of which we'll talk

00:02:16.276 --> 00:02:17.136 A:middle
about a little later on.

00:02:17.846 --> 00:02:21.826 A:middle
And finally, SpriteKit is fully
Metal-backed on all devices

00:02:21.826 --> 00:02:24.266 A:middle
that support it,
so you get access

00:02:24.266 --> 00:02:26.346 A:middle
to its great performance
benefits automatically

00:02:26.346 --> 00:02:27.496 A:middle
without having to do anything.

00:02:28.106 --> 00:02:32.156 A:middle
So, this year we're continuing
to introduce great new features

00:02:32.156 --> 00:02:33.336 A:middle
that make it easier
than ever for you

00:02:33.336 --> 00:02:35.496 A:middle
to make great games
for Apple platforms.

00:02:35.746 --> 00:02:39.686 A:middle
So, without further ado,
let's jump into what's new.

00:02:40.066 --> 00:02:41.916 A:middle
Now, normally with
sessions like this one,

00:02:41.916 --> 00:02:43.666 A:middle
we'd put the tools
stuff at the end.

00:02:43.666 --> 00:02:45.506 A:middle
But today we're going to turn
that on its head a little bit.

00:02:45.506 --> 00:02:48.486 A:middle
And that's because the
editor is absolutely integral

00:02:48.486 --> 00:02:50.346 A:middle
to getting the most
out of SpriteKit.

00:02:50.856 --> 00:02:52.786 A:middle
And this year we've got some
really exciting additions.

00:02:52.786 --> 00:02:55.586 A:middle
So, let's start with
the scene outline view.

00:02:57.216 --> 00:02:59.376 A:middle
Knowing what's in your
scene and how objects relate

00:02:59.376 --> 00:03:01.146 A:middle
to one another is
extremely important

00:02:59.376 --> 00:03:01.146 A:middle
to one another is
extremely important

00:03:01.146 --> 00:03:02.276 A:middle
for effective scene management.

00:03:03.456 --> 00:03:04.926 A:middle
In Xcode 7, this
was accomplished

00:03:04.926 --> 00:03:05.626 A:middle
through the Jump Bar.

00:03:06.566 --> 00:03:09.146 A:middle
The Jump Bar is designed to
make navigating between files

00:03:09.146 --> 00:03:11.506 A:middle
in your workspace easier but
when you're in SpriteKit,

00:03:11.876 --> 00:03:14.206 A:middle
it also has all the
nodes in your hierarchy.

00:03:14.616 --> 00:03:17.246 A:middle
And this is great for
navigating through those nodes

00:03:17.306 --> 00:03:19.506 A:middle
but it would be nice if we
could see the entire hierarchy

00:03:19.506 --> 00:03:20.486 A:middle
at the same time.

00:03:21.796 --> 00:03:25.976 A:middle
So, now in Xcode 8 you can,
with the new scene outline view.

00:03:26.876 --> 00:03:28.726 A:middle
It's a new panel that allows
you to see all the nodes

00:03:28.726 --> 00:03:30.186 A:middle
in your scene and
their parent-child

00:03:30.186 --> 00:03:32.106 A:middle
relationship simultaneously.

00:03:32.796 --> 00:03:34.776 A:middle
In addition to being
able to select nodes,

00:03:34.776 --> 00:03:38.156 A:middle
you can also rename them and
remove them from the scene.

00:03:38.156 --> 00:03:41.776 A:middle
You can also change their
parent-child relationship

00:03:41.776 --> 00:03:43.906 A:middle
of the nodes by dragging
them around,

00:03:43.936 --> 00:03:47.406 A:middle
much like you reorder
keynotes, slides in keynotes.

00:03:49.536 --> 00:03:52.276 A:middle
Drag a child onto another
node to make it a child,

00:03:52.806 --> 00:03:54.986 A:middle
drag a node onto another node
to make it a child of that node

00:03:55.546 --> 00:03:57.376 A:middle
or drag a child out
from its parent

00:03:57.586 --> 00:03:58.546 A:middle
to break that relationship.

00:03:59.006 --> 00:04:02.996 A:middle
We also have the ability
to lock and hide nodes.

00:03:59.006 --> 00:04:02.996 A:middle
We also have the ability
to lock and hide nodes.

00:04:03.856 --> 00:04:07.036 A:middle
Locked nodes can't be modified
or selected from the scene view.

00:04:07.036 --> 00:04:09.766 A:middle
And that can make navigating
your scene much easier

00:04:09.766 --> 00:04:12.996 A:middle
when you have a lot of notes and
it's getting kind of cluttered.

00:04:13.086 --> 00:04:14.616 A:middle
And the same with hiding.

00:04:14.616 --> 00:04:17.495 A:middle
It's great for when you
have really large objects

00:04:17.815 --> 00:04:20.356 A:middle
and you want to access some
nodes that might be behind them.

00:04:21.466 --> 00:04:24.226 A:middle
So, all these features make the
scene outline view really useful

00:04:24.226 --> 00:04:27.266 A:middle
and it's making, makes managing
your scene much, much easier.

00:04:27.596 --> 00:04:31.366 A:middle
So, next I'd like to talk a
little bit about how we've begun

00:04:31.366 --> 00:04:33.696 A:middle
to integrate the GameplayKit
into the SpriteKit editor.

00:04:35.236 --> 00:04:36.676 A:middle
So, last year we
introduced GameplayKit,

00:04:37.286 --> 00:04:39.746 A:middle
a brand-new framework that
offers ready to use solutions

00:04:39.836 --> 00:04:42.176 A:middle
for problems that are commonly
encountered when creating games.

00:04:43.286 --> 00:04:46.396 A:middle
One of the features included
last year is entities

00:04:46.396 --> 00:04:48.666 A:middle
and components, which is a
design pattern that's focused

00:04:48.666 --> 00:04:50.436 A:middle
on modularity and reusability.

00:04:51.456 --> 00:04:55.956 A:middle
Components encapsulate behavior
and you assign them to objects

00:04:55.956 --> 00:05:01.096 A:middle
or entities to change
their behavior.

00:04:55.956 --> 00:05:01.096 A:middle
or entities to change
their behavior.

00:05:01.726 --> 00:05:04.926 A:middle
And you do this without
having to write specific code

00:05:04.926 --> 00:05:06.366 A:middle
for every object in your scene.

00:05:06.856 --> 00:05:09.246 A:middle
Now, we're not going
to go into great detail

00:05:09.246 --> 00:05:12.906 A:middle
about how these work but it's
useful to think of components

00:05:13.016 --> 00:05:16.256 A:middle
as code building blocks that
you assemble in different ways

00:05:16.256 --> 00:05:18.296 A:middle
to create objects that
behave in different ways.

00:05:18.536 --> 00:05:23.106 A:middle
Typically, you might have a
component that represents health

00:05:23.106 --> 00:05:24.676 A:middle
for objects that can be damaged.

00:05:25.476 --> 00:05:28.336 A:middle
Or a component that has
physics data for objects

00:05:28.336 --> 00:05:29.416 A:middle
that can collide
with one another.

00:05:30.016 --> 00:05:32.416 A:middle
Or a component that
allows an object

00:05:32.416 --> 00:05:33.936 A:middle
to be a player controlled
by player input.

00:05:33.936 --> 00:05:39.206 A:middle
Components are really
powerful and allow you

00:05:39.206 --> 00:05:41.606 A:middle
to control how your
objects behave.

00:05:42.356 --> 00:05:46.006 A:middle
And now we're bringing
entities and components

00:05:46.116 --> 00:05:47.226 A:middle
into the SpriteKit editor.

00:05:48.296 --> 00:05:51.536 A:middle
You can assign components that
you create directly to the nodes

00:05:51.536 --> 00:05:53.776 A:middle
from within your scene
from the new entities

00:05:53.776 --> 00:05:55.336 A:middle
and components panel
of the inspector.

00:05:56.506 --> 00:05:58.356 A:middle
Additionally, you can
choose to expose properties

00:05:58.356 --> 00:05:59.726 A:middle
on the custom components
you create

00:06:00.406 --> 00:06:02.086 A:middle
and those will then
appear in the editor

00:06:02.086 --> 00:06:03.506 A:middle
and you can tweak
them for each node.

00:06:05.076 --> 00:06:06.206 A:middle
The best part about all this is

00:06:06.206 --> 00:06:08.426 A:middle
if you're already using
GameplayKits, entities

00:06:08.426 --> 00:06:10.596 A:middle
and components, we're now
doing all the hard work for you

00:06:10.596 --> 00:06:12.756 A:middle
and you can do all of your
object composition straight

00:06:12.756 --> 00:06:15.476 A:middle
from the editor.

00:06:16.176 --> 00:06:16.726 A:middle
Another great feature

00:06:16.726 --> 00:06:19.006 A:middle
that GameplayKit
introduced was pathfinding.

00:06:19.656 --> 00:06:22.686 A:middle
Pathfinding is all about finding
the best route from point A

00:06:22.686 --> 00:06:25.066 A:middle
to point B and it does this

00:06:25.066 --> 00:06:27.186 A:middle
by operating what's
called a navigation graph.

00:06:28.696 --> 00:06:30.376 A:middle
Navigation graphs
are collections

00:06:30.376 --> 00:06:33.336 A:middle
of nodes joined together
by connections.

00:06:33.726 --> 00:06:37.946 A:middle
And they describe how an object
can move through your scene

00:06:38.286 --> 00:06:39.716 A:middle
without colliding
with any obstacles.

00:06:39.936 --> 00:06:43.596 A:middle
And now we've integrated
navigation graphs

00:06:43.676 --> 00:06:44.746 A:middle
into the SpriteKit editor.

00:06:45.206 --> 00:06:47.796 A:middle
So, you can create and edit
them directly in your scene.

00:06:48.596 --> 00:06:50.556 A:middle
You can add and remove
navigation nodes

00:06:50.556 --> 00:06:52.276 A:middle
and make connections
between them simply

00:06:52.276 --> 00:06:53.376 A:middle
by clicking in the editor.

00:06:53.856 --> 00:06:56.626 A:middle
And you can leverage the
graph you create in code.

00:06:57.776 --> 00:06:59.296 A:middle
Creating the graph this
way allows you to quickly

00:06:59.296 --> 00:07:01.926 A:middle
and easily define how entities
can navigate your scene,

00:06:59.296 --> 00:07:01.926 A:middle
and easily define how entities
can navigate your scene,

00:07:01.926 --> 00:07:03.386 A:middle
making pathfinding a breeze.

00:07:03.386 --> 00:07:07.426 A:middle
So, now let's talk a little bit
about a feature that helps you,

00:07:07.466 --> 00:07:09.776 A:middle
yeah I know, it's
pretty awesome, isn't it?

00:07:10.516 --> 00:07:12.766 A:middle
[ Applause ]

00:07:13.266 --> 00:07:14.526 A:middle
Now to talk a little
bit about a feature

00:07:14.526 --> 00:07:15.986 A:middle
that helps you get the most
out of your performance

00:07:15.986 --> 00:07:19.616 A:middle
of your game, the FPS
performance gauge.

00:07:19.896 --> 00:07:22.036 A:middle
You may have used the
FPS report in Xcode 7.

00:07:22.916 --> 00:07:24.656 A:middle
As you're running your App,
you're provided a number

00:07:24.656 --> 00:07:26.346 A:middle
of real-time performance
statistics,

00:07:26.406 --> 00:07:31.236 A:middle
including your frame
rate, GPU utilization,

00:07:33.136 --> 00:07:34.586 A:middle
and CPU/GPU frame time.

00:07:35.116 --> 00:07:37.466 A:middle
And this is really helpful
for analyzing performance

00:07:37.556 --> 00:07:43.726 A:middle
but further granularity
would be great.

00:07:43.956 --> 00:07:47.236 A:middle
Now in Xcode 8, you get,
also get a timeline history

00:07:47.316 --> 00:07:49.696 A:middle
of your SpriteKit apps time,

00:07:49.766 --> 00:07:51.696 A:middle
frame time for both
the CPU and the GPU.

00:07:52.616 --> 00:07:55.346 A:middle
Additionally, it breaks down
the CPU time so you're able

00:07:55.346 --> 00:07:57.106 A:middle
to see how much time is
being spent rendering,

00:07:57.546 --> 00:08:00.326 A:middle
running the update loop,
evaluating the actions

00:07:57.546 --> 00:08:00.326 A:middle
running the update loop,
evaluating the actions

00:08:00.326 --> 00:08:01.816 A:middle
of physics and idle time.

00:08:02.306 --> 00:08:05.506 A:middle
This information can be
immensely useful in determining

00:08:05.506 --> 00:08:07.836 A:middle
where you need to focus your
efforts to improve performance.

00:08:08.876 --> 00:08:10.336 A:middle
The FPS performance
gauge is designed

00:08:10.336 --> 00:08:13.936 A:middle
to help you improve your
games on our mobile platforms.

00:08:14.146 --> 00:08:17.596 A:middle
It's available for use with
iOS and watchOS applications.

00:08:20.036 --> 00:08:23.136 A:middle
So, we've covered some great
additions to the editor

00:08:23.136 --> 00:08:25.456 A:middle
and now I'd like to change
gears a little bit and talk

00:08:25.456 --> 00:08:27.516 A:middle
about a new feature that's
found in both the editor

00:08:27.516 --> 00:08:30.036 A:middle
and the framework, tile maps.

00:08:30.836 --> 00:08:32.785 A:middle
So, for anyone who
may not be familiar

00:08:32.785 --> 00:08:35.285 A:middle
with what tile maps are,
they're simply a grid

00:08:35.285 --> 00:08:36.746 A:middle
of evenly spaced images.

00:08:37.816 --> 00:08:39.736 A:middle
And they're great for piecing
together scenes from a set

00:08:39.736 --> 00:08:42.466 A:middle
of small, repeating
images, called tiles.

00:08:44.206 --> 00:08:46.946 A:middle
Think of tiles as, tile
maps is a jigsaw puzzle

00:08:47.356 --> 00:08:49.156 A:middle
and tiles as the pieces.

00:08:49.946 --> 00:08:52.656 A:middle
Individually they don't look
like much but put them together

00:08:52.656 --> 00:08:55.556 A:middle
and you can easily create
large, detailed scenes.

00:08:57.036 --> 00:08:58.996 A:middle
So, before we get into the
details of the feature,

00:08:58.996 --> 00:09:01.616 A:middle
let's talk a little bit about
why I might want to use them.

00:08:58.996 --> 00:09:01.616 A:middle
let's talk a little bit about
why I might want to use them.

00:09:02.846 --> 00:09:05.036 A:middle
Building scenes from small
repeating images is pretty

00:09:05.036 --> 00:09:06.016 A:middle
common when creating games.

00:09:06.326 --> 00:09:09.716 A:middle
And without tile maps,
if you wanted to do this,

00:09:09.716 --> 00:09:13.676 A:middle
you'd have to manually place
each individual image by hand.

00:09:15.956 --> 00:09:17.316 A:middle
And this totally works.

00:09:18.276 --> 00:09:20.566 A:middle
And using a set of
small images is great

00:09:20.566 --> 00:09:21.996 A:middle
for keeping memory overhead low.

00:09:22.966 --> 00:09:24.666 A:middle
They can also be rearranged
to make adjustments

00:09:24.666 --> 00:09:25.746 A:middle
to how the scene looks.

00:09:26.446 --> 00:09:27.976 A:middle
However, copy pasting

00:09:27.976 --> 00:09:31.266 A:middle
and manually aligning each
individual image is really

00:09:31.336 --> 00:09:32.566 A:middle
tedious and time-consuming.

00:09:33.436 --> 00:09:36.046 A:middle
It can also cause your scene to
get cluttered with lots of nodes

00:09:36.136 --> 00:09:38.396 A:middle
which quickly makes things
really difficult to manage.

00:09:39.856 --> 00:09:42.566 A:middle
So instead you could use large,

00:09:42.626 --> 00:09:45.776 A:middle
more detailed images
with lots of detail.

00:09:46.136 --> 00:09:47.486 A:middle
A sample game released
last year,

00:09:47.646 --> 00:09:48.896 A:middle
DemoBots, used this approach.

00:09:49.726 --> 00:09:50.936 A:middle
So, let's say one large image

00:09:50.936 --> 00:09:52.456 A:middle
in your scene is
practically instant

00:09:52.596 --> 00:09:56.306 A:middle
and that definitely keeps
your scenes clutter free.

00:09:56.306 --> 00:09:58.216 A:middle
But if you want to
change how things look,

00:09:58.396 --> 00:10:00.846 A:middle
you need to make modifications
to your source assets.

00:09:58.396 --> 00:10:00.846 A:middle
you need to make modifications
to your source assets.

00:10:01.956 --> 00:10:04.126 A:middle
Plus, large images
require more memory

00:10:04.126 --> 00:10:06.406 A:middle
and if you want more
variety in your game,

00:10:06.746 --> 00:10:08.826 A:middle
you'll need additional
large assets

00:10:08.966 --> 00:10:11.446 A:middle
which in turn further
increases your memory overhead.

00:10:12.896 --> 00:10:16.036 A:middle
So, tile maps gives you the
best of both of those solutions.

00:10:16.726 --> 00:10:19.246 A:middle
They're easy to manage, as each
tile map is just a single node

00:10:19.246 --> 00:10:19.896 A:middle
in your scene.

00:10:20.526 --> 00:10:21.726 A:middle
They can be quickly modified.

00:10:22.256 --> 00:10:23.126 A:middle
Say for instance I want

00:10:23.126 --> 00:10:26.876 A:middle
to change the sand
tiles here to water.

00:10:27.336 --> 00:10:28.616 A:middle
All I have to do is
tell the tile map

00:10:28.616 --> 00:10:30.716 A:middle
to change the type
and it's done.

00:10:31.976 --> 00:10:34.646 A:middle
And by using a set of smaller
tile images, tile maps allow you

00:10:34.856 --> 00:10:38.306 A:middle
to have large, detailed scenes
with minimal memory overhead.

00:10:39.046 --> 00:10:41.776 A:middle
Tile maps are also
great for lots

00:10:41.776 --> 00:10:43.006 A:middle
of different games
and art styles.

00:10:43.606 --> 00:10:46.406 A:middle
You can use them
for top-down RPG's,

00:10:46.866 --> 00:10:50.326 A:middle
side scrolling platformers,
isometric city builders,

00:10:51.606 --> 00:10:52.836 A:middle
hex-based board games.

00:10:53.176 --> 00:10:55.096 A:middle
Tile maps are incredibly
flexible.

00:10:56.926 --> 00:10:59.846 A:middle
So, as you've seen, tile maps
are very visual and instead

00:10:59.846 --> 00:11:02.026 A:middle
of just telling you that how
they work, we're going to jump

00:10:59.846 --> 00:11:02.026 A:middle
of just telling you that how
they work, we're going to jump

00:11:02.026 --> 00:11:03.246 A:middle
into a demo so I can show you.

00:11:03.606 --> 00:11:05.296 A:middle
So, here we are in
the SpriteKit editor

00:11:05.746 --> 00:11:08.066 A:middle
and we've already got a
tile map in our scene.

00:11:08.466 --> 00:11:10.896 A:middle
So, let's go ahead
and select that.

00:11:11.196 --> 00:11:14.486 A:middle
And so the quickest way to start
editing a tile map is simply

00:11:14.486 --> 00:11:15.216 A:middle
double-click on it.

00:11:15.536 --> 00:11:19.026 A:middle
And that brings up our
new tile editing bar

00:11:19.026 --> 00:11:19.956 A:middle
at the top of the screen here.

00:11:21.156 --> 00:11:25.066 A:middle
And by default, we have
the brush tool selected

00:11:25.566 --> 00:11:27.496 A:middle
which allows us to
paint into our tile map.

00:11:27.706 --> 00:11:30.866 A:middle
And so the paint, all we
have to do is simply click

00:11:31.046 --> 00:11:35.166 A:middle
and we start placing
tiles in our map.

00:11:36.316 --> 00:11:39.066 A:middle
If you want to change what type
of tile we're placing in there,

00:11:39.726 --> 00:11:43.686 A:middle
all we have to do is click on
our select tile button over here

00:11:43.686 --> 00:11:46.236 A:middle
and that shows us all the
different tiles I have available

00:11:46.236 --> 00:11:46.876 A:middle
for placement.

00:11:47.886 --> 00:11:53.566 A:middle
So, here let's place edge
tiles and a corner tile here

00:11:53.636 --> 00:11:56.626 A:middle
and a couple more edge tiles.

00:11:56.626 --> 00:11:58.886 A:middle
And we can see how
can easily place,

00:11:59.046 --> 00:12:00.936 A:middle
piece together your
scenes this way.

00:11:59.046 --> 00:12:00.936 A:middle
piece together your
scenes this way.

00:12:01.806 --> 00:12:04.306 A:middle
But individually placing
all these images is still a

00:12:04.306 --> 00:12:05.456 A:middle
bit tedious.

00:12:05.626 --> 00:12:08.366 A:middle
So, I'm going to show you
better way of doing this.

00:12:09.396 --> 00:12:10.846 A:middle
So, here we're just going

00:12:10.846 --> 00:12:14.146 A:middle
to a place a new tile
map in our scene.

00:12:19.956 --> 00:12:23.286 A:middle
And by default on our tile
maps, we have a feature

00:12:24.756 --> 00:12:27.816 A:middle
in the inspector enabled
called enable automapping.

00:12:28.316 --> 00:12:33.916 A:middle
And what this does is when I
start to edit my map and I go

00:12:33.916 --> 00:12:36.706 A:middle
to select my tiles, you'll see
that instead of individual tiles

00:12:36.706 --> 00:12:40.416 A:middle
for placement, we now have these
groups of tiles here organized

00:12:40.416 --> 00:12:43.046 A:middle
into different types of terrain,
grass, dirt, stone and water.

00:12:43.226 --> 00:12:44.816 A:middle
So, I'll go ahead
and select one.

00:12:45.156 --> 00:12:48.226 A:middle
And now when we go to place
it in the tile map, we click

00:12:48.796 --> 00:12:50.806 A:middle
and place the center
tile in addition

00:12:50.806 --> 00:12:52.466 A:middle
to all the edge tiles
automatically.

00:12:52.756 --> 00:12:55.426 A:middle
And this is really
great for quickly

00:12:55.426 --> 00:12:56.926 A:middle
and easily creating your scenes.

00:12:57.056 --> 00:12:59.706 A:middle
Now, instead of having to
place each individual edge tile

00:12:59.706 --> 00:13:02.696 A:middle
and corner tile, we can just
paint and it automatically sets

00:12:59.706 --> 00:13:02.696 A:middle
and corner tile, we can just
paint and it automatically sets

00:13:02.696 --> 00:13:05.806 A:middle
up each of the tiles that we
need here without having us

00:13:05.806 --> 00:13:08.846 A:middle
to go through any extra
hoops which a lot of time.

00:13:08.846 --> 00:13:11.166 A:middle
That makes painting
tiles extremely fast.

00:13:12.516 --> 00:13:17.356 A:middle
[ Applause ]

00:13:17.856 --> 00:13:20.686 A:middle
So, let's take a look at how
the tile sets are put together.

00:13:21.916 --> 00:13:24.296 A:middle
So, the tile sets arrive
in their own SKS file.

00:13:24.366 --> 00:13:27.876 A:middle
And as you see here, you can
see all of our different types

00:13:27.876 --> 00:13:29.816 A:middle
that we have, like grass,
dirt, stone, and water.

00:13:30.466 --> 00:13:33.836 A:middle
And you can see that
they're arranged

00:13:33.836 --> 00:13:35.636 A:middle
so that you can see how they're
supposed to be put together.

00:13:35.636 --> 00:13:39.176 A:middle
So, let's put a new
tile group in here.

00:13:41.876 --> 00:13:45.976 A:middle
So, all we have to do to set
up a new tile group that works

00:13:45.976 --> 00:13:48.846 A:middle
with our automapping is to
drag the tiles we want to use

00:13:48.846 --> 00:13:50.396 A:middle
into their corresponding
slots here.

00:13:50.396 --> 00:13:52.276 A:middle
You can see that we
have those silhouettes

00:13:52.276 --> 00:13:54.006 A:middle
that vaguely what the tile's
supposed to look like.

00:13:54.786 --> 00:13:59.706 A:middle
So, we'll just grab some tiles
from our active browser be here.

00:13:59.916 --> 00:14:04.736 A:middle
And we just drag-and-drop
them in and it's super quick

00:13:59.916 --> 00:14:04.736 A:middle
And we just drag-and-drop
them in and it's super quick

00:14:04.736 --> 00:14:07.956 A:middle
and super easy to set
up a new tile group.

00:14:17.426 --> 00:14:19.456 A:middle
So there. Let's give it a name.

00:14:21.536 --> 00:14:22.896 A:middle
We'll call this one garden.

00:14:24.636 --> 00:14:25.646 A:middle
And that's it.

00:14:26.606 --> 00:14:27.966 A:middle
So now we can go into a scene.

00:14:29.046 --> 00:14:30.216 A:middle
We'll create a tile map here.

00:14:31.956 --> 00:14:33.706 A:middle
We'll start editing it.

00:14:34.576 --> 00:14:37.956 A:middle
And you'll see our garden
tile group is already in here.

00:14:38.346 --> 00:14:40.586 A:middle
So, I just grab that
and start placing it.

00:14:40.586 --> 00:14:43.336 A:middle
And you can see how easy it is
to just set up a new tile group

00:14:43.586 --> 00:14:45.246 A:middle
that already works
with automapping.

00:14:45.536 --> 00:14:46.666 A:middle
You don't have to
do anything extra.

00:14:46.776 --> 00:14:49.006 A:middle
But there's a little
more that we can do

00:14:49.006 --> 00:14:50.126 A:middle
with the tile groups as well.

00:14:50.126 --> 00:14:54.656 A:middle
So, I'll go back to our tile,
we'll go to another tile set

00:14:54.656 --> 00:14:55.726 A:middle
that I premade over here.

00:14:55.726 --> 00:14:58.186 A:middle
And at first glance
it looks the same.

00:14:58.896 --> 00:15:02.436 A:middle
But then when I start clicking
on these individual tiles here,

00:14:58.896 --> 00:15:02.436 A:middle
But then when I start clicking
on these individual tiles here,

00:15:02.436 --> 00:15:04.186 A:middle
you can see that we have a bunch

00:15:04.186 --> 00:15:05.706 A:middle
of variants available
for each tile.

00:15:05.806 --> 00:15:11.146 A:middle
And this is the same for each
one of our different slots here.

00:15:13.446 --> 00:15:15.676 A:middle
So, when we paint this
tile group into a tile map,

00:15:16.276 --> 00:15:19.106 A:middle
it will randomly select one of
these variants for each tile.

00:15:19.446 --> 00:15:21.526 A:middle
So, you can have a lot more
variety to your tile maps.

00:15:21.776 --> 00:15:24.396 A:middle
Additionally, you can
assign weights to each

00:15:24.396 --> 00:15:26.596 A:middle
of the styles, these variants.

00:15:27.056 --> 00:15:28.986 A:middle
See here, the red
flowers have a plate,

00:15:28.986 --> 00:15:31.456 A:middle
have a placement weight of 3.

00:15:33.586 --> 00:15:36.026 A:middle
White flowers have a
placement weight of 2.

00:15:36.476 --> 00:15:41.056 A:middle
And the blue have a
placement weight of 1.

00:15:42.536 --> 00:15:44.036 A:middle
So, the red flowers
are much more common

00:15:44.036 --> 00:15:47.046 A:middle
than the white flowers and more
common than the blue flowers.

00:15:47.046 --> 00:15:48.996 A:middle
So, now let's go
back to our scene.

00:15:49.556 --> 00:15:52.486 A:middle
We'll create another tile map

00:15:54.716 --> 00:15:57.246 A:middle
and we'll assign our
advanced tile set to it.

00:16:00.146 --> 00:16:02.886 A:middle
Now, when we start
painting these tiles,

00:16:03.216 --> 00:16:06.066 A:middle
you can see our variants
are now showing up.

00:16:07.556 --> 00:16:10.236 A:middle
So, you can see the tiles sets
are very flexible and allow you

00:16:10.236 --> 00:16:13.326 A:middle
to achieve a lot of different
looks without having to do a lot

00:16:13.326 --> 00:16:14.566 A:middle
of work which is super useful.

00:16:15.966 --> 00:16:19.476 A:middle
So, another thing we can do with
the tile maps is layer them.

00:16:20.236 --> 00:16:22.486 A:middle
So, here in the tile
map on the left here,

00:16:22.486 --> 00:16:25.076 A:middle
it appears as if there's
just a single tile map.

00:16:26.666 --> 00:16:28.926 A:middle
But if I grab it here,

00:16:29.556 --> 00:16:32.446 A:middle
you'll see that's actually 2
layered on top of each other.

00:16:32.576 --> 00:16:39.586 A:middle
And so you see we can layer
them on top of one another

00:16:39.586 --> 00:16:40.376 A:middle
to make it make it appear

00:16:40.376 --> 00:16:44.366 A:middle
as if we have more
versatile tile assets

00:16:44.366 --> 00:16:45.126 A:middle
than we actually have.

00:16:45.206 --> 00:16:48.316 A:middle
So, it looks like these
assets are designed

00:16:48.366 --> 00:16:51.696 A:middle
to transition to
the grass tiles.

00:16:51.696 --> 00:16:54.066 A:middle
So, they actually have
[inaudible] along the edges.

00:16:54.416 --> 00:16:55.886 A:middle
So, when we move
these guys over here,

00:16:57.086 --> 00:17:01.076 A:middle
they just naturally
transition to the grass.

00:16:57.086 --> 00:17:01.076 A:middle
they just naturally
transition to the grass.

00:17:01.456 --> 00:17:03.486 A:middle
And so we move it on
over onto the dirt

00:17:04.006 --> 00:17:04.986 A:middle
to achieve the same effect.

00:17:05.226 --> 00:17:08.996 A:middle
Now looks as if they're
transitioning onto the dirt.

00:17:09.766 --> 00:17:11.685 A:middle
So, this allows you to
get a lot more mileage

00:17:11.685 --> 00:17:13.116 A:middle
out of your art assets.

00:17:13.116 --> 00:17:15.796 A:middle
If you just have them
transition to being transparent

00:17:15.796 --> 00:17:18.036 A:middle
on the edges, you can
layer them together and,

00:17:18.776 --> 00:17:20.516 A:middle
any way you can conceive
allowing you

00:17:20.516 --> 00:17:23.986 A:middle
to get a lot more flexibility
out of the art that you have.

00:17:25.205 --> 00:17:26.435 A:middle
So, another thing that we can do

00:17:26.435 --> 00:17:29.886 A:middle
with our tile sets is
they can be animated.

00:17:30.856 --> 00:17:34.426 A:middle
So, here we have a nice tile set
with some grass and some water.

00:17:34.686 --> 00:17:35.796 A:middle
We'll press the animate button

00:17:36.546 --> 00:17:40.436 A:middle
and if you look closely
you can see the shore line

00:17:40.436 --> 00:17:43.076 A:middle
on the water tiles
here is undulating.

00:17:43.076 --> 00:17:48.806 A:middle
So, now let's take a look at the
tile set for this set tile map.

00:17:50.366 --> 00:17:51.546 A:middle
Set the water.

00:17:51.986 --> 00:17:53.736 A:middle
You can see, preview
the animation straight

00:17:53.736 --> 00:17:55.076 A:middle
from our tile set editor.

00:17:55.166 --> 00:17:59.196 A:middle
And I can select
one of the variants

00:17:59.196 --> 00:18:02.716 A:middle
and you can see we just have, so
we have a list of all the frames

00:17:59.196 --> 00:18:02.716 A:middle
and you can see we just have, so
we have a list of all the frames

00:18:02.716 --> 00:18:03.816 A:middle
that are in our animation.

00:18:04.096 --> 00:18:06.576 A:middle
Now, we give it a time per
frame to set up the animation.

00:18:06.576 --> 00:18:08.956 A:middle
Now, this is basically
identical to how our animate

00:18:08.956 --> 00:18:10.306 A:middle
with textures app should works.

00:18:10.846 --> 00:18:12.576 A:middle
And it's just that easy
to set up animation.

00:18:13.026 --> 00:18:15.196 A:middle
Which is a really great way of
bringing life to your scenes.

00:18:16.886 --> 00:18:21.716 A:middle
But in additional to frame
animation on the tiles,

00:18:22.936 --> 00:18:24.936 A:middle
we can also animate the
tile maps themselves.

00:18:25.636 --> 00:18:28.016 A:middle
So, the tile maps
are just SK nodes.

00:18:28.016 --> 00:18:31.046 A:middle
So, you can do everything
you can do with an SK node.

00:18:31.046 --> 00:18:33.426 A:middle
So of course you can
drag them around.

00:18:33.536 --> 00:18:36.076 A:middle
You can scale them.

00:18:36.786 --> 00:18:38.526 A:middle
You can rotate them.

00:18:38.526 --> 00:18:42.186 A:middle
I note that you can still
actually edit the tile maps

00:18:42.186 --> 00:18:44.106 A:middle
while they're like this although
it gets a little awkward

00:18:44.106 --> 00:18:46.696 A:middle
when you're at some weird angles
like this but, it still works.

00:18:48.076 --> 00:18:52.806 A:middle
But because SK nodes, the
tile maps are just nodes,

00:18:53.076 --> 00:18:54.636 A:middle
we can run actions on them.

00:18:55.036 --> 00:18:57.356 A:middle
So, here you see I have a bunch
of actions that I've already set

00:18:57.356 --> 00:19:00.166 A:middle
up on my tile map by moving
the scale and rotating it.

00:18:57.356 --> 00:19:00.166 A:middle
up on my tile map by moving
the scale and rotating it.

00:19:00.656 --> 00:19:02.096 A:middle
So, we just animate this thing.

00:19:02.096 --> 00:19:05.276 A:middle
We can see yeah, we
move, we scale, we rotate

00:19:05.406 --> 00:19:09.246 A:middle
and then we put it back.

00:19:09.246 --> 00:19:10.536 A:middle
And so you see that
we have multiple ways

00:19:10.536 --> 00:19:12.136 A:middle
of bringing animation
to our tile maps

00:19:12.136 --> 00:19:13.126 A:middle
which can be really useful.

00:19:13.756 --> 00:19:18.116 A:middle
In fact, we can leverage this
layering and the animation

00:19:18.396 --> 00:19:19.796 A:middle
to create some interesting
effects.

00:19:21.896 --> 00:19:24.736 A:middle
So, in this scene, I've got
three different layers set

00:19:24.736 --> 00:19:26.346 A:middle
up in our tile map here.

00:19:27.396 --> 00:19:28.526 A:middle
Don't want to do that yet.

00:19:29.256 --> 00:19:33.446 A:middle
And if I position the camera
over here and we hit animate,

00:19:34.316 --> 00:19:37.966 A:middle
we're simply moving these tile
map layers at different rates

00:19:38.086 --> 00:19:41.126 A:middle
and this achieves the
appearance of depth,

00:19:41.126 --> 00:19:43.426 A:middle
an effect that we call
parallax scrolling.

00:19:43.596 --> 00:19:48.186 A:middle
And all I'm doing here is simply
moving the foreground layer

00:19:48.186 --> 00:19:51.776 A:middle
at one rate of speed, the middle
ground layer at half that speed

00:19:51.776 --> 00:19:54.056 A:middle
and the background layer
at half that speed again.

00:19:54.056 --> 00:19:56.166 A:middle
And that achieves the
effect that we want.

00:19:56.326 --> 00:19:57.776 A:middle
And it's just incredibly easy.

00:19:59.056 --> 00:20:04.636 A:middle
So, in addition to having simple
square tiles in our tile maps,

00:19:59.056 --> 00:20:04.636 A:middle
So, in addition to having simple
square tiles in our tile maps,

00:20:04.976 --> 00:20:06.946 A:middle
we also have support
for hex tiles

00:20:07.136 --> 00:20:08.796 A:middle
and isometric tiles as well.

00:20:09.206 --> 00:20:12.006 A:middle
So, you have lots of flexibility
in terms of the appearance

00:20:12.006 --> 00:20:13.876 A:middle
that you can achieve
for your game.

00:20:14.526 --> 00:20:19.496 A:middle
So, speaking of which,
let's take a look

00:20:19.496 --> 00:20:20.496 A:middle
at a game sample right now.

00:20:26.296 --> 00:20:28.456 A:middle
So, here we've got a little
platform that I built.

00:20:29.406 --> 00:20:32.126 A:middle
A little guy that
can run around.

00:20:32.216 --> 00:20:34.956 A:middle
And you can see that I got
the parallax scrolling going

00:20:34.956 --> 00:20:35.916 A:middle
on in the background.

00:20:35.956 --> 00:20:39.876 A:middle
And you'll note that I'm
colliding with the tiles here.

00:20:40.946 --> 00:20:46.886 A:middle
And I achieve this by
leveraging custom user data

00:20:46.886 --> 00:20:50.696 A:middle
that we can put on
each of our tiles.

00:20:50.996 --> 00:20:52.896 A:middle
Here, I'll show you
in our tile set.

00:20:52.896 --> 00:20:58.636 A:middle
Select one of the variants here.

00:20:58.636 --> 00:21:00.946 A:middle
And you can see that we have
some user data over here.

00:20:58.636 --> 00:21:00.946 A:middle
And you can see that we have
some user data over here.

00:21:01.716 --> 00:21:04.176 A:middle
And I just have a
value called edgeTile

00:21:04.276 --> 00:21:06.036 A:middle
which is a Boolean,
and I set to 1.

00:21:06.786 --> 00:21:09.466 A:middle
So, in code, I'm going
through the tile map

00:21:09.466 --> 00:21:12.046 A:middle
in our platform demo
here, and I'm looking

00:21:12.046 --> 00:21:13.366 A:middle
for all of these edge tiles.

00:21:13.366 --> 00:21:15.986 A:middle
And whenever I find one,
I create some physics data

00:21:15.986 --> 00:21:19.486 A:middle
to allow the player
to collide with it.

00:21:24.856 --> 00:21:29.986 A:middle
And since it is just in our tile
map here, say I wanted to get

00:21:29.986 --> 00:21:32.316 A:middle
over this large wall here.

00:21:32.926 --> 00:21:36.266 A:middle
When I run the game, you'll see

00:21:36.266 --> 00:21:40.476 A:middle
that my guy can't actually jump
high enough to get over it.

00:21:40.516 --> 00:21:42.456 A:middle
And he really wants to
because that red button

00:21:42.456 --> 00:21:43.596 A:middle
over there looks
really tempting.

00:21:43.596 --> 00:21:44.616 A:middle
I really want to
push that thing.

00:21:45.966 --> 00:21:50.726 A:middle
So, since we're just generating
our physics data from our tiles

00:21:50.726 --> 00:21:53.216 A:middle
and our user data, all we
can do is just going here

00:21:53.316 --> 00:22:01.756 A:middle
and erase these tiles and
build and run our game again.

00:21:53.316 --> 00:22:01.756 A:middle
and erase these tiles and
build and run our game again.

00:22:02.296 --> 00:22:06.646 A:middle
The tiles are now gone and we
can now move through there.

00:22:06.646 --> 00:22:08.636 A:middle
And we didn't have to
change code or anything.

00:22:08.636 --> 00:22:11.076 A:middle
We just used the
data that we pulled

00:22:11.076 --> 00:22:13.116 A:middle
from the tile map
to set up our tile.

00:22:13.266 --> 00:22:14.156 A:middle
It's that simple.

00:22:15.421 --> 00:22:17.421 A:middle
[ Applause ]

00:22:17.826 --> 00:22:19.476 A:middle
And now as a reward, I
get to jump on the button.

00:22:20.496 --> 00:22:21.446 A:middle
Yay.

00:22:29.086 --> 00:22:32.666 A:middle
So, that's how our tile
maps work in the editor.

00:22:36.406 --> 00:22:39.456 A:middle
So, now that we've shown you
how they work in the editor,

00:22:39.456 --> 00:22:42.046 A:middle
let's take a look at the
framework side of things.

00:22:43.106 --> 00:22:45.846 A:middle
And if you're creating tile
maps from within the editor,

00:22:45.916 --> 00:22:48.296 A:middle
you're not going to need to
bother with most of the stuff.

00:22:48.686 --> 00:22:50.336 A:middle
But it's good to get an
overview of how it works.

00:22:51.166 --> 00:22:54.486 A:middle
So, tile maps are implemented
in class SKTileMapNode,

00:22:54.766 --> 00:22:57.386 A:middle
which as mentioned in the
demo is just an SKNode.

00:22:58.036 --> 00:22:59.286 A:middle
It holds all the information

00:22:59.286 --> 00:23:00.606 A:middle
about the tiles you've
placed in it.

00:22:59.286 --> 00:23:00.606 A:middle
about the tiles you've
placed in it.

00:23:01.636 --> 00:23:04.136 A:middle
But to be able to place tiles,
it first needs a tile set.

00:23:04.316 --> 00:23:08.186 A:middle
And the tile set is defined
in the class SKTileSet.

00:23:08.806 --> 00:23:10.636 A:middle
It contains all the tile
groups they can use.

00:23:11.156 --> 00:23:13.916 A:middle
Additionally, it also defines
the type of tiles it can contain

00:23:13.916 --> 00:23:16.726 A:middle
and they can either be
regular square grid tiles,

00:23:16.726 --> 00:23:18.976 A:middle
isometric tiles or
hexagonal tiles.

00:23:19.636 --> 00:23:24.126 A:middle
The tile groups are defined
in class SKTileGroup.

00:23:24.826 --> 00:23:26.976 A:middle
And as we saw on the demo,
a tile group is a set

00:23:26.976 --> 00:23:28.846 A:middle
of related tiles,
typically things like type

00:23:28.966 --> 00:23:30.566 A:middle
of terrain like grass or water.

00:23:31.556 --> 00:23:33.176 A:middle
The tile group also
has the rules

00:23:33.176 --> 00:23:34.886 A:middle
that define how the
individual tiles

00:23:34.886 --> 00:23:38.086 A:middle
in the group should
be placed in the map.

00:23:38.156 --> 00:23:40.896 A:middle
And those rules are defined
in the class SKTileGroupRule.

00:23:41.426 --> 00:23:44.196 A:middle
That also holds all the
tile variants that work

00:23:44.196 --> 00:23:45.856 A:middle
with the pattern it describes.

00:23:45.926 --> 00:23:49.736 A:middle
And finally, each
tile is described

00:23:49.916 --> 00:23:51.326 A:middle
through an SKTileDefinition

00:23:51.586 --> 00:23:53.296 A:middle
which defines the
appearance of the tile.

00:23:54.006 --> 00:23:57.316 A:middle
Each one has at least one image
and as you saw in the demo,

00:23:57.316 --> 00:23:59.086 A:middle
they can be animated
with multiple images

00:23:59.086 --> 00:24:00.686 A:middle
to help bring life
to your tile maps.

00:23:59.086 --> 00:24:00.686 A:middle
to help bring life
to your tile maps.

00:24:01.556 --> 00:24:04.406 A:middle
Additionally, the tiles can
be flipped and/or rotated,

00:24:04.406 --> 00:24:07.336 A:middle
allowing you to get more
out of your existing assets.

00:24:07.686 --> 00:24:11.046 A:middle
Now, let's take a
quick look at some code

00:24:11.046 --> 00:24:12.636 A:middle
so you can see how
you can create

00:24:12.636 --> 00:24:14.286 A:middle
and modify a tile
map through the API.

00:24:15.476 --> 00:24:17.866 A:middle
The first step is to get the
tile set you want to use.

00:24:18.236 --> 00:24:20.176 A:middle
Now, you can create
these programmatically

00:24:20.406 --> 00:24:23.086 A:middle
but it's a very involved
process and we highly recommend

00:24:23.086 --> 00:24:25.376 A:middle
that you create them
using the tile set editor.

00:24:26.876 --> 00:24:28.576 A:middle
Getting one you've
already created is easy.

00:24:29.266 --> 00:24:31.766 A:middle
Just call this convenience
initializer with the name

00:24:31.766 --> 00:24:33.156 A:middle
of the tile set that
you want to use.

00:24:35.506 --> 00:24:38.136 A:middle
Then, to create a new tile
map, we just need to provide it

00:24:38.136 --> 00:24:41.406 A:middle
with the tile set we want to
use and the number of columns

00:24:41.406 --> 00:24:44.366 A:middle
and rows in the map along
with the size of each tile.

00:24:45.956 --> 00:24:47.996 A:middle
If you want to start
placing tiles in the map,

00:24:48.086 --> 00:24:49.236 A:middle
we're going to need
a tile group.

00:24:49.896 --> 00:24:52.176 A:middle
So, here we're just grabbing
the first one that's defined

00:24:52.496 --> 00:24:55.166 A:middle
in the tile set.

00:24:55.446 --> 00:24:58.576 A:middle
Once we have a tile map and a
tile group we want to place,

00:24:58.976 --> 00:25:00.716 A:middle
we can start setting
individual tiles.

00:24:58.976 --> 00:25:00.716 A:middle
we can start setting
individual tiles.

00:25:01.416 --> 00:25:03.176 A:middle
Here we're setting
our tile group

00:25:03.216 --> 00:25:05.556 A:middle
on the tile at column 4, row 7.

00:25:06.176 --> 00:25:09.946 A:middle
We can also operate on
the entire map at once.

00:25:10.336 --> 00:25:12.736 A:middle
Here we are filling every tile
on the map with our tile group.

00:25:13.466 --> 00:25:17.566 A:middle
So, if you're creating
and modifying tile maps

00:25:17.566 --> 00:25:20.256 A:middle
through the SpriteKit editor,
you may not need to use any

00:25:20.256 --> 00:25:21.376 A:middle
of the API we just covered.

00:25:22.176 --> 00:25:23.426 A:middle
But unless you're
using tile maps

00:25:23.426 --> 00:25:26.706 A:middle
for entirely static backgrounds,
you want to, probably want

00:25:26.706 --> 00:25:28.096 A:middle
to be able to query them.

00:25:28.096 --> 00:25:29.616 A:middle
There are a bunch of
useful things you can do.

00:25:30.576 --> 00:25:32.836 A:middle
Say for instance you want to
detect when a player moves

00:25:32.836 --> 00:25:34.046 A:middle
over a particular tile

00:25:34.436 --> 00:25:36.726 A:middle
and inject some custom
user data you've set

00:25:36.726 --> 00:25:37.616 A:middle
on the tile definition.

00:25:38.236 --> 00:25:43.256 A:middle
You can do this by first
converting the player's position

00:25:43.446 --> 00:25:47.136 A:middle
and a tile maps frame
of reference.

00:25:47.576 --> 00:25:49.616 A:middle
Then, you'd use the
methods highlighted here

00:25:50.126 --> 00:25:51.816 A:middle
to get the column
and row of the tile

00:25:51.896 --> 00:25:55.076 A:middle
that contains that position.

00:25:55.186 --> 00:25:57.716 A:middle
Next, you query the tile
definition that exists

00:25:57.806 --> 00:25:59.136 A:middle
in that column and row.

00:25:59.136 --> 00:26:03.796 A:middle
And finally, now that you've
got the tile definition,

00:25:59.136 --> 00:26:03.796 A:middle
And finally, now that you've
got the tile definition,

00:26:04.256 --> 00:26:06.616 A:middle
you can check the user
data for the custom value

00:26:06.616 --> 00:26:07.296 A:middle
that you're interested in.

00:26:07.616 --> 00:26:10.196 A:middle
And then act on that data
information however you want.

00:26:10.376 --> 00:26:13.596 A:middle
And the demo we just showed,
we're doing thing very similar

00:26:13.596 --> 00:26:16.266 A:middle
to this to detect
when the player jumps

00:26:16.266 --> 00:26:17.066 A:middle
on the big red button.

00:26:18.106 --> 00:26:18.826 A:middle
When they are over a tile

00:26:18.826 --> 00:26:21.026 A:middle
with a button custom
user data property,

00:26:21.356 --> 00:26:22.446 A:middle
we trigger the fireworks.

00:26:23.206 --> 00:26:26.536 A:middle
It's all a lot to take in,

00:26:26.536 --> 00:26:29.526 A:middle
so let's quickly recap the
features that tile maps offer.

00:26:31.286 --> 00:26:34.596 A:middle
By creating scenes from a set
of small, repeating images,

00:26:34.766 --> 00:26:37.286 A:middle
tile maps help you get more
out of your art budget.

00:26:38.256 --> 00:26:40.226 A:middle
Overall, you'll need
fewer assets

00:26:40.226 --> 00:26:43.206 A:middle
and it also brings the benefit
of reduced memory overhead.

00:26:44.166 --> 00:26:46.976 A:middle
They support animation, both in
the form of animated tile images

00:26:47.436 --> 00:26:48.796 A:middle
and actions at the node level.

00:26:50.856 --> 00:26:53.266 A:middle
Tile maps are designed to be
layered on top of one another,

00:26:53.516 --> 00:26:55.996 A:middle
which further increases the
versatility of your art assets

00:26:56.026 --> 00:26:58.256 A:middle
and enables effects
like parallax scrolling.

00:26:59.546 --> 00:27:01.746 A:middle
They're extremely
flexible and great for lots

00:26:59.546 --> 00:27:01.746 A:middle
They're extremely
flexible and great for lots

00:27:01.746 --> 00:27:05.816 A:middle
of different art styles
and types of games.

00:27:06.746 --> 00:27:08.986 A:middle
Large tile maps are
automatically divided

00:27:09.246 --> 00:27:11.756 A:middle
into smaller chunks
and only the parts

00:27:11.756 --> 00:27:13.306 A:middle
that are currently
visible are drawn

00:27:14.006 --> 00:27:16.096 A:middle
which provides a big
performance boost.

00:27:16.296 --> 00:27:20.146 A:middle
Additionally, if all the tile
images used by the tile map are

00:27:20.146 --> 00:27:22.206 A:middle
in the same Asset
Catalog, Sprite Atlas,

00:27:22.666 --> 00:27:25.966 A:middle
each chunk will batch all the
tiles together and render them

00:27:25.966 --> 00:27:26.956 A:middle
with a single draw call.

00:27:28.306 --> 00:27:30.046 A:middle
Tile maps also come in
a variety of flavors,

00:27:30.456 --> 00:27:34.136 A:middle
standard square grids, isometric
tiles and hexagonal tiles.

00:27:34.726 --> 00:27:39.926 A:middle
On the tool side, editing
tile maps is simple and easy.

00:27:40.506 --> 00:27:42.556 A:middle
Just point and click to
place tiles in your map.

00:27:43.236 --> 00:27:46.346 A:middle
Automapping does all the hard
work for you so you don't need

00:27:46.346 --> 00:27:48.906 A:middle
to individually place
every edge and corner tile.

00:27:49.086 --> 00:27:51.346 A:middle
And you can of course
turn it off

00:27:51.346 --> 00:27:52.746 A:middle
to do the detail work by hand.

00:27:53.846 --> 00:27:57.016 A:middle
Finally, creating new tile
sets is extremely quick.

00:27:57.796 --> 00:28:00.116 A:middle
Just drag-and-drop the
images you want to use

00:27:57.796 --> 00:28:00.116 A:middle
Just drag-and-drop the
images you want to use

00:28:00.116 --> 00:28:02.556 A:middle
into their corresponding
slots in the tile set editor

00:28:02.556 --> 00:28:03.666 A:middle
and you're good to go.

00:28:03.666 --> 00:28:06.866 A:middle
So, that covers tile sets.

00:28:07.646 --> 00:28:09.076 A:middle
Now I'd like to invite
my colleague, Clement,

00:28:09.076 --> 00:28:10.166 A:middle
up to talk to you about the rest

00:28:10.166 --> 00:28:11.746 A:middle
of the awesome features
we have this year.

00:28:12.516 --> 00:28:17.500 A:middle
[ Applause ]

00:28:20.766 --> 00:28:21.666 A:middle
&gt;&gt; Thank you, Ross.

00:28:22.466 --> 00:28:24.856 A:middle
All right, some cool
stuff, right?

00:28:27.116 --> 00:28:27.996 A:middle
So, hello.

00:28:27.996 --> 00:28:28.796 A:middle
My name is Clement.

00:28:29.286 --> 00:28:30.836 A:middle
I'm a software engineer
here at Apple

00:28:30.836 --> 00:28:31.996 A:middle
in the Game Technologies Team.

00:28:32.876 --> 00:28:34.246 A:middle
And guess what?

00:28:34.246 --> 00:28:35.876 A:middle
We actually have
more to talk about,

00:28:35.876 --> 00:28:37.386 A:middle
so let's see what else
is new in SpriteKit.

00:28:38.106 --> 00:28:40.606 A:middle
And the first up is
Warp Transformation.

00:28:42.876 --> 00:28:46.906 A:middle
So, currently you have many ways
to do transforms on your Sprite.

00:28:47.426 --> 00:28:50.546 A:middle
You can apply a scale to make
things bigger or smaller.

00:28:51.616 --> 00:28:55.806 A:middle
You can apply a rotation to
make it spin around the axis.

00:28:55.906 --> 00:28:59.486 A:middle
Or if you like to
get your hands dirty,

00:28:59.596 --> 00:29:01.216 A:middle
you can also write
a custom shader

00:28:59.596 --> 00:29:01.216 A:middle
you can also write
a custom shader

00:29:01.836 --> 00:29:05.246 A:middle
such as this low
resolution shader

00:29:05.246 --> 00:29:10.066 A:middle
that you can see right there.

00:29:10.246 --> 00:29:12.526 A:middle
This year we're very happy
to announce a new kind

00:29:12.526 --> 00:29:14.446 A:middle
of transformation called
Warp Transformation.

00:29:15.236 --> 00:29:16.456 A:middle
Warp Transformation allows you

00:29:16.456 --> 00:29:19.416 A:middle
to define a custom distortion
using degrees of points.

00:29:19.806 --> 00:29:23.906 A:middle
So, for example if we
take a 2 by 2 grid,

00:29:24.086 --> 00:29:26.836 A:middle
it's basically 8 points
and what you can see here

00:29:26.836 --> 00:29:29.866 A:middle
in green is our source position,
also called reference position.

00:29:30.846 --> 00:29:32.526 A:middle
Then I get a second grid here

00:29:32.656 --> 00:29:33.986 A:middle
but it's going to
mean a distortion.

00:29:34.476 --> 00:29:36.516 A:middle
So, what you see here is
my definition position

00:29:36.706 --> 00:29:38.206 A:middle
and as you can see,
I move the points

00:29:38.206 --> 00:29:39.556 A:middle
around to create a distortion.

00:29:39.736 --> 00:29:42.846 A:middle
So now if I apply like
this to my spaceship

00:29:42.846 --> 00:29:48.116 A:middle
of earlier, this is what I get.

00:29:48.346 --> 00:29:49.716 A:middle
As you can see, we get a nice

00:29:49.716 --> 00:29:51.576 A:middle
and smooth distortion
of a spaceship.

00:29:52.096 --> 00:29:54.486 A:middle
And the distortion is going
to follow the displacement

00:29:54.486 --> 00:29:56.236 A:middle
between the source and
disposition position.

00:29:56.446 --> 00:29:59.736 A:middle
So, let me show you some
examples of what you can do

00:29:59.996 --> 00:30:00.936 A:middle
with Warp Transformation.

00:29:59.996 --> 00:30:00.936 A:middle
with Warp Transformation.

00:30:01.496 --> 00:30:05.626 A:middle
And my first example
is a squash affect.

00:30:05.806 --> 00:30:08.186 A:middle
So, what I'm doing here is just
bring the points towards the

00:30:08.186 --> 00:30:10.416 A:middle
center to create a
cool squash effect.

00:30:10.416 --> 00:30:13.706 A:middle
Next, I had a stretch effect.

00:30:13.706 --> 00:30:15.666 A:middle
I am pulling the
nose of the spaceship

00:30:15.666 --> 00:30:17.506 A:middle
and making it wiggle
from right to left.

00:30:18.276 --> 00:30:19.436 A:middle
It can look a bit funny.

00:30:20.216 --> 00:30:23.706 A:middle
And the next big thing here
is keyframe-based animation.

00:30:24.826 --> 00:30:27.966 A:middle
So, usually in 2D games
if an artist is going

00:30:27.966 --> 00:30:30.066 A:middle
to make static frames
for animation.

00:30:30.716 --> 00:30:32.676 A:middle
And it's a pretty long
process, especially if you need

00:30:32.676 --> 00:30:34.776 A:middle
to iterate a new
design multiple times.

00:30:35.356 --> 00:30:38.476 A:middle
And Warp Transformation,
making animation is as simple

00:30:38.476 --> 00:30:39.836 A:middle
as just moving points around.

00:30:39.836 --> 00:30:42.126 A:middle
And if you have any
complex scenarios

00:30:42.126 --> 00:30:43.576 A:middle
such as a keyframe-based
animation,

00:30:43.946 --> 00:30:46.506 A:middle
you can just provide multiple
grades and everything is going

00:30:46.506 --> 00:30:47.356 A:middle
to be done at one time.

00:30:47.576 --> 00:30:49.016 A:middle
You no longer need
static frames.

00:30:50.216 --> 00:30:53.916 A:middle
So, now let me explain you
the basic concept behind

00:30:54.136 --> 00:30:54.916 A:middle
Warp Transformation.

00:30:55.726 --> 00:30:59.756 A:middle
So again, if we have a 2 by 2
grid here, we have an index set

00:30:59.756 --> 00:31:03.636 A:middle
of points from 0 to
8 in the grid layout.

00:30:59.756 --> 00:31:03.636 A:middle
of points from 0 to
8 in the grid layout.

00:31:05.256 --> 00:31:08.216 A:middle
This point, this point,
sorry, the grid, and the cells

00:31:08.216 --> 00:31:10.686 A:middle
in this grid are quad
with multiple triangles.

00:31:11.056 --> 00:31:13.566 A:middle
So, now from the computer
graphics standpoint,

00:31:13.746 --> 00:31:16.696 A:middle
what we have here is a list
of vertices like change

00:31:17.206 --> 00:31:20.226 A:middle
and texture coordinates are
actually going to be the same.

00:31:20.606 --> 00:31:24.526 A:middle
And then you just set the GPU
to the interpolation for us.

00:31:25.416 --> 00:31:27.646 A:middle
So, this is fine and we
could just to stop here,

00:31:27.646 --> 00:31:31.026 A:middle
but initially what happens if I
use my 3D emoji, the cat emoji,

00:31:31.416 --> 00:31:33.776 A:middle
and I limit it to one quad
which is basically a 1

00:31:33.776 --> 00:31:36.056 A:middle
by 1 grid, so, come on.

00:31:36.056 --> 00:31:36.926 A:middle
Show me some distortion.

00:31:37.146 --> 00:31:39.606 A:middle
All right, go for it.

00:31:40.676 --> 00:31:42.776 A:middle
Yeah, it doesn't
look quite right.

00:31:43.456 --> 00:31:46.526 A:middle
And the reason why is because
we're only moving one point,

00:31:46.866 --> 00:31:48.606 A:middle
so only one triangle
is being distorted.

00:31:48.946 --> 00:31:50.646 A:middle
So, what can we do about this?

00:31:51.376 --> 00:31:53.216 A:middle
Well, we could make
the grid more dense

00:31:53.256 --> 00:31:54.436 A:middle
and upload more quads.

00:31:54.496 --> 00:31:56.596 A:middle
But then it's kind
of tedious for you

00:31:56.596 --> 00:31:58.106 A:middle
because you have more
points to manipulate.

00:31:58.676 --> 00:32:00.446 A:middle
Especially because
Sprite is pretty big.

00:31:58.676 --> 00:32:00.446 A:middle
Especially because
Sprite is pretty big.

00:32:00.916 --> 00:32:02.306 A:middle
It's almost as if
you had to, you know,

00:32:02.386 --> 00:32:03.626 A:middle
move pixels around, right?

00:32:04.906 --> 00:32:08.086 A:middle
So, no. As you have guessed,
we have a trick here.

00:32:08.516 --> 00:32:09.986 A:middle
So, in SpriteKit,
this is what we do.

00:32:10.796 --> 00:32:12.076 A:middle
Again, 2 by 2 grid.

00:32:13.206 --> 00:32:15.386 A:middle
We, so you only have
to manipulate 8 points

00:32:15.866 --> 00:32:17.076 A:middle
and as you do the distortion

00:32:17.076 --> 00:32:19.606 A:middle
of the points moving
around, this is what happens.

00:32:24.436 --> 00:32:25.086 A:middle
There we go.

00:32:26.346 --> 00:32:28.636 A:middle
So, we do automatic quad
subdivision for you.

00:32:29.176 --> 00:32:32.006 A:middle
And this is great because it
gives you a good trade-off

00:32:32.006 --> 00:32:33.786 A:middle
between a high level of details

00:32:34.176 --> 00:32:36.636 A:middle
and minimal quads
using the distortion.

00:32:37.356 --> 00:32:39.406 A:middle
And again, you only
manipulate 8 points.

00:32:39.776 --> 00:32:42.076 A:middle
So, here, as I move the
points in the top left,

00:32:42.586 --> 00:32:45.006 A:middle
you can see that I'm going
a bit far so the level

00:32:45.006 --> 00:32:46.166 A:middle
of distortion is a bit high.

00:32:46.576 --> 00:32:47.846 A:middle
So we you do subdivision.

00:32:48.376 --> 00:32:50.686 A:middle
But at the bottom right, it's
a bit more mild distortion

00:32:50.686 --> 00:32:52.446 A:middle
so we only subdivide twice.

00:32:54.056 --> 00:32:56.776 A:middle
And because we want to
provide you with more control,

00:32:56.776 --> 00:32:59.116 A:middle
we actually allow you to
specify the maximum number

00:32:59.116 --> 00:32:59.826 A:middle
of subdivision.

00:32:59.986 --> 00:33:02.246 A:middle
So, if I take my
spaceship of earlier

00:32:59.986 --> 00:33:02.246 A:middle
So, if I take my
spaceship of earlier

00:33:02.486 --> 00:33:05.216 A:middle
and I make it a bit distorted
a little bit like that,

00:33:05.216 --> 00:33:06.746 A:middle
you might see some
distortion, sorry,

00:33:06.746 --> 00:33:09.446 A:middle
some artifacts throwing up,
such as this bump at the bottom.

00:33:10.046 --> 00:33:12.236 A:middle
So, if I go with
only one subdivision,

00:33:12.346 --> 00:33:13.206 A:middle
you might see artifacts.

00:33:13.566 --> 00:33:15.186 A:middle
But if you go up
to 4, for instance,

00:33:15.586 --> 00:33:17.386 A:middle
we clearly lose all
the artifacts

00:33:17.386 --> 00:33:20.056 A:middle
and have this nice smooth line
at the bottom of the spaceship.

00:33:21.026 --> 00:33:23.096 A:middle
So again, this is perfect
for you if you want

00:33:23.096 --> 00:33:26.186 A:middle
to tune your visuals
and/or your performance.

00:33:26.336 --> 00:33:28.006 A:middle
Because of course, the
less quad you have,

00:33:28.166 --> 00:33:30.056 A:middle
the best for performance.

00:33:30.996 --> 00:33:33.276 A:middle
All right, this is cool but
how do we do this in Swift?

00:33:33.906 --> 00:33:35.226 A:middle
Okay, so first thing.

00:33:35.376 --> 00:33:36.726 A:middle
Remember, we have a grid layout.

00:33:37.006 --> 00:33:39.166 A:middle
So, 8 points labeled
from 0 to 8.

00:33:39.866 --> 00:33:42.056 A:middle
I'm going to provide a
list of source position,

00:33:42.356 --> 00:33:44.736 A:middle
a list of definition position,
which are all float 2.

00:33:45.386 --> 00:33:47.956 A:middle
I can just create my
warp geometry grid

00:33:48.006 --> 00:33:51.066 A:middle
by providing the column, the
rows, the destination positions,

00:33:51.066 --> 00:33:53.856 A:middle
source positions, and then
I just save it to my Sprite.

00:33:54.456 --> 00:33:55.856 A:middle
And we have the distortion.

00:33:56.276 --> 00:33:59.146 A:middle
And optionally you can
also set subdivision level

00:33:59.146 --> 00:34:01.416 A:middle
to whatever you want
with the default being 2.

00:33:59.146 --> 00:34:01.416 A:middle
to whatever you want
with the default being 2.

00:34:01.926 --> 00:34:05.886 A:middle
And because it is SpriteKit,
we also, I did a bunch

00:34:05.886 --> 00:34:07.326 A:middle
of new SK actions
for you to use.

00:34:07.776 --> 00:34:09.556 A:middle
So, making a transformation
is as simple

00:34:09.556 --> 00:34:13.485 A:middle
as just saying SKActionWarp
to and give a grid and a time.

00:34:14.356 --> 00:34:15.846 A:middle
Or, if you have something
more complex

00:34:16.025 --> 00:34:18.246 A:middle
such as a keyframe-based
animation,

00:34:18.246 --> 00:34:20.686 A:middle
you can provide a list of
grids and a list of times.

00:34:21.246 --> 00:34:22.005 A:middle
All right.

00:34:22.636 --> 00:34:25.306 A:middle
So, okay, let's do
a quick demo here

00:34:25.306 --> 00:34:26.775 A:middle
to show you Warp
Transformation in action.

00:34:35.835 --> 00:34:37.636 A:middle
Alright. So, I'm actually going

00:34:37.636 --> 00:34:43.156 A:middle
to be using the same demo is
Ross, but this time I'm going

00:34:43.156 --> 00:34:45.085 A:middle
to go on the left
side because it's

00:34:45.085 --> 00:34:46.696 A:middle
where all the cool stuff is.

00:34:47.456 --> 00:34:49.146 A:middle
All right, so we
have this guy here,

00:34:49.295 --> 00:34:51.856 A:middle
let's go explore for a bit.

00:34:51.856 --> 00:34:53.536 A:middle
Oh, look at that.

00:34:53.536 --> 00:34:56.096 A:middle
All right, so what we have
here is 2 sets of animation.

00:34:56.556 --> 00:34:58.916 A:middle
We have one animation that
makes the tree we go from left

00:34:58.916 --> 00:35:02.266 A:middle
to right and one that makes your
mushrooms squash from, you know,

00:34:58.916 --> 00:35:02.266 A:middle
to right and one that makes your
mushrooms squash from, you know,

00:35:02.346 --> 00:35:03.786 A:middle
a bigger size to smaller size.

00:35:04.336 --> 00:35:05.636 A:middle
And we also added
some randomness

00:35:05.636 --> 00:35:07.486 A:middle
to make things rotate
at different times.

00:35:08.186 --> 00:35:10.866 A:middle
It just makes your scene much
more alive and fun to look at.

00:35:11.666 --> 00:35:13.216 A:middle
Okay, so let's keep
it exploring here.

00:35:13.786 --> 00:35:16.066 A:middle
Okay, oh, look at this,
there's a guy here.

00:35:16.746 --> 00:35:18.746 A:middle
Well, what's the best way
to say hi in a platformer?

00:35:18.886 --> 00:35:20.236 A:middle
I think it's just to
jump on them, right?

00:35:21.616 --> 00:35:22.096 A:middle
There ago.

00:35:22.916 --> 00:35:25.376 A:middle
So, what I did here is just
as I jumped on this guy

00:35:25.376 --> 00:35:27.236 A:middle
and then the collision
body with the physics body,

00:35:27.736 --> 00:35:30.266 A:middle
I'm just running in SKAction
to make it, you know, squash.

00:35:31.076 --> 00:35:32.386 A:middle
All right, so that's
pretty cool.

00:35:32.446 --> 00:35:34.866 A:middle
Let's go back to the slides.

00:35:38.756 --> 00:35:40.856 A:middle
So, Warp Transformations
are very powerful

00:35:41.006 --> 00:35:43.636 A:middle
and enable a broad range of
possibilities for your game.

00:35:43.946 --> 00:35:45.986 A:middle
So I really hope you're going to
use them and have fun with that.

00:35:45.986 --> 00:35:48.276 A:middle
And next let's talk

00:35:48.276 --> 00:35:50.726 A:middle
about per-node attributes
for custom shaders.

00:35:52.916 --> 00:35:54.266 A:middle
Shaders are awesome.

00:35:54.536 --> 00:35:55.386 A:middle
I really love shaders.

00:35:55.936 --> 00:35:57.726 A:middle
And there is a best way for you

00:35:57.726 --> 00:36:00.636 A:middle
to make exact digital
looks for your game.

00:35:57.726 --> 00:36:00.636 A:middle
to make exact digital
looks for your game.

00:36:01.096 --> 00:36:03.926 A:middle
In SpriteKit, we support custom
shaders since the beginning

00:36:04.006 --> 00:36:07.216 A:middle
with SKShader class which is
basically a frequent shader

00:36:07.356 --> 00:36:10.036 A:middle
which you apply to your nodes.

00:36:10.486 --> 00:36:13.826 A:middle
It comes with a few built-in
symbols such as the time,

00:36:13.826 --> 00:36:16.176 A:middle
the texture, texture
coordinates and many more.

00:36:16.246 --> 00:36:18.486 A:middle
And if you have any
specific needs,

00:36:18.486 --> 00:36:21.636 A:middle
you can also specify
it's an in SKUniform

00:36:21.636 --> 00:36:24.186 A:middle
for your special variables.

00:36:25.036 --> 00:36:27.846 A:middle
All right, so what about we
build a game using a shader.

00:36:28.006 --> 00:36:29.676 A:middle
Okay, so I really
love platformers.

00:36:29.676 --> 00:36:30.886 A:middle
So, what about some platforms.

00:36:30.886 --> 00:36:32.256 A:middle
Here we go, that's pretty good.

00:36:32.886 --> 00:36:37.466 A:middle
Okay, I want something
cute, so what about a bunny.

00:36:37.466 --> 00:36:38.656 A:middle
Oh yeah, that's awesome.

00:36:38.656 --> 00:36:39.956 A:middle
I love this guy,
he's pretty cute.

00:36:39.956 --> 00:36:43.686 A:middle
Right? You know what, I'm going
to name my game Dark Bunny.

00:36:43.746 --> 00:36:45.896 A:middle
So let's put some
bad guys and spikes

00:36:45.896 --> 00:36:48.026 A:middle
and danger, just like that.

00:36:48.296 --> 00:36:49.266 A:middle
Right, that's better.

00:36:50.306 --> 00:36:52.546 A:middle
Unfortunately our bunny's
going to be hit a few times

00:36:53.306 --> 00:36:55.386 A:middle
and because I want I don't
want to make my game too hard,

00:36:55.386 --> 00:36:56.996 A:middle
I'm going to have the
help system health system

00:36:56.996 --> 00:36:58.606 A:middle
and the health bar,
just like this.

00:36:59.226 --> 00:37:00.326 A:middle
And guess what?

00:36:59.226 --> 00:37:00.326 A:middle
And guess what?

00:37:00.526 --> 00:37:01.716 A:middle
The health bar is
going to be shader.

00:37:03.226 --> 00:37:03.976 A:middle
You see it coming, right?

00:37:04.256 --> 00:37:07.746 A:middle
Okay. So, how would I go
about making a shader, sorry,

00:37:07.746 --> 00:37:09.736 A:middle
making a health bar
here in SpriteKit?

00:37:10.136 --> 00:37:12.456 A:middle
So I add a Sprite
for the health bar.

00:37:12.456 --> 00:37:14.496 A:middle
I have a shader to
control the visuals

00:37:14.576 --> 00:37:16.656 A:middle
such as the blinking
pattern, the caller

00:37:17.026 --> 00:37:17.966 A:middle
and how filled in it is.

00:37:18.186 --> 00:37:20.566 A:middle
So, here our bunny
has only half-life

00:37:20.686 --> 00:37:21.886 A:middle
so it's only filled halfway.

00:37:21.886 --> 00:37:23.896 A:middle
And to control these visuals,

00:37:24.006 --> 00:37:25.736 A:middle
I have a uniform
that I call health.

00:37:26.026 --> 00:37:27.846 A:middle
It's going to be a flood
value that there is

00:37:27.846 --> 00:37:30.636 A:middle
from one being full-life
to zero being pretty close

00:37:30.636 --> 00:37:31.876 A:middle
to not full-life.

00:37:31.986 --> 00:37:35.446 A:middle
Okay. But because games
are usually more fun

00:37:35.446 --> 00:37:37.876 A:middle
when you have multiple players,
let's put some guys here.

00:37:37.976 --> 00:37:39.306 A:middle
We can have up to three players.

00:37:39.816 --> 00:37:42.276 A:middle
To, that means at any time
it can have someone who's

00:37:42.276 --> 00:37:44.306 A:middle
full-life, someone
who's half-life

00:37:44.306 --> 00:37:46.246 A:middle
and someone who's pretty
close to being knocked out.

00:37:47.266 --> 00:37:49.836 A:middle
Okay, so again, In
SpriteKit, fairly simple.

00:37:49.836 --> 00:37:52.456 A:middle
I have my Sprite, my
shader, my uniform.

00:37:52.966 --> 00:37:54.846 A:middle
But now how would I go
if I wanted to make it

00:37:54.996 --> 00:37:56.236 A:middle
with multiple players?

00:37:56.816 --> 00:37:58.116 A:middle
Well, I have to do this.

00:37:59.126 --> 00:38:00.766 A:middle
Yeah, I have to duplicate
my shader

00:37:59.126 --> 00:38:00.766 A:middle
Yeah, I have to duplicate
my shader

00:38:00.766 --> 00:38:02.416 A:middle
but that just doesn't
make sense, right?

00:38:02.416 --> 00:38:03.446 A:middle
Why do we have to do that?

00:38:03.446 --> 00:38:04.426 A:middle
That's just bad.

00:38:04.426 --> 00:38:07.196 A:middle
And it's bad because, while
it's the same shader, right?

00:38:07.496 --> 00:38:09.316 A:middle
And it's going to break
the batching mechanism,

00:38:09.316 --> 00:38:10.446 A:middle
meaning more draw calls.

00:38:10.446 --> 00:38:12.376 A:middle
And it's just too
complicated, right?

00:38:12.376 --> 00:38:15.326 A:middle
Well, if you wanted to
instead do something like this,

00:38:15.326 --> 00:38:19.366 A:middle
I have only one shader and
it is shared between sprites.

00:38:19.856 --> 00:38:25.076 A:middle
And, well, starting this
year, you can just do

00:38:25.216 --> 00:38:26.216 A:middle
that using attributes.

00:38:27.106 --> 00:38:29.416 A:middle
With custom attributes, you
can just create an attribute,

00:38:29.756 --> 00:38:32.756 A:middle
attach it to your shader, and
then directly set the values

00:38:33.006 --> 00:38:34.086 A:middle
on the nodes themself.

00:38:34.426 --> 00:38:36.896 A:middle
So, here I have a custom
attributes name health

00:38:36.896 --> 00:38:39.786 A:middle
and I just set the health
value on the Sprite itself.

00:38:39.976 --> 00:38:40.686 A:middle
It's super simple.

00:38:40.686 --> 00:38:43.916 A:middle
In Swift, this is
what it looks like.

00:38:44.106 --> 00:38:46.646 A:middle
I'm creating my attribute
using the SK attribute class.

00:38:46.996 --> 00:38:49.566 A:middle
I give it a name, so here,
health, the type, float.

00:38:50.306 --> 00:38:51.696 A:middle
I attach it to my shader.

00:38:52.116 --> 00:38:54.406 A:middle
Because my shader only
uses one attribute,

00:38:54.406 --> 00:38:55.776 A:middle
I'm giving a list
of one attribute.

00:38:56.506 --> 00:38:59.126 A:middle
Lastly I can directly set
the values of the Sprite.

00:38:59.546 --> 00:39:03.716 A:middle
So, here play one has only
0.2 percent of life left,

00:38:59.546 --> 00:39:03.716 A:middle
So, here play one has only
0.2 percent of life left,

00:39:03.716 --> 00:39:07.826 A:middle
so I'm just doing set attribute
value for attribute name health.

00:39:08.476 --> 00:39:10.996 A:middle
So, this is very convenient
and simple if you're dealing

00:39:10.996 --> 00:39:13.456 A:middle
with per-node customization
and shaders.

00:39:14.656 --> 00:39:15.266 A:middle
All right.

00:39:16.626 --> 00:39:19.686 A:middle
So, now let's talk about a
few platform specific items.

00:39:19.686 --> 00:39:22.256 A:middle
And the first one being focus
interaction on Apple TV.

00:39:23.686 --> 00:39:26.176 A:middle
So, for those of you who've
already been making apps

00:39:26.176 --> 00:39:28.956 A:middle
for Apple TV, you already know
what focus interaction is.

00:39:29.286 --> 00:39:30.256 A:middle
But for those of you who do not,

00:39:30.386 --> 00:39:31.906 A:middle
let me just recap what
happened last year.

00:39:33.046 --> 00:39:36.036 A:middle
Last year we introduced
the new Apple TV,

00:39:36.616 --> 00:39:39.306 A:middle
tvOS and its brand-new
user interface as well

00:39:39.306 --> 00:39:41.276 A:middle
as the Siri remote
and its touchpad.

00:39:41.776 --> 00:39:44.846 A:middle
So, now one of the major
differences between iPhone

00:39:44.846 --> 00:39:46.866 A:middle
and Apple TV is interaction.

00:39:47.746 --> 00:39:49.986 A:middle
So, on iPhone the user's
going to directly interact

00:39:49.986 --> 00:39:51.616 A:middle
on the phone by touching
the screen.

00:39:52.266 --> 00:39:53.586 A:middle
On Apple TV on the other hand,

00:39:54.206 --> 00:39:56.316 A:middle
the user will always have
the controller in his hand

00:39:56.316 --> 00:39:58.276 A:middle
between him and the interface.

00:39:58.276 --> 00:40:00.456 A:middle
And we actually call
this interaction

00:39:58.276 --> 00:40:00.456 A:middle
And we actually call
this interaction

00:40:00.456 --> 00:40:01.656 A:middle
focus-based interaction.

00:40:01.816 --> 00:40:05.396 A:middle
So, let me show you what happens
if I was to move my cursor

00:40:05.396 --> 00:40:08.846 A:middle
in the main menu of the
Apple TV with focusing.

00:40:15.186 --> 00:40:19.086 A:middle
So, as you can see, we only
have one element focus at a time

00:40:19.086 --> 00:40:21.406 A:middle
and scrolling ware is
tuned to reader responsive

00:40:21.406 --> 00:40:23.816 A:middle
and react your fingertip
very well.

00:40:25.066 --> 00:40:27.106 A:middle
So, in fact, this
is very important.

00:40:27.156 --> 00:40:29.156 A:middle
And it's so important
that we built our system

00:40:29.256 --> 00:40:31.836 A:middle
and our frameworks using
focus interaction in mind.

00:40:32.336 --> 00:40:34.706 A:middle
So it means that if you happen
to make an app using UIKit,

00:40:34.706 --> 00:40:38.156 A:middle
you don't need to re-create
the focus system interaction.

00:40:38.616 --> 00:40:40.816 A:middle
All you have to do is
just lay out your views,

00:40:41.216 --> 00:40:43.126 A:middle
say which one are focusable,
and then you're done.

00:40:43.716 --> 00:40:45.906 A:middle
It's very simple to use

00:40:45.906 --> 00:40:48.346 A:middle
and provides a consistent user
experience, whether you are

00:40:48.536 --> 00:40:51.136 A:middle
in the main menu of Apple
TV or in your application.

00:40:52.156 --> 00:40:54.856 A:middle
And as a bonus, we support
of course the Siri remote,

00:40:55.166 --> 00:40:57.246 A:middle
game controllers and many
Bluetooth controllers

00:40:57.246 --> 00:40:58.126 A:middle
and many, many more.

00:40:58.906 --> 00:41:01.336 A:middle
If you want to learn more about
focus interaction on Apple TV,

00:40:58.906 --> 00:41:01.336 A:middle
If you want to learn more about
focus interaction on Apple TV,

00:41:01.626 --> 00:41:02.566 A:middle
there is a session this week

00:41:02.686 --> 00:41:04.516 A:middle
and you can find many
more resources online.

00:41:04.516 --> 00:41:07.496 A:middle
All right, so the
big news here is

00:41:07.496 --> 00:41:10.076 A:middle
that we have SpriteKit
support for focus interaction.

00:41:10.816 --> 00:41:11.636 A:middle
So, that's pretty great.

00:41:11.636 --> 00:41:11.936 A:middle
Yeah, thank you.

00:41:12.516 --> 00:41:15.936 A:middle
[ Applause ]

00:41:16.436 --> 00:41:18.196 A:middle
So, this is actually
pretty great for any kind

00:41:18.196 --> 00:41:20.536 A:middle
of user interface in your
game such as game menus

00:41:20.906 --> 00:41:23.276 A:middle
or you could have subbuilder
in our game using focus

00:41:23.396 --> 00:41:26.696 A:middle
such as a chess game
or a game or many more.

00:41:26.766 --> 00:41:31.796 A:middle
And the cool thing here is
that it's just so much simpler.

00:41:32.506 --> 00:41:33.766 A:middle
What you can see
here is DemoBot.

00:41:33.916 --> 00:41:36.686 A:middle
It's a sample code app
from last year and it used

00:41:36.686 --> 00:41:38.156 A:middle
to be for iOS and macOS.

00:41:38.156 --> 00:41:42.496 A:middle
We did a port to tvOS and
it just felt so much better

00:41:42.786 --> 00:41:45.606 A:middle
to remove all this code for the
interaction and the navigation.

00:41:45.986 --> 00:41:47.516 A:middle
It was just so much
cleaner, so much simpler.

00:41:48.756 --> 00:41:50.896 A:middle
Speaking of DemoBot,
let's see how we would go

00:41:50.896 --> 00:41:53.126 A:middle
about creating this menu
right there using SpriteKit

00:41:53.336 --> 00:41:54.326 A:middle
and focus interaction.

00:41:54.616 --> 00:41:57.576 A:middle
The first thing you
need to know is

00:41:57.576 --> 00:42:00.626 A:middle
that UIKit introduces new
protocol called UIFocusItem

00:41:57.576 --> 00:42:00.626 A:middle
that UIKit introduces new
protocol called UIFocusItem

00:42:00.986 --> 00:42:02.856 A:middle
which conforms to the
UIFocusEnvironment.

00:42:03.296 --> 00:42:06.316 A:middle
This extends the focus
system to nonview item.

00:42:07.086 --> 00:42:07.996 A:middle
So, as you have guessed,

00:42:08.166 --> 00:42:10.906 A:middle
now SKNode is actually
conforming to that as well.

00:42:12.176 --> 00:42:15.306 A:middle
So, the first thing you need
to do is make a subclass.

00:42:15.606 --> 00:42:16.956 A:middle
So, here for my menu element,

00:42:16.956 --> 00:42:18.386 A:middle
I'm going to use
some rectangles.

00:42:18.386 --> 00:42:19.496 A:middle
I'm going to use a SpriteNode.

00:42:19.976 --> 00:42:21.686 A:middle
So first, make a subclass.

00:42:21.986 --> 00:42:25.556 A:middle
Second, you need to override
that canBecomeFocused method

00:42:25.556 --> 00:42:27.226 A:middle
to true so that your
node is focusable.

00:42:27.226 --> 00:42:32.456 A:middle
Next you have to obtain your
node into the focus system

00:42:32.826 --> 00:42:34.226 A:middle
and to do that, you just have

00:42:34.226 --> 00:42:35.896 A:middle
to set the
isUserInteractionEnabled

00:42:35.896 --> 00:42:36.476 A:middle
to true.

00:42:37.576 --> 00:42:38.436 A:middle
And the last thing you need

00:42:38.436 --> 00:42:41.386 A:middle
to do is override the data
did focus and context,

00:42:41.896 --> 00:42:44.016 A:middle
which is going to give you
updates on your focus updates.

00:42:44.206 --> 00:42:46.786 A:middle
So, you can override this
in your view, in your scene

00:42:46.876 --> 00:42:48.846 A:middle
or any node that actually
makes sense for your app.

00:42:49.586 --> 00:42:52.786 A:middle
So, here the context subject
gives me the next focused item,

00:42:52.786 --> 00:42:55.496 A:middle
the previously focused item,
and in my case I'm going to look

00:42:55.496 --> 00:42:58.636 A:middle
for a menu element and
if I'm hitting this,

00:42:58.636 --> 00:42:59.966 A:middle
I can just run some SKAction.

00:42:59.966 --> 00:43:02.656 A:middle
So, this is how it
looks like in action.

00:42:59.966 --> 00:43:02.656 A:middle
So, this is how it
looks like in action.

00:43:02.696 --> 00:43:05.376 A:middle
As I finish the game, I am
being prompted with the menu

00:43:05.476 --> 00:43:08.276 A:middle
and I can just use my Siri
remote to scroll through

00:43:08.276 --> 00:43:10.056 A:middle
or game controller, it
will just work as well.

00:43:10.266 --> 00:43:12.076 A:middle
And I have the same
feel as it would have

00:43:12.076 --> 00:43:13.766 A:middle
in the main menu on Apple TV.

00:43:14.386 --> 00:43:16.406 A:middle
Again, very simple,
very powerful.

00:43:16.446 --> 00:43:18.886 A:middle
We recommend highly
for you to use it.

00:43:20.196 --> 00:43:22.276 A:middle
All right, a pretty
big one here.

00:43:23.126 --> 00:43:24.166 A:middle
SpriteKit on Apple Watch.

00:43:24.606 --> 00:43:26.926 A:middle
So, as you have seen,
for watchOS 3.0,

00:43:27.086 --> 00:43:29.266 A:middle
we brought some frameworks
to Apple Watch.

00:43:30.106 --> 00:43:31.736 A:middle
And yeah, SpriteKit
is available.

00:43:31.786 --> 00:43:35.406 A:middle
So, that means that now you can
do very interactive application

00:43:35.406 --> 00:43:38.006 A:middle
using this high-performance
2D graphics platform.

00:43:38.256 --> 00:43:40.416 A:middle
And of course we bring
all the stuff you love

00:43:40.416 --> 00:43:43.326 A:middle
such as particles,
animation, physics, actions

00:43:43.836 --> 00:43:45.516 A:middle
and all the editors
are compatible

00:43:45.516 --> 00:43:46.666 A:middle
so you can use the scene editor.

00:43:46.666 --> 00:43:48.056 A:middle
You can use the particle editor.

00:43:48.056 --> 00:43:51.336 A:middle
We have all the editing tools
such as new performance gauge

00:43:51.336 --> 00:43:52.686 A:middle
that Ross just told it out.

00:43:53.146 --> 00:43:54.196 A:middle
All of this is just working.

00:43:55.516 --> 00:43:57.996 A:middle
So, a typical SpriteKit
game looks like this.

00:43:58.566 --> 00:44:02.546 A:middle
I have an SKView and then
it contains an SKScene

00:43:58.566 --> 00:44:02.546 A:middle
I have an SKView and then
it contains an SKScene

00:44:03.336 --> 00:44:05.066 A:middle
which itself contains
multiple nodes.

00:44:06.286 --> 00:44:08.996 A:middle
Such as the SpriteNode,
a ShapeNode, whatever.

00:44:10.086 --> 00:44:13.226 A:middle
On Apple Watch, though,
there's no notion of view.

00:44:13.636 --> 00:44:15.506 A:middle
Instead, you present
your content using

00:44:15.506 --> 00:44:16.506 A:middle
WatchKit interface.

00:44:16.736 --> 00:44:18.886 A:middle
And in fact it's going to be
the major difference here.

00:44:19.456 --> 00:44:20.946 A:middle
So, instead of using an SKView,

00:44:21.156 --> 00:44:24.306 A:middle
I will be using a
WKInterfaceSKScene.

00:44:24.306 --> 00:44:26.156 A:middle
It looks pretty much it.

00:44:26.726 --> 00:44:29.636 A:middle
All right, so let's see how we
would go from an existing game

00:44:29.636 --> 00:44:33.476 A:middle
on iOS to make it a
support for watchOS.

00:44:33.856 --> 00:44:34.886 A:middle
So, that's some code,

00:44:34.886 --> 00:44:36.976 A:middle
that's some sample
code for a game on iOS.

00:44:37.376 --> 00:44:39.046 A:middle
So, pretty typical,
I have my view.

00:44:39.046 --> 00:44:40.976 A:middle
I'm doing some set up on
my scene and everything.

00:44:41.466 --> 00:44:41.856 A:middle
All right.

00:44:41.856 --> 00:44:44.506 A:middle
So, what I have to do now
is just click on file.

00:44:45.006 --> 00:44:48.856 A:middle
new, target, select
the template I want.

00:44:48.856 --> 00:44:53.806 A:middle
So here I'm going to use a game
app template for my target.

00:44:54.276 --> 00:44:54.926 A:middle
Click next.

00:44:55.526 --> 00:44:56.776 A:middle
Give it the best name
ever, so I'm going

00:44:56.776 --> 00:44:57.876 A:middle
to call it Apple Watch Game.

00:44:58.376 --> 00:45:00.526 A:middle
And then click next.

00:44:58.376 --> 00:45:00.526 A:middle
And then click next.

00:45:00.796 --> 00:45:01.656 A:middle
And you're done.

00:45:01.986 --> 00:45:02.896 A:middle
No, seriously, you're done.

00:45:03.606 --> 00:45:05.276 A:middle
Xcode is going to create
all the files you need

00:45:05.276 --> 00:45:09.046 A:middle
such as the storyboard and the
interface controller as well.

00:45:09.096 --> 00:45:12.026 A:middle
And if you take a look at the
storyboard, we actually wired

00:45:12.026 --> 00:45:13.186 A:middle
up everything for you already.

00:45:13.726 --> 00:45:17.546 A:middle
So, this guy is actually
connected to my outlet

00:45:17.546 --> 00:45:18.686 A:middle
as you can see at the top here.

00:45:18.846 --> 00:45:20.516 A:middle
And you're just ready to go.

00:45:20.556 --> 00:45:22.866 A:middle
You have your WKInterfaceScene

00:45:23.366 --> 00:45:25.766 A:middle
and you have the same
stuff you had before.

00:45:25.806 --> 00:45:27.006 A:middle
So, it's very simple.

00:45:27.246 --> 00:45:33.626 A:middle
All right, so some compatibility
now on the Apple Watch.

00:45:34.176 --> 00:45:36.126 A:middle
There's no SKAudioNode
on Apple Watch

00:45:36.126 --> 00:45:38.366 A:middle
but of course you can
still play a sound using

00:45:38.366 --> 00:45:40.006 A:middle
SKAction playSoundFileNamed.

00:45:41.006 --> 00:45:43.766 A:middle
There's no SKVidioNode
but you can use the

00:45:43.766 --> 00:45:45.616 A:middle
WKInterfaceMovie instead.

00:45:46.186 --> 00:45:49.636 A:middle
And lastly if you're doing a
special effect using CI filters,

00:45:49.696 --> 00:45:52.346 A:middle
you can still do them but
you have to use an SKShader.

00:45:53.576 --> 00:45:56.636 A:middle
So, we're really excited
about what you can do

00:45:56.636 --> 00:45:58.096 A:middle
with Apple Watch in SpriteKit.

00:45:58.406 --> 00:46:00.896 A:middle
It's going to enable you to
make even more interactive

00:45:58.406 --> 00:46:00.896 A:middle
It's going to enable you to
make even more interactive

00:46:00.896 --> 00:46:02.446 A:middle
and fun apps with the platform.

00:46:05.336 --> 00:46:05.956 A:middle
All right.

00:46:07.236 --> 00:46:07.946 A:middle
Thank you.

00:46:08.516 --> 00:46:12.116 A:middle
[ Applause ]

00:46:12.616 --> 00:46:14.976 A:middle
So, since we have more and more
platforms, let me just talk

00:46:14.976 --> 00:46:17.426 A:middle
about a few best
practices for SpriteKit.

00:46:18.156 --> 00:46:20.066 A:middle
The first one being
Asset Catalog.

00:46:20.626 --> 00:46:21.826 A:middle
Use Asset Catalog.

00:46:22.306 --> 00:46:22.856 A:middle
It's great.

00:46:23.026 --> 00:46:25.386 A:middle
It works very well with
SpriteKit and it provides a lot

00:46:25.386 --> 00:46:26.736 A:middle
of cool features for your game

00:46:26.736 --> 00:46:28.616 A:middle
to make things simple
and faster.

00:46:29.246 --> 00:46:31.186 A:middle
The first thing being
the Sprite Atlas.

00:46:31.826 --> 00:46:34.146 A:middle
In Asset Catalog, you
can make a texture atlas

00:46:34.146 --> 00:46:37.346 A:middle
which is a fundamental piece
of optimization for tile maps

00:46:37.426 --> 00:46:40.376 A:middle
where you have multiple textures
combined into one big texture

00:46:40.816 --> 00:46:43.686 A:middle
which reduces the number of
draw calls to a very low amount.

00:46:43.686 --> 00:46:47.606 A:middle
Next we have support for
multiple asset sizes such as,

00:46:47.606 --> 00:46:50.836 A:middle
you know, 1x, 2x, 3x, which is
great for multiple platforms

00:46:50.836 --> 00:46:52.726 A:middle
such as the iPad,
iPhone, watchOS.

00:46:53.126 --> 00:46:56.346 A:middle
And again, you don't need to
do any conditionals, like oh,

00:46:56.346 --> 00:46:57.676 A:middle
is this that platform
or this one.

00:46:57.676 --> 00:47:00.306 A:middle
No, you just call your
texture and you're done.

00:46:57.676 --> 00:47:00.306 A:middle
No, you just call your
texture and you're done.

00:47:00.306 --> 00:47:01.156 A:middle
We do rest for you.

00:47:02.306 --> 00:47:04.106 A:middle
We have support for
on-demand resource

00:47:04.106 --> 00:47:05.786 A:middle
which is fundamental for tvOS.

00:47:07.196 --> 00:47:08.966 A:middle
And lastly we do app slicing,

00:47:08.966 --> 00:47:10.336 A:middle
meaning that if you
have resource

00:47:10.336 --> 00:47:13.286 A:middle
that are specific platform,
we'll be only using this

00:47:13.286 --> 00:47:15.066 A:middle
for the bundle and
then compiling them

00:47:15.066 --> 00:47:17.506 A:middle
into the runtime binaries
as small as possible

00:47:17.866 --> 00:47:19.526 A:middle
which gives you a
very small bundle

00:47:19.526 --> 00:47:22.056 A:middle
and a small download
on the App Store.

00:47:23.106 --> 00:47:26.706 A:middle
So yeah, Asset Catalog
is great, go for it.

00:47:26.976 --> 00:47:29.246 A:middle
Next, about performance
and battery life.

00:47:29.246 --> 00:47:32.286 A:middle
So, a big change in
SpriteKit this year is

00:47:32.286 --> 00:47:34.126 A:middle
that we do not render
all the time.

00:47:34.126 --> 00:47:36.946 A:middle
Now, we only render when
your scene is dirty.

00:47:37.316 --> 00:47:39.726 A:middle
So, if something change, we
will be issuing some draw calls

00:47:39.726 --> 00:47:42.286 A:middle
but if nothing changed, we
will not be doing anything.

00:47:42.866 --> 00:47:45.586 A:middle
So, if you're using
any debiting tools

00:47:45.586 --> 00:47:46.796 A:middle
such as the performance gauge,

00:47:47.156 --> 00:47:48.596 A:middle
you might see the
needle not moving.

00:47:48.826 --> 00:47:50.376 A:middle
And it's actually a good
thing because it means

00:47:50.376 --> 00:47:52.236 A:middle
that you are not
rendering anything new.

00:47:53.636 --> 00:47:55.176 A:middle
If you need to control
the frame weight,

00:47:55.176 --> 00:47:57.416 A:middle
you we also have a couple
ways for you to do that.

00:47:58.046 --> 00:48:00.266 A:middle
The first one being
preferredFramesPerSecond

00:47:58.046 --> 00:48:00.266 A:middle
The first one being
preferredFramesPerSecond

00:48:00.266 --> 00:48:00.866 A:middle
on SKView.

00:48:01.546 --> 00:48:03.876 A:middle
At any time, you can
just set the frame rate

00:48:03.876 --> 00:48:06.866 A:middle
to whatever you want, which can
be convenient for, you know,

00:48:06.866 --> 00:48:10.216 A:middle
if you have the menu and you
have a low frame rate need here.

00:48:10.586 --> 00:48:12.996 A:middle
And when you come back to your
game, you can go back to 60

00:48:12.996 --> 00:48:15.166 A:middle
or 30 FPS based on
your performance needs.

00:48:15.166 --> 00:48:18.516 A:middle
The second one is a
bit more advanced.

00:48:19.026 --> 00:48:20.256 A:middle
It's a delegate in SKView

00:48:20.636 --> 00:48:23.186 A:middle
which is giving you
thisShouldRenderAtTime method

00:48:23.306 --> 00:48:25.416 A:middle
with the absolute
time of the game.

00:48:25.836 --> 00:48:27.736 A:middle
So, this method is going
to be called at each frame

00:48:27.736 --> 00:48:29.896 A:middle
and you can decide based
on the time whether yes

00:48:29.896 --> 00:48:31.236 A:middle
or no you want to
render the frame.

00:48:31.536 --> 00:48:33.616 A:middle
So, this gives you a
very fine-grained control

00:48:33.616 --> 00:48:34.936 A:middle
of the rendering for your game.

00:48:35.036 --> 00:48:35.186 A:middle
All right.

00:48:35.386 --> 00:48:38.016 A:middle
And that's it.

00:48:38.436 --> 00:48:40.316 A:middle
So, what's new in SpriteKit?

00:48:40.316 --> 00:48:41.146 A:middle
A lot this year.

00:48:41.706 --> 00:48:44.766 A:middle
The first being the scene
outline view, which allows you

00:48:44.766 --> 00:48:46.526 A:middle
to manipulate your
scene graph from Xcode.

00:48:47.746 --> 00:48:49.136 A:middle
The GameplayKit integration.

00:48:49.406 --> 00:48:51.026 A:middle
If you're already using
GameplayKit component,

00:48:51.026 --> 00:48:53.576 A:middle
now you can just set them on
your nodes directly using Xcode.

00:48:53.916 --> 00:48:57.866 A:middle
FPS high performance gauge which
gives you a real-time breakdown

00:48:57.866 --> 00:49:00.366 A:middle
of your scene performance,
very, very useful.

00:48:57.866 --> 00:49:00.366 A:middle
of your scene performance,
very, very useful.

00:49:01.486 --> 00:49:04.936 A:middle
Tile maps for complex yet
high performance levels.

00:49:05.406 --> 00:49:08.516 A:middle
Warp Transformation to
make you game have fun

00:49:08.576 --> 00:49:11.366 A:middle
and complex animation using
just a grid of points.

00:49:12.836 --> 00:49:15.276 A:middle
Per-node attributes
for custom shaders

00:49:15.276 --> 00:49:17.816 A:middle
if you're using per-node
customization and building

00:49:17.816 --> 00:49:19.346 A:middle
of shaders, very convenient.

00:49:20.566 --> 00:49:24.056 A:middle
And of course focus interaction
on Apple TV and SpriteKit

00:49:24.056 --> 00:49:26.316 A:middle
on Apple Watch, which is
the big one for this year.

00:49:26.586 --> 00:49:28.926 A:middle
If you want to learn more,

00:49:29.186 --> 00:49:31.596 A:middle
you can go to the
developer.apple.com website.

00:49:32.596 --> 00:49:35.286 A:middle
We have a lot of sessions
for gaming this year but most

00:49:35.286 --> 00:49:36.136 A:middle
of them are already done.

00:49:36.136 --> 00:49:37.906 A:middle
But you can still see
them online by going

00:49:37.906 --> 00:49:39.256 A:middle
on the website we I
just showed earlier.

00:49:40.066 --> 00:49:42.446 A:middle
And tomorrow you can go to
What's New in Game Center

00:49:42.446 --> 00:49:44.956 A:middle
as well as Game Technologies
for Apple Watch if you want

00:49:44.956 --> 00:49:47.416 A:middle
to learn more about these
platforms and frameworks.

00:49:47.766 --> 00:49:48.976 A:middle
All right.

00:49:49.516 --> 00:49:52.500 A:middle
[ Applause ]
