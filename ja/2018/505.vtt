WEBVTT

00:00:07.074 --> 00:00:15.582 align:start position:43% line:-1
(音楽)

00:00:20.921 --> 00:00:24.992 align:start position:43% line:-1
(拍手)

00:00:25.392 --> 00:00:26.293 align:start position:43% line:-1
おはよう

00:00:26.627 --> 00:00:31.031 align:start position:23% line:-2
テクノロジ･エバンジェリストの
エリック･ハンソンです

00:00:31.164 --> 00:00:34.868 align:start position:27% line:-2
今日はPhotosチームの
同僚３名と共に

00:00:34.968 --> 00:00:39.840 align:start position:21% line:-2
アプリケーションとPhotosの
連携について紹介します

00:00:42.376 --> 00:00:44.678 align:start position:30% line:-1
主なトピックは２つです

00:00:46.246 --> 00:00:49.550 align:start position:18% line:-2
macOS High Sierraで
導入された―

00:00:49.650 --> 00:00:52.853 align:start position:0% line:-1
Photos Project Extention API

00:00:53.987 --> 00:00:57.124 align:start position:27% line:-2
そして
ドラッグ＆ドロップを用いた

00:00:57.291 --> 00:01:00.494 align:start position:25% line:-1
アプリケーションとの連携です

00:00:57.291 --> 00:01:00.494 align:start position:25% line:-1
アプリケーションとの連携です

00:01:01.128 --> 00:01:04.096 align:start position:21% line:-2
まずはPhoto Project
Extensionからです

00:01:07.601 --> 00:01:11.538 align:start position:27% line:-2
iPhotoは2002年に
リリースされました

00:01:12.272 --> 00:01:15.509 align:start position:25% line:-1
このアプリケーションの登場は

00:01:15.609 --> 00:01:22.449 align:start position:21% line:-2
上質なフォトブックやカード
カレンダーの作成を可能にしました

00:01:24.718 --> 00:01:31.358 align:start position:18% line:-2
これまでにiPhotoや
Photosを使って作成された作品は

00:01:31.458 --> 00:01:33.460 align:start position:30% line:-1
7000万点を超えます

00:01:37.364 --> 00:01:40.234 align:start position:30% line:-1
同時に この16年間で

00:01:40.334 --> 00:01:43.570 align:start position:27% line:-1
市場は飛躍を遂げてきました

00:01:43.971 --> 00:01:47.741 align:start position:23% line:-1
ユーザは 自分の作品を作る上で

00:01:47.841 --> 00:01:52.779 align:start position:27% line:-2
様々な選択肢を持てるように
なったのです

00:01:54.314 --> 00:01:58.185 align:start position:23% line:-1
優れたエコシステムが登場する中

00:01:58.652 --> 00:02:03.156 align:start position:27% line:-2
昨年 我々は新しいAPIを
発表しました

00:01:58.652 --> 00:02:03.156 align:start position:27% line:-2
昨年 我々は新しいAPIを
発表しました

00:02:03.724 --> 00:02:05.726 align:start position:5% line:-1
Photo Project Extensionです

00:02:08.061 --> 00:02:10.330 align:start position:18% line:-1
優れたExtensionはありました

00:02:11.064 --> 00:02:14.001 align:start position:20% line:-1
例えばMimeo Photosです

00:02:14.268 --> 00:02:19.139 align:start position:30% line:-2
非常に質の高い作品を
生み出すことができます

00:02:20.607 --> 00:02:25.579 align:start position:25% line:-2
WhiteWallでは写真を
絵画のように見せられます

00:02:26.680 --> 00:02:29.483 align:start position:25% line:-1
また友人や家族と共有できる―

00:02:29.583 --> 00:02:34.521 align:start position:27% line:-2
フォトアルバム作成の
デジタルサービスもあります

00:02:36.390 --> 00:02:40.861 align:start position:27% line:-2
最新のExtensionも
近々 追加される予定です

00:02:40.961 --> 00:02:42.362 align:start position:34% line:-1
その名もMotif

00:02:42.663 --> 00:02:48.402 align:start position:25% line:-2
Photosに直接連携された
最新のExtensionです

00:02:48.769 --> 00:02:50.237 align:start position:30% line:-1
リリースは今年の夏です

00:02:53.607 --> 00:02:57.578 align:start position:25% line:-1
これらすべてのエコシステムは

00:02:57.911 --> 00:03:01.748 align:start position:23% line:-2
デベロッパの皆さんも活用できる
Extensionです

00:02:57.911 --> 00:03:01.748 align:start position:23% line:-2
デベロッパの皆さんも活用できる
Extensionです

00:03:02.683 --> 00:03:06.553 align:start position:34% line:-2
膨大なメタデータや
コンテキストなどを

00:03:06.653 --> 00:03:09.656 align:start position:16% line:-1
Extensionに送ることができます

00:03:10.324 --> 00:03:15.128 align:start position:27% line:-2
ネイティブフレームワークの
スタックを使って

00:03:15.229 --> 00:03:21.401 align:start position:25% line:-2
世界中のユーザが喜ぶ
新しいものが作成できるのです

00:03:24.938 --> 00:03:26.540 align:start position:38% line:-1
この理由から―

00:03:27.808 --> 00:03:35.883 align:start position:12% line:-2
我々はPrint Productビジネスを
エコシステムへ移行していきます

00:03:37.618 --> 00:03:44.558 align:start position:21% line:-2
つまりExtensionを使って
作品を作成する手段となるのが

00:03:44.658 --> 00:03:48.061 align:start position:9% line:-1
このProject Extensionなのです

00:03:49.663 --> 00:03:54.902 align:start position:20% line:-2
そのためには
優れたPhotosの環境が必要です

00:03:56.170 --> 00:03:59.273 align:start position:14% line:-2
ではExtension APIの新機能を
紹介しましょう

00:04:00.741 --> 00:04:01.375 align:start position:41% line:-1
１つ目は―

00:04:03.110 --> 00:04:04.444 align:start position:43% line:-1
UIです

00:04:05.179 --> 00:04:10.184 align:start position:18% line:-2
PhotosアプリケーションにUIを
直接連携することで

00:04:11.018 --> 00:04:14.988 align:start position:25% line:-1
常にサイドバーが表示されます

00:04:15.622 --> 00:04:19.293 align:start position:27% line:-2
Extensionで
プロジェクトを作成する場合

00:04:19.392 --> 00:04:23.931 align:start position:29% line:-2
サイドバーから
コンテンツを移動できます

00:04:24.932 --> 00:04:30.470 align:start position:27% line:-2
使用したい写真を
検索することもできますし―

00:04:30.571 --> 00:04:33.707 align:start position:29% line:-1
コピーすることも可能です

00:04:35.943 --> 00:04:39.012 align:start position:32% line:-2
さらにPhotosの
強力な編集ツールも

00:04:39.379 --> 00:04:42.683 align:start position:25% line:-1
直接連携させることができます

00:04:44.585 --> 00:04:48.188 align:start position:23% line:-1
写真をダブルクリックするだけで

00:04:48.522 --> 00:04:52.059 align:start position:32% line:-2
編集ができるとしたら
どうでしょう？

00:04:52.426 --> 00:04:55.762 align:start position:25% line:-1
このAPIではそれが可能です

00:04:55.863 --> 00:04:59.533 align:start position:34% line:-2
瞬時に編集ツールを
起動できるのです

00:04:59.633 --> 00:05:04.104 align:start position:30% line:-2
スタックビューの上部に
セッションがあるので

00:04:59.633 --> 00:05:04.104 align:start position:30% line:-2
スタックビューの上部に
セッションがあるので

00:05:04.404 --> 00:05:06.807 align:start position:29% line:-1
あとは編集をするだけです

00:05:07.407 --> 00:05:12.012 align:start position:34% line:-2
他のアセットへの
アクセスも可能です

00:05:12.513 --> 00:05:16.250 align:start position:27% line:-2
編集終了後は
完了ボタンをクリックすれば

00:05:16.650 --> 00:05:19.853 align:start position:27% line:-1
元のプロジェクトに戻れます

00:05:20.287 --> 00:05:23.657 align:start position:30% line:-2
ライブラリの変更通知が
表示されたら―

00:05:23.757 --> 00:05:26.860 align:start position:25% line:-1
指示に従ってUIを更新します

00:05:29.429 --> 00:05:31.165 align:start position:27% line:-1
しかしアプリケーションや―

00:05:32.332 --> 00:05:35.802 align:start position:18% line:-1
Extensionを探せなかったら？

00:05:36.270 --> 00:05:41.508 align:start position:30% line:-2
我々はこの問題の改善に
力を入れてきました

00:05:42.209 --> 00:05:45.946 align:start position:12% line:-2
PhotosはMac App Storeに
リンクしています

00:05:47.047 --> 00:05:51.218 align:start position:0% line:-1
macOS MojaveのMac App Storeでは

00:05:51.318 --> 00:05:55.355 align:start position:25% line:-2
キュレートされたストーリーに
リンクできます

00:05:55.756 --> 00:05:59.626 align:start position:20% line:-1
特にExtensionに対してです

00:06:00.060 --> 00:06:04.097 align:start position:23% line:-1
我々は常に新しいものを取り入れ

00:06:04.431 --> 00:06:09.570 align:start position:32% line:-2
ユーザに最適な環境を
提供しているのです

00:06:10.971 --> 00:06:15.943 align:start position:21% line:-2
ストーリーからアプリケーションを
ダウンロードすれば―

00:06:16.710 --> 00:06:19.413 align:start position:32% line:-2
Extensionも
ダウンロードされます

00:06:20.080 --> 00:06:23.817 align:start position:25% line:-2
これまでデベロッパの皆さんは
ユーザに

00:06:23.917 --> 00:06:29.823 align:start position:11% line:-2
PhotosでのExtensionの使い方を
学んでもらう必要がありました

00:06:30.157 --> 00:06:31.792 align:start position:32% line:-1
これも改善されました

00:06:32.259 --> 00:06:35.095 align:start position:32% line:-2
アプリケーションの
ダウンロードと同時に

00:06:35.195 --> 00:06:38.665 align:start position:21% line:-1
作成モードが起動できるとしたら？

00:06:39.233 --> 00:06:40.901 align:start position:34% line:-1
それも可能なんです

00:06:41.835 --> 00:06:44.638 align:start position:14% line:-1
PhotosにURLスキームを加えました

00:06:44.738 --> 00:06:48.642 align:start position:18% line:-1
Extension識別子やカテゴリに

00:06:48.742 --> 00:06:51.845 align:start position:29% line:-1
簡単に渡すことができます

00:06:52.446 --> 00:06:56.583 align:start position:23% line:-2
そうすることで
Photosが最前面に表示され

00:06:56.884 --> 00:07:01.054 align:start position:21% line:-2
Extensionのオプションも
表示されます

00:06:56.884 --> 00:07:01.054 align:start position:21% line:-2
Extensionのオプションも
表示されます

00:07:01.922 --> 00:07:05.058 align:start position:27% line:-1
起動と同時に作成ができる―

00:07:05.159 --> 00:07:08.161 align:start position:25% line:-1
ユーザフレンドリーな機能です

00:07:11.431 --> 00:07:14.601 align:start position:29% line:-1
作成したプロジェクトは―

00:07:15.068 --> 00:07:17.971 align:start position:23% line:-1
所定の場所に保存されるべきです

00:07:18.705 --> 00:07:21.241 align:start position:18% line:-1
そう Photo Libraryです

00:07:22.009 --> 00:07:26.046 align:start position:23% line:-1
作成したすべてのプロジェクトは

00:07:26.146 --> 00:07:28.649 align:start position:11% line:-1
Project Galleryで確認できます

00:07:28.849 --> 00:07:33.554 align:start position:23% line:-2
Extensionで作成された
カスタムプレビューでは

00:07:33.987 --> 00:07:37.691 align:start position:30% line:-2
プロジェクトの全体像が
把握できます

00:07:37.791 --> 00:07:39.693 align:start position:34% line:-1
これを見てください

00:07:41.328 --> 00:07:47.234 align:start position:27% line:-2
既存のプロジェクトを開けば
作業の継続も可能ですが

00:07:47.801 --> 00:07:50.504 align:start position:25% line:-1
そこから新規の作成も可能です

00:07:50.604 --> 00:07:55.175 align:start position:27% line:-2
プロジェクトから
作成メニューを開くだけです

00:07:55.275 --> 00:07:59.813 align:start position:23% line:-2
Extensionの使い勝手を
よくするために

00:07:59.947 --> 00:08:02.516 align:start position:27% line:-1
様々なものを提供しています

00:07:59.947 --> 00:08:02.516 align:start position:27% line:-1
様々なものを提供しています

00:08:02.950 --> 00:08:07.688 align:start position:18% line:-2
しかしAppleのプロジェクトの場合
更に上を目指します

00:08:08.488 --> 00:08:14.795 align:start position:25% line:-2
写真やページの配列を崩さずに
皆さんに提供すれば

00:08:14.895 --> 00:08:20.400 align:start position:27% line:-2
Appleのプロジェクトを
別の形式に変換できるのです

00:08:20.501 --> 00:08:22.703 align:start position:30% line:-1
強くお勧めする方法です

00:08:25.205 --> 00:08:29.243 align:start position:32% line:-2
UIの新機能について
話をしてきましたが

00:08:29.610 --> 00:08:33.212 align:start position:34% line:-2
ここからは同僚に
バトンタッチします

00:08:33.380 --> 00:08:36.917 align:start position:27% line:-1
トビアス･コンラーディです

00:08:37.017 --> 00:08:41.989 align:start position:43% line:-1
(拍手)

00:08:42.089 --> 00:08:43.823 align:start position:34% line:-1
おはようございます

00:08:44.191 --> 00:08:48.161 align:start position:29% line:-2
Photosエンジニアの
トビアスです

00:08:48.262 --> 00:08:51.999 align:start position:29% line:-2
ここからは
変更点について紹介します

00:08:52.933 --> 00:08:54.868 align:start position:30% line:-1
まずは作成メニューです

00:08:55.068 --> 00:08:59.206 align:start position:5% line:-2
Photos Project Extensionの
導入時には

00:08:59.306 --> 00:09:03.043 align:start position:27% line:-2
Extensionは一列に
表示されていました

00:08:59.306 --> 00:09:03.043 align:start position:27% line:-2
Extensionは一列に
表示されていました

00:09:03.143 --> 00:09:05.479 align:start position:32% line:-1
しかし このままでは

00:09:05.579 --> 00:09:11.051 align:start position:25% line:-2
どんなプロジェクトが
作成できるのか判断できません

00:09:11.418 --> 00:09:16.456 align:start position:29% line:-2
そこで改良を加え
カテゴリ別に分類しました

00:09:16.957 --> 00:09:20.427 align:start position:20% line:-2
macOS Mojaveでの表示が
こちらです

00:09:20.527 --> 00:09:24.531 align:start position:29% line:-2
サブメニューが
カテゴリ別になっています

00:09:24.965 --> 00:09:28.068 align:start position:30% line:-1
カテゴリはフォトブック

00:09:28.168 --> 00:09:30.771 align:start position:23% line:-1
カレンダー　カード　壁用の装飾

00:09:30.871 --> 00:09:32.406 align:start position:29% line:-1
プリント　スライドショー

00:09:32.506 --> 00:09:36.410 align:start position:30% line:-2
そしてどれにも属さない
その他です

00:09:37.477 --> 00:09:41.348 align:start position:21% line:-2
これで目的のExtensionが
容易に特定できます

00:09:41.448 --> 00:09:43.750 align:start position:32% line:-1
壁紙を作成したい場合

00:09:44.084 --> 00:09:49.156 align:start position:25% line:-2
壁用の装飾に活用できる
Extensionがあります

00:09:49.990 --> 00:09:52.192 align:start position:29% line:-1
カテゴリーに分類するには

00:09:52.626 --> 00:09:57.998 align:start position:12% line:-2
info.plistの属性ディクショナリに
新しいキーを追加します

00:09:58.098 --> 00:09:59.933 align:start position:16% line:-1
PHProjectCategoryです

00:10:00.033 --> 00:10:05.005 align:start position:25% line:-2
この場合 キーの値となるのは
カテゴリーである―

00:10:05.105 --> 00:10:07.741 align:start position:25% line:-1
壁用の装飾もしくはその他です

00:10:10.043 --> 00:10:14.581 align:start position:29% line:-2
次にユーザが目にするのは
ピッカーシートです

00:10:14.715 --> 00:10:18.118 align:start position:25% line:-1
皆さんが提供するデータを元に

00:10:18.452 --> 00:10:23.023 align:start position:27% line:-2
プロジェクトタイプの概要が
表示されます

00:10:23.490 --> 00:10:27.094 align:start position:21% line:-1
これまでのAPIで問題だったのは

00:10:27.194 --> 00:10:32.399 align:start position:30% line:-2
最新価格やオファーが
表示されないことでした

00:10:32.499 --> 00:10:36.370 align:start position:21% line:-1
今回のAPIではその問題を改善し

00:10:36.470 --> 00:10:39.540 align:start position:29% line:-1
動的更新を可能にしました

00:10:40.073 --> 00:10:41.975 align:start position:34% line:-1
この動的更新に加え

00:10:42.075 --> 00:10:47.581 align:start position:29% line:-2
カスタムのフッターを
表示できるようにしました

00:10:47.681 --> 00:10:51.118 align:start position:32% line:-2
必要に応じて
規約の表示が可能です

00:10:53.787 --> 00:10:55.155 align:start position:36% line:-1
APIレベルでは

00:10:55.255 --> 00:10:58.725 align:start position:23% line:-1
動的APIはこのように見えます

00:10:59.159 --> 00:11:04.865 align:start position:0% line:-2
ProjectExtensionControllerには
新しいメソッドがあり

00:10:59.159 --> 00:11:04.865 align:start position:0% line:-2
ProjectExtensionControllerには
新しいメソッドがあり

00:11:04.965 --> 00:11:07.801 align:start position:27% line:-1
データソースを要求できます

00:11:07.901 --> 00:11:12.072 align:start position:23% line:-2
選択されたExtensionを
カテゴリーに渡し

00:11:12.172 --> 00:11:15.342 align:start position:27% line:-1
オブジェクトを無効化します

00:11:15.709 --> 00:11:17.778 align:start position:30% line:-1
データソースに戻ったら

00:11:17.878 --> 00:11:22.649 align:start position:9% line:-2
ProjectTypeDescriptionと
フッターテキストを要求します

00:11:23.283 --> 00:11:27.387 align:start position:30% line:-2
返された情報の無効化が
必要であれば

00:11:27.487 --> 00:11:31.825 align:start position:29% line:-2
Invalidatorを
使用することができます

00:11:31.925 --> 00:11:36.129 align:start position:27% line:-2
必要に応じてPhotosが
データをリフェッチし

00:11:36.230 --> 00:11:38.765 align:start position:25% line:-1
UIに最新情報を表示させます

00:11:42.269 --> 00:11:44.838 align:start position:16% line:-1
次はProjectInfoについてです

00:11:45.172 --> 00:11:50.510 align:start position:25% line:-2
これは構造体で
コンテンツに対する追加情報で

00:11:50.711 --> 00:11:57.050 align:start position:12% line:-2
キュレーションに反映される
sectionContentsに含まれます

00:11:57.618 --> 00:12:01.622 align:start position:32% line:-2
要素にはアセットの
レイアウトのヒントや

00:11:57.618 --> 00:12:01.622 align:start position:32% line:-2
要素にはアセットの
レイアウトのヒントや

00:12:01.722 --> 00:12:05.192 align:start position:23% line:-1
ウェイトやスコアを持っています

00:12:05.292 --> 00:12:11.198 align:start position:27% line:-2
またアセットは関心領域内に
重要な領域を持てます

00:12:11.498 --> 00:12:14.434 align:start position:12% line:-1
ProjectInfoはこのような感じです

00:12:14.535 --> 00:12:20.340 align:start position:4% line:-2
詳細は昨年の
What's New in Photos APIsで

00:12:24.444 --> 00:12:29.850 align:start position:21% line:-2
ProjectInfoは開始時に
Extensionに渡されます

00:12:30.417 --> 00:12:34.922 align:start position:23% line:-2
新しいアセットがプロジェクトに
追加されると

00:12:35.022 --> 00:12:38.292 align:start position:16% line:-1
ProjectInfoは無効化されます

00:12:38.692 --> 00:12:43.630 align:start position:16% line:-2
ProjectInfoの無効化の問題を
解決するには

00:12:43.730 --> 00:12:47.801 align:start position:7% line:-2
projectExtensionContextの
新APIを使います

00:12:48.702 --> 00:12:52.840 align:start position:16% line:-2
プロジェクト作成時に
ProjectInfoが渡された例です

00:12:52.940 --> 00:12:55.742 align:start position:27% line:-1
アセットも追加されています

00:12:55.876 --> 00:13:00.380 align:start position:18% line:-2
updateProjectInfoを
ProjectInfoで呼び出し

00:12:55.876 --> 00:13:00.380 align:start position:18% line:-2
updateProjectInfoを
ProjectInfoで呼び出し

00:13:00.480 --> 00:13:02.850 align:start position:27% line:-1
既存セクションを更新します

00:13:02.950 --> 00:13:06.053 align:start position:21% line:-1
そして新しいセクションを加えます

00:13:06.320 --> 00:13:09.022 align:start position:30% line:-1
さらに追加がある場合は

00:13:09.223 --> 00:13:12.326 align:start position:20% line:-2
同様にProjectInfoに渡し
セクションを更新

00:13:12.593 --> 00:13:15.229 align:start position:25% line:-1
新しいセクションを追加します

00:13:16.997 --> 00:13:21.502 align:start position:32% line:-2
次は関心領域について
詳しく説明しましょう

00:13:22.302 --> 00:13:26.173 align:start position:34% line:-2
これは重要な領域を
強調する機能です

00:13:26.273 --> 00:13:28.308 align:start position:36% line:-1
例えば人の顔です

00:13:28.575 --> 00:13:32.513 align:start position:23% line:-1
複数の人が画像に映っている場合

00:13:32.613 --> 00:13:37.518 align:start position:29% line:-2
同じ人に対する関心領域の
識別子は同じです

00:13:38.218 --> 00:13:40.354 align:start position:30% line:-1
Ｂの人に注目しましょう

00:13:41.855 --> 00:13:45.626 align:start position:27% line:-1
関心領域には識別子の他にも

00:13:45.726 --> 00:13:48.262 align:start position:30% line:-1
ウェイトも表示されます

00:13:48.362 --> 00:13:54.368 align:start position:29% line:-2
これはプロジェクト内での
重要度を表しています

00:13:55.502 --> 00:13:59.740 align:start position:30% line:-2
しかし画像内での
ウェイトを変えたい場合

00:13:59.840 --> 00:14:03.810 align:start position:25% line:-1
このAPIでの変更は困難です

00:13:59.840 --> 00:14:03.810 align:start position:25% line:-1
このAPIでの変更は困難です

00:14:04.178 --> 00:14:09.149 align:start position:29% line:-2
そこで関心領域の
クオリティを示すスコアを

00:14:09.283 --> 00:14:11.585 align:start position:30% line:-1
新たに画像に追加します

00:14:12.186 --> 00:14:17.724 align:start position:23% line:-2
左の写真を見ると
Ｂの人のピントはずれていますが

00:14:17.825 --> 00:14:20.694 align:start position:27% line:-1
右ではピントが合っています

00:14:20.794 --> 00:14:25.098 align:start position:27% line:-2
つまり右の方が
スコアが高いことになります

00:14:27.301 --> 00:14:29.870 align:start position:32% line:-1
APIではこのように

00:14:29.970 --> 00:14:35.008 align:start position:21% line:-2
関心領域の重要度を示すウェイトが
書かれています

00:14:35.108 --> 00:14:38.212 align:start position:29% line:-1
そして クオリティもです

00:14:39.980 --> 00:14:44.151 align:start position:29% line:-2
ではここで
関心領域の活用法について

00:14:44.251 --> 00:14:46.487 align:start position:29% line:-1
簡単なデモをお見せします

00:14:46.587 --> 00:14:51.992 align:start position:23% line:-2
また変更時のライブラリ通知にも
注目してください

00:14:52.092 --> 00:14:55.662 align:start position:11% line:-2
updateProjectInfo APIを
使っています

00:15:03.570 --> 00:15:04.438 align:start position:45% line:-1
さて…

00:15:05.239 --> 00:15:09.076 align:start position:30% line:-2
これはスライドショーの
Extensionです

00:15:09.443 --> 00:15:13.647 align:start position:30% line:-2
では実際にアルバムから
写真を選択し

00:15:13.747 --> 00:15:18.619 align:start position:21% line:-2
Extensionから
新規プロジェクトを作成しましょう

00:15:20.287 --> 00:15:25.225 align:start position:23% line:-2
ビューには全アイテムが見られる
オーバービューと

00:15:25.492 --> 00:15:29.630 align:start position:32% line:-2
スライドショーになる
再生ビューがあります

00:15:31.365 --> 00:15:35.169 align:start position:32% line:-2
スライドショーでは
常に中心へズームされ

00:15:35.269 --> 00:15:38.038 align:start position:29% line:-1
あまり面白味がありません

00:15:38.372 --> 00:15:43.710 align:start position:23% line:-2
関心領域を使ってズームの領域を
指定したいと思います

00:15:44.845 --> 00:15:47.347 align:start position:25% line:-1
Xcodeに切り替えましょう

00:15:50.184 --> 00:15:54.188 align:start position:7% line:-1
preferredZoomRectを見てください

00:15:54.288 --> 00:15:58.225 align:start position:27% line:-2
同じRectが
返されるようになっています

00:15:58.325 --> 00:16:01.962 align:start position:27% line:-1
このコードを変更しましょう

00:15:58.325 --> 00:16:01.962 align:start position:27% line:-1
このコードを変更しましょう

00:16:06.266 --> 00:16:10.204 align:start position:21% line:-1
まずは要素から関心領域を抜き出し

00:16:10.304 --> 00:16:14.408 align:start position:27% line:-2
ウェイトとクオリティの順に
並べ替えます

00:16:14.842 --> 00:16:19.379 align:start position:32% line:-2
並べ替えたリストの
最後の要素を取り出し

00:16:19.479 --> 00:16:21.048 align:start position:29% line:-1
そのRectへと返します

00:16:22.082 --> 00:16:24.418 align:start position:25% line:-1
Extensionに戻ると…

00:16:38.098 --> 00:16:43.370 align:start position:27% line:-2
重要度の高い領域へと
ズームするようになりました

00:16:43.971 --> 00:16:45.539 align:start position:36% line:-1
よくなりましたね

00:16:45.639 --> 00:16:48.742 align:start position:43% line:-1
(拍手)

00:16:48.842 --> 00:16:51.678 align:start position:29% line:-1
次は写真を追加しましょう

00:16:51.778 --> 00:16:55.449 align:start position:27% line:-2
サイドバーにあるアルバムを
ドラッグし

00:16:55.549 --> 00:16:59.186 align:start position:18% line:-1
Extension上でドロップします

00:17:00.120 --> 00:17:02.623 align:start position:34% line:-1
何も変わりませんね

00:17:02.823 --> 00:17:06.026 align:start position:23% line:-1
正常に追加されてはいるのですが

00:17:06.126 --> 00:17:08.762 align:start position:30% line:-1
ビューは変更されません

00:17:09.029 --> 00:17:11.598 align:start position:34% line:-1
これでは困りますね

00:17:12.465 --> 00:17:14.701 align:start position:25% line:-1
再度Xcodeに戻りましょう

00:17:16.603 --> 00:17:21.074 align:start position:9% line:-2
projectViewControllerには
beginProjectと

00:17:21.175 --> 00:17:24.912 align:start position:18% line:-2
resumeProjectメソッドが
ありますね

00:17:25.012 --> 00:17:28.315 align:start position:12% line:-2
ここにChangeObservationを
登録します

00:17:31.018 --> 00:17:34.154 align:start position:23% line:-1
こちらのメソッドにも追加します

00:17:36.423 --> 00:17:39.726 align:start position:30% line:-2
まずPhotoKitの
オブジェクトがあり

00:17:39.827 --> 00:17:43.597 align:start position:34% line:-2
そして追加された
アセットがあります

00:17:43.697 --> 00:17:47.134 align:start position:21% line:-1
アセットのフェッチ結果を得てから

00:17:47.234 --> 00:17:51.471 align:start position:14% line:-2
ライブラリに
ChangeObserverを登録します

00:17:51.705 --> 00:17:54.942 align:start position:25% line:-1
まずプロジェクトを終了します

00:17:56.043 --> 00:18:00.114 align:start position:20% line:-1
Xcodeのエラーが表示されるので

00:17:56.043 --> 00:18:00.114 align:start position:20% line:-1
Xcodeのエラーが表示されるので

00:18:00.681 --> 00:18:02.549 align:start position:14% line:-1
ChangeObserverを追加します

00:18:02.816 --> 00:18:05.886 align:start position:38% line:-1
そしてここに…

00:18:09.423 --> 00:18:11.892 align:start position:11% line:-2
photoLibraryDidChangeを
追加します

00:18:12.759 --> 00:18:17.498 align:start position:20% line:-2
これはPhoto Libraryが
変更された時に呼び出され

00:18:18.098 --> 00:18:22.503 align:start position:23% line:-1
変更のインスタンスが得られます

00:18:23.537 --> 00:18:28.609 align:start position:12% line:-2
オブジェクトのChangeDetailsに
変更インスタンスを要求します

00:18:28.742 --> 00:18:33.046 align:start position:11% line:-2
プロジェクトのfetchAllAssetsを
変更するので

00:18:33.146 --> 00:18:35.215 align:start position:18% line:-1
そのfetchResultを渡します

00:18:35.682 --> 00:18:40.754 align:start position:23% line:-2
変更結果が戻されたら
キャッシュされたフェッチ結果と

00:18:40.854 --> 00:18:45.392 align:start position:5% line:-2
fetchResultsAfterChangesを
更新します

00:18:45.492 --> 00:18:47.794 align:start position:2% line:-1
projectExtensionContextを得たら

00:18:47.895 --> 00:18:52.799 align:start position:11% line:-2
updateProjectInfoを呼び出し
ProjectInfoに渡します

00:18:53.567 --> 00:18:56.603 align:start position:9% line:-1
updateProjectInfoが返されたら

00:18:56.703 --> 00:19:01.275 align:start position:21% line:-2
高度な方法で同じ
セットアップコードを呼び出します

00:18:56.703 --> 00:19:01.275 align:start position:21% line:-2
高度な方法で同じ
セットアップコードを呼び出します

00:19:02.242 --> 00:19:04.344 align:start position:30% line:-1
プロジェクトに戻ります

00:19:19.660 --> 00:19:20.294 align:start position:45% line:-1
さて…

00:19:23.464 --> 00:19:29.036 align:start position:21% line:-2
アルバムをExtensionへと
ドラッグ＆ドロップします

00:19:29.136 --> 00:19:31.939 align:start position:32% line:-1
写真が追加されました

00:19:32.039 --> 00:19:37.110 align:start position:7% line:-2
Photo Libraryの
ChangeObservationがリッスンされ

00:19:37.211 --> 00:19:40.614 align:start position:18% line:-2
変更が通知されると
ProjectInfoが更新されます

00:19:41.315 --> 00:19:46.453 align:start position:43% line:-1
(拍手)

00:19:48.388 --> 00:19:53.760 align:start position:16% line:-2
ProjectInfoを活用することで
Extensionを改善し

00:19:54.228 --> 00:19:58.599 align:start position:20% line:-2
ProjectInfoの関心領域も
改善できます

00:19:58.866 --> 00:20:02.169 align:start position:11% line:-1
またChangeObserverを登録すると

00:19:58.866 --> 00:20:02.169 align:start position:11% line:-1
またChangeObserverを登録すると

00:20:02.269 --> 00:20:07.574 align:start position:18% line:-2
変更が通知され
ProjectInfoが更新されます

00:20:10.410 --> 00:20:13.146 align:start position:29% line:-1
重要なことが２つあります

00:20:13.313 --> 00:20:15.649 align:start position:32% line:-1
アセットやアルバムは

00:20:15.749 --> 00:20:20.687 align:start position:18% line:-2
PhotosからExtensionに
コピーすることはできます

00:20:20.821 --> 00:20:26.560 align:start position:21% line:-2
しかしテキストなどを
ペーストしたい場合もあるでしょう

00:20:26.660 --> 00:20:31.565 align:start position:11% line:-2
その場合 ExtensionやPhotosは
ペーストのタイミングを

00:20:31.665 --> 00:20:33.300 align:start position:34% line:-1
知る必要があります

00:20:33.567 --> 00:20:35.969 align:start position:12% line:-1
validateMenuItemを実装して

00:20:36.603 --> 00:20:43.177 align:start position:21% line:-2
Extensionがコンテンツを
受け付けるか確認してください

00:20:43.277 --> 00:20:47.381 align:start position:21% line:-2
return falseなら
Photosとして対応してみます

00:20:47.481 --> 00:20:52.753 align:start position:23% line:-2
逆にreturn trueなら
ペーストが可能です

00:20:54.021 --> 00:20:56.290 align:start position:23% line:-1
ドラッグ＆ドロップでも同じです

00:20:56.623 --> 00:21:02.396 align:start position:20% line:-2
PhotosではPhotoKitの
オブジェクトをドラッグできますが

00:20:56.623 --> 00:21:02.396 align:start position:20% line:-2
PhotosではPhotoKitの
オブジェクトをドラッグできますが

00:21:02.763 --> 00:21:07.034 align:start position:23% line:-2
型が違うとExtensionが
干渉することもあります

00:21:07.201 --> 00:21:11.071 align:start position:14% line:-1
Extensionに登録されるドラッグは

00:21:11.171 --> 00:21:16.610 align:start position:21% line:-2
内部のものか
対応したいものだけにしてください

00:21:16.710 --> 00:21:21.482 align:start position:21% line:-2
WKWebViewでは多くの型の
ドラッグが登録されているので

00:21:21.582 --> 00:21:24.017 align:start position:32% line:-1
十分注意してください

00:21:25.986 --> 00:21:28.956 align:start position:30% line:-1
私からの紹介は以上です

00:21:29.056 --> 00:21:31.191 align:start position:34% line:-1
次は同僚のサンナが

00:21:31.291 --> 00:21:36.830 align:start position:27% line:-2
他者のアプリケーションとの
連携について紹介します

00:21:36.930 --> 00:21:37.564 align:start position:45% line:-1
どうも

00:21:37.664 --> 00:21:40.467 align:start position:43% line:-1
(拍手)

00:21:40.567 --> 00:21:41.602 align:start position:41% line:-1
ありがとう

00:21:42.336 --> 00:21:45.906 align:start position:20% line:-1
Photosエンジニアのサンナです

00:21:46.039 --> 00:21:49.943 align:start position:21% line:-1
今日はドラッグ＆ドロップを使った

00:21:50.043 --> 00:21:55.415 align:start position:23% line:-2
アプリケーション間の
アイテム移動についてお話します

00:21:57.484 --> 00:22:02.656 align:start position:23% line:-2
ドラッグ＆ドロップは
アイテム移動に便利な機能ですが

00:21:57.484 --> 00:22:02.656 align:start position:23% line:-2
ドラッグ＆ドロップは
アイテム移動に便利な機能ですが

00:22:03.223 --> 00:22:06.460 align:start position:23% line:-1
うまく機能しないこともあります

00:22:10.130 --> 00:22:14.134 align:start position:32% line:-2
このような問題を
解決していきましょう

00:22:14.535 --> 00:22:15.169 align:start position:45% line:-1
では…

00:22:15.269 --> 00:22:18.338 align:start position:43% line:-1
(拍手)

00:22:18.438 --> 00:22:21.275 align:start position:29% line:-1
まずは問題の理解からです

00:22:22.876 --> 00:22:25.846 align:start position:14% line:-2
macOSではNSPasteboardを
使っています

00:22:25.946 --> 00:22:28.582 align:start position:27% line:-1
両方のアプリケーションでは

00:22:28.682 --> 00:22:34.121 align:start position:23% line:-2
データの読み書きが
メインスレッドで行われています

00:22:34.221 --> 00:22:38.992 align:start position:32% line:-2
ローカルにデータが
保存される状況下では

00:22:39.092 --> 00:22:41.061 align:start position:23% line:-2
PasteboardにURLを
置くことができました

00:22:41.361 --> 00:22:43.197 align:start position:34% line:-1
これは昔のことです

00:22:43.297 --> 00:22:48.836 align:start position:23% line:-2
iCloudを使用している場合
データはローカルにありません

00:22:48.936 --> 00:22:52.673 align:start position:12% line:-1
そこでURLをPastboardに置く前に

00:22:52.773 --> 00:22:55.576 align:start position:23% line:-1
データのダウンロードが必要です

00:22:56.643 --> 00:23:00.514 align:start position:29% line:-2
またドラッグ＆ドロップの
設定も関係してきます

00:22:56.643 --> 00:23:00.514 align:start position:29% line:-2
またドラッグ＆ドロップの
設定も関係してきます

00:23:00.614 --> 00:23:04.184 align:start position:25% line:-1
つまり位置情報を保存する場合

00:23:04.284 --> 00:23:08.555 align:start position:27% line:-2
メタデータを含まない
新規ファイルが転送されます

00:23:09.122 --> 00:23:14.328 align:start position:27% line:-2
メインスレッドで
ダウンロードや転送を行うと

00:23:14.428 --> 00:23:17.498 align:start position:29% line:-1
時間がかかってしまいます

00:23:19.399 --> 00:23:23.504 align:start position:30% line:-2
そこで非同期のAPIが
必要になります

00:23:24.404 --> 00:23:29.243 align:start position:25% line:-2
ここで登場するのが
File Promiseです

00:23:30.377 --> 00:23:35.015 align:start position:23% line:-2
このAPIは
ローカルに存在しないファイルを

00:23:35.115 --> 00:23:39.319 align:start position:34% line:-2
指示された場所に
書き込んでくれます

00:23:39.586 --> 00:23:43.357 align:start position:25% line:-2
また裏での
ファイルの書き込みも可能です

00:23:45.526 --> 00:23:48.662 align:start position:32% line:-1
方法は２通りあります

00:23:48.762 --> 00:23:51.965 align:start position:5% line:-2
NSFilePromiseReceiverを使った
ファイルの受信と

00:23:52.065 --> 00:23:55.369 align:start position:5% line:-2
NSFilePromiseProviderを使った
ファイルの送信です

00:23:55.802 --> 00:24:00.474 align:start position:12% line:-2
これらのAPIは
macOS Sierraから導入されました

00:23:55.802 --> 00:24:00.474 align:start position:12% line:-2
これらのAPIは
macOS Sierraから導入されました

00:24:02.376 --> 00:24:05.279 align:start position:11% line:-1
まずはFile Promiseの受信からです

00:24:08.882 --> 00:24:10.484 align:start position:39% line:-1
原則として―

00:24:11.151 --> 00:24:14.655 align:start position:21% line:-2
ドラッグ＆ドロップをサポートする
アプリケーションでは

00:24:14.755 --> 00:24:18.258 align:start position:12% line:-2
ファイルURLとFile Promiseの
両方に対応しています

00:24:19.960 --> 00:24:22.896 align:start position:20% line:-2
File Promiseを提供する
アプリケーションは複数あります

00:24:23.997 --> 00:24:29.169 align:start position:20% line:-2
Photosではドラッグする際
File Promiseを使います

00:24:29.636 --> 00:24:31.638 align:start position:23% line:-1
macOS Mojaveからは

00:24:31.738 --> 00:24:36.810 align:start position:29% line:-2
人やメモリーのドラッグも
可能になっています

00:24:36.944 --> 00:24:39.847 align:start position:14% line:-2
様々なケースで
File Promiseが使われています

00:24:40.647 --> 00:24:43.951 align:start position:23% line:-2
Mailではメッセージを
Finderにドラッグする時に

00:24:44.051 --> 00:24:47.054 align:start position:16% line:-1
File Promiseを使っています

00:24:47.754 --> 00:24:52.192 align:start position:29% line:-2
Safariでは
画像をドラッグする時です

00:24:52.693 --> 00:24:58.966 align:start position:18% line:-2
Keynoteでは スライドの一部を
ドラッグする時です

00:25:00.467 --> 00:25:03.303 align:start position:21% line:-1
つまりファイルを送受信したければ

00:25:03.403 --> 00:25:09.176 align:start position:20% line:-2
File Promiseを読み込み
受信を承諾する必要があります

00:25:09.776 --> 00:25:12.513 align:start position:27% line:-1
ではコードを見てみましょう

00:25:14.982 --> 00:25:18.619 align:start position:4% line:-2
まずregisterForDraggedTypesを
呼び出し

00:25:18.719 --> 00:25:21.355 align:start position:29% line:-1
承諾する型を登録させます

00:25:21.455 --> 00:25:24.324 align:start position:14% line:-1
File Promiseを承諾するために

00:25:24.424 --> 00:25:29.863 align:start position:4% line:-2
NSFilePromiseRecevier内の
readableDraggerdTypesを使います

00:25:31.999 --> 00:25:38.906 align:start position:25% line:-2
ドラッグ操作を実行したり
アイテムを列挙したりするには

00:25:39.373 --> 00:25:44.511 align:start position:12% line:-2
NSFilePromiseReciverに
supportを追加しておきます

00:25:45.112 --> 00:25:49.850 align:start position:30% line:-2
これは質の高い表現を
含む場合があるからです

00:25:52.419 --> 00:25:56.690 align:start position:7% line:-2
各filePromiseReceiverに対して
Promiseを呼び出します

00:25:57.224 --> 00:25:58.959 align:start position:36% line:-1
準備が整ったら―

00:25:59.626 --> 00:26:05.532 align:start position:14% line:-2
operationQueueで
Reader Blockが呼び出されます

00:25:59.626 --> 00:26:05.532 align:start position:14% line:-2
operationQueueで
Reader Blockが呼び出されます

00:26:07.501 --> 00:26:11.205 align:start position:11% line:-1
operationQueueの提供が重要です

00:26:12.339 --> 00:26:16.477 align:start position:29% line:-2
これはファイルが
ダウンロードされている間

00:26:16.577 --> 00:26:21.548 align:start position:29% line:-2
メインスレッドを
ブロックさせないためです

00:26:22.182 --> 00:26:24.818 align:start position:30% line:-1
ネットワークが遅い場合

00:26:24.918 --> 00:26:30.891 align:start position:27% line:-2
ファイルのダウンロードには
時間がかかってしまいます

00:26:33.527 --> 00:26:38.632 align:start position:30% line:-2
これを改善するには
ローディングを表示させ

00:26:39.099 --> 00:26:43.537 align:start position:34% line:-2
準備が整った時点で
UIを置き換えます

00:26:45.873 --> 00:26:48.375 align:start position:30% line:-1
これはMailの例です

00:26:49.543 --> 00:26:55.649 align:start position:21% line:-2
画像がダウンロードされている間の
プレースホルダーUIです

00:27:00.921 --> 00:27:03.490 align:start position:20% line:-1
File Promiseの受信です

00:27:03.590 --> 00:27:06.627 align:start position:27% line:-1
次は送信を見ていきましょう

00:27:07.094 --> 00:27:10.964 align:start position:34% line:-2
データがローカルに
存在しない場合は

00:27:11.198 --> 00:27:15.836 align:start position:27% line:-2
アプリケーションに
これを実装してみてください

00:27:16.437 --> 00:27:18.939 align:start position:27% line:-1
では実際にAPIを見ながら

00:27:19.773 --> 00:27:21.842 align:start position:32% line:-1
説明していきましょう

00:27:25.646 --> 00:27:30.317 align:start position:7% line:-2
まずNSFilePromiseProviderの
インスタンスを作成します

00:27:32.553 --> 00:27:35.255 align:start position:20% line:-1
Promisedファイルごとにです

00:27:35.355 --> 00:27:40.160 align:start position:12% line:-2
Pasteboardに書き込む
filePromiseProviderには

00:27:40.260 --> 00:27:43.964 align:start position:27% line:-2
ファイルの型とデリゲートが
必要です

00:27:44.198 --> 00:27:47.835 align:start position:27% line:-2
デリゲートは重いファイルを
処理してくれます

00:27:48.402 --> 00:27:52.639 align:start position:25% line:-2
デリゲートに対するメソッドは
３つだけです

00:27:53.040 --> 00:27:56.109 align:start position:7% line:-2
１つ目はDrag Destinationによって
呼び出され

00:27:56.710 --> 00:27:59.780 align:start position:32% line:-1
ファイル名を返します

00:27:59.913 --> 00:28:04.184 align:start position:16% line:-2
２つ目は
operationQueueを返します

00:27:59.913 --> 00:28:04.184 align:start position:16% line:-2
２つ目は
operationQueueを返します

00:28:04.852 --> 00:28:10.390 align:start position:21% line:-1
ファイルが書き込まれる場所ですね

00:28:11.024 --> 00:28:13.460 align:start position:32% line:-1
このメソッドを実装し

00:28:13.560 --> 00:28:17.664 align:start position:12% line:-2
operatonQueueを提供することを
お勧めします

00:28:18.065 --> 00:28:22.102 align:start position:32% line:-2
メインキューの使用を
避けるためです

00:28:24.137 --> 00:28:30.210 align:start position:16% line:-2
最後にファイルを書き込む
writePromiseを呼び出します

00:28:31.612 --> 00:28:34.815 align:start position:9% line:-2
completionHandlerの呼び出しも
忘れないでください

00:28:37.151 --> 00:28:40.921 align:start position:21% line:-1
以上がPromiseの送受信です

00:28:41.021 --> 00:28:46.226 align:start position:14% line:-2
File Promiseを送受信するのに
使用できる

00:28:46.326 --> 00:28:49.696 align:start position:23% line:-1
APIについてもカバーしました

00:28:49.797 --> 00:28:54.134 align:start position:29% line:-2
次はヨアヒムが
実際にデモをお見せします

00:28:54.234 --> 00:28:55.035 align:start position:45% line:-1
どうも

00:28:55.202 --> 00:28:58.939 align:start position:43% line:-1
(拍手)

00:28:59.039 --> 00:28:59.773 align:start position:41% line:-1
ありがとう

00:29:01.975 --> 00:29:02.976 align:start position:43% line:-1
おはよう

00:29:03.477 --> 00:29:08.849 align:start position:21% line:-2
では問題のある
簡単なアプリケーションを例にして

00:29:09.016 --> 00:29:12.786 align:start position:27% line:-2
Xcodeで
問題を解決していきましょう

00:29:19.893 --> 00:29:25.299 align:start position:30% line:-2
このアプリケーションに
ファイルをドラッグして

00:29:25.699 --> 00:29:28.702 align:start position:29% line:-1
このようにドロップします

00:29:29.503 --> 00:29:33.373 align:start position:21% line:-1
右上にあるボタンをクリックすると

00:29:33.974 --> 00:29:37.644 align:start position:21% line:-1
テキストを追加することができます

00:29:38.378 --> 00:29:40.647 align:start position:30% line:-1
少し上に動かしましょう

00:29:41.381 --> 00:29:45.485 align:start position:29% line:-2
準備が整ったら
このアプリケーションを―

00:29:46.487 --> 00:29:48.856 align:start position:27% line:-1
iMessageに送ります

00:29:52.626 --> 00:29:57.564 align:start position:27% line:-2
次にウェブで見つけた画像を
追加したいので

00:29:57.664 --> 00:29:59.433 align:start position:30% line:-1
Safariを開きます

00:30:01.135 --> 00:30:05.339 align:start position:29% line:-2
これをアプリケーションに
ドラッグします

00:30:06.773 --> 00:30:09.309 align:start position:34% line:-1
うまくいきませんね

00:30:09.409 --> 00:30:13.247 align:start position:29% line:-2
Xcodeから
この問題を修正しましょう

00:30:17.117 --> 00:30:20.187 align:start position:20% line:-2
これはメインの
View Controllerです

00:30:20.387 --> 00:30:24.091 align:start position:25% line:-1
問題の場所へと移動しましょう

00:30:24.391 --> 00:30:26.627 align:start position:36% line:-1
中身を見てみます

00:30:28.962 --> 00:30:32.800 align:start position:32% line:-2
ファイルのURLしか
登録されていないので

00:30:32.966 --> 00:30:37.638 align:start position:5% line:-1
FilePromiseReceiverも登録します

00:30:41.575 --> 00:30:46.313 align:start position:29% line:-2
次はドラッグ操作の部分を
修正しましょう

00:30:46.647 --> 00:30:50.450 align:start position:14% line:-2
FilePromiseReceiverが
必要になります

00:30:51.185 --> 00:30:52.052 align:start position:45% line:-1
では…

00:30:52.853 --> 00:30:55.289 align:start position:29% line:-1
次のメソッドに移動します

00:30:56.723 --> 00:31:01.328 align:start position:27% line:-2
サポートクラスのリストには
NSURLしかありません

00:30:56.723 --> 00:31:01.328 align:start position:27% line:-2
サポートクラスのリストには
NSURLしかありません

00:31:01.428 --> 00:31:05.499 align:start position:27% line:-2
そこで最初のインデックスに
追加をします

00:31:05.999 --> 00:31:08.602 align:start position:25% line:-1
NSFilePromise…

00:31:09.870 --> 00:31:11.138 align:start position:36% line:-1
Receiver

00:31:15.342 --> 00:31:19.713 align:start position:21% line:-2
Enumerationメソッドに
新規のケースを追加します

00:31:26.887 --> 00:31:32.359 align:start position:18% line:-2
受け取ったPromisedファイルの
URLを得たら

00:31:32.459 --> 00:31:35.329 align:start position:27% line:-1
同じメソッドを呼び出します

00:31:35.429 --> 00:31:39.700 align:start position:25% line:-2
ファイルのURLを得た時だけ
呼び出されます

00:31:40.601 --> 00:31:42.336 align:start position:32% line:-1
実際に見てみましょう

00:31:48.175 --> 00:31:49.810 align:start position:32% line:-1
アプリケーションです

00:31:50.277 --> 00:31:53.380 align:start position:18% line:-1
Safariの画像をドラッグすると…

00:31:53.881 --> 00:31:55.482 align:start position:36% line:-1
うまくいきました

00:31:55.582 --> 00:32:00.454 align:start position:43% line:-1
(拍手)

00:31:55.582 --> 00:32:00.454 align:start position:43% line:-1
(拍手)

00:32:00.554 --> 00:32:04.558 align:start position:34% line:-2
既存メソッド２つを
修正するだけです

00:32:04.758 --> 00:32:07.161 align:start position:18% line:-1
File Promiseの承諾ですね

00:32:08.962 --> 00:32:11.832 align:start position:25% line:-1
ではテキストを追加しましょう

00:32:15.169 --> 00:32:16.370 align:start position:38% line:-1
こんな感じです

00:32:16.537 --> 00:32:20.340 align:start position:30% line:-2
作成した画像を
まだ送信したくない場合

00:32:20.440 --> 00:32:24.578 align:start position:29% line:-2
デスクトップに
保存できたらいいですよね

00:32:27.247 --> 00:32:29.083 align:start position:36% line:-1
うまくいきません

00:32:29.183 --> 00:32:32.519 align:start position:25% line:-1
再度Xcodeに戻りましょう

00:32:38.025 --> 00:32:44.164 align:start position:23% line:-2
クラスの一番下にあるのは
オブジェクトを返すメソッドです

00:32:44.498 --> 00:32:48.802 align:start position:25% line:-2
この状態では
NSImageしか返しません

00:32:49.369 --> 00:32:53.474 align:start position:7% line:-2
これをfilePromisedProviderに
置き換えます

00:32:56.944 --> 00:32:59.012 align:start position:21% line:-1
fileProviderを作成し

00:32:59.346 --> 00:33:02.883 align:start position:27% line:-1
JPEGイメージを与えます

00:32:59.346 --> 00:33:02.883 align:start position:27% line:-1
JPEGイメージを与えます

00:33:03.250 --> 00:33:08.489 align:start position:16% line:-2
このuserInfoプロパティを使って
snapshotItemを保存します

00:33:08.856 --> 00:33:12.059 align:start position:23% line:-1
これは書き込みの際に使用します

00:33:13.927 --> 00:33:18.899 align:start position:0% line:-2
NSFilePromiseProvideDelegeteに
実装しましょう

00:33:22.035 --> 00:33:23.370 align:start position:38% line:-1
こんな感じです

00:33:24.471 --> 00:33:25.806 align:start position:38% line:-1
下に移動します

00:33:26.106 --> 00:33:29.710 align:start position:29% line:-2
そして３つのデリゲートを
実装します

00:33:32.146 --> 00:33:34.848 align:start position:27% line:-1
ファイル名を返すデリゲート

00:33:36.483 --> 00:33:39.820 align:start position:23% line:-1
ここでは静的ファイル名にします

00:33:41.188 --> 00:33:44.091 align:start position:16% line:-2
次はoperationQueueを返す
デリゲート

00:33:44.691 --> 00:33:46.894 align:start position:34% line:-1
ここにありましたね

00:33:47.861 --> 00:33:52.533 align:start position:25% line:-2
最後はファイルを
ディスクに書き込むデリゲート

00:33:58.639 --> 00:34:02.209 align:start position:7% line:-1
これでfilePromiseProviderから

00:33:58.639 --> 00:34:02.209 align:start position:7% line:-1
これでfilePromiseProviderから

00:34:02.309 --> 00:34:05.846 align:start position:14% line:-1
snapshotObjectが得られます

00:34:05.946 --> 00:34:11.385 align:start position:29% line:-2
ディスクへの書き込みには
JPEGを使用します

00:34:13.554 --> 00:34:14.655 align:start position:38% line:-1
見てみましょう

00:34:19.726 --> 00:34:22.362 align:start position:25% line:-1
今回はPhotosを使います

00:34:24.965 --> 00:34:26.967 align:start position:27% line:-1
画像をアプリケーションに…

00:34:28.001 --> 00:34:29.770 align:start position:38% line:-1
ドラッグします

00:34:31.038 --> 00:34:32.505 align:start position:34% line:-1
テキストを入れて…

00:34:36.143 --> 00:34:40.547 align:start position:27% line:-2
Finderデスクトップに
ドロップします

00:34:42.014 --> 00:34:42.783 align:start position:41% line:-1
このとおり

00:34:42.882 --> 00:34:47.987 align:start position:43% line:-1
(拍手)

00:34:55.596 --> 00:34:58.365 align:start position:29% line:-1
ご覧のように簡単な手順で

00:34:58.465 --> 00:35:04.505 align:start position:23% line:-2
Supportの追加や
UXの改善をすることができます

00:34:58.465 --> 00:35:04.505 align:start position:23% line:-2
Supportの追加や
UXの改善をすることができます

00:35:04.838 --> 00:35:07.341 align:start position:27% line:-1
ではエリックを呼びましょう

00:35:07.474 --> 00:35:08.108 align:start position:45% line:-1
どうも

00:35:08.208 --> 00:35:12.679 align:start position:43% line:-1
(拍手)

00:35:12.780 --> 00:35:13.914 align:start position:41% line:-1
すばらしい

00:35:14.014 --> 00:35:15.782 align:start position:36% line:-1
楽しめましたか？

00:35:15.883 --> 00:35:21.755 align:start position:25% line:-2
最後に私からこのセッションの
まとめをさせてもらいます

00:35:22.089 --> 00:35:25.526 align:start position:29% line:-1
まず皆さんに伝えたいのは

00:35:25.826 --> 00:35:28.996 align:start position:27% line:-2
Photosは
非常に重要だということです

00:35:29.096 --> 00:35:34.935 align:start position:21% line:-2
世界中の人たちが
毎日たくさんの写真を撮っています

00:35:35.602 --> 00:35:39.573 align:start position:20% line:-1
そしてPhotosに保存しています

00:35:41.074 --> 00:35:43.344 align:start position:30% line:-1
しかし これらの写真も

00:35:43.977 --> 00:35:49.049 align:start position:29% line:-2
共有や保存ができなければ
意味がありません

00:35:49.149 --> 00:35:49.850 align:start position:41% line:-1
ですから―

00:35:50.751 --> 00:35:54.688 align:start position:23% line:-1
人々は皆さんを頼りにしています

00:35:54.788 --> 00:36:00.094 align:start position:21% line:-2
見事なアプリケーションを作成する
デベロッパの皆さんです

00:35:54.788 --> 00:36:00.094 align:start position:21% line:-2
見事なアプリケーションを作成する
デベロッパの皆さんです

00:36:00.427 --> 00:36:04.832 align:start position:21% line:-1
２つのことを覚えておいてください

00:36:05.365 --> 00:36:07.267 align:start position:16% line:-1
まずFile Promiseの活用です

00:36:07.634 --> 00:36:12.606 align:start position:30% line:-2
Photosとの連携は
とても簡単ですから

00:36:13.607 --> 00:36:14.908 align:start position:32% line:-1
実践してみてください

00:36:15.008 --> 00:36:21.215 align:start position:21% line:-2
次にPhoto Project
Extensionにある―

00:36:21.315 --> 00:36:24.685 align:start position:21% line:-1
すべてのAPIを検証することです

00:36:26.386 --> 00:36:30.424 align:start position:30% line:-2
冒頭で伝えたように
飛躍を続ける市場ですし

00:36:30.524 --> 00:36:33.126 align:start position:25% line:-1
そこには大きな機会があります

00:36:33.427 --> 00:36:37.764 align:start position:23% line:-2
一緒にすばらしいPhotosを
作り上げていきましょう

00:36:40.334 --> 00:36:45.339 align:start position:32% line:-2
ぜひ今日の午後は
ラボにお越しください

00:36:45.439 --> 00:36:50.444 align:start position:21% line:-2
エンジニアがPhotoKitなど
様々な質問にお答えします

00:36:50.544 --> 00:36:55.849 align:start position:30% line:-2
皆さんとお話できるのを
待ち望んでいます

00:36:56.216 --> 00:36:58.785 align:start position:20% line:-1
引き続きWWDCを楽しんでください

00:36:58.885 --> 00:36:59.520 align:start position:41% line:-1
ありがとう

00:36:59.620 --> 00:37:04.224 align:start position:43% line:-1
(拍手)
