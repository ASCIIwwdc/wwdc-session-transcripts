WEBVTT

00:00:20.387 --> 00:00:23.724 align:middle
CloudKit中的新特性

00:00:30.364 --> 00:00:34.768 align:middle
下午好 欢迎参加第704环节的讲座
“CloudKit中的新特性”

00:00:35.169 --> 00:00:36.170 align:middle
我叫Olivier

00:00:36.236 --> 00:00:39.139 align:middle
是iCloud客户端团队的技术经理

00:00:39.973 --> 00:00:44.778 align:middle
一年前我们介绍了CloudKits
它对你们开发者来说

00:00:44.845 --> 00:00:48.615 align:middle
是一种驾驭iCloud的全新架构

00:00:50.284 --> 00:00:53.987 align:middle
我们在iOS 8上构建了很多

00:00:54.054 --> 00:00:55.389 align:middle
CloudKits的新特性

00:00:55.522 --> 00:00:59.526 align:middle
最明显是把iCloud Drive
和iCloud照片库

00:00:59.593 --> 00:01:03.730 align:middle
全部加入了CloudKit之中而
Mail Drop HomeKit

00:00:59.593 --> 00:01:03.730 align:middle
全部加入了CloudKit之中而
Mail Drop HomeKit

00:01:04.096 --> 00:01:08.035 align:middle
Safari历史同步和电话历史同步
也都使用了CloudKit

00:01:09.770 --> 00:01:11.872 align:middle
一年之后我们看到了什么？

00:01:13.307 --> 00:01:17.244 align:middle
我们上传了2400多亿个记录

00:01:18.178 --> 00:01:21.748 align:middle
我们存储了来自3亿多用户的

00:01:21.815 --> 00:01:25.152 align:middle
超过250PB的资源数据

00:01:26.787 --> 00:01:28.255 align:middle
我们真是喜不自禁

00:01:28.322 --> 00:01:31.425 align:middle
对于CloudKit带给我们

00:01:31.859 --> 00:01:34.695 align:middle
可靠性和稳定性

00:01:35.362 --> 00:01:39.867 align:middle
所以今年我们会再加入几个新特性

00:01:40.467 --> 00:01:44.204 align:middle
IOS和OS X上的备忘录
正在使用CloudKit

00:01:44.271 --> 00:01:47.708 align:middle
在你的设备之间实现备忘录同步

00:01:48.942 --> 00:01:51.411 align:middle
我们昨天介绍的新app-新闻

00:01:51.645 --> 00:01:55.148 align:middle
也是完全构建在
CloudKit公用数据库基础上的

00:01:56.283 --> 00:01:59.520 align:middle
今年就连WWDC app
也在使用CloudKit

00:02:00.020 --> 00:02:02.289 align:middle
最后一个要点
iOS 9上提供对iCloud备份

00:02:03.023 --> 00:02:06.393 align:middle
端口支持以便使用CloudKit

00:02:07.227 --> 00:02:09.562 align:middle
所以这其实有更大的意义

00:02:09.630 --> 00:02:12.466 align:middle
因为就用户数量 数据量

00:02:12.799 --> 00:02:14.501 align:middle
和每秒的请求数量而言

00:02:14.701 --> 00:02:17.471 align:middle
iCloud备份是我们最大的服务

00:02:19.907 --> 00:02:22.776 align:middle
我们也从你们开发者那里
得到了一些好的反馈

00:02:23.310 --> 00:02:26.747 align:middle
比如 Hipstamatic说
利用CloudKit我们得以专注于

00:02:26.813 --> 00:02:28.148 align:middle
构建自己的app

00:02:28.215 --> 00:02:30.050 align:middle
甚至还有些游刃有余

00:02:30.651 --> 00:02:33.187 align:middle
这正是构建CloudKit的原因

00:02:33.887 --> 00:02:37.457 align:middle
为了使你们这些开发者
能够专心构建优秀的app

00:02:37.524 --> 00:02:39.593 align:middle
构建美好的用户体验不用去设置服务器

00:02:39.860 --> 00:02:43.330 align:middle
不用去运营服务器

00:02:43.664 --> 00:02:46.733 align:middle
不用7乘24小时随时待命

00:02:48.268 --> 00:02:52.239 align:middle
AgileBits正在使用
CloudKit 同步密码数据

00:02:52.306 --> 00:02:53.340 align:middle
他们对此非常满意

00:02:53.407 --> 00:02:56.677 align:middle
他们这样说
CloudKit非常快速且高效

00:02:57.144 --> 00:02:59.780 align:middle
它使错误检测和排除变得简单易行

00:03:00.480 --> 00:03:05.586 align:middle
是CloudKit的设计目标之一

00:03:06.119 --> 00:03:09.223 align:middle
如果后台程序
网络或服务器端存在错误

00:03:09.289 --> 00:03:12.359 align:middle
我们会把该错误发回你的app

00:03:12.759 --> 00:03:15.729 align:middle
让你的app负责处理 重试

00:03:15.796 --> 00:03:17.464 align:middle
如果那么做是有意义的话

00:03:19.333 --> 00:03:24.137 align:middle
赞誉来自于IconFactory
“CloudKit最大的优点之一是

00:03:24.204 --> 00:03:27.040 align:middle
没有复杂的登陆程序或设置程序”

00:03:27.608 --> 00:03:29.643 align:middle
这也是我们的目标之一

00:03:30.043 --> 00:03:35.182 align:middle
让天衣无缝的用户体验成为可能

00:03:35.249 --> 00:03:36.650 align:middle
无需创建账户

00:03:36.717 --> 00:03:38.919 align:middle
无需录入密码或记住密码

00:03:40.954 --> 00:03:42.422 align:middle
除了这些良好的反馈之外

00:03:42.489 --> 00:03:45.092 align:middle
我们还听到了你们开发者提出一些问题

00:03:45.659 --> 00:03:47.261 align:middle
去年我们介绍CloudKit时

00:03:47.327 --> 00:03:49.096 align:middle
我们说它没有限制

00:03:49.863 --> 00:03:52.666 align:middle
所以我们收到了一些问题
比如 这是什么意思？

00:03:52.733 --> 00:03:55.435 align:middle
如果我的app达到限额怎么办？

00:03:55.802 --> 00:03:57.504 align:middle
我要付给苹果公司多少钱？

00:04:00.541 --> 00:04:03.110 align:middle
去年我们立刻收到的第二个问题
大意是这样的:

00:04:03.277 --> 00:04:04.811 align:middle
好的 但是网络呢？

00:04:05.078 --> 00:04:09.116 align:middle
如果我有一个网络app
我想让它能够访问

00:04:09.183 --> 00:04:13.086 align:middle
IOS和OS X CloudKit
app所访问的相同的数据怎么办

00:04:13.887 --> 00:04:15.355 align:middle
关于这两个问题的讨论

00:04:15.422 --> 00:04:17.156 align:middle
我要把它交给Eric

00:04:17.524 --> 00:04:19.660 align:middle
Eric是
iCloud服务器端团队的经理

00:04:26.733 --> 00:04:27.935 align:middle
谢谢 谢谢 Olivier

00:04:28.001 --> 00:04:30.470 align:middle
很高兴能在今天下午来到这里

00:04:30.537 --> 00:04:32.372 align:middle
和你们讨论CloudKit的新特性

00:04:32.940 --> 00:04:34.708 align:middle
首先我们来回答第一个问题

00:04:34.775 --> 00:04:35.876 align:middle
要花多少钱？

00:04:36.343 --> 00:04:38.645 align:middle
来看CloudKit的使用和价格

00:04:38.812 --> 00:04:40.080 align:middle
在此之前 我们需要理解

00:04:40.147 --> 00:04:42.349 align:middle
CloudKit的架构

00:04:43.417 --> 00:04:46.486 align:middle
当你使用CloudKit时
你所有的数据都存储在

00:04:46.553 --> 00:04:47.921 align:middle
你的CloudKit容器中

00:04:48.255 --> 00:04:50.257 align:middle
这个地方存储着你所有的数据

00:04:50.524 --> 00:04:52.593 align:middle
你能够以两种不同的方式存储这些数据

00:04:53.126 --> 00:04:58.232 align:middle
一种是作为私人数据库
另一种是作为公用数据库

00:04:59.032 --> 00:05:02.035 align:middle
私人数据库是用户的私人数据

00:04:59.032 --> 00:05:02.035 align:middle
私人数据库是用户的私人数据

00:05:02.970 --> 00:05:05.239 align:middle
比如iCloud照片库

00:05:05.405 --> 00:05:08.575 align:middle
你拍的
所有照片都存在CloudKit中

00:05:09.009 --> 00:05:11.345 align:middle
用户本人可以对其进行访问和管理

00:05:11.478 --> 00:05:13.480 align:middle
由于这是用户的私人数据

00:05:13.614 --> 00:05:17.217 align:middle
它占用是用户的存储限额 不是开发者

00:05:18.151 --> 00:05:19.953 align:middle
现在我们来看公用数据库

00:05:20.387 --> 00:05:22.155 align:middle
这是应用的公用数据

00:05:22.689 --> 00:05:25.325 align:middle
关于这个的最佳案例是我们昨天刚发布

00:05:25.492 --> 00:05:27.160 align:middle
新的新闻app

00:05:27.594 --> 00:05:30.464 align:middle
其中所有的新闻文章
是通过CloudKit公用数据库

00:05:30.531 --> 00:05:33.700 align:middle
分布在所有的新闻应用之中

00:05:34.301 --> 00:05:36.503 align:middle
由于它是应用的公用数据

00:05:36.770 --> 00:05:39.506 align:middle
它占用的是开发者的存储限额

00:05:39.840 --> 00:05:42.910 align:middle
所以当我们讨论价格和使用时

00:05:42.976 --> 00:05:45.979 align:middle
我们其实是在讨论公用数据库的使用

00:05:46.780 --> 00:05:47.915 align:middle
我们来看看这是什么意思

00:05:50.050 --> 00:05:51.718 align:middle
对于我们提供的公用数据库

00:05:52.052 --> 00:05:53.220 align:middle
我们有一定的免费限额

00:05:54.121 --> 00:05:57.424 align:middle
如果你超出了免费限额
我们还有一个收费结构

00:05:58.158 --> 00:05:59.860 align:middle
此外 我们还有使用数据

00:06:00.761 --> 00:06:02.062 align:middle
我们来看看免费限额

00:06:03.964 --> 00:06:08.635 align:middle
你把资源存在云盘里 追踪到这些资源

00:06:09.236 --> 00:06:11.071 align:middle
一开始会送你10GB

00:06:11.805 --> 00:06:14.007 align:middle
所以 如果你没有用户 你刚开始发展

00:06:14.341 --> 00:06:15.275 align:middle
送你10G

00:06:15.709 --> 00:06:18.245 align:middle
随着你的用户数量增长

00:06:18.312 --> 00:06:20.514 align:middle
随着你的应用越来越受欢迎

00:06:20.948 --> 00:06:24.184 align:middle
我们会给你增加每人额外250MB

00:06:24.251 --> 00:06:27.321 align:middle
我们会为这些用你应用的用户

00:06:28.355 --> 00:06:32.059 align:middle
我们可以增加到
最高可达1PB的存储空间

00:06:34.161 --> 00:06:35.229 align:middle
同样

00:06:35.295 --> 00:06:37.798 align:middle
对于你存储记录数据的数据库

00:06:38.232 --> 00:06:42.002 align:middle
我们一开始会送你100MB
每个用户可增加2.5MB

00:06:42.069 --> 00:06:44.137 align:middle
最高可达10TB的免费限额

00:06:45.305 --> 00:06:48.942 align:middle
除了数据存储以外 还提供数据传输

00:06:49.743 --> 00:06:50.711 align:middle
上传和下载资源时

00:06:50.777 --> 00:06:53.347 align:middle
你会消耗带宽

00:06:54.248 --> 00:06:56.350 align:middle
我们一开始会每月送你2GB的

00:06:56.583 --> 00:06:59.253 align:middle
数据传输量与其他配给一样

00:07:00.087 --> 00:07:02.789 align:middle
随着你的用户数量增加 会增加限额

00:07:02.856 --> 00:07:05.292 align:middle
我们每人每月会增加50MB

00:07:06.026 --> 00:07:08.996 align:middle
提供每月最高200TB的数据传输量

00:07:09.096 --> 00:07:11.932 align:middle
全部免费

00:07:13.333 --> 00:07:15.869 align:middle
对于数据库 情况略有不同

00:07:16.370 --> 00:07:19.173 align:middle
我们的衡量依据是每秒的请求

00:07:19.873 --> 00:07:23.277 align:middle
我们一开始会送你每秒40个请求
这个量很大

00:07:23.810 --> 00:07:25.879 align:middle
与其他配给一样

00:07:26.413 --> 00:07:27.781 align:middle
它会随着用户数量增长

00:07:27.848 --> 00:07:29.049 align:middle
每增加10万用户

00:07:29.116 --> 00:07:31.985 align:middle
会有每秒10个请求的增量

00:07:32.352 --> 00:07:35.255 align:middle
最高可达每秒400个免费请求

00:07:35.722 --> 00:07:38.325 align:middle
关于每秒的请求数

00:07:38.392 --> 00:07:39.893 align:middle
重要的是它其实是一种节流限制

00:07:40.360 --> 00:07:42.996 align:middle
如果因为某种原因
你的应用达到了这些限额

00:07:43.230 --> 00:07:46.099 align:middle
我们会向你发送客户端节流错误

00:07:46.166 --> 00:07:47.935 align:middle
告诉你 你已达到了限额

00:07:49.269 --> 00:07:50.637 align:middle
随后我们再来讨论一下

00:07:50.704 --> 00:07:52.206 align:middle
如何确保这种情况不会再次发生

00:07:54.408 --> 00:07:56.810 align:middle
好的 如果你真的超过了这些限额

00:07:56.877 --> 00:07:58.278 align:middle
可以付费获取更多用量

00:07:58.545 --> 00:08:00.214 align:middle
也就是我们的公用数据库费用

00:07:58.545 --> 00:08:00.214 align:middle
也就是我们的公用数据库费用

00:08:01.281 --> 00:08:03.350 align:middle
现在的情况是已超出了
我们送你的免费限额

00:08:03.417 --> 00:08:07.721 align:middle
所以这个增量范围是在
你得到的免费限额和你的用量之间

00:08:08.455 --> 00:08:11.758 align:middle
资源是每月0.03美元/GB

00:08:12.226 --> 00:08:14.127 align:middle
数据库是每月3.00美元/GB

00:08:14.862 --> 00:08:16.196 align:middle
在数据传输方面

00:08:16.263 --> 00:08:18.565 align:middle
传输资源是0.10美元/GB

00:08:19.132 --> 00:08:20.901 align:middle
对于数据库的请求价格

00:08:21.235 --> 00:08:24.037 align:middle
100美元可额外增加10个请求/秒

00:08:24.271 --> 00:08:26.673 align:middle
如果你达到了免费限额

00:08:26.740 --> 00:08:29.042 align:middle
你可以根据需要增加用量

00:08:29.109 --> 00:08:30.410 align:middle
直到你的应用能够平稳运行

00:08:33.881 --> 00:08:35.716 align:middle
当然 推送是免费的

00:08:36.049 --> 00:08:38.619 align:middle
好的 我们现在来看一个

00:08:39.186 --> 00:08:42.289 align:middle
CloudKit计算器的演示

00:08:42.389 --> 00:08:46.126 align:middle
它的访问网址是
developer.apple.com/cloudkit

00:08:46.193 --> 00:08:47.895 align:middle
如果你还没玩过 你可以去玩玩

00:08:48.395 --> 00:08:50.464 align:middle
我要邀请
Ramiro Calvo来帮我操作

00:08:50.531 --> 00:08:52.699 align:middle
因为显然我无法边操作边讲话

00:08:53.166 --> 00:08:55.736 align:middle
他将帮我们演示这个

00:08:56.570 --> 00:08:59.873 align:middle
如果你进入这个计算器 会立刻注意到

00:09:00.073 --> 00:09:04.378 align:middle
我们的活跃用户为零

00:09:04.678 --> 00:09:09.583 align:middle
对吗？ 你可以看到它下面有一些数字

00:09:09.650 --> 00:09:11.885 align:middle
它们会告诉你
我们给你提供了多少免费的存储空间

00:09:11.985 --> 00:09:13.921 align:middle
起初 它和我们刚才说的一样

00:09:13.987 --> 00:09:15.422 align:middle
10GB的资源存储空间

00:09:15.489 --> 00:09:19.226 align:middle
100MB的数据库存储空间
每月2GB的数据传输量

00:09:19.393 --> 00:09:20.794 align:middle
以及每秒40个请求

00:09:21.428 --> 00:09:23.597 align:middle
现在假设我的应用开始腾飞了

00:09:23.664 --> 00:09:24.998 align:middle
我有10万个用户

00:09:25.399 --> 00:09:27.701 align:middle
我们把数字增加到10万

00:09:28.168 --> 00:09:30.504 align:middle
你会发现我们又给了你更多的存储空间

00:09:31.071 --> 00:09:33.373 align:middle
如果你看下屏幕底部

00:09:33.440 --> 00:09:35.876 align:middle
Ramiro也许你能滚动一下屏幕

00:09:35.943 --> 00:09:41.181 align:middle
你会发现花费其实是0美元

00:09:41.682 --> 00:09:43.684 align:middle
Ramiro请把屏幕向下滚动一点
谢谢

00:09:44.751 --> 00:09:46.753 align:middle
好的 可以看到花费是0美元

00:09:47.487 --> 00:09:49.957 align:middle
现在假设我们的用户达到了50万人

00:09:54.094 --> 00:09:56.663 align:middle
好的 我们又一次得到了很多存储空间

00:09:56.730 --> 00:09:58.732 align:middle
现在我们有多达125TB了

00:09:58.866 --> 00:10:02.569 align:middle
我们仍在增加限额 你的花费仍然是零

00:09:58.866 --> 00:10:02.569 align:middle
我们仍在增加限额 你的花费仍然是零

00:10:03.604 --> 00:10:04.872 align:middle
现在假设有100万用户

00:10:06.240 --> 00:10:08.175 align:middle
好的 现在我们有很多用户了

00:10:08.809 --> 00:10:10.143 align:middle
我们有很多存储空间

00:10:10.210 --> 00:10:12.579 align:middle
我们有多达250TB的数据

00:10:13.881 --> 00:10:15.983 align:middle
每秒有很多请求 它还是免费的

00:10:16.450 --> 00:10:18.018 align:middle
现在假设有400万用户

00:10:19.953 --> 00:10:21.989 align:middle
好的 现在是400万用户了

00:10:22.055 --> 00:10:23.490 align:middle
你会看到这里将出现很大的数字

00:10:24.258 --> 00:10:27.494 align:middle
我们有多达1PT的存储空间
10TB的数据库存储空间

00:10:27.895 --> 00:10:31.298 align:middle
每月200TB的数据传输量

00:10:31.365 --> 00:10:33.934 align:middle
这是相当多的数据

00:10:34.001 --> 00:10:36.136 align:middle
所有这些依然不需要你花费分毫

00:10:36.837 --> 00:10:39.139 align:middle
现在来回想一下价格阶梯

00:10:39.740 --> 00:10:41.074 align:middle
在某种情况下 我们达到了限额

00:10:41.375 --> 00:10:42.776 align:middle
这个限额貌似就在这里

00:10:42.910 --> 00:10:44.311 align:middle
你得到了约1PB的存储空间

00:10:44.378 --> 00:10:46.046 align:middle
你能得到的最大限额

00:10:46.113 --> 00:10:49.650 align:middle
那么随着我们增加更多的用户
一定会有一些花费

00:10:49.716 --> 00:10:51.051 align:middle
假设有500万用户

00:10:54.154 --> 00:10:57.024 align:middle
这里的花费是仍是免费的

00:10:57.558 --> 00:10:59.193 align:middle
这是怎么回事？

00:11:00.027 --> 00:11:03.931 align:middle
如果你的应用的平均用量

00:11:03.997 --> 00:11:06.466 align:middle
少于我们送你的每个用户的用量
仍然不需要你花费分毫

00:11:06.733 --> 00:11:07.768 align:middle
因为是平均值

00:11:07.835 --> 00:11:10.304 align:middle
这意味着有些用户也许超出了平均用量

00:11:10.370 --> 00:11:12.673 align:middle
有些也许用得少一些 这都没有关系

00:11:12.973 --> 00:11:14.141 align:middle
它仍然无需你花费分毫

00:11:14.541 --> 00:11:16.610 align:middle
所以我们可以一直加到一千万人

00:11:17.010 --> 00:11:20.180 align:middle
结果显示仍然无需你花费分毫 对吧

00:11:20.280 --> 00:11:23.717 align:middle
如果你能正确构建你的应用

00:11:23.784 --> 00:11:25.819 align:middle
保持在我们送你的免费限额之内

00:11:26.186 --> 00:11:29.489 align:middle
这就是我们的计算方式
如果你想获取更多信息

00:11:29.556 --> 00:11:30.591 align:middle
请使用该计算器

00:11:31.024 --> 00:11:31.925 align:middle
感谢 Ramiro

00:11:40.534 --> 00:11:43.237 align:middle
好的 下一个问题是
我如何知道我用了多少？

00:11:43.770 --> 00:11:45.572 align:middle
CloudKit
Dashboard

00:11:45.639 --> 00:11:46.840 align:middle
是我们显示该信息的场所

00:11:47.074 --> 00:11:49.443 align:middle
Dashboard是一个网络应用

00:11:49.510 --> 00:11:52.045 align:middle
网址是
developer.apple.com

00:11:52.112 --> 00:11:54.348 align:middle
你可以在这里查看你的容器

00:11:54.448 --> 00:11:58.585 align:middle
管理你的记录类型

00:11:58.652 --> 00:12:01.255 align:middle
不管它们是正在开发中
还是已经完成了开发

00:11:58.652 --> 00:12:01.255 align:middle
不管它们是正在开发中
还是已经完成了开发

00:12:01.989 --> 00:12:04.024 align:middle
我们又添加了一些新功能

00:12:04.925 --> 00:12:07.661 align:middle
如果你去看看我们添加了什么

00:12:07.728 --> 00:12:10.364 align:middle
你会发现有个称为用法的新部分

00:12:10.964 --> 00:12:12.533 align:middle
你可以去那里看看

00:12:12.599 --> 00:12:15.035 align:middle
你的应用容器性能如何

00:12:16.770 --> 00:12:18.005 align:middle
如果我们点进去

00:12:18.238 --> 00:12:20.107 align:middle
我们会有几种不同的方法
来查看这些数据

00:12:20.174 --> 00:12:23.310 align:middle
我们可以按天浏览或按月浏览

00:12:25.846 --> 00:12:28.315 align:middle
如果你是按天查看信息

00:12:28.382 --> 00:12:30.584 align:middle
该图表的最上面是用户数量

00:12:30.651 --> 00:12:32.085 align:middle
这非常重要

00:12:32.286 --> 00:12:36.123 align:middle
因为我们正是根据你的用户数量
来计算送你多少免费资源

00:12:36.190 --> 00:12:37.524 align:middle
所以你应该先看一下这个

00:12:38.392 --> 00:12:40.327 align:middle
现在你还会注意到

00:12:40.627 --> 00:12:41.995 align:middle
右边有一些虚线

00:12:42.062 --> 00:12:44.932 align:middle
因为我们给你的是两个月的数据

00:12:44.998 --> 00:12:47.100 align:middle
上个月和当月

00:12:47.167 --> 00:12:48.769 align:middle
当月取决于你的所在月份

00:12:48.836 --> 00:12:50.370 align:middle
其中有一些是预测

00:12:50.671 --> 00:12:52.706 align:middle
我们会根据您的容器之前的活动

00:12:52.773 --> 00:12:55.142 align:middle
为你作出预测

00:12:56.476 --> 00:12:58.545 align:middle
下面是另一幅图表

00:12:58.612 --> 00:13:00.814 align:middle
它显示的是每秒的请求

00:12:58.612 --> 00:13:00.814 align:middle
它显示的是每秒的请求

00:13:00.881 --> 00:13:03.617 align:middle
每天我们会向你展示我们所看到的

00:13:03.684 --> 00:13:05.118 align:middle
某一天的每秒请求峰值是什么

00:13:06.386 --> 00:13:09.823 align:middle
你还可以选择按月 如果你选择按月

00:13:09.957 --> 00:13:12.693 align:middle
你会看到12个月每个月份的

00:13:12.960 --> 00:13:14.494 align:middle
应用活动情况

00:13:15.095 --> 00:13:17.164 align:middle
而当月是典型的

00:13:17.231 --> 00:13:19.933 align:middle
用虚线表示的预测

00:13:20.000 --> 00:13:22.603 align:middle
基本上就是我们对当月的预期

00:13:23.504 --> 00:13:25.839 align:middle
现在我们往下滚屏来看看其他几幅图表

00:13:27.040 --> 00:13:29.576 align:middle
这是数据库存储和资源存储

00:13:30.277 --> 00:13:31.879 align:middle
你会发现这里有些不同

00:13:31.945 --> 00:13:33.013 align:middle
你会看到两条线

00:13:33.146 --> 00:13:35.649 align:middle
上面是一条红线 下面是一条黄线

00:13:36.083 --> 00:13:40.787 align:middle
红线代表我们送给你的免费的存储量

00:13:41.455 --> 00:13:44.391 align:middle
黄线代表你的实际用量是多少

00:13:45.058 --> 00:13:47.194 align:middle
所以现在你们大家要玩的游戏是

00:13:47.261 --> 00:13:49.930 align:middle
如何让黄线保持在红线以下 对吗

00:13:50.564 --> 00:13:53.166 align:middle
你要查看该信息的确切方法是

00:13:53.333 --> 00:13:56.503 align:middle
点击右侧这里的限额箱

00:13:56.570 --> 00:13:58.805 align:middle
它默认是关闭的

00:13:58.872 --> 00:14:00.107 align:middle
如果你愿意可以把它打开

00:13:58.872 --> 00:14:00.107 align:middle
如果你愿意可以把它打开

00:14:00.607 --> 00:14:04.144 align:middle
之所以默认为关闭是因为
我们送给你那么多免费的存储空间

00:14:04.211 --> 00:14:05.913 align:middle
如果你点开它比例尺会发生变化

00:14:05.979 --> 00:14:08.715 align:middle
与我们送给你的免费存储量相比

00:14:08.782 --> 00:14:10.350 align:middle
你的用量基本上会看似一条直线

00:14:11.118 --> 00:14:12.553 align:middle
所以请别客气 去试试看吧

00:14:13.754 --> 00:14:16.256 align:middle
CloudKit
Dashboard可提供两样东西

00:14:16.723 --> 00:14:19.993 align:middle
跟踪使用数据是一个新领域

00:14:20.127 --> 00:14:21.795 align:middle
也会送你们免费限额

00:14:22.696 --> 00:14:27.434 align:middle
如今可用的测试版已公布在
developer.apple.com

00:14:27.501 --> 00:14:28.702 align:middle
如果你已有容器

00:14:28.769 --> 00:14:31.538 align:middle
今天你就可用去那里

00:14:32.139 --> 00:14:33.974 align:middle
看看Dashboard上的使用数据

00:14:38.345 --> 00:14:39.313 align:middle
好的

00:14:39.379 --> 00:14:41.915 align:middle
人们提出的第二个问题是
“那么网络呢？”

00:14:42.549 --> 00:14:44.351 align:middle
我很高兴向你们介绍

00:14:44.518 --> 00:14:46.887 align:middle
最新的CloudKit网络服务

00:14:47.421 --> 00:14:49.223 align:middle
就是这个方法 是的 好

00:14:55.329 --> 00:14:57.798 align:middle
通过它 可以对接超强的iOS

00:14:57.865 --> 00:15:00.567 align:middle
和OS X应用
可用把它们扩展到网络上

00:14:57.865 --> 00:15:00.567 align:middle
和OS X应用
可用把它们扩展到网络上

00:15:01.735 --> 00:15:02.903 align:middle
那么它是如何运作的呢？

00:15:03.270 --> 00:15:04.638 align:middle
我们先来讨论一下它的特性

00:15:04.705 --> 00:15:09.009 align:middle
你可以通过JSON和HTTPS
获取完整的CloudKit API

00:15:09.810 --> 00:15:12.279 align:middle
我们也提供CloudKit JS库

00:15:12.346 --> 00:15:13.780 align:middle
它无疑是迅速创建网络应用的

00:15:13.847 --> 00:15:15.682 align:middle
最佳方式

00:15:16.550 --> 00:15:19.052 align:middle
我们会提供的网络注册
要使用Apple ID

00:15:19.119 --> 00:15:20.554 align:middle
用户使用你的网络app时

00:15:20.621 --> 00:15:22.022 align:middle
需要以这种方式进行验证

00:15:24.791 --> 00:15:30.130 align:middle
那么它是如何运作的？
如果你观察下 会发现你的应用正在

00:15:30.264 --> 00:15:31.665 align:middle
iOS和OS X上运行

00:15:31.732 --> 00:15:34.168 align:middle
它与CloudKit框架在幕后互动

00:15:34.501 --> 00:15:36.937 align:middle
与我们的CloudKit服务器对话

00:15:38.272 --> 00:15:39.973 align:middle
我们今天为你介绍的是

00:15:40.774 --> 00:15:43.810 align:middle
创建你自己的网络应用的能力

00:15:43.877 --> 00:15:47.881 align:middle
在浏览器中运行
并讨论JSON HTTPS

00:15:48.749 --> 00:15:51.652 align:middle
和我们的CloudKit网络服务
它能让你

00:15:51.752 --> 00:15:54.254 align:middle
相同的CloudKit服务器对话

00:15:54.621 --> 00:15:57.658 align:middle
在iOS和OS X上
进行交互的本地应用程序

00:15:58.926 --> 00:16:01.862 align:middle
关键是要理解JSON和HTTPS

00:15:58.926 --> 00:16:01.862 align:middle
关键是要理解JSON和HTTPS

00:16:01.929 --> 00:16:04.031 align:middle
关于这个它其实就是技术规范

00:16:04.698 --> 00:16:05.832 align:middle
没有代码

00:16:06.200 --> 00:16:07.935 align:middle
事实上它完全取决于开发者

00:16:08.001 --> 00:16:09.102 align:middle
对该技术规范的解读

00:16:09.736 --> 00:16:12.539 align:middle
你得创建你自己的端点达到端点

00:16:12.840 --> 00:16:16.143 align:middle
你必须创建URL并构造JSON

00:16:16.210 --> 00:16:19.346 align:middle
后者进入实体并在请求中向上传递
您取回 JSON 响应

00:16:19.413 --> 00:16:22.382 align:middle
对其进行解析
处理资源的上传与下载

00:16:22.449 --> 00:16:24.751 align:middle
重试逻辑等等等等

00:16:25.219 --> 00:16:30.290 align:middle
但这样做更好的方法是使用
CloudKit JS架构

00:16:30.991 --> 00:16:34.828 align:middle
CloudKit JS提供了可用的
JavaScript API

00:16:35.028 --> 00:16:40.601 align:middle
使你避免了HTTPS和JSOH协议
背后的一切复杂性

00:16:41.034 --> 00:16:43.804 align:middle
你可以使用其中任何一个
但如果你去另谋出路

00:16:43.871 --> 00:16:46.173 align:middle
你很可能是疯了
所以请使用CloudKit JS

00:16:48.242 --> 00:16:49.409 align:middle
那么它能给你什么呢？

00:16:49.476 --> 00:16:50.944 align:middle
好的 它能给你全面的

00:16:51.011 --> 00:16:52.446 align:middle
公用与私人数据库的存取

00:16:53.046 --> 00:16:54.848 align:middle
它能给你所有的记录操作

00:16:55.315 --> 00:16:57.251 align:middle
它能让你上传和下载资源

00:16:58.018 --> 00:16:59.820 align:middle
它能让你进行查询

00:17:00.420 --> 00:17:03.090 align:middle
它甚至能让你收到订阅和通知

00:17:03.524 --> 00:17:06.960 align:middle
这意味着我的网络应用

00:17:07.060 --> 00:17:09.829 align:middle
能够收到不同步的事件
就好像你收到推送

00:17:09.896 --> 00:17:12.398 align:middle
告诉你事情有变

00:17:12.532 --> 00:17:13.901 align:middle
或通知你一些其他事情

00:17:13.967 --> 00:17:16.737 align:middle
所以你无需让用户点击更新按钮

00:17:16.803 --> 00:17:17.905 align:middle
或是退出你的网络应用

00:17:18.939 --> 00:17:20.574 align:middle
它还可以发现用户的数据变化

00:17:21.441 --> 00:17:23.810 align:middle
它有能力解答
自定义区中的语义发生了哪些变化

00:17:23.877 --> 00:17:26.680 align:middle
这会为您提供同步的语义

00:17:27.347 --> 00:17:31.285 align:middle
简而言之 它给你的是全面的兼容性

00:17:31.351 --> 00:17:32.819 align:middle
以及在iOS和OS X上运行的

00:17:33.187 --> 00:17:35.923 align:middle
本地CloudKit中的一切能力

00:17:41.161 --> 00:17:44.831 align:middle
正如我之前所说
目前CloudKit JS绝对是

00:17:44.898 --> 00:17:46.133 align:middle
开发网络应用的最佳方式

00:17:46.200 --> 00:17:48.001 align:middle
它是JavaScript API

00:17:48.302 --> 00:17:50.704 align:middle
它与
本地CloudKit API相匹配

00:17:50.771 --> 00:17:52.673 align:middle
JavaScript与
Objective-C语言相配

00:17:52.739 --> 00:17:54.641 align:middle
但你知道我们已经尽力了
它是相当接近

00:17:55.108 --> 00:17:56.510 align:middle
因为没有中间服务器

00:17:56.577 --> 00:17:59.313 align:middle
可创建你的JavaScript应用

00:17:59.713 --> 00:18:02.216 align:middle
你可以直接和CloudKit对话
你知道

00:17:59.713 --> 00:18:02.216 align:middle
你可以直接和CloudKit对话
你知道

00:18:02.282 --> 00:18:06.453 align:middle
幕后的CloudKit网络服务

00:18:06.520 --> 00:18:08.622 align:middle
你无需运行你自己的服务器
或任何中间服务器

00:18:09.256 --> 00:18:12.559 align:middle
现在要介绍的是
如何创建新的备忘录网络应用

00:18:13.026 --> 00:18:15.696 align:middle
这个前几天曾演示过

00:18:16.330 --> 00:18:21.034 align:middle
让Ramiro Calvo帮忙
来演示一下

00:18:21.101 --> 00:18:25.839 align:middle
向你演示基于CloudKit JS
新的备忘录网络应用

00:18:32.679 --> 00:18:34.948 align:middle
好的
我们先从icloud.com开始

00:18:35.249 --> 00:18:36.483 align:middle
这是我们的跳板

00:18:36.550 --> 00:18:38.519 align:middle
这里已经有一些网络应用了

00:18:38.852 --> 00:18:42.022 align:middle
你会看到一些熟悉的应用
有照片和iCloud Drive

00:18:42.389 --> 00:18:43.390 align:middle
这是两个已经存在于

00:18:43.457 --> 00:18:45.626 align:middle
CloudKit上部的应用程序

00:18:46.293 --> 00:18:51.431 align:middle
在iOS 9中 新的备忘录应用
也是建立在CloudKit上

00:18:51.732 --> 00:18:55.903 align:middle
所以我们已在CloudKit上
创建了一个新的网络应用

00:18:56.270 --> 00:18:59.840 align:middle
在接下来的演示中
你会看到它丰富的能力

00:19:00.674 --> 00:19:02.075 align:middle
Ramiro将会点进去

00:19:02.142 --> 00:19:03.243 align:middle
这是它的网络app

00:19:03.544 --> 00:19:05.712 align:middle
你会在这里看到一些主要内容

00:19:05.913 --> 00:19:06.947 align:middle
你会看到图片

00:19:07.014 --> 00:19:08.182 align:middle
你能编辑视频

00:19:08.482 --> 00:19:09.716 align:middle
这里有个复选框

00:19:10.083 --> 00:19:12.186 align:middle
所以这些事情在新的备忘录app中
都能实现

00:19:12.286 --> 00:19:14.988 align:middle
它们只是
CloudKit的资源和记录

00:19:15.255 --> 00:19:18.825 align:middle
好的
现在我们要创建一个全新的备忘录

00:19:19.860 --> 00:19:21.929 align:middle
因为我们正在参加开发者大会

00:19:21.995 --> 00:19:23.397 align:middle
我们也许应该安排一下

00:19:23.463 --> 00:19:25.632 align:middle
在这里参加开发者大会时该做些什么

00:19:26.466 --> 00:19:28.402 align:middle
所以也许我们应该先从其中一件

00:19:28.468 --> 00:19:30.304 align:middle
较为重要的事情开始

00:19:30.871 --> 00:19:33.106 align:middle
我们要确保我们会参加所有的会后派对

00:19:33.373 --> 00:19:34.741 align:middle
让我们把这件事列在单子上

00:19:38.178 --> 00:19:40.747 align:middle
在我们参加完会后派对之后

00:19:41.248 --> 00:19:46.587 align:middle
我们真得访问一下
developer.apple.com/cloudkit

00:19:47.054 --> 00:19:49.389 align:middle
看看所有优秀的文稿

00:19:49.489 --> 00:19:51.592 align:middle
包括这个超棒的介绍

00:19:51.658 --> 00:19:54.094 align:middle
在那里你会找到一切

00:19:54.161 --> 00:19:56.864 align:middle
有关CloudKit的信息和文稿

00:19:56.930 --> 00:19:58.932 align:middle
以及最新的CloudKit网络服务

00:19:59.666 --> 00:20:02.302 align:middle
浏览完这些文稿之后我们应该退出

00:19:59.666 --> 00:20:02.302 align:middle
浏览完这些文稿之后我们应该退出

00:20:02.603 --> 00:20:06.106 align:middle
去创建我们的
第一个CloudKit网络应用

00:20:07.908 --> 00:20:11.478 align:middle
创建好之后 我们继续下一项

00:20:11.778 --> 00:20:14.214 align:middle
尽最大努力达到免费限额

00:20:14.314 --> 00:20:15.582 align:middle
这可能要花费一段时间

00:20:15.649 --> 00:20:17.184 align:middle
所以我想我们无需核对这一项

00:20:17.417 --> 00:20:19.887 align:middle
但我至少参加了一个派对

00:20:19.953 --> 00:20:24.458 align:middle
所以我们可先核对这一项Ramiro

00:20:24.791 --> 00:20:26.360 align:middle
完成这个网络体验

00:20:26.426 --> 00:20:31.031 align:middle
现在我们去iOS操作系统

00:20:31.098 --> 00:20:33.534 align:middle
这是在iPad上运行新的备忘录应用

00:20:33.934 --> 00:20:35.102 align:middle
我们打开它

00:20:36.970 --> 00:20:40.240 align:middle
你们会看到与我们
之前所见一样的厨房改装计划

00:20:40.307 --> 00:20:43.010 align:middle
这是我们在全球开发者大会上
刚键入的我们要做的新事情

00:20:43.443 --> 00:20:44.678 align:middle
它会自动显示出来

00:20:44.745 --> 00:20:46.013 align:middle
是同样的数据 对吗

00:20:46.079 --> 00:20:47.714 align:middle
只是我们有一个对接的网站界面

00:20:47.781 --> 00:20:50.551 align:middle
让你把你的本地IOS界面对接上去

00:20:51.685 --> 00:20:53.720 align:middle
现在我们要在这里做一些改动

00:20:53.787 --> 00:20:56.256 align:middle
访问过
developer.apple.com

00:20:56.323 --> 00:21:01.261 align:middle
显然已经用备忘录app开发了一款
很棒的CloudKit网络app

00:20:56.323 --> 00:21:01.261 align:middle
显然已经用备忘录app开发了一款
很棒的CloudKit网络app

00:21:01.562 --> 00:21:04.064 align:middle
现在我们何不返回去

00:21:04.131 --> 00:21:06.400 align:middle
看看网络

00:21:06.633 --> 00:21:08.468 align:middle
看看那边发生了什么

00:21:09.570 --> 00:21:11.438 align:middle
如果所有事情都做了

00:21:11.505 --> 00:21:12.840 align:middle
你会发现所有事情都核对过了

00:21:13.073 --> 00:21:16.443 align:middle
这又是我之前提到过的通知体验

00:21:17.311 --> 00:21:19.713 align:middle
出现了通知 推送通知

00:21:20.247 --> 00:21:22.115 align:middle
网络应用将其选取

00:21:22.249 --> 00:21:24.451 align:middle
自动更新 向你显示出变化

00:21:25.185 --> 00:21:28.155 align:middle
这就是在iOS 9
和icloud.com上

00:21:28.255 --> 00:21:29.923 align:middle
可用的最新的备忘录网络app

00:21:30.424 --> 00:21:31.358 align:middle
谢谢 Ramiro

00:21:42.269 --> 00:21:45.339 align:middle
如果你的用户
想使用该应用他们需要注册

00:21:46.139 --> 00:21:48.275 align:middle
所以我们直接跳过去看看

00:21:48.342 --> 00:21:50.277 align:middle
你的网络应用上所显示的界面

00:21:50.944 --> 00:21:53.380 align:middle
首先你需要有一个

00:21:53.447 --> 00:21:55.015 align:middle
让用户注册的按钮

00:21:55.082 --> 00:21:56.149 align:middle
这就是你的用户界面

00:21:57.217 --> 00:22:00.754 align:middle
当用户点击该按钮之后
会弹出一个新的浏览窗口

00:21:57.217 --> 00:22:00.754 align:middle
当用户点击该按钮之后
会弹出一个新的浏览窗口

00:22:00.821 --> 00:22:03.357 align:middle
该浏览窗口归Apple所有

00:22:03.524 --> 00:22:04.691 align:middle
由Apple管理

00:22:05.225 --> 00:22:07.694 align:middle
这是因为ID和密码

00:22:07.761 --> 00:22:09.763 align:middle
只在Apple和该用户之间交互

00:22:09.830 --> 00:22:11.431 align:middle
开发者永远看不到这个

00:22:12.232 --> 00:22:14.501 align:middle
在后面的登入页面

00:22:14.568 --> 00:22:16.103 align:middle
还会显示其他一些东西

00:22:21.842 --> 00:22:23.410 align:middle
首先是“保持登陆状态”

00:22:23.677 --> 00:22:25.812 align:middle
这样用户可以选择勾选

00:22:25.879 --> 00:22:27.080 align:middle
在未来两周保持登陆状态

00:22:28.148 --> 00:22:29.816 align:middle
“忘记Apple ID或密码？”

00:22:29.883 --> 00:22:31.752 align:middle
如果用户忘记了他们的ID

00:22:32.052 --> 00:22:34.454 align:middle
我们将全力帮助他们

00:22:34.521 --> 00:22:36.857 align:middle
想起密码或重置密码

00:22:37.324 --> 00:22:41.929 align:middle
最后 你知道 如果该用户
对Apple生态系统而言是个新用户

00:22:41.995 --> 00:22:43.764 align:middle
他们根本没有Apple ID

00:22:44.097 --> 00:22:46.600 align:middle
他们可当即创建一个Apple ID

00:22:46.667 --> 00:22:48.302 align:middle
他们将得到一个

00:22:48.468 --> 00:22:50.671 align:middle
可以在你的
应用中立即使用的Apple账户

00:22:54.007 --> 00:22:56.510 align:middle
CloudKit网络服务提供包括

00:22:57.110 --> 00:23:01.181 align:middle
我刚讲到的
仅用于iCloud网络的账户

00:22:57.110 --> 00:23:01.181 align:middle
我刚讲到的
仅用于iCloud网络的账户

00:23:01.315 --> 00:23:03.717 align:middle
它会为私人数据库的使用提供
1GB的免费存储空间

00:23:04.418 --> 00:23:07.654 align:middle
如果
同一位用户访问了iOS或OS X

00:23:07.721 --> 00:23:09.857 align:middle
并在那里设置了他们的账户
它会立刻自动更新为

00:23:09.923 --> 00:23:12.926 align:middle
5GB的iCloud账户

00:23:15.529 --> 00:23:20.734 align:middle
公用数据库的使用
在iOS OS X和网络上是一样

00:23:20.801 --> 00:23:22.736 align:middle
没有区别 所以在网络上提出请求

00:23:22.803 --> 00:23:24.505 align:middle
和你在手机或Mac上提出请求

00:23:24.638 --> 00:23:26.540 align:middle
是一样的

00:23:26.974 --> 00:23:27.975 align:middle
存储也是一样

00:23:28.041 --> 00:23:34.214 align:middle
在Dashboard上查看使用信息
存储区部分时没有任何差别

00:23:34.448 --> 00:23:35.415 align:middle
它都是放在一起的

00:23:37.651 --> 00:23:42.356 align:middle
我们确实需要一款
配得上iOS或OS X的应用

00:23:42.723 --> 00:23:44.525 align:middle
这些网络服务的目的是

00:23:44.591 --> 00:23:48.395 align:middle
把超棒的iOS和OS X应用
扩展到网络上

00:23:51.365 --> 00:23:55.869 align:middle
它的开发测试版现在可以使用了
是和iOS 9一起发布的

00:23:58.372 --> 00:24:00.307 align:middle
这就是
CloudKit网络服务的内容

00:23:58.372 --> 00:24:00.307 align:middle
这就是
CloudKit网络服务的内容

00:24:00.440 --> 00:24:03.110 align:middle
现在我要把Olivier请回来

00:24:03.277 --> 00:24:05.412 align:middle
结束这次讲座 非常感谢

00:24:11.952 --> 00:24:13.220 align:middle
谢谢 Eric

00:24:13.987 --> 00:24:14.988 align:middle
这就是今天的内容

00:24:15.055 --> 00:24:18.692 align:middle
我们非常期待看到
你们在CloudKit上

00:24:18.759 --> 00:24:21.128 align:middle
创建出某种应用

00:24:21.195 --> 00:24:22.396 align:middle
迸发出某种惊人的想法

00:24:23.897 --> 00:24:26.967 align:middle
正如Eric所说
我们有了一个新的网页：

00:24:27.034 --> 00:24:29.403 align:middle
developer.Apple.com/cloudkit

00:24:29.469 --> 00:24:33.207 align:middle
它汇集了我们拥有的所有数据
以及在 CloudKit 方面的

00:24:33.273 --> 00:24:36.710 align:middle
包括在新的服务器 网络API
以及在客户端框架方面的

00:24:36.777 --> 00:24:41.014 align:middle
所有文稿 参考库以及示例代码

00:24:41.582 --> 00:24:44.484 align:middle
除了常规的技术支持

00:24:44.551 --> 00:24:46.954 align:middle
论坛和网址以外

00:24:47.554 --> 00:24:50.724 align:middle
如果所有这些都不可用 你可以电邮

00:24:50.791 --> 00:24:53.360 align:middle
cloudkit@apple.com
进行一般咨询

00:24:54.561 --> 00:24:57.831 align:middle
本周我们还有两节讲座

00:24:57.898 --> 00:25:01.001 align:middle
第一节在明天 我们将深入探讨

00:24:57.898 --> 00:25:01.001 align:middle
第一节在明天 我们将深入探讨

00:25:01.068 --> 00:25:04.438 align:middle
CloudKit JS
和网络服务 API

00:25:06.440 --> 00:25:10.844 align:middle
另一节讲座在周四下午4:30分
有关CloudKit技巧与窍门讲座

00:25:11.311 --> 00:25:14.648 align:middle
在该讲座中我们将演示最佳实践

00:25:14.715 --> 00:25:18.085 align:middle
介绍一些注意事项

00:25:19.486 --> 00:25:22.389 align:middle
以及我们在iOS 9
和OS X El Capitan中

00:25:22.456 --> 00:25:25.459 align:middle
对客户端框架做出的一些改善

00:25:27.294 --> 00:25:30.998 align:middle
本周我们还有一些实验室活动

00:25:31.365 --> 00:25:33.700 align:middle
在周三 周四 周五上午9:00

00:25:33.767 --> 00:25:36.370 align:middle
我们会请来客户端工程师
我们会请来服务器端工程师

00:25:36.803 --> 00:25:40.908 align:middle
我保证其中有些人
甚至在早上9:00点还没睡

00:25:40.974 --> 00:25:43.744 align:middle
请带着你的问题和想法前来

00:25:43.810 --> 00:25:46.713 align:middle
我们乐于更多地讨论数据

00:25:46.780 --> 00:25:49.483 align:middle
讨论你们头脑中的应用类型

00:25:49.550 --> 00:25:51.752 align:middle
无论用公用数据库还是私人数据库

00:25:52.986 --> 00:25:54.021 align:middle
非常感谢

00:25:54.087 --> 00:25:55.689 align:middle
感谢你们的关注
