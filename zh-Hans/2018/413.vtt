WEBVTT

00:00:07.516 --> 00:00:15.500 A:middle
[ 音乐 ]

00:00:23.516 --> 00:00:30.186 A:middle
[ 掌声 ]

00:00:30.686 --> 00:00:31.516 A:middle
&gt;&gt; 早上好

00:00:31.736 --> 00:00:33.276 A:middle
&gt;&gt; 欢迎来到 “Create Your Own

00:00:33.276 --> 00:00:34.756 A:middle
Swift Playgrounds Subscription”

00:00:34.926 --> 00:00:35.956 A:middle
&gt;&gt; 我希望你们昨晚在晚宴中

00:00:35.956 --> 00:00:37.186 A:middle
度过了一段美好的时光

00:00:37.186 --> 00:00:38.406 A:middle
我们也知道你们现在

00:00:38.406 --> 00:00:39.836 A:middle
充满活力 迫不及待地

00:00:39.836 --> 00:00:40.986 A:middle
想要了解一些关于 Swift Playgrounds 的知识

00:00:41.496 --> 00:00:42.456 A:middle
我叫 Grace

00:00:42.456 --> 00:00:43.536 A:middle
&gt;&gt; 我叫 Holly

00:00:43.736 --> 00:00:44.766 A:middle
&gt;&gt; 我是 Swift Playgrounds 部门的

00:00:44.766 --> 00:00:45.476 A:middle
软件工程师

00:00:45.576 --> 00:00:46.846 A:middle
&gt;&gt; 我是 Xcode 源码编辑器的

00:00:46.896 --> 00:00:48.086 A:middle
软件工程师

00:00:48.516 --> 00:00:51.496 A:middle
《Swift Playgrounds》是一款能让

00:00:51.496 --> 00:00:53.036 A:middle
所有人都能在 iPad 上

00:00:53.036 --> 00:00:55.126 A:middle
用 Swift 语言编程的 App

00:00:55.536 --> 00:00:57.676 A:middle
作为作者 你可以

00:00:57.676 --> 00:00:59.006 A:middle
通过主持你自己的订阅

00:00:59.006 --> 00:01:00.466 A:middle
来与他人分享你的

00:00:59.006 --> 00:01:00.466 A:middle
来与他人分享你的

00:01:00.916 --> 00:01:02.096 A:middle
&gt;&gt; 今天我们会讨论一下

00:01:02.096 --> 00:01:03.216 A:middle
如何从制作 Swift Playgrounds

00:01:03.556 --> 00:01:04.965 A:middle
和 Playground Book 开始

00:01:04.965 --> 00:01:06.206 A:middle
制作订阅 并进一步讲解

00:01:06.206 --> 00:01:07.356 A:middle
如何在线为你的订阅者

00:01:07.356 --> 00:01:09.786 A:middle
以 Feed 的形式主持你的内容

00:01:11.226 --> 00:01:12.176 A:middle
&gt;&gt; 今天的讨论会

00:01:12.176 --> 00:01:13.756 A:middle
将分为四个部分

00:01:14.616 --> 00:01:16.106 A:middle
首先我们会很快地看一下

00:01:16.106 --> 00:01:17.786 A:middle
Playground Book 格式

00:01:17.786 --> 00:01:19.086 A:middle
以及 Xcode 9.3 中全新的

00:01:19.086 --> 00:01:20.846 A:middle
“Swift Playgrounds Author Template”

00:01:21.406 --> 00:01:22.676 A:middle
然后我们会一起看看

00:01:22.676 --> 00:01:24.156 A:middle
Swift Playgrounds 订阅格式

00:01:24.456 --> 00:01:25.736 A:middle
并了解一下如何在线

00:01:25.736 --> 00:01:27.146 A:middle
主持你的 Feed

00:01:27.906 --> 00:01:29.086 A:middle
&gt;&gt; 我先在台下看你

00:01:29.086 --> 00:01:32.000 A:middle
稍后见

00:01:33.436 --> 00:01:34.756 A:middle
&gt;&gt; Grace 和我一直在

00:01:34.806 --> 00:01:36.976 A:middle
开发一套 Playground Book

00:01:36.976 --> 00:01:39.986 A:middle
以让你们能够探索 Core Image API

00:01:40.476 --> 00:01:41.966 A:middle
今天我们会创建

00:01:41.966 --> 00:01:43.446 A:middle
一本新的 Playground Book

00:01:43.446 --> 00:01:45.286 A:middle
以让你们能够探索一些

00:01:45.516 --> 00:01:47.416 A:middle
内置的 CIFilter

00:01:47.786 --> 00:01:49.536 A:middle
你在这里可以看到

00:01:49.536 --> 00:01:51.106 A:middle
我在浏览我们的 Book 中

00:01:51.106 --> 00:01:53.116 A:middle
失真滤镜的教学章节的时候

00:01:53.116 --> 00:01:54.676 A:middle
玩得很开心

00:01:54.676 --> 00:01:56.516 A:middle
这些是我最喜欢的滤镜

00:01:58.296 --> 00:02:00.036 A:middle
Playground Book 是一种机制

00:01:58.296 --> 00:02:00.036 A:middle
Playground Book 是一种机制

00:02:00.036 --> 00:02:01.706 A:middle
它让你能够

00:02:01.916 --> 00:02:03.606 A:middle
为某个特定的主题创建一个

00:02:03.606 --> 00:02:04.676 A:middle
引导性的互动探索

00:02:05.106 --> 00:02:06.726 A:middle
使用 Playground Book 你可以

00:02:06.726 --> 00:02:07.766 A:middle
通过一系列章节

00:02:07.766 --> 00:02:09.425 A:middle
来引导你的学习者

00:02:09.425 --> 00:02:11.566 A:middle
这些章节还可以细分为页面

00:02:12.576 --> 00:02:14.046 A:middle
每一页都包含一个

00:02:14.046 --> 00:02:16.026 A:middle
源码编辑器 正如你在屏幕左侧看到的

00:02:16.486 --> 00:02:17.776 A:middle
你也可以选择

00:02:17.776 --> 00:02:19.956 A:middle
实现一个可选的 一直激活的

00:02:19.956 --> 00:02:22.676 A:middle
实况视图 也就是你在屏幕右侧看到的

00:02:23.396 --> 00:02:24.776 A:middle
实况视图

00:02:24.776 --> 00:02:26.246 A:middle
是用来可视化

00:02:26.246 --> 00:02:27.416 A:middle
一个页面中源码编辑器中的

00:02:27.416 --> 00:02:28.586 A:middle
代码运行结果的

00:02:29.856 --> 00:02:32.056 A:middle
为了把所有的这些都打包成

00:02:32.056 --> 00:02:34.386 A:middle
一个单独的文件 我们使用了一个基于包的

00:02:34.386 --> 00:02:35.546 A:middle
文件格式

00:02:36.076 --> 00:02:38.226 A:middle
这意味着一个 Playground Book 本身

00:02:38.226 --> 00:02:40.236 A:middle
就是一个文件结构

00:02:41.146 --> 00:02:43.156 A:middle
它包含了为每个章节

00:02:43.156 --> 00:02:45.416 A:middle
创建的子目录

00:02:45.416 --> 00:02:47.236 A:middle
而每个章节中还有为每一个页面

00:02:47.286 --> 00:02:48.796 A:middle
创建的文件夹

00:02:50.246 --> 00:02:51.766 A:middle
每个 Playground 页面

00:02:51.766 --> 00:02:53.226 A:middle
都包含了在源码编辑器运行代码

00:02:53.226 --> 00:02:54.606 A:middle
以及显示实况视图

00:02:54.606 --> 00:02:56.326 A:middle
所需要的

00:02:56.326 --> 00:02:58.356 A:middle
所有资源

00:03:02.156 --> 00:03:03.836 A:middle
Playground Book 结构中的每一个层级

00:03:03.836 --> 00:03:05.466 A:middle
也都包含了一个属性列表文件

00:03:05.466 --> 00:03:07.376 A:middle
其中存储着 Swift Playgrounds 用来

00:03:07.376 --> 00:03:09.496 A:middle
配置 Book 构造

00:03:09.496 --> 00:03:10.536 A:middle
以及构建内容表格

00:03:10.536 --> 00:03:12.946 A:middle
所需要的元数据

00:03:13.536 --> 00:03:16.286 A:middle
最后 除了你在页面中

00:03:16.286 --> 00:03:17.676 A:middle
展示给你的学习者的内容

00:03:17.676 --> 00:03:19.636 A:middle
Playground Book 还有可能会包含

00:03:19.636 --> 00:03:21.076 A:middle
额外的 Swift 文件

00:03:21.076 --> 00:03:23.356 A:middle
叫做 “Auxiliary Sources（辅助资源）”

00:03:24.526 --> 00:03:26.416 A:middle
这些资源会被存储在一个

00:03:26.416 --> 00:03:27.446 A:middle
叫做 “Sources（资源）”的文件夹中

00:03:28.276 --> 00:03:29.856 A:middle
辅助资源让你能够

00:03:29.856 --> 00:03:31.566 A:middle
提供额外的 Swift 代码

00:03:31.826 --> 00:03:33.646 A:middle
比如类  Helper 函数等

00:03:33.826 --> 00:03:34.866 A:middle
它们能够在你 Playground Book 的

00:03:34.866 --> 00:03:36.906 A:middle
页面中使用

00:03:37.776 --> 00:03:39.706 A:middle
你可以用辅助资源

00:03:39.706 --> 00:03:41.916 A:middle
来完成很多任务

00:03:42.186 --> 00:03:43.916 A:middle
通过利用这些资源

00:03:44.186 --> 00:03:45.476 A:middle
你可以大幅简化

00:03:45.476 --> 00:03:46.746 A:middle
你需要在你 Book 的页面中

00:03:47.046 --> 00:03:49.906 A:middle
编写的代码

00:03:50.396 --> 00:03:51.616 A:middle
让我们来看一个例子

00:03:51.616 --> 00:03:53.016 A:middle
来了解一下如何用辅助资源

00:03:53.016 --> 00:03:55.186 A:middle
来简化与实况视图之间的交流

00:03:55.746 --> 00:03:59.766 A:middle
你可以通过调用

00:03:59.766 --> 00:04:01.736 A:middle
PlaygroundLiveViewMessageHandler

00:03:59.766 --> 00:04:01.736 A:middle
PlaygroundLiveViewMessageHandler

00:04:01.736 --> 00:04:03.206 A:middle
协议中的 send() 方法来向

00:04:03.206 --> 00:04:04.956 A:middle
实况视图发送信息

00:04:04.956 --> 00:04:06.176 A:middle
这个协议是在 PlaygroundSupport 框架中

00:04:06.176 --> 00:04:07.086 A:middle
声明的

00:04:07.086 --> 00:04:10.536 A:middle
信息是以 PlaygroundValue 的形式

00:04:10.536 --> 00:04:12.056 A:middle
发送到实况视图的

00:04:12.836 --> 00:04:14.316 A:middle
PlaygroundValue 是一个枚举

00:04:14.316 --> 00:04:16.716 A:middle
它同样也是在 PlaygroundSupport 框架中声明的

00:04:17.366 --> 00:04:20.826 A:middle
为了简化把对象转化为

00:04:20.906 --> 00:04:22.596 A:middle
PlaygroundValue 的过程

00:04:22.596 --> 00:04:23.536 A:middle
我在一个叫做 LiveViewSupport.swift 的

00:04:23.536 --> 00:04:25.336 A:middle
文件中 写了一个叫做

00:04:25.336 --> 00:04:27.536 A:middle
PlaygroundValueConvertible 的协议

00:04:27.916 --> 00:04:29.406 A:middle
我把这个文件包括到

00:04:29.406 --> 00:04:31.086 A:middle
每本 Playground Book 中

00:04:31.146 --> 00:04:32.756 A:middle
Book 层级的资源文件夹中

00:04:33.446 --> 00:04:35.376 A:middle
然后 如果我想发送任何类型的对象

00:04:35.376 --> 00:04:38.706 A:middle
比如一个 CIFilter

00:04:38.706 --> 00:04:40.376 A:middle
我可以扩展那个类型

00:04:40.376 --> 00:04:42.846 A:middle
以遵循 PlaygroundValueConvertible 协议

00:04:42.846 --> 00:04:45.436 A:middle
然后实现 asPlaygroundValue() 方法

00:04:45.846 --> 00:04:47.096 A:middle
这个方法将会把原始对象

00:04:47.096 --> 00:04:49.326 A:middle
转换成一个 PlaygroundValue

00:04:51.196 --> 00:04:52.796 A:middle
我还写了一个 Helper 函数

00:04:52.796 --> 00:04:54.836 A:middle
叫做 sendValue 它可以获取一个

00:04:54.866 --> 00:04:56.646 A:middle
PlaygroundValueConvertible 并把它

00:04:56.646 --> 00:04:58.046 A:middle
以 PlaygroundValue 的形式发送到

00:04:58.046 --> 00:05:00.106 A:middle
当且页面的实况视图中

00:04:58.046 --> 00:05:00.106 A:middle
当且页面的实况视图中

00:05:00.916 --> 00:05:03.426 A:middle
最后 当我在 Playground 页面中

00:05:03.426 --> 00:05:05.526 A:middle
有一个想要发送到

00:05:05.526 --> 00:05:06.776 A:middle
实况视图的对象

00:05:06.776 --> 00:05:08.536 A:middle
我只需要简单地调用

00:05:08.536 --> 00:05:10.356 A:middle
sendValue() 函数

00:05:10.356 --> 00:05:12.416 A:middle
并传入该对象 这个对象会作为

00:05:12.416 --> 00:05:13.666 A:middle
PagesContents.swift 中

00:05:13.666 --> 00:05:15.376 A:middle
隐藏代码块的参数

00:05:15.816 --> 00:05:17.886 A:middle
所以 如你所见

00:05:17.886 --> 00:05:19.556 A:middle
我在辅助资源文件中

00:05:19.556 --> 00:05:21.576 A:middle
写的代码 极大地简化了

00:05:21.576 --> 00:05:23.036 A:middle
我在 Playground 页面中

00:05:23.096 --> 00:05:24.546 A:middle
为了把一个值发送到实况视图

00:05:24.546 --> 00:05:26.000 A:middle
所需要写的代码

00:05:28.336 --> 00:05:29.996 A:middle
若要了解更多

00:05:29.996 --> 00:05:31.466 A:middle
关于 Playground Book 包的信息

00:05:31.466 --> 00:05:32.976 A:middle
我建议你去看看

00:05:33.006 --> 00:05:35.256 A:middle
“Playground Book Format Reference”

00:05:35.256 --> 00:05:38.486 A:middle
你可以在 developer.apple.com 上找到它

00:05:38.846 --> 00:05:40.306 A:middle
现在 我们来看看

00:05:40.306 --> 00:05:41.326 A:middle
Swift Playgrounds 作者模版

00:05:41.326 --> 00:05:42.896 A:middle
你可以用它来

00:05:42.896 --> 00:05:44.076 A:middle
开始撰写你的

00:05:44.126 --> 00:05:45.556 A:middle
Playground Book

00:05:46.796 --> 00:05:48.226 A:middle
Swift Playgrounds 作者模版

00:05:48.226 --> 00:05:50.096 A:middle
是一个起始 Xcode 项目

00:05:50.096 --> 00:05:51.476 A:middle
它会帮你创建

00:05:51.476 --> 00:05:54.756 A:middle
调试 以及生产 Playground Book

00:05:55.726 --> 00:05:57.426 A:middle
使用这个模版

00:05:57.426 --> 00:05:58.726 A:middle
你可以逐步为你的实况视图

00:05:58.726 --> 00:06:00.756 A:middle
调试代码 就好像它是一款 App 一样

00:05:58.726 --> 00:06:00.756 A:middle
调试代码 就好像它是一款 App 一样

00:06:00.756 --> 00:06:02.316 A:middle
所以你可以更轻松地

00:06:02.316 --> 00:06:04.086 A:middle
找到 Bug 并为你 Playground Book 的开发

00:06:04.086 --> 00:06:06.566 A:middle
规划一个更高效的工作流

00:06:07.026 --> 00:06:08.546 A:middle
这里你可以看到我在

00:06:08.546 --> 00:06:09.706 A:middle
逐步调试我之前给你展示过的

00:06:09.706 --> 00:06:11.646 A:middle
为 CIFilter 设计的 Playground Book 中的

00:06:11.646 --> 00:06:12.986 A:middle
实况视图对应的代码

00:06:14.796 --> 00:06:16.416 A:middle
Swift Playgrounds 作者模版

00:06:16.416 --> 00:06:18.576 A:middle
可以在

00:06:18.576 --> 00:06:22.426 A:middle
developer.apple.com 上直接下载

00:06:22.906 --> 00:06:24.736 A:middle
这个 Xcode 项目兼容

00:06:24.736 --> 00:06:26.776 A:middle
Swift Playgrounds 2.1 以及

00:06:26.776 --> 00:06:29.996 A:middle
Xcode 9.3  它们都是在今年早些时候发布的

00:06:31.276 --> 00:06:32.286 A:middle
这个项目包括了一些

00:06:32.286 --> 00:06:33.686 A:middle
使用 Swift 4.1 编译器构建的框架

00:06:33.686 --> 00:06:35.706 A:middle
因为这正是

00:06:35.756 --> 00:06:36.956 A:middle
Swift Playgrounds 2.1

00:06:37.016 --> 00:06:38.576 A:middle
正在使用的框架

00:06:39.106 --> 00:06:40.296 A:middle
所以很重要的一点是

00:06:40.296 --> 00:06:41.636 A:middle
你为这个项目

00:06:41.636 --> 00:06:43.836 A:middle
使用的 Xcode 版本 也在使用

00:06:43.896 --> 00:06:45.406 A:middle
Swift 4.1

00:06:46.536 --> 00:06:48.416 A:middle
Swift Playgrounds 作者模版

00:06:48.416 --> 00:06:49.966 A:middle
包括了三个不同的 Target

00:06:49.966 --> 00:06:51.296 A:middle
它们的 Product 将会

00:06:51.296 --> 00:06:53.336 A:middle
帮助你撰写你的 Playground Book

00:06:53.906 --> 00:06:55.816 A:middle
第一个 Target 叫做 PlaygroundBook

00:06:56.446 --> 00:06:58.266 A:middle
第二个叫做 Book_Sources

00:06:58.626 --> 00:07:00.156 A:middle
第三个叫做

00:06:58.626 --> 00:07:00.156 A:middle
第三个叫做

00:07:00.156 --> 00:07:01.486 A:middle
LiveViewTestApp

00:07:02.396 --> 00:07:04.246 A:middle
PlaygroundBook Target

00:07:04.246 --> 00:07:06.346 A:middle
会生产一个 Playground Book 作为输出

00:07:06.646 --> 00:07:07.976 A:middle
你可以在 Xcode 的 “Project

00:07:07.976 --> 00:07:10.566 A:middle
Navigator” 中的 “Products” 群组中看到它

00:07:11.356 --> 00:07:12.996 A:middle
这个 Target 的所有文件

00:07:12.996 --> 00:07:15.186 A:middle
都在 Xcode 的 PlaygroundBook 群组中

00:07:15.566 --> 00:07:16.996 A:middle
这个模版包括了

00:07:16.996 --> 00:07:18.386 A:middle
一本 Playground Book 的起始文件

00:07:18.386 --> 00:07:20.866 A:middle
有一个章节和一个页面

00:07:22.186 --> 00:07:24.336 A:middle
模版还包括了

00:07:24.336 --> 00:07:25.796 A:middle
两个 Book 层级的辅助资源文件

00:07:25.796 --> 00:07:27.456 A:middle
它们为 Playground Book 中

00:07:27.456 --> 00:07:29.346 A:middle
一直激活的实况视图

00:07:29.346 --> 00:07:30.906 A:middle
提供了默认的执行

00:07:31.286 --> 00:07:34.656 A:middle
第二个 Book_Sources Target

00:07:34.656 --> 00:07:36.256 A:middle
会编译所有的 Book 层级

00:07:36.256 --> 00:07:37.376 A:middle
辅助资源

00:07:37.656 --> 00:07:39.186 A:middle
你可以看到 这个 Target 的

00:07:39.186 --> 00:07:41.086 A:middle
所有文件都放在

00:07:41.086 --> 00:07:42.146 A:middle
Xcode 项目导航器中的

00:07:42.206 --> 00:07:44.726 A:middle
“Sources” 群组中

00:07:46.126 --> 00:07:47.906 A:middle
编译这些资源

00:07:47.906 --> 00:07:49.466 A:middle
让你能够开发

00:07:49.466 --> 00:07:51.946 A:middle
集成了完整编辑器功能的 Book 层级资源

00:07:52.426 --> 00:07:53.646 A:middle
这意味着你将能够使用

00:07:53.646 --> 00:07:55.186 A:middle
在所有其他 Xcode 项目中可用的

00:07:55.186 --> 00:07:56.936 A:middle
Xcode 源码编辑器功能

00:07:56.936 --> 00:07:58.726 A:middle
比如自动完成代码

00:07:58.726 --> 00:08:00.896 A:middle
或是快速帮助

00:07:58.726 --> 00:08:00.896 A:middle
或是快速帮助

00:08:00.896 --> 00:08:02.986 A:middle
此外 LiveViewTestApp

00:08:02.986 --> 00:08:05.056 A:middle
会使用这个 Target 来显示

00:08:05.056 --> 00:08:05.876 A:middle
实况视图

00:08:06.256 --> 00:08:07.486 A:middle
所以 你针对 Book 中的

00:08:07.486 --> 00:08:09.186 A:middle
实况视图的实现

00:08:09.186 --> 00:08:10.646 A:middle
必须要在你的 Book 层级资源中

00:08:10.646 --> 00:08:13.926 A:middle
如果你想要使用测试 App

00:08:14.206 --> 00:08:14.416 A:middle
来进行调试

00:08:14.416 --> 00:08:16.906 A:middle
最后 我们还有 LiveViewTestApp Target

00:08:17.616 --> 00:08:18.806 A:middle
你可以在 Xcode 的

00:08:18.806 --> 00:08:19.916 A:middle
“LiveViewTestApp” 群组中找到

00:08:19.916 --> 00:08:22.056 A:middle
这个 Target 的所有文件

00:08:23.556 --> 00:08:25.426 A:middle
这个 Target 会产生一个 App

00:08:25.426 --> 00:08:26.986 A:middle
展示你 Playground Book 的实况视图

00:08:26.986 --> 00:08:28.776 A:middle
与它将在 Swift Playgrounds 中

00:08:28.776 --> 00:08:30.496 A:middle
展示的样子相似

00:08:31.046 --> 00:08:33.326 A:middle
如我之前提到的

00:08:33.326 --> 00:08:34.556 A:middle
你针对实况视图的实现

00:08:34.556 --> 00:08:36.366 A:middle
必须要在你的 Book 层级的

00:08:36.366 --> 00:08:37.385 A:middle
辅助资源中

00:08:38.506 --> 00:08:40.446 A:middle
LiveViewTestApp 让你能够

00:08:40.446 --> 00:08:42.356 A:middle
以全屏或是分屏模式

00:08:42.356 --> 00:08:44.436 A:middle
调试你的实况视图

00:08:44.436 --> 00:08:45.746 A:middle
无需先把你的 Playground Book 导出到

00:08:45.746 --> 00:08:48.116 A:middle
Swift Playgrounds 中

00:08:49.036 --> 00:08:50.766 A:middle
LiveViewTestApp 可以在

00:08:50.946 --> 00:08:53.096 A:middle
iPad 或是 iOS 模拟器中使用

00:08:53.656 --> 00:08:56.506 A:middle
Swift Playgrounds 作者模版

00:08:56.506 --> 00:08:58.856 A:middle
还有三个支持框架

00:09:00.026 --> 00:09:02.436 A:middle
前两个分别是 PlaygroundSupport 和

00:09:02.436 --> 00:09:03.726 A:middle
PlaygroundBluetooth 框架

00:09:03.726 --> 00:09:04.636 A:middle
它们来自 Swift Playgrounds

00:09:05.346 --> 00:09:06.486 A:middle
在项目中包括这些框架

00:09:06.486 --> 00:09:08.036 A:middle
让 Book_Sources 和 LiveViewTestApp

00:09:08.036 --> 00:09:09.926 A:middle
这两个 Target

00:09:09.926 --> 00:09:11.506 A:middle
能充分利用这些框架

00:09:11.506 --> 00:09:13.366 A:middle
提供的 API

00:09:14.456 --> 00:09:16.116 A:middle
第三个支持的框架

00:09:16.116 --> 00:09:18.116 A:middle
叫做 LiveViewHost

00:09:18.536 --> 00:09:21.526 A:middle
这个框架可以被 LiveViewTestApp 使用

00:09:21.526 --> 00:09:23.000 A:middle
来显示实况视图

00:09:26.046 --> 00:09:28.806 A:middle
为了实现你的实况视图 你需要把你所有的的代码

00:09:28.806 --> 00:09:30.336 A:middle
添加到你的 Playground Book 中的

00:09:30.336 --> 00:09:32.296 A:middle
Book 层级辅助资源中

00:09:32.516 --> 00:09:34.176 A:middle
在模版中 包括了一个

00:09:34.176 --> 00:09:35.536 A:middle
针对你的实况视图的视图控制器

00:09:35.536 --> 00:09:36.976 A:middle
它在一个叫做 LiveViewController.Swift

00:09:37.076 --> 00:09:38.626 A:middle
的文件中

00:09:39.566 --> 00:09:40.996 A:middle
同样被包括在模版中的

00:09:40.996 --> 00:09:42.406 A:middle
还有一个 Helper 函数

00:09:42.406 --> 00:09:44.376 A:middle
它的作用是加载一个你的

00:09:44.376 --> 00:09:45.016 A:middle
实况视图的实例 位于一个叫做

00:09:45.016 --> 00:09:46.446 A:middle
LiveViewSupport.swift 的文件中

00:09:47.296 --> 00:09:50.186 A:middle
你可以添加任何其他 实现实况视图所需的文件

00:09:50.186 --> 00:09:52.416 A:middle
并且你可以使用你 Book_Sources 代码中

00:09:52.416 --> 00:09:54.856 A:middle
所有的 Playground 框架

00:09:55.326 --> 00:09:58.766 A:middle
模版中还包括一个

00:09:58.766 --> 00:10:00.046 A:middle
Storyboard 让你能

00:09:58.766 --> 00:10:00.046 A:middle
Storyboard 让你能

00:10:00.046 --> 00:10:01.896 A:middle
为你的实况视图配置 UI

00:10:02.846 --> 00:10:04.366 A:middle
你可以在 “PrivateResources” 群组中

00:10:04.366 --> 00:10:05.686 A:middle
添加任何其他你的 Playground Book

00:10:05.806 --> 00:10:07.276 A:middle
所需要的资源

00:10:07.686 --> 00:10:10.626 A:middle
最后 为了配置你测试 App 的

00:10:10.626 --> 00:10:12.926 A:middle
实况视图测试

00:10:13.276 --> 00:10:14.546 A:middle
你需要在 AppDelegate.swift 中

00:10:14.546 --> 00:10:16.446 A:middle
实现一个方法

00:10:16.956 --> 00:10:18.386 A:middle
具体来说 你需要实现

00:10:18.386 --> 00:10:20.186 A:middle
setUpLiveView() 方法

00:10:21.066 --> 00:10:22.936 A:middle
默认情况下 这个方法

00:10:22.936 --> 00:10:24.566 A:middle
会从我刚刚在 LiveViewSupport.swift 中

00:10:24.566 --> 00:10:26.596 A:middle
提到过的 LiveView.storyboard 中的

00:10:26.596 --> 00:10:27.536 A:middle
Helper 方法 加载一个

00:10:27.536 --> 00:10:29.526 A:middle
LiveViewController 的实例

00:10:29.716 --> 00:10:31.526 A:middle
它叫做 instantiateLiveView()

00:10:33.236 --> 00:10:35.396 A:middle
现在我想把 Grace 请回舞台

00:10:35.396 --> 00:10:36.976 A:middle
来看看我们一直在

00:10:36.976 --> 00:10:38.096 A:middle
使用 Swift Playgrounds

00:10:38.096 --> 00:10:40.726 A:middle
作者模版做的那本 Playground Book

00:10:42.516 --> 00:10:48.746 A:middle
[ 掌声 ]

00:10:49.246 --> 00:10:51.966 A:middle
好的 现在我们看到的就是

00:10:51.966 --> 00:10:54.026 A:middle
我之前给你们粗略看过的

00:10:54.026 --> 00:10:57.286 A:middle
用于测试 CIFilter 的 Playground Book

00:10:57.886 --> 00:10:59.616 A:middle
这本 Book 的作用是

00:10:59.616 --> 00:11:01.376 A:middle
学习者可以用它来

00:10:59.616 --> 00:11:01.376 A:middle
学习者可以用它来

00:11:01.376 --> 00:11:03.546 A:middle
在源码编辑器中

00:11:03.546 --> 00:11:04.916 A:middle
创建并操作 Core Image 中的 CIFilter

00:11:04.916 --> 00:11:06.426 A:middle
并且这些滤镜将会被发送到

00:11:06.426 --> 00:11:08.556 A:middle
实况视图中 并加载到

00:11:08.556 --> 00:11:09.926 A:middle
实况摄像头输出中 来让用户看看

00:11:09.926 --> 00:11:11.336 A:middle
这些滤镜是什么样的

00:11:12.346 --> 00:11:13.956 A:middle
我们在这里看到的是

00:11:13.956 --> 00:11:15.756 A:middle
LiveViewController.swift 文件夹

00:11:16.776 --> 00:11:18.566 A:middle
我已经实现了一个

00:11:18.566 --> 00:11:19.846 A:middle
在模版中自带的方法

00:11:19.846 --> 00:11:22.016 A:middle
在它的下面

00:11:22.056 --> 00:11:23.386 A:middle
我添加了 要在实况视图中

00:11:23.386 --> 00:11:24.896 A:middle
显示实况摄像头输出

00:11:24.896 --> 00:11:26.856 A:middle
所需要的剩余代码

00:11:27.866 --> 00:11:29.436 A:middle
我之前提到过 我还想

00:11:29.436 --> 00:11:31.766 A:middle
在实况摄像头输出的每一帧

00:11:31.766 --> 00:11:33.366 A:middle
应用 Core Image 滤镜

00:11:33.366 --> 00:11:35.396 A:middle
所以我在我的 Book 层级资源中

00:11:35.396 --> 00:11:37.376 A:middle
添加了一些新的文件

00:11:37.606 --> 00:11:38.946 A:middle
并实现了一个滤镜渲染器

00:11:38.946 --> 00:11:40.226 A:middle
来把这个滤镜应用到

00:11:40.226 --> 00:11:42.546 A:middle
实况摄像头输出上

00:11:43.406 --> 00:11:45.226 A:middle
现在如果我选中

00:11:45.226 --> 00:11:47.966 A:middle
LiveViewTestApp Target

00:11:47.966 --> 00:11:50.776 A:middle
我其实可以直接运行这段代码

00:11:50.776 --> 00:11:52.366 A:middle
来看看我的实况视图会是什么样子

00:11:53.296 --> 00:11:54.986 A:middle
并且我把这个 App

00:11:54.986 --> 00:11:56.296 A:middle
配置成以分屏模式

00:11:56.296 --> 00:11:57.356 A:middle
显示实况视图

00:11:59.086 --> 00:12:00.396 A:middle
我们在这里可以看到

00:11:59.086 --> 00:12:00.396 A:middle
我们在这里可以看到

00:12:00.396 --> 00:12:02.366 A:middle
实况视图在分屏模式中

00:12:02.366 --> 00:12:03.866 A:middle
看起来是什么样子的

00:12:03.866 --> 00:12:05.076 A:middle
这与它之后在 Swift Playgrounds 中的

00:12:05.076 --> 00:12:06.476 A:middle
源码编辑器旁展示的样子

00:12:06.476 --> 00:12:06.986 A:middle
很接近

00:12:07.306 --> 00:12:10.276 A:middle
为了模拟向实况视图发送滤镜

00:12:10.276 --> 00:12:11.906 A:middle
我们还添加了几个按钮

00:12:11.906 --> 00:12:13.096 A:middle
你可以在左侧看到它们

00:12:13.416 --> 00:12:15.626 A:middle
这些按钮在我的测试 App 代码中 已经实现了

00:12:15.816 --> 00:12:17.466 A:middle
如果 Grace 轻点其中的一个滤镜

00:12:17.466 --> 00:12:19.566 A:middle
我们就能看到

00:12:19.566 --> 00:12:21.446 A:middle
那个滤镜会应用到实况摄像头输出上

00:12:22.076 --> 00:12:23.216 A:middle
这看起来很棒

00:12:23.576 --> 00:12:26.966 A:middle
我还想试试别的滤镜 Grace

00:12:26.966 --> 00:12:28.926 A:middle
我真的喜欢 CIPointillize 滤镜

00:12:28.926 --> 00:12:32.576 A:middle
如果它轻点一下这个

00:12:32.576 --> 00:12:34.866 A:middle
这看起来差不多了

00:12:34.866 --> 00:12:37.836 A:middle
但是你可能已经

00:12:37.836 --> 00:12:39.536 A:middle
注意到了之前的粉色滤镜

00:12:39.536 --> 00:12:41.946 A:middle
仍然存在于一些边缘上

00:12:41.946 --> 00:12:43.116 A:middle
并且 Pointillize 滤镜比我们想要的

00:12:43.116 --> 00:12:44.146 A:middle
要小一点

00:12:44.446 --> 00:12:45.536 A:middle
所以我回到 Xcode

00:12:45.536 --> 00:12:47.256 A:middle
因为我认为我们在

00:12:47.256 --> 00:12:49.236 A:middle
我写的一个叫做 Render 的函数中的

00:12:49.236 --> 00:12:51.716 A:middle
滤镜渲染器中有一个 Bug

00:12:52.026 --> 00:12:53.136 A:middle
我使用 Command-Shift-O 来

00:12:53.136 --> 00:12:55.616 A:middle
用 Open Quickly 功能前往那个函数

00:12:56.766 --> 00:12:58.356 A:middle
我还要在这个方法

00:12:58.356 --> 00:13:01.136 A:middle
返回之前设置一个断点

00:12:58.356 --> 00:13:01.136 A:middle
返回之前设置一个断点

00:13:01.526 --> 00:13:03.426 A:middle
由于实况摄像头输出的

00:13:03.506 --> 00:13:04.926 A:middle
每一帧 都会获得一个

00:13:04.926 --> 00:13:06.536 A:middle
应用在它上面的滤镜

00:13:06.536 --> 00:13:07.806 A:middle
我们应该立即激活这个断点

00:13:07.806 --> 00:13:09.956 A:middle
因为这个方法经常被调用

00:13:10.886 --> 00:13:12.616 A:middle
好的 我们激活了这个断点

00:13:12.676 --> 00:13:15.106 A:middle
现在我可以使用调试控制台

00:13:15.106 --> 00:13:17.346 A:middle
来审查我这里的所有变量

00:13:17.606 --> 00:13:19.456 A:middle
我具体想要看看

00:13:19.456 --> 00:13:21.766 A:middle
源图像的尺寸

00:13:22.326 --> 00:13:26.166 A:middle
以及加了滤镜的图像的尺寸

00:13:26.166 --> 00:13:28.976 A:middle
看看它们的差别在哪

00:13:32.056 --> 00:13:34.096 A:middle
好的 我们可以看到

00:13:34.096 --> 00:13:35.796 A:middle
加了滤镜的图像尺寸

00:13:35.796 --> 00:13:37.306 A:middle
要比源图像尺寸大

00:13:37.896 --> 00:13:40.066 A:middle
在第 59 行 我在以

00:13:40.066 --> 00:13:42.826 A:middle
滤镜图像的尺寸渲染

00:13:42.826 --> 00:13:44.396 A:middle
但是其实我想要的是

00:13:44.396 --> 00:13:46.436 A:middle
以源图像的尺寸来渲染

00:13:46.436 --> 00:13:47.576 A:middle
我来把这个修复一下

00:13:48.586 --> 00:13:52.976 A:middle
禁用断点 再运行一次

00:13:53.346 --> 00:13:54.806 A:middle
我们回到 iPad 看一看

00:13:58.196 --> 00:14:00.986 A:middle
我们让 Grace 用相同的步骤 再来一次

00:13:58.196 --> 00:14:00.986 A:middle
我们让 Grace 用相同的步骤 再来一次

00:14:01.386 --> 00:14:03.146 A:middle
轻点 CIColorMatrix

00:14:03.276 --> 00:14:05.276 A:middle
再轻点 CIPointillize

00:14:06.356 --> 00:14:07.676 A:middle
现在我们看到 Pointillize 滤镜

00:14:07.676 --> 00:14:10.126 A:middle
能以正确的尺寸呈现了

00:14:10.126 --> 00:14:11.986 A:middle
也就是与原始实况摄像头输出

00:14:12.356 --> 00:14:14.926 A:middle
相同的尺寸

00:14:14.926 --> 00:14:16.366 A:middle
所以现在我想我所有的代码

00:14:16.366 --> 00:14:18.256 A:middle
都是正确的了 我会把我的

00:14:18.256 --> 00:14:19.496 A:middle
Playground 群组打包 并把它拷贝到

00:14:19.496 --> 00:14:21.396 A:middle
Swift Playgrounds 来看看这个

00:14:21.646 --> 00:14:23.226 A:middle
实况视图到底看起来怎样

00:14:23.266 --> 00:14:24.716 A:middle
所以我回到 Xcode

00:14:25.116 --> 00:14:27.036 A:middle
选择 Playground Book Scheme

00:14:27.126 --> 00:14:30.186 A:middle
按下构建按钮

00:14:30.186 --> 00:14:32.136 A:middle
然后在项目导航器中

00:14:32.136 --> 00:14:33.266 A:middle
就能看到我们的 Playground Book

00:14:33.266 --> 00:14:34.366 A:middle
出现在了 “Build Products” 群组中

00:14:34.836 --> 00:14:36.246 A:middle
这时 你可以通过隔空投送

00:14:36.246 --> 00:14:37.656 A:middle
或者 iCloud 把你的 Playground Book

00:14:37.656 --> 00:14:39.106 A:middle
拷贝到 Swift Playgrounds 中

00:14:39.106 --> 00:14:41.126 A:middle
但由于时间有限

00:14:41.126 --> 00:14:42.706 A:middle
我已经做好了这件事

00:14:42.706 --> 00:14:43.966 A:middle
如果我们回到 iPad 上

00:14:44.136 --> 00:14:46.276 A:middle
并麻烦 Grace 打开 Swift Playgrounds

00:14:46.276 --> 00:14:48.706 A:middle
我们就可以看到我的

00:14:48.706 --> 00:14:50.176 A:middle
“Test Out CIFilter!”

00:14:50.176 --> 00:14:51.176 A:middle
这本 Playground Book 已经在里面了

00:14:51.446 --> 00:14:52.656 A:middle
我们麻烦 Grace 打开它

00:14:52.746 --> 00:14:53.866 A:middle
就能看到我们的实况视图

00:14:53.866 --> 00:14:54.846 A:middle
是什么样子的了

00:14:55.416 --> 00:14:58.496 A:middle
你可以看到我们在源码编辑器中

00:14:58.496 --> 00:15:00.466 A:middle
有一个 CIFilter

00:14:58.496 --> 00:15:00.466 A:middle
有一个 CIFilter

00:15:00.466 --> 00:15:01.646 A:middle
我们已经为这个滤镜

00:15:01.646 --> 00:15:03.026 A:middle
设置了一些输入值

00:15:03.026 --> 00:15:05.306 A:middle
所以如果她点按 “Run My Code（运行我的代码）”

00:15:05.306 --> 00:15:06.636 A:middle
我们应该就能看见这个滤镜

00:15:06.636 --> 00:15:07.776 A:middle
应用到了摄像头输出上

00:15:12.046 --> 00:15:13.556 A:middle
好的 我真的很喜欢这个滤镜

00:15:14.086 --> 00:15:17.156 A:middle
我喜欢这个颜色 对了 Grace 你知道我们

00:15:17.156 --> 00:15:18.046 A:middle
看起来像什么吗

00:15:18.196 --> 00:15:18.656 A:middle
&gt;&gt; 什么？

00:15:19.066 --> 00:15:20.766 A:middle
&gt;&gt; 我觉得我们看起来像工程师

00:15:21.116 --> 00:15:21.476 A:middle
&gt;&gt; 那当然

00:15:23.556 --> 00:15:23.956 A:middle
&gt;&gt; 必须的 [ 笑声 ]

00:15:24.516 --> 00:15:27.546 A:middle
[ 掌声 ]

00:15:28.046 --> 00:15:29.836 A:middle
&gt;&gt; 所以你刚刚看到了我们用

00:15:29.836 --> 00:15:30.796 A:middle
Swift Playgrounds 作者模板

00:15:30.796 --> 00:15:32.886 A:middle
编写并且调试了

00:15:32.886 --> 00:15:34.106 A:middle
我们 Playground Book 中的

00:15:34.106 --> 00:15:35.676 A:middle
实况视图 我们希望这些新的工作流

00:15:35.676 --> 00:15:37.086 A:middle
能够帮你在撰写你自己的 Playground Book 时

00:15:37.086 --> 00:15:38.856 A:middle
效率更高

00:15:39.436 --> 00:15:40.486 A:middle
现在我将把舞台交给 Grace

00:15:40.486 --> 00:15:42.026 A:middle
学习一下关于

00:15:42.076 --> 00:15:43.996 A:middle
Swift Playground 订阅的知识

00:15:45.516 --> 00:15:48.626 A:middle
[ 掌声 ]

00:15:49.126 --> 00:15:49.516 A:middle
&gt;&gt; 太棒了

00:15:50.186 --> 00:15:50.916 A:middle
非常感谢你 Holly

00:15:52.326 --> 00:15:53.726 A:middle
现在我们已经了解了

00:15:53.726 --> 00:15:55.056 A:middle
Playground Book 格式

00:15:55.126 --> 00:15:56.036 A:middle
并学习了有关 Swift Playgrounds

00:15:56.036 --> 00:15:57.336 A:middle
作者模板的知识

00:15:57.636 --> 00:15:58.876 A:middle
我们现在来看看

00:15:58.876 --> 00:16:00.226 A:middle
如何把这些文稿

00:15:58.876 --> 00:16:00.226 A:middle
如何把这些文稿

00:16:00.226 --> 00:16:01.316 A:middle
放到订阅中去

00:16:02.716 --> 00:16:04.796 A:middle
首先 什么是订阅

00:16:05.586 --> 00:16:06.166 A:middle
你应该会想到

00:16:06.166 --> 00:16:09.316 A:middle
播客或者杂志那样的订阅

00:16:09.796 --> 00:16:11.196 A:middle
也就是说 当作者发布新的内容时

00:16:11.196 --> 00:16:14.256 A:middle
订阅者会收到通知

00:16:14.686 --> 00:16:16.516 A:middle
订阅内容和 Apple 的内容

00:16:16.516 --> 00:16:17.636 A:middle
一起在这里出现

00:16:18.266 --> 00:16:19.586 A:middle
当你在你的订阅频道

00:16:19.586 --> 00:16:21.126 A:middle
发布了一个新的文稿时

00:16:21.126 --> 00:16:22.376 A:middle
Swift Playgrounds 会把它取来

00:16:22.376 --> 00:16:23.666 A:middle
并作为一个新的文稿

00:16:23.666 --> 00:16:27.106 A:middle
展示给用户 供他们查阅

00:16:27.376 --> 00:16:28.736 A:middle
用户可以通过访问你的网站

00:16:28.736 --> 00:16:31.000 A:middle
来订阅你的订阅频道

00:16:35.236 --> 00:16:37.016 A:middle
订阅以你发布的

00:16:37.016 --> 00:16:38.696 A:middle
可下载内容的 Feed 的形式

00:16:38.696 --> 00:16:39.586 A:middle
存在于线上

00:16:40.486 --> 00:16:41.486 A:middle
你将会通过发布 JSON 文件

00:16:41.486 --> 00:16:42.446 A:middle
来发布你的内容

00:16:42.446 --> 00:16:44.466 A:middle
这个 JSON 文件中包含了 Swift Playgrounds

00:16:44.466 --> 00:16:48.000 A:middle
要下载你的内容 所需要的一切数据

00:16:50.486 --> 00:16:51.486 A:middle
如果你没有用过 JSON 文件

00:16:51.486 --> 00:16:53.576 A:middle
JSON 是一个基于文本的

00:16:53.576 --> 00:16:55.296 A:middle
文稿格式 它的作用是存储

00:16:55.296 --> 00:16:56.156 A:middle
以及交换数据

00:16:57.096 --> 00:16:58.426 A:middle
我们的目标是让

00:16:58.426 --> 00:17:00.016 A:middle
JSON 对象的使用者了解

00:16:58.426 --> 00:17:00.016 A:middle
JSON 对象的使用者了解

00:17:00.276 --> 00:17:01.826 A:middle
你的内容在每一个 Key 上应该是

00:17:01.826 --> 00:17:02.806 A:middle
什么值

00:17:03.376 --> 00:17:04.376 A:middle
举个例子

00:17:04.376 --> 00:17:07.076 A:middle
在我们的订阅中 “title” 这个 Key

00:17:07.076 --> 00:17:09.756 A:middle
的值是 “WWDC Photo Filters”

00:17:10.435 --> 00:17:14.915 A:middle
Playground Feed 格式 分为两个部分

00:17:15.465 --> 00:17:16.786 A:middle
一部分是为了确定

00:17:16.786 --> 00:17:18.266 A:middle
你的订阅的

00:17:18.266 --> 00:17:19.976 A:middle
某些整体特征

00:17:19.976 --> 00:17:21.685 A:middle
而另一个部分

00:17:21.685 --> 00:17:23.136 A:middle
是为了告诉我们你的订阅中

00:17:23.136 --> 00:17:24.116 A:middle
每个文稿的信息

00:17:25.415 --> 00:17:26.896 A:middle
所以我们来看看

00:17:26.896 --> 00:17:28.136 A:middle
你在创建你自己的订阅时

00:17:28.136 --> 00:17:30.016 A:middle
需要用到的 Playground Feed 格式

00:17:30.576 --> 00:17:34.426 A:middle
我们的第一个 Key 是 “title”

00:17:35.206 --> 00:17:36.546 A:middle
这个值应该是一个字符串

00:17:36.746 --> 00:17:38.106 A:middle
对应你的订阅的标题

00:17:38.856 --> 00:17:39.766 A:middle
这里是它在 JSON 文件中应该的样子

00:17:39.766 --> 00:17:41.096 A:middle
而这里是在

00:17:41.096 --> 00:17:42.696 A:middle
《Swift Playgrounds》App 中

00:17:42.826 --> 00:17:44.276 A:middle
你的订阅区中

00:17:44.546 --> 00:17:46.076 A:middle
标题显示的地方

00:17:47.616 --> 00:17:49.246 A:middle
下一个 Key 是

00:17:49.286 --> 00:17:50.556 A:middle
“publisherName” 也就是你

00:17:51.566 --> 00:17:53.036 A:middle
这个 Key 的值也应该是一个

00:17:53.036 --> 00:17:54.586 A:middle
字符串 它代表着

00:17:54.586 --> 00:17:56.156 A:middle
该订阅的发布者的名字

00:17:56.506 --> 00:17:57.916 A:middle
它会在你的订阅中的

00:17:57.916 --> 00:17:59.416 A:middle
每个文稿的详细视图中

00:17:59.416 --> 00:18:01.000 A:middle
显示出来

00:17:59.416 --> 00:18:01.000 A:middle
显示出来

00:18:04.046 --> 00:18:05.076 A:middle
接下来是 “feedIdentifier”

00:18:05.766 --> 00:18:07.156 A:middle
它应该是主持你 Feed 的

00:18:07.336 --> 00:18:09.676 A:middle
域名的反向 DNS

00:18:10.136 --> 00:18:11.326 A:middle
我们在稍后会讲到

00:18:11.326 --> 00:18:12.976 A:middle
关于域名的内容 现在你只需要知道

00:18:13.256 --> 00:18:15.686 A:middle
反向 DNS 就是把网址反过来写

00:18:16.176 --> 00:18:17.706 A:middle
举个例子 如果我在

00:18:17.706 --> 00:18:20.216 A:middle
developer.apple.com 上主持我的 Feed

00:18:20.546 --> 00:18:22.306 A:middle
那么我的 feedIdentifier 将会是

00:18:22.416 --> 00:18:23.566 A:middle
com.apple.developer

00:18:26.056 --> 00:18:28.036 A:middle
下一个 Key 是 “contactURL”

00:18:28.186 --> 00:18:33.886 A:middle
这将用来报告关于你的 Feed 的问题

00:18:34.466 --> 00:18:36.216 A:middle
接下来是 Feed 的 “formatVersion”

00:18:36.856 --> 00:18:38.036 A:middle
它代表着你的 Feed 所遵循的

00:18:38.036 --> 00:18:40.306 A:middle
Feed 格式版本

00:18:41.286 --> 00:18:42.276 A:middle
这里我们

00:18:42.276 --> 00:18:44.596 A:middle
讨论的 Feed 格式是版本 1.0

00:18:45.176 --> 00:18:46.526 A:middle
一旦 Feed 格式有了更新

00:18:46.526 --> 00:18:47.756 A:middle
并且你想让你的订阅

00:18:47.756 --> 00:18:48.586 A:middle
也进行更新

00:18:48.586 --> 00:18:50.226 A:middle
你就可以更改你的

00:18:50.226 --> 00:18:51.726 A:middle
feed.json 文件

00:18:51.726 --> 00:18:53.166 A:middle
进行更新 并在你的 feed.json 文件中

00:18:53.166 --> 00:18:55.136 A:middle
更改 “formatVersion” 的 Key 值

00:18:55.706 --> 00:18:56.886 A:middle
别忘了这个是一个字符串

00:18:56.886 --> 00:18:58.386 A:middle
所以它应该被引号括起来

00:19:00.046 --> 00:19:02.866 A:middle
最后是 “documents” Key

00:19:03.406 --> 00:19:04.466 A:middle
它是 Playground Feed 格式

00:19:04.466 --> 00:19:06.876 A:middle
第二个部分的开始

00:19:07.716 --> 00:19:09.186 A:middle
这个 Key 的值应该是

00:19:09.186 --> 00:19:10.986 A:middle
一个对象数组

00:19:10.986 --> 00:19:12.636 A:middle
其中的对象代表着你的 Feed 中的

00:19:12.636 --> 00:19:13.266 A:middle
Playground Book

00:19:13.946 --> 00:19:14.956 A:middle
接下来我们会讨论一下

00:19:14.956 --> 00:19:17.966 A:middle
这些对象的格式

00:19:18.216 --> 00:19:21.646 A:middle
“documents” 是一个对象数组

00:19:22.726 --> 00:19:24.276 A:middle
其中的对象用 Key 值对

00:19:24.276 --> 00:19:25.126 A:middle
来表示文稿

00:19:25.666 --> 00:19:27.306 A:middle
我们来一一讲解一下

00:19:27.306 --> 00:19:28.856 A:middle
要表示一个文稿你都需要什么

00:19:28.856 --> 00:19:29.686 A:middle
然后在把它们总结起来

00:19:31.596 --> 00:19:34.436 A:middle
“title” 和 “overviewSubtitle” 是字符串

00:19:35.096 --> 00:19:36.296 A:middle
它们应该是

00:19:36.296 --> 00:19:37.376 A:middle
你每个文稿的

00:19:37.376 --> 00:19:38.046 A:middle
标题和副标题

00:19:38.546 --> 00:19:39.886 A:middle
它们会在你的

00:19:39.886 --> 00:19:42.276 A:middle
订阅区中出现

00:19:42.276 --> 00:19:44.586 A:middle
也会在你每个文稿的详细视图中出现

00:19:48.176 --> 00:19:50.096 A:middle
“detailSubtitle” 是一个可选的字符串

00:19:50.096 --> 00:19:51.866 A:middle
你可以用它来创建一个

00:19:51.866 --> 00:19:53.236 A:middle
在详细视图中不同的

00:19:53.236 --> 00:19:55.146 A:middle
副标题 像这里一样

00:19:56.076 --> 00:19:57.496 A:middle
如果你不提供这个 Key 值

00:19:57.496 --> 00:19:59.000 A:middle
我们可以直接省略

00:20:02.046 --> 00:20:03.396 A:middle
“description” 是描述你的

00:20:03.396 --> 00:20:05.306 A:middle
文稿目的的文本

00:20:05.556 --> 00:20:06.926 A:middle
它也会在 Swift Playgrounds

00:20:06.926 --> 00:20:08.396 A:middle
中的详细视图中显示

00:20:10.996 --> 00:20:12.926 A:middle
“contentIdentifier” 是另一个

00:20:12.926 --> 00:20:14.506 A:middle
反向 DNS 标识符

00:20:15.176 --> 00:20:16.516 A:middle
它在 Book 中必须是唯一的

00:20:16.516 --> 00:20:17.496 A:middle
它也必须与你 Book 的 manifest.plist

00:20:17.496 --> 00:20:20.756 A:middle
文件中的 “contentIdentifier” 相匹配

00:20:21.756 --> 00:20:23.026 A:middle
它应该以包含这本 Book

00:20:23.026 --> 00:20:25.486 A:middle
的 Feed 的 feedIdentifier 作为开始

00:20:25.656 --> 00:20:26.696 A:middle
所以在这个例子中是

00:20:26.696 --> 00:20:29.486 A:middle
io.github.WWDCPhotoFilters

00:20:30.976 --> 00:20:32.326 A:middle
你主持你的内容的位置

00:20:32.326 --> 00:20:33.636 A:middle
应该与你主持你

00:20:33.636 --> 00:20:34.596 A:middle
feed.json 文件的位置相同

00:20:35.126 --> 00:20:36.376 A:middle
但如果你不这样做也没问题

00:20:36.376 --> 00:20:37.856 A:middle
你只需要包括一个

00:20:37.856 --> 00:20:39.546 A:middle
你的压缩的 Playground Book 的加密哈希值

00:20:39.606 --> 00:20:41.046 A:middle
作为另一个 Key

00:20:41.566 --> 00:20:42.746 A:middle
你可以在 Feed 格式的在线文档中

00:20:42.746 --> 00:20:45.000 A:middle
学到更多关于这一点的知识

00:20:47.326 --> 00:20:48.526 A:middle
这就是 “contentIdentifier”

00:20:50.776 --> 00:20:52.136 A:middle
“contentVersion” 是你可以

00:20:52.136 --> 00:20:53.776 A:middle
对你的 Book 进行版本管理的方式

00:20:54.416 --> 00:20:55.596 A:middle
当你更新你的 Book 时

00:20:55.596 --> 00:20:57.156 A:middle
你需要提高这个值

00:20:57.156 --> 00:20:58.506 A:middle
且它必须一直与你的 Book 的 Manifest

00:20:58.506 --> 00:21:01.000 A:middle
中的 contentVersion 匹配

00:20:58.506 --> 00:21:01.000 A:middle
中的 contentVersion 匹配

00:21:03.066 --> 00:21:04.036 A:middle
下一个是 “url”

00:21:04.776 --> 00:21:06.106 A:middle
这一条非常重要因为

00:21:06.106 --> 00:21:07.356 A:middle
当你的用户想要下载你的 Book 时

00:21:07.356 --> 00:21:08.406 A:middle
“url” 会告诉

00:21:08.406 --> 00:21:09.716 A:middle
Swift Playgrounds 去哪里下载

00:21:10.376 --> 00:21:11.376 A:middle
它应该是一个

00:21:11.376 --> 00:21:12.986 A:middle
到达你的 Playground Book 的压缩副本

00:21:13.876 --> 00:21:14.000 A:middle
的链接

00:21:17.046 --> 00:21:18.316 A:middle
“additionalInformation” 数组

00:21:18.316 --> 00:21:19.556 A:middle
让你能够存储你的文稿的

00:21:19.556 --> 00:21:21.066 A:middle
额外元数据

00:21:21.066 --> 00:21:22.506 A:middle
你可以在任意位置存储它

00:21:23.296 --> 00:21:24.706 A:middle
它的结构是一个

00:21:24.706 --> 00:21:26.416 A:middle
对象数组 其中的每个数组都有

00:21:26.416 --> 00:21:28.106 A:middle
一对 Key 和值

00:21:28.896 --> 00:21:31.226 A:middle
在这个例子中 一对是 “name” 和 “Made for”

00:21:31.226 --> 00:21:33.646 A:middle
另一对是 “value” 和 “WWDC18”

00:21:33.646 --> 00:21:34.946 A:middle
它们会像这样 在 Swift Playgrounds 的

00:21:34.946 --> 00:21:35.586 A:middle
详细视图中显示

00:21:35.816 --> 00:21:40.126 A:middle
你需要包括你的内容的

00:21:40.126 --> 00:21:42.956 A:middle
“publishedDate” 借 “lastUpdatedDate”

00:21:43.716 --> 00:21:46.436 A:middle
这些日期需要符合 ISO 8601

00:21:46.436 --> 00:21:48.416 A:middle
标准 并应该反映你发布

00:21:48.416 --> 00:21:49.806 A:middle
这部分内容的日期

00:21:49.806 --> 00:21:51.506 A:middle
以及你最后一次更新

00:21:51.506 --> 00:21:53.276 A:middle
这部分内容的日期

00:21:53.796 --> 00:21:58.586 A:middle
最后 还有三个针对

00:21:58.586 --> 00:22:00.506 A:middle
你在订阅中使用的图像的 Key

00:21:58.586 --> 00:22:00.506 A:middle
你在订阅中使用的图像的 Key

00:22:01.316 --> 00:22:02.976 A:middle
“thumbnailURL” 会在

00:22:02.976 --> 00:22:04.416 A:middle
Swift Playgrounds 中的这里显示

00:22:05.956 --> 00:22:07.206 A:middle
也会在你任一个文稿的

00:22:07.206 --> 00:22:09.266 A:middle
详细视图中显示

00:22:10.236 --> 00:22:12.376 A:middle
“previewImageURLs” 会在

00:22:12.376 --> 00:22:14.606 A:middle
你每个文稿的详细视图的

00:22:14.606 --> 00:22:16.126 A:middle
这个部分显示

00:22:16.126 --> 00:22:17.366 A:middle
它会展示一些

00:22:17.366 --> 00:22:19.086 A:middle
你的 Playground 的额外信息

00:22:19.566 --> 00:22:22.596 A:middle
在老版本的 Swift Playgrounds 中

00:22:22.596 --> 00:22:24.596 A:middle
我们会把这张图像作为

00:22:24.596 --> 00:22:25.576 A:middle
“bannerImageURLs” 的值

00:22:25.726 --> 00:22:27.646 A:middle
所以为了支持使用

00:22:27.646 --> 00:22:28.866 A:middle
旧版本 Swift Playgrounds 的用户

00:22:28.906 --> 00:22:30.846 A:middle
你还需要包括这张图像

00:22:33.116 --> 00:22:35.866 A:middle
好的 我们现在已经

00:22:35.866 --> 00:22:37.766 A:middle
讲完了 Feed 格式

00:22:37.766 --> 00:22:38.636 A:middle
我们来讲讲发布

00:22:39.126 --> 00:22:41.036 A:middle
你可能想知道

00:22:41.036 --> 00:22:42.836 A:middle
我怎样发布我做的这些文件呢

00:22:43.576 --> 00:22:44.556 A:middle
你将需要把你的

00:22:44.556 --> 00:22:46.896 A:middle
feed.json 文件以及你

00:22:46.896 --> 00:22:48.606 A:middle
所写的所有文稿都放到网上

00:22:48.606 --> 00:22:51.586 A:middle
为了实现这一点 你需要一个网络主机

00:22:52.676 --> 00:22:54.706 A:middle
发布你的订阅

00:22:54.756 --> 00:22:55.876 A:middle
需要一个网络主句

00:22:56.556 --> 00:22:57.466 A:middle
你有很多方式

00:22:57.466 --> 00:22:59.146 A:middle
可以做到这点

00:22:59.146 --> 00:23:00.716 A:middle
比如使用 GitHub 页面

00:22:59.146 --> 00:23:00.716 A:middle
比如使用 GitHub 页面

00:23:00.716 --> 00:23:03.026 A:middle
使用 Squarespace 以及其他

00:23:03.026 --> 00:23:05.846 A:middle
但今天我们会以 GitHub 页面作为例子

00:23:06.446 --> 00:23:09.616 A:middle
GitHub 页面是一个让你

00:23:09.616 --> 00:23:11.256 A:middle
能够为你和你的项目创建一个网站的工具

00:23:11.256 --> 00:23:12.866 A:middle
而且它是直接在

00:23:12.866 --> 00:23:14.586 A:middle
一个 GitHub 库中主持的

00:23:15.266 --> 00:23:16.826 A:middle
它使用 Git 来管理内容

00:23:18.176 --> 00:23:19.156 A:middle
我们来一步一步看看

00:23:19.156 --> 00:23:20.086 A:middle
要使用 GitHub 页面

00:23:20.086 --> 00:23:21.396 A:middle
所需要的步骤

00:23:23.036 --> 00:23:25.286 A:middle
首先你需要一个 GitHub 帐号

00:23:26.606 --> 00:23:27.456 A:middle
你可以在 GitHub 的网站上

00:23:27.456 --> 00:23:28.276 A:middle
创建一个

00:23:30.436 --> 00:23:31.376 A:middle
然后 你需要创建一个库

00:23:31.376 --> 00:23:34.446 A:middle
叫做 username.github.io

00:23:34.946 --> 00:23:36.436 A:middle
你必须要用这样的方式命名它

00:23:36.436 --> 00:23:37.066 A:middle
不然它就不会工作

00:23:37.576 --> 00:23:38.896 A:middle
这将会是你

00:23:38.896 --> 00:23:42.616 A:middle
存储你内容的库

00:23:43.076 --> 00:23:43.896 A:middle
一旦你把这个库

00:23:43.896 --> 00:23:45.996 A:middle
克隆到你的 Mac 上

00:23:45.996 --> 00:23:48.236 A:middle
你就可以创建一个 index.html 文件

00:23:48.236 --> 00:23:49.956 A:middle
作为你网站的主页

00:23:50.636 --> 00:23:51.966 A:middle
我们这里的这个文件只会显示

00:23:51.966 --> 00:23:53.156 A:middle
Hello WWDC

00:23:55.036 --> 00:23:56.546 A:middle
要了解更多关于在 Xcode 中的

00:23:56.546 --> 00:23:57.916 A:middle
源码控制工作流的内容

00:23:58.206 --> 00:23:59.316 A:middle
可以看看这周早些时候的

00:23:59.316 --> 00:24:01.000 A:middle
这个讨论会

00:23:59.316 --> 00:24:01.000 A:middle
这个讨论会

00:24:04.046 --> 00:24:05.456 A:middle
当你创建了这个文件之后

00:24:05.626 --> 00:24:06.486 A:middle
你要确保它在你的库中

00:24:06.486 --> 00:24:08.686 A:middle
确认更改 推送

00:24:08.916 --> 00:24:10.056 A:middle
然后访问你位于 username.github.io

00:24:10.056 --> 00:24:12.956 A:middle
的网站

00:24:13.896 --> 00:24:15.096 A:middle
当你继续添加

00:24:15.096 --> 00:24:16.166 A:middle
更多文件和文件夹

00:24:16.166 --> 00:24:17.606 A:middle
到你的库中 并继续

00:24:17.606 --> 00:24:18.876 A:middle
确认并把它们推送到网站上时

00:24:18.876 --> 00:24:20.896 A:middle
它会自动更新你的库

00:24:20.896 --> 00:24:22.836 A:middle
以及 GitHub 网站

00:24:25.096 --> 00:24:27.196 A:middle
现在这个文件夹中只有

00:24:27.196 --> 00:24:28.996 A:middle
一个文件 index.html

00:24:29.396 --> 00:24:31.706 A:middle
它会作为你的网站的欢迎页面

00:24:32.066 --> 00:24:33.546 A:middle
但我们之前也讨论过

00:24:33.546 --> 00:24:34.736 A:middle
你需要更多的一些文件

00:24:34.766 --> 00:24:35.936 A:middle
来支持你的订阅

00:24:36.786 --> 00:24:38.696 A:middle
Holly 刚刚提到过

00:24:38.696 --> 00:24:39.906 A:middle
我们一直在做一个叫做

00:24:39.906 --> 00:24:41.816 A:middle
“WWDC Photo Filters” 的订阅

00:24:41.816 --> 00:24:42.896 A:middle
它有很多很酷的

00:24:42.896 --> 00:24:44.246 A:middle
使用了 Core Image 的滤镜内容

00:24:44.246 --> 00:24:45.486 A:middle
在 Swift Playgrounds 中可用

00:24:45.696 --> 00:24:46.916 A:middle
作为示例 我将会一步一步带你看看

00:24:46.916 --> 00:24:48.536 A:middle
我们的库的层级

00:24:48.536 --> 00:24:50.156 A:middle
来展示一下我们是如何组织它的

00:24:52.536 --> 00:24:54.456 A:middle
第一个需要被包括的文件

00:24:54.456 --> 00:24:56.506 A:middle
是你的 feed.json 文件

00:24:57.096 --> 00:24:58.676 A:middle
我们把我们的 feed.json 文件放到了

00:24:58.676 --> 00:24:59.856 A:middle
我们库中与 index.html

00:24:59.856 --> 00:25:01.376 A:middle
同样的那一层

00:24:59.856 --> 00:25:01.376 A:middle
同样的那一层

00:25:01.926 --> 00:25:05.036 A:middle
然后你将需要把你所有的文稿

00:25:05.036 --> 00:25:05.906 A:middle
都存储进去

00:25:07.166 --> 00:25:08.086 A:middle
我们所发布的每一个 Playground

00:25:08.136 --> 00:25:09.616 A:middle
都独立地储存在一个文件夹中

00:25:09.616 --> 00:25:11.226 A:middle
来让我们的库看起来清爽整洁

00:25:11.956 --> 00:25:13.056 A:middle
我们的每一部分内容

00:25:13.146 --> 00:25:14.016 A:middle
都有它自己的文件夹

00:25:14.376 --> 00:25:18.316 A:middle
比如 “ImageTransitions”“IntrotoCI” 等等

00:25:19.096 --> 00:25:20.556 A:middle
在库的最顶层

00:25:20.556 --> 00:25:22.206 A:middle
放着的是我们的

00:25:22.296 --> 00:25:24.746 A:middle
index.html 文件 feed.json 文件

00:25:24.746 --> 00:25:27.000 A:middle
以及每个文稿的文件夹

00:25:29.506 --> 00:25:30.906 A:middle
如果我打开其中一个文稿

00:25:30.906 --> 00:25:32.746 A:middle
的文件夹 我会看到四个文件

00:25:33.456 --> 00:25:35.616 A:middle
一个 zips.playgroundbook 文件

00:25:35.616 --> 00:25:36.206 A:middle
和三个图像文件

00:25:37.006 --> 00:25:38.506 A:middle
这三个图像分别是

00:25:38.506 --> 00:25:41.716 A:middle
横幅图 预览图 以及缩略图

00:25:42.476 --> 00:25:43.576 A:middle
压缩的 Playground Book 文件

00:25:43.576 --> 00:25:45.256 A:middle
将会是用户下载的 Playground Book

00:25:45.986 --> 00:25:48.876 A:middle
我们来把这个与我们的

00:25:48.876 --> 00:25:51.386 A:middle
feed.json 文件比较一下

00:25:52.436 --> 00:25:54.316 A:middle
在最高层级 我们可以看到

00:25:54.316 --> 00:25:55.586 A:middle
“feedIdentifier” 就是

00:25:55.586 --> 00:25:57.366 A:middle
我们的网站的反向 DNS

00:25:57.736 --> 00:26:01.000 A:middle
io.github.WWDCPhotoFilters

00:25:57.736 --> 00:26:01.000 A:middle
io.github.WWDCPhotoFilters

00:26:05.046 --> 00:26:06.626 A:middle
在“documents”数组中

00:26:06.626 --> 00:26:07.996 A:middle
针对每一个我们发布的文稿

00:26:07.996 --> 00:26:09.406 A:middle
都有一个对应的元素

00:26:09.806 --> 00:26:13.586 A:middle
如果我们看看我们的

00:26:13.586 --> 00:26:15.646 A:middle
第一个文稿 会发现 “contentIdentifier”

00:26:15.646 --> 00:26:17.586 A:middle
与 “feedIdentifier” 相匹配

00:26:17.586 --> 00:26:19.000 A:middle
只是在最后加上了 Book 的标题

00:26:22.586 --> 00:26:24.146 A:middle
我们的 Book 的 “url” 是

00:26:24.146 --> 00:26:24.796 A:middle
我们的网站域名 后面加上

00:26:25.636 --> 00:26:28.926 A:middle
/IntrotoCI/IntrotoCI

00:26:29.216 --> 00:26:30.006 A:middle
.playgroundbook.zip

00:26:30.006 --> 00:26:31.776 A:middle
再次强调一下

00:26:31.776 --> 00:26:33.246 A:middle
把这个弄对非常关键

00:26:33.246 --> 00:26:34.266 A:middle
因为这是 Swift Playgrounds

00:26:34.266 --> 00:26:35.486 A:middle
去下载你的内容的地方

00:26:35.486 --> 00:26:40.526 A:middle
你图像的 URL 可以是

00:26:40.526 --> 00:26:41.466 A:middle
相对 URL

00:26:41.466 --> 00:26:43.086 A:middle
你只需要包括

00:26:43.086 --> 00:26:44.466 A:middle
你的 feed.json 文件

00:26:44.466 --> 00:26:46.686 A:middle
所在的文件夹下面的路径

00:26:47.126 --> 00:26:48.206 A:middle
所以在这里我只有

00:26:48.256 --> 00:26:50.316 A:middle
“IntrotoCI/thumbnail.png”

00:26:50.316 --> 00:26:52.526 A:middle
你的订阅中的每个文稿

00:26:52.526 --> 00:26:56.626 A:middle
都应该遵循这个格式

00:26:57.176 --> 00:26:58.146 A:middle
当一切都上线的时候

00:26:58.496 --> 00:27:00.006 A:middle
任何人都可以订阅你的 Feed

00:26:58.496 --> 00:27:00.006 A:middle
任何人都可以订阅你的 Feed

00:27:00.856 --> 00:27:02.066 A:middle
他们可以手动输入

00:27:02.066 --> 00:27:03.766 A:middle
指向你的 feed.json 文件

00:27:03.766 --> 00:27:06.846 A:middle
的 URL 或者你也可以使用

00:27:06.846 --> 00:27:08.366 A:middle
通用链接 这样用户就可以

00:27:08.366 --> 00:27:10.326 A:middle
在 Safari 浏览器中轻点一个链接

00:27:10.326 --> 00:27:13.366 A:middle
并重定向至 Swift Playgrounds

00:27:14.676 --> 00:27:17.556 A:middle
为了做到这一点 你需要把你 Feed 的 URL

00:27:17.996 --> 00:27:19.516 A:middle
和 Swift Playgrounds 的通用链接前缀

00:27:19.516 --> 00:27:20.636 A:middle
结合起来

00:27:21.266 --> 00:27:24.276 A:middle
这里就是我们 index.html 文件中

00:27:24.276 --> 00:27:26.106 A:middle
针对链接的代码

00:27:26.396 --> 00:27:28.886 A:middle
我把通用链接前缀

00:27:29.796 --> 00:27:33.536 A:middle
https/developer.apple.com/ul/

00:27:34.616 --> 00:27:36.586 A:middle
就是这个 [ 笑声 ]

00:27:36.586 --> 00:27:38.226 A:middle
和 URL 结合了起来

00:27:39.156 --> 00:27:41.446 A:middle
然后你可以把这个链接

00:27:41.446 --> 00:27:43.326 A:middle
嵌入到一个含有 href 属性的钩子元素中

00:27:43.326 --> 00:27:45.046 A:middle
这样用户就能通过

00:27:45.046 --> 00:27:47.136 A:middle
轻点 “Subscribe” 来被导向

00:27:47.136 --> 00:27:48.066 A:middle
Swift Playgrounds

00:27:49.716 --> 00:27:51.566 A:middle
接下来我想要做一个演示

00:27:51.616 --> 00:27:53.306 A:middle
来展示你要添加一本 Book 到你的订阅

00:27:53.306 --> 00:27:54.616 A:middle
所需要的步骤

00:27:55.516 --> 00:28:01.926 A:middle
[ 掌声 ]

00:27:55.516 --> 00:28:01.926 A:middle
[ 掌声 ]

00:28:02.426 --> 00:28:03.526 A:middle
好的 我之前说过

00:28:03.526 --> 00:28:04.766 A:middle
我们正在做这个

00:28:04.766 --> 00:28:05.916 A:middle
照片滤镜订阅

00:28:05.916 --> 00:28:06.436 A:middle
我觉得它很酷

00:28:07.136 --> 00:28:08.556 A:middle
我其实刚完成了另一本 Book

00:28:08.556 --> 00:28:11.176 A:middle
它是关于内容感知大小调整的

00:28:12.366 --> 00:28:14.076 A:middle
内容感知大小调整 是一种调整

00:28:14.076 --> 00:28:15.586 A:middle
你的图像大小的方式

00:28:15.586 --> 00:28:16.566 A:middle
使用这种方式 你不会丢失图像中

00:28:16.566 --> 00:28:17.766 A:middle
最重要的部分

00:28:18.246 --> 00:28:19.706 A:middle
我这里有一张纪念碑谷的照片

00:28:19.706 --> 00:28:21.496 A:middle
我觉得它非常美

00:28:21.496 --> 00:28:23.416 A:middle
但我确实想

00:28:23.596 --> 00:28:24.816 A:middle
把它修剪一下

00:28:24.856 --> 00:28:26.026 A:middle
让它的宽度窄一点

00:28:26.156 --> 00:28:28.076 A:middle
但我并不想缩放它

00:28:28.076 --> 00:28:29.366 A:middle
或者简单地裁剪

00:28:29.366 --> 00:28:30.406 A:middle
因为我不想丢失

00:28:30.406 --> 00:28:32.206 A:middle
照片中美丽的日落和孤峰

00:28:33.476 --> 00:28:36.116 A:middle
有了内容感知大小调整

00:28:36.206 --> 00:28:38.066 A:middle
我可以把这张照片中

00:28:38.066 --> 00:28:39.176 A:middle
所有不同的的像素

00:28:39.176 --> 00:28:40.786 A:middle
遍历一遍 找到

00:28:40.786 --> 00:28:42.586 A:middle
其中最不重要的纵向像素条

00:28:42.656 --> 00:28:44.436 A:middle
并把它们一一移除

00:28:44.436 --> 00:28:45.506 A:middle
每次宽度都会变窄一点

00:28:45.576 --> 00:28:47.446 A:middle
但我最后还是会

00:28:47.446 --> 00:28:48.346 A:middle
在照片上看到最重要的

00:28:48.346 --> 00:28:50.696 A:middle
孤峰 日落 公路

00:28:50.726 --> 00:28:52.976 A:middle
所有的重要元素都在

00:28:54.696 --> 00:28:56.366 A:middle
我把所有的代码

00:28:56.366 --> 00:28:58.496 A:middle
都写到了一本 Playground Book 中

00:28:58.496 --> 00:29:00.146 A:middle
我把它称为 “ContentAwareResizing”

00:28:58.496 --> 00:29:00.146 A:middle
我把它称为 “ContentAwareResizing”

00:29:00.646 --> 00:29:01.756 A:middle
它储存在我的

00:29:01.756 --> 00:29:03.196 A:middle
“ContentAwareResizing” 文件夹中

00:29:05.246 --> 00:29:07.106 A:middle
这已经差不多完成了

00:29:07.296 --> 00:29:09.616 A:middle
我要做的只是把它压缩打包

00:29:09.726 --> 00:29:11.216 A:middle
所以我选择 “File（文件）”

00:29:12.096 --> 00:29:13.856 A:middle
“Compress ‘ContentAwareResizing.

00:29:14.026 --> 00:29:14.496 A:middle
playgroundbook’”

00:29:15.116 --> 00:29:16.316 A:middle
现在我有了一个我的 Playground Book 的

00:29:16.316 --> 00:29:17.506 A:middle
压缩文件

00:29:17.506 --> 00:29:21.236 A:middle
然后我要把之前的这个移到废纸篓

00:29:21.796 --> 00:29:23.126 A:middle
最后 我需要为了

00:29:23.126 --> 00:29:24.706 A:middle
缩略图和横幅图

00:29:24.706 --> 00:29:25.816 A:middle
移入一些图像

00:29:25.816 --> 00:29:27.656 A:middle
这两个图像是 Feed 格式

00:29:27.656 --> 00:29:28.406 A:middle
所要求的

00:29:29.086 --> 00:29:31.436 A:middle
碰巧我的桌面上

00:29:31.436 --> 00:29:33.866 A:middle
有两个图像 分别叫做 “thumbnail.png”

00:29:33.866 --> 00:29:34.896 A:middle
和 “bannerImage.png”

00:29:35.716 --> 00:29:37.506 A:middle
只需要这两个完美

00:29:37.506 --> 00:29:40.936 A:middle
我把它们拖放到我的文件夹中

00:29:41.546 --> 00:29:45.276 A:middle
如果看看我的

00:29:45.276 --> 00:29:47.616 A:middle
“WWDCPhotoFilters” 库

00:29:47.616 --> 00:29:50.426 A:middle
我这里有三个文件夹

00:29:50.426 --> 00:29:52.276 A:middle
每一个中都有一个图像

00:29:52.276 --> 00:29:53.866 A:middle
一本压缩的 Playground Book

00:29:53.866 --> 00:29:54.996 A:middle
还有另一个为缩略图准备的图像

00:29:55.186 --> 00:29:56.266 A:middle
这看起来还不错

00:29:56.716 --> 00:29:58.786 A:middle
我认为我的文件夹完美地

00:29:58.836 --> 00:29:59.366 A:middle
遵循了那个格式

00:30:00.176 --> 00:30:02.786 A:middle
所以我准备把它发布出去

00:30:03.336 --> 00:30:04.996 A:middle
我为我的库创建了一个

00:30:04.996 --> 00:30:05.846 A:middle
工作区域

00:30:05.846 --> 00:30:07.206 A:middle
我要按住这个文件夹

00:30:08.266 --> 00:30:12.036 A:middle
把它拖过来

00:30:12.036 --> 00:30:14.146 A:middle
放到我的库中 现在我有一个新的

00:30:14.146 --> 00:30:16.366 A:middle
“ContentAwareResizing” 文件夹了

00:30:17.406 --> 00:30:18.676 A:middle
再检查一下是不是所有东西都在

00:30:18.746 --> 00:30:20.536 A:middle
看起来很不错

00:30:21.196 --> 00:30:22.986 A:middle
我们要做的最后一步是

00:30:22.986 --> 00:30:24.516 A:middle
更新我们的

00:30:24.516 --> 00:30:25.646 A:middle
feed.json 文件

00:30:25.916 --> 00:30:29.046 A:middle
这就是那个文件

00:30:29.046 --> 00:30:30.856 A:middle
你可以看到在我的 “documents” 数组中

00:30:30.906 --> 00:30:33.076 A:middle
我有我的 “Image Transitions” 对象

00:30:33.076 --> 00:30:34.926 A:middle
“Intro to Core Image” 对象

00:30:34.926 --> 00:30:36.726 A:middle
还有我的 “Test Out CIFilters!” 对象

00:30:36.846 --> 00:30:38.796 A:middle
所以我需要为内容感知大小调整

00:30:38.796 --> 00:30:40.076 A:middle
添加一个对象

00:30:40.586 --> 00:30:43.946 A:middle
幸运的是 我之前已经做了一个快捷键

00:30:43.986 --> 00:30:47.626 A:middle
所以 一下就出来了

00:30:47.926 --> 00:30:48.796 A:middle
我已经填好了大部分

00:30:48.796 --> 00:30:50.396 A:middle
因为我刚做了美甲

00:30:50.936 --> 00:30:52.646 A:middle
[ 笑声 ] 所以我需要做的就是

00:30:52.646 --> 00:30:54.676 A:middle
把标题输入进去

00:30:55.696 --> 00:30:57.456 A:middle
我想把它叫做

00:30:58.236 --> 00:30:59.186 A:middle
“Content Aware Resizing”

00:31:01.126 --> 00:31:02.246 A:middle
我决定省略

00:31:02.246 --> 00:31:03.736 A:middle
“detailedSubtitle”

00:31:03.736 --> 00:31:05.506 A:middle
有这个 “overviewSubtitle” 就够了

00:31:05.506 --> 00:31:06.886 A:middle
“Try out content aware

00:31:07.006 --> 00:31:07.236 A:middle
resizing in Swift.”

00:31:07.726 --> 00:31:09.976 A:middle
我这里有一个 “description”

00:31:10.046 --> 00:31:11.266 A:middle
我的 “contentIdentifier” 是

00:31:11.266 --> 00:31:13.856 A:middle
“io.github.WWDCPhotoFilters

00:31:14.056 --> 00:31:15.866 A:middle
.contentAwareResizing” 也就是

00:31:15.866 --> 00:31:16.226 A:middle
我 Book 的名字

00:31:16.886 --> 00:31:18.996 A:middle
这是我第一次发布它 所以我的

00:31:18.996 --> 00:31:20.006 A:middle
“contentVersion” 是 “1.0”

00:31:20.746 --> 00:31:22.836 A:middle
我的 “url” 会映射到我的网站

00:31:22.836 --> 00:31:25.076 A:middle
后面是我的文件夹名称

00:31:25.076 --> 00:31:26.136 A:middle
“ContentAwareResizing

00:31:26.696 --> 00:31:28.366 A:middle
/ContentAwareResizing

00:31:28.366 --> 00:31:29.566 A:middle
.playgroundbook.zip”

00:31:31.606 --> 00:31:33.636 A:middle
我的 “publishedDate” 是现在

00:31:33.846 --> 00:31:34.506 A:middle
时间是 09:40 [ 笑声 ]

00:31:34.646 --> 00:31:37.056 A:middle
我的 “lastUpdatedDate” 也是

00:31:37.056 --> 00:31:39.036 A:middle
今天的 09:40 因为发布也算是

00:31:39.036 --> 00:31:39.716 A:middle
一次更新

00:31:39.756 --> 00:31:42.526 A:middle
我还包括了我的 “thumbnailURL”

00:31:42.526 --> 00:31:44.186 A:middle
和我的 “bannerImageURL”

00:31:44.996 --> 00:31:46.276 A:middle
在 “additionalInformation” 中我写上了

00:31:46.276 --> 00:31:48.066 A:middle
语言是英文

00:31:48.536 --> 00:31:50.796 A:middle
至于 “previewImageURLs”

00:31:50.796 --> 00:31:53.426 A:middle
我决定暂时空着

00:31:53.646 --> 00:31:55.186 A:middle
好的 一切看起来都很不错

00:31:55.186 --> 00:31:58.556 A:middle
我现在需要做的就是

00:31:58.556 --> 00:31:59.936 A:middle
前往 Xcode 源代码控制

00:32:00.586 --> 00:32:03.246 A:middle
点击 “Commit（确认）” 并确保这四个文件

00:32:03.246 --> 00:32:04.436 A:middle
都被选中

00:32:04.496 --> 00:32:06.526 A:middle
因为我添加了三个新文件

00:32:06.526 --> 00:32:07.876 A:middle
并且编辑了 feed.json

00:32:08.706 --> 00:32:10.046 A:middle
我将要在确认信息中写

00:32:10.936 --> 00:32:15.466 A:middle
“Adding our demo book!”

00:32:15.696 --> 00:32:16.846 A:middle
勾选 “Push to remote（推送到远程）”

00:32:18.476 --> 00:32:20.000 A:middle
祝我好运

00:32:24.046 --> 00:32:25.096 A:middle
把 Holly 请回到舞台

00:32:25.786 --> 00:32:26.276 A:middle
好的

00:32:26.276 --> 00:32:26.616 A:middle
成功了

00:32:26.746 --> 00:32:26.996 A:middle
酷

00:32:28.516 --> 00:32:32.896 A:middle
[ 掌声 ]

00:32:33.396 --> 00:32:34.566 A:middle
现在我想麻烦 Holly

00:32:34.666 --> 00:32:36.286 A:middle
前往我们的网站

00:32:36.286 --> 00:32:38.236 A:middle
并从那里订阅

00:32:38.436 --> 00:32:40.506 A:middle
很好 这是我们的网站

00:32:40.506 --> 00:32:41.826 A:middle
你可以看到我们在这有一个漂亮的

00:32:41.826 --> 00:32:42.796 A:middle
“Subscribe（订阅）” 按钮

00:32:43.056 --> 00:32:45.546 A:middle
如果 Holly 轻点一下它

00:32:45.546 --> 00:32:50.000 A:middle
她就会被导航到 Swift Playgrounds 订阅

00:32:54.176 --> 00:32:56.000 A:middle
重启 QuickTime Player

00:33:05.656 --> 00:33:07.000 A:middle
能看到 Holly 了 [ 笑声 ]

00:33:12.596 --> 00:33:14.256 A:middle
总之它是一个很酷的 Book

00:33:14.316 --> 00:33:14.436 A:middle
[ 笑声 ]

00:33:14.526 --> 00:33:16.876 A:middle
其实你们所有人都可以下载它

00:33:16.876 --> 00:33:18.136 A:middle
因为我们现在已经

00:33:18.136 --> 00:33:19.556 A:middle
把它发布到我们的订阅中了

00:33:19.556 --> 00:33:20.426 A:middle
它的 URL 是

00:33:20.426 --> 00:33:24.066 A:middle
WWDCPhotoFilters.GitHub.io

00:33:24.066 --> 00:33:25.346 A:middle
所以你们可以下载我们所有

00:33:25.416 --> 00:33:26.696 A:middle
已经发布的四本 Book

00:33:27.006 --> 00:33:28.266 A:middle
一个是 “Intro to Core Image”

00:33:28.636 --> 00:33:30.456 A:middle
一个是 “Image Transitions” 它使用了

00:33:30.456 --> 00:33:31.886 A:middle
内建的 Core Image 中的

00:33:31.886 --> 00:33:32.716 A:middle
Transition 滤镜

00:33:33.256 --> 00:33:36.196 A:middle
一个是 “Combining Filters”

00:33:36.196 --> 00:33:36.826 A:middle
它也在 Core Image 中

00:33:36.916 --> 00:33:38.386 A:middle
你可以把它们相互叠加起来

00:33:38.946 --> 00:33:40.256 A:middle
最后一个就是这本

00:33:40.256 --> 00:33:41.576 A:middle
“Content Aware Resizing”

00:33:42.016 --> 00:33:43.666 A:middle
[ 欢呼声 ]

00:33:43.666 --> 00:33:43.976 A:middle
谢谢你们

00:33:44.036 --> 00:33:46.036 A:middle
[ 掌声 ]

00:33:46.056 --> 00:33:48.406 A:middle
来看看 [ 笑声 ]

00:33:48.406 --> 00:33:50.000 A:middle
稍等一下

00:33:53.336 --> 00:33:54.056 A:middle
终于好了

00:33:54.056 --> 00:33:55.456 A:middle
这就是我们的订阅

00:33:55.456 --> 00:33:56.016 A:middle
[ 笑声 ]

00:33:56.516 --> 00:34:00.056 A:middle
[ 掌声 ]

00:33:56.516 --> 00:34:00.056 A:middle
[ 掌声 ]

00:34:00.556 --> 00:34:01.606 A:middle
现在如果 Holly 试着下载

00:34:01.656 --> 00:34:03.000 A:middle
“Content Aware Resizing”

00:34:05.076 --> 00:34:05.866 A:middle
并且打开它

00:34:08.496 --> 00:34:09.516 A:middle
酷 成功了

00:34:10.406 --> 00:34:11.406 A:middle
在右侧的实况视图中

00:34:11.406 --> 00:34:13.005 A:middle
我们有这个美丽的

00:34:13.005 --> 00:34:14.795 A:middle
纪念碑谷的图片

00:34:14.795 --> 00:34:15.926 A:middle
我想让 Holly 把它

00:34:15.926 --> 00:34:17.005 A:middle
稍稍裁剪一下 再重新运行代码

00:34:17.005 --> 00:34:19.000 A:middle
看看会产生什么

00:34:25.045 --> 00:34:26.866 A:middle
这个算法做的是

00:34:26.866 --> 00:34:28.735 A:middle
遍历一张图片所有的

00:34:28.826 --> 00:34:31.166 A:middle
垂直像素条 决定

00:34:31.166 --> 00:34:33.676 A:middle
其中的哪些与周围的像素条

00:34:33.676 --> 00:34:35.766 A:middle
最相似 然后再把它们一个个移除

00:34:36.196 --> 00:34:37.516 A:middle
现在我们可以看到

00:34:37.516 --> 00:34:39.275 A:middle
它被裁剪了一部分

00:34:39.306 --> 00:34:40.000 A:middle
看起来很漂亮

00:34:43.516 --> 00:34:49.556 A:middle
[ 掌声 ]

00:34:50.056 --> 00:34:51.226 A:middle
这就是我们今天全部的内容

00:34:51.485 --> 00:34:52.886 A:middle
要了解更多的信息

00:34:52.886 --> 00:34:54.315 A:middle
请在今天中午来我们的 “Creating Content

00:34:54.315 --> 00:34:56.396 A:middle
for Swift Playgrounds” 实验室

00:34:56.795 --> 00:34:58.016 A:middle
&gt;&gt; 要了解更多

00:34:58.016 --> 00:34:59.056 A:middle
关于这个讨论会和订阅的信息

00:34:59.056 --> 00:35:00.696 A:middle
你可以在 developer.apple.com

00:34:59.056 --> 00:35:00.696 A:middle
你可以在 developer.apple.com

00:35:00.696 --> 00:35:02.396 A:middle
上访问 413 号讨论会

00:35:02.396 --> 00:35:03.646 A:middle
的网站

00:35:04.716 --> 00:35:06.236 A:middle
&gt;&gt; 谢谢你们今天的到来

00:35:06.656 --> 00:35:08.106 A:middle
&gt;&gt; 我们迫不及待地

00:35:08.106 --> 00:35:09.156 A:middle
想订阅你们发布的

00:35:09.156 --> 00:35:09.736 A:middle
所有 Playground

00:35:10.126 --> 00:35:10.686 A:middle
谢谢大家

00:35:11.516 --> 00:35:20.500 A:middle
[ 掌声 ]
