WEBVTT

00:00:07.516 --> 00:00:15.516 A:middle
[ 音乐 ]

00:00:16.516 --> 00:00:25.936 A:middle
[ 掌声 ]

00:00:26.436 --> 00:00:27.406 A:middle
&gt;&gt; 大家好

00:00:27.646 --> 00:00:29.246 A:middle
我叫 Paul Salzman

00:00:29.246 --> 00:00:30.636 A:middle
我和我的朋友 Josh Ford

00:00:30.636 --> 00:00:31.706 A:middle
今天非常兴奋能来到这里

00:00:32.016 --> 00:00:33.066 A:middle
和各位谈谈 Siri 表盘上的

00:00:33.066 --> 00:00:34.626 A:middle
Siri 捷径服务

00:00:36.316 --> 00:00:37.556 A:middle
去年 我们发布了 Siri 表盘

00:00:37.556 --> 00:00:39.276 A:middle
每当抬起手腕

00:00:39.276 --> 00:00:40.486 A:middle
它就会根据用户

00:00:40.486 --> 00:00:41.686 A:middle
使用习惯的相关性

00:00:41.686 --> 00:00:43.056 A:middle
使信息可以快速浏览

00:00:43.056 --> 00:00:43.516 A:middle
并拥有触控操作

00:00:44.376 --> 00:00:45.786 A:middle
这意味着我们的用户

00:00:45.786 --> 00:00:47.326 A:middle
不需任何配置

00:00:47.676 --> 00:00:48.646 A:middle
即可全天接收到

00:00:48.646 --> 00:00:50.436 A:middle
随时更新的内容

00:00:51.746 --> 00:00:53.046 A:middle
现在 在 watchOS 5 中

00:00:53.046 --> 00:00:54.466 A:middle
我们非常兴奋可以将

00:00:54.466 --> 00:00:55.936 A:middle
你的 App 作为数据源

00:00:55.936 --> 00:00:56.766 A:middle
添加到 Siri 表盘上

00:00:58.196 --> 00:00:59.666 A:middle
你提供的捷径

00:00:59.666 --> 00:01:00.566 A:middle
将出现在表盘上

00:00:59.666 --> 00:01:00.566 A:middle
将出现在表盘上

00:01:00.566 --> 00:01:01.376 A:middle
或者说 在这些称之为

00:01:01.376 --> 00:01:01.876 A:middle
卡片的东西上

00:01:02.276 --> 00:01:03.436 A:middle
当用户轻触这些卡片时

00:01:03.436 --> 00:01:04.825 A:middle
它就会执行

00:01:04.825 --> 00:01:05.916 A:middle
相应的捷径操作

00:01:06.256 --> 00:01:07.486 A:middle
比如它可以

00:01:07.996 --> 00:01:09.036 A:middle
进入到你的 App 内

00:01:09.086 --> 00:01:12.246 A:middle
具体的内容界面中去

00:01:12.246 --> 00:01:13.006 A:middle
如果你的捷径支持后台运行

00:01:13.006 --> 00:01:15.216 A:middle
我们还可以直接

00:01:15.216 --> 00:01:16.566 A:middle
在表盘上运行这个内联程序

00:01:17.586 --> 00:01:18.396 A:middle
也就是说

00:01:18.396 --> 00:01:19.496 A:middle
用户不用离开表盘

00:01:19.496 --> 00:01:21.446 A:middle
就能使用 App 的功能

00:01:22.006 --> 00:01:23.146 A:middle
让我们来看看

00:01:23.146 --> 00:01:24.276 A:middle
我们今天要讨论的内容

00:01:24.596 --> 00:01:25.686 A:middle
我们将从内容是

00:01:25.686 --> 00:01:27.926 A:middle
如何在 Siri 表盘上显示开始

00:01:29.246 --> 00:01:30.366 A:middle
然后 我们会讨论

00:01:30.366 --> 00:01:32.056 A:middle
Relevant Shortcut API

00:01:32.056 --> 00:01:33.266 A:middle
即用来给 Siri 表盘

00:01:33.266 --> 00:01:34.486 A:middle
提供内容的 API

00:01:35.846 --> 00:01:37.166 A:middle
我们也会提到如何在你的

00:01:37.166 --> 00:01:38.636 A:middle
iOS App 内

00:01:38.636 --> 00:01:39.926 A:middle
使用 API 来为你的

00:01:39.926 --> 00:01:40.756 A:middle
Siri 表盘提供内容

00:01:40.826 --> 00:01:42.416 A:middle
之后我会把场地交给 Josh

00:01:42.416 --> 00:01:43.896 A:middle
让他为大家介绍预测引擎

00:01:43.896 --> 00:01:45.536 A:middle
并让各位了解

00:01:45.536 --> 00:01:46.866 A:middle
如何最好的利用这些 API

00:01:46.866 --> 00:01:48.346 A:middle
来为你的 App

00:01:48.346 --> 00:01:49.066 A:middle
提供服务

00:01:49.666 --> 00:01:52.536 A:middle
让我们来看看

00:01:52.536 --> 00:01:53.726 A:middle
Siri 表盘如何显示内容

00:01:55.246 --> 00:01:56.116 A:middle
Siri 表盘上的所有内容

00:01:56.116 --> 00:01:57.716 A:middle
都是根据它和用户的相关性

00:01:57.716 --> 00:01:58.206 A:middle
来进行排序的

00:01:58.836 --> 00:01:59.746 A:middle
某条内容和用户的相关性越高

00:01:59.746 --> 00:02:01.306 A:middle
它就会出现在

00:01:59.746 --> 00:02:01.306 A:middle
它就会出现在

00:02:01.306 --> 00:02:02.386 A:middle
表盘的更上方

00:02:03.076 --> 00:02:04.196 A:middle
我们通过整合系统中

00:02:04.196 --> 00:02:05.936 A:middle
大量的输入信息

00:02:05.936 --> 00:02:07.286 A:middle
来计算相关性 比如

00:02:07.286 --> 00:02:08.776 A:middle
当前的时间 用户的位置

00:02:08.776 --> 00:02:10.446 A:middle
他们的日常活动

00:02:10.446 --> 00:02:11.546 A:middle
以及他们与给定数据源的

00:02:11.546 --> 00:02:12.136 A:middle
互动情况

00:02:13.546 --> 00:02:14.596 A:middle
你们将为我们提供

00:02:14.596 --> 00:02:15.946 A:middle
相关的捷径内容

00:02:16.366 --> 00:02:18.346 A:middle
而相应的捷径

00:02:18.346 --> 00:02:19.576 A:middle
会用于自定义 UI

00:02:19.576 --> 00:02:20.626 A:middle
并能提示我们

00:02:20.626 --> 00:02:21.786 A:middle
何时来分配你们的内容

00:02:22.996 --> 00:02:24.796 A:middle
现在 我们将根据

00:02:24.796 --> 00:02:25.876 A:middle
用户过去和

00:02:25.876 --> 00:02:27.426 A:middle
捷径的互动

00:02:27.426 --> 00:02:29.106 A:middle
获得内部的相关性

00:02:29.646 --> 00:02:31.036 A:middle
但是 你通常会有更多

00:02:31.036 --> 00:02:32.116 A:middle
的明智建议

00:02:32.406 --> 00:02:33.146 A:middle
尤其是显示

00:02:33.146 --> 00:02:34.606 A:middle
可快速浏览的消息时

00:02:34.606 --> 00:02:35.626 A:middle
或者你想推荐一个

00:02:35.656 --> 00:02:37.206 A:middle
还没被用户使用过的捷径

00:02:37.306 --> 00:02:38.466 A:middle
所以 你可以向我们提供

00:02:38.466 --> 00:02:39.466 A:middle
叫做 Relevance Providers 的东西

00:02:40.786 --> 00:02:41.866 A:middle
而且 和第一方数据源一样

00:02:41.866 --> 00:02:43.756 A:middle
用户可以通过

00:02:43.786 --> 00:02:46.036 A:middle
iOS Watch App

00:02:46.036 --> 00:02:47.536 A:middle
在 Siri 表盘上的定制页面

00:02:47.586 --> 00:02:49.126 A:middle
停用或重新激活你的数据源

00:02:49.876 --> 00:02:51.726 A:middle
在我们深入讨论

00:02:51.726 --> 00:02:52.736 A:middle
Relevant Shortcut API 前

00:02:52.736 --> 00:02:55.146 A:middle
我们想确认相应的捷径

00:02:55.146 --> 00:02:56.676 A:middle
在表盘上运行与显示的同时

00:02:56.676 --> 00:02:58.216 A:middle
没有和它们的

00:02:58.396 --> 00:02:59.916 A:middle
相关性算法相冲突

00:03:00.766 --> 00:03:01.736 A:middle
所以 当我们开发时

00:03:01.766 --> 00:03:02.796 A:middle
我们想进入到 iOS

00:03:02.796 --> 00:03:04.096 A:middle
设置 App 的内部

00:03:04.096 --> 00:03:06.296 A:middle
进入开发者界面

00:03:06.296 --> 00:03:07.456 A:middle
找到捷径测试部分

00:03:07.996 --> 00:03:10.456 A:middle
这样我们可以确保

00:03:10.456 --> 00:03:11.906 A:middle
最近提供的相关

00:03:11.906 --> 00:03:13.376 A:middle
捷径会出现在表盘的最上方

00:03:13.376 --> 00:03:15.216 A:middle
这是通过允许 “Show Recent Shortcuts”

00:03:15.216 --> 00:03:16.626 A:middle
选项来实现的

00:03:19.796 --> 00:03:21.616 A:middle
此外 随着我们更多的在

00:03:21.616 --> 00:03:23.146 A:middle
iOS App 内采用

00:03:23.146 --> 00:03:25.216 A:middle
此 API 我们可以

00:03:25.216 --> 00:03:26.666 A:middle
通过点击 “Force Sync Shortcut

00:03:26.666 --> 00:03:28.346 A:middle
to Watch” 按钮来将

00:03:28.346 --> 00:03:30.816 A:middle
和 iOS 设备相关的捷径

00:03:30.816 --> 00:03:31.866 A:middle
定期和 Watch 同步

00:03:32.286 --> 00:03:34.616 A:middle
所以 现在让我们来谈谈

00:03:34.616 --> 00:03:36.426 A:middle
Relevant Shortcut

00:03:36.426 --> 00:03:38.286 A:middle
Relevant Shortcut 的核心就是捷径

00:03:39.356 --> 00:03:40.706 A:middle
捷径包含着

00:03:40.706 --> 00:03:42.016 A:middle
你的 App 内

00:03:42.016 --> 00:03:43.116 A:middle
想让用户更易

00:03:43.116 --> 00:03:44.606 A:middle
获得的核心功能

00:03:45.336 --> 00:03:46.126 A:middle
并且 他们能通过

00:03:46.126 --> 00:03:47.336 A:middle
对 Siri 说出关键词

00:03:47.336 --> 00:03:49.476 A:middle
或者轻触不同的系统 UI 来访问捷径

00:03:49.476 --> 00:03:51.236 A:middle
而在 watchOS 中

00:03:51.446 --> 00:03:52.376 A:middle
那就是在 Siri 表盘

00:03:52.376 --> 00:03:53.606 A:middle
上的一张卡片

00:03:54.196 --> 00:03:55.626 A:middle
今年有很多

00:03:55.626 --> 00:03:56.636 A:middle
关于如何制作出色的

00:03:56.686 --> 00:03:57.596 A:middle
捷径的深入讨论

00:03:57.656 --> 00:03:58.896 A:middle
这都将给我们一个高层次的概况

00:03:58.896 --> 00:04:00.526 A:middle
为我们展现它们是如何

00:03:58.896 --> 00:04:00.526 A:middle
为我们展现它们是如何

00:04:00.526 --> 00:04:01.526 A:middle
在 watchOS 上工作的

00:04:01.646 --> 00:04:02.946 A:middle
我非常推荐大家去看一看

00:04:02.946 --> 00:04:04.246 A:middle
"Introduction to Siri Shortcuts"

00:04:04.276 --> 00:04:05.716 A:middle
和 "Building for Voice with

00:04:05.936 --> 00:04:07.356 A:middle
Siri Shortcuts" 它们是

00:04:07.356 --> 00:04:08.626 A:middle
在这次大会早些时候进行的演讲

00:04:10.236 --> 00:04:11.646 A:middle
捷径可以由

00:04:11.646 --> 00:04:12.506 A:middle
两种东西来组成

00:04:13.306 --> 00:04:14.686 A:middle
其中之一是 NSUserActivity

00:04:14.716 --> 00:04:15.836 A:middle
它代表你在 App 内

00:04:15.836 --> 00:04:16.706 A:middle
想要让用户

00:04:16.706 --> 00:04:19.096 A:middle
快速返回的任务

00:04:19.096 --> 00:04:20.796 A:middle
或是代用户

00:04:20.796 --> 00:04:22.166 A:middle
执行的任务

00:04:23.126 --> 00:04:23.886 A:middle
如今 Intent 十分强大

00:04:23.886 --> 00:04:24.876 A:middle
因为它们可以

00:04:24.876 --> 00:04:26.076 A:middle
支持后台运行

00:04:26.526 --> 00:04:27.676 A:middle
这意味着用户无需

00:04:27.676 --> 00:04:28.866 A:middle
把 App 在前台启动

00:04:28.996 --> 00:04:29.956 A:middle
就可以使用

00:04:29.956 --> 00:04:30.736 A:middle
软件的功能

00:04:31.376 --> 00:04:32.696 A:middle
实际上 用户可以从

00:04:32.696 --> 00:04:34.256 A:middle
他们的 Apple Watch

00:04:34.256 --> 00:04:35.226 A:middle
或 HomePod 上查询

00:04:35.376 --> 00:04:36.706 A:middle
可在其 iPhone 上支持后台运行的 Intent

00:04:37.986 --> 00:04:39.086 A:middle
而且 我们框架提供了

00:04:39.086 --> 00:04:40.316 A:middle
许多你立即就能

00:04:40.316 --> 00:04:41.386 A:middle
使用的嵌入式 Intent

00:04:41.806 --> 00:04:43.236 A:middle
比如发短信 开始体能训练

00:04:43.236 --> 00:04:44.606 A:middle
或者请求搭车

00:04:45.336 --> 00:04:46.916 A:middle
不过 在新一代 watchOS 5 和 iOS 12 中

00:04:46.916 --> 00:04:48.626 A:middle
你可以制作个性化的

00:04:48.626 --> 00:04:49.666 A:middle
并拥有你的

00:04:49.666 --> 00:04:51.426 A:middle
App 最佳功能的 Intent

00:04:52.436 --> 00:04:53.836 A:middle
Xcode 中内置了

00:04:53.836 --> 00:04:55.616 A:middle
这个非常棒的深度 Intent

00:04:55.616 --> 00:04:56.736 A:middle
定义文件和编辑器

00:04:56.886 --> 00:04:57.906 A:middle
并且 我会给各位

00:04:57.906 --> 00:04:59.386 A:middle
看一些有关 Relevant Shortcut 的指示器

00:04:59.626 --> 00:05:00.496 A:middle
不过 我特别推荐各位

00:04:59.626 --> 00:05:00.496 A:middle
不过 我特别推荐各位

00:05:00.496 --> 00:05:01.836 A:middle
看看其他的讲座来了解

00:05:02.436 --> 00:05:02.646 A:middle
全部的细节

00:05:03.216 --> 00:05:04.766 A:middle
现在 让我们来看几个

00:05:04.766 --> 00:05:06.346 A:middle
当 Watch App 发出请求时

00:05:06.346 --> 00:05:09.316 A:middle
捷径将如何执行的例子

00:05:09.626 --> 00:05:12.016 A:middle
用户通过轻点 Siri 表盘

00:05:12.016 --> 00:05:13.806 A:middle
或向 Siri 说出

00:05:13.806 --> 00:05:15.056 A:middle
关键的语音词汇

00:05:15.056 --> 00:05:16.996 A:middle
来生成捷径请求

00:05:16.996 --> 00:05:18.206 A:middle
之后 Watch 会收到这一请求

00:05:18.546 --> 00:05:19.816 A:middle
它会检查并确认

00:05:19.876 --> 00:05:20.836 A:middle
是否有已安装并能处理这个

00:05:20.836 --> 00:05:22.336 A:middle
捷径的 App

00:05:22.916 --> 00:05:24.306 A:middle
在这个例子当中

00:05:24.306 --> 00:05:25.226 A:middle
有一个已安装的软件

00:05:25.626 --> 00:05:27.116 A:middle
所以 我们会将这个

00:05:27.116 --> 00:05:28.656 A:middle
捷径发送到适合的 App 上

00:05:29.496 --> 00:05:31.086 A:middle
如果你的捷径

00:05:31.086 --> 00:05:32.346 A:middle
是由一个能后台运行的

00:05:32.346 --> 00:05:34.276 A:middle
Intent 生成的 那么

00:05:34.276 --> 00:05:35.856 A:middle
执行 App 的 Intent

00:05:36.066 --> 00:05:36.876 A:middle
将运行这个捷径

00:05:37.486 --> 00:05:38.606 A:middle
但是 如果你的捷径

00:05:38.606 --> 00:05:40.086 A:middle
不是基于 NSUserActivity 构建的

00:05:40.276 --> 00:05:41.206 A:middle
或者你的 Intent 无法

00:05:41.206 --> 00:05:42.616 A:middle
支持后台运行 那么 App

00:05:42.616 --> 00:05:43.836 A:middle
就会自行启动

00:05:43.836 --> 00:05:44.546 A:middle
来处理这个捷径

00:05:45.586 --> 00:05:46.936 A:middle
当捷径执行完成

00:05:46.936 --> 00:05:48.006 A:middle
它会生成一个结果

00:05:48.006 --> 00:05:49.666 A:middle
然后将结果返回给用户

00:05:50.856 --> 00:05:51.746 A:middle
现在 让我们来看看

00:05:51.746 --> 00:05:52.396 A:middle
另一个例子

00:05:53.036 --> 00:05:55.556 A:middle
在这个例子中 用户轻点 Siri 表盘

00:05:55.556 --> 00:05:57.056 A:middle
或者向 Siri 说出关键词来生成

00:05:57.056 --> 00:05:58.416 A:middle
捷径请求

00:05:58.636 --> 00:06:00.216 A:middle
之后 Watch 会检查这个请求

00:05:58.636 --> 00:06:00.216 A:middle
之后 Watch 会检查这个请求

00:06:00.216 --> 00:06:01.646 A:middle
这种情况下

00:06:01.646 --> 00:06:02.626 A:middle
它会确认是否有

00:06:02.626 --> 00:06:03.766 A:middle
已安装的能处理这个

00:06:03.846 --> 00:06:04.916 A:middle
捷径的 App

00:06:05.456 --> 00:06:06.556 A:middle
所以 我们会检查手机

00:06:06.556 --> 00:06:07.816 A:middle
是否有能处理这个

00:06:07.816 --> 00:06:08.576 A:middle
捷径的 App

00:06:08.956 --> 00:06:10.316 A:middle
在这个例子里 手机中有这样的 App

00:06:10.316 --> 00:06:11.306 A:middle
所以 我们将把请求

00:06:11.306 --> 00:06:12.496 A:middle
发送至手机

00:06:12.836 --> 00:06:14.216 A:middle
之后就会有相应的 App

00:06:14.216 --> 00:06:15.486 A:middle
或 Intent 扩展程序

00:06:15.486 --> 00:06:16.016 A:middle
来执行请求

00:06:16.546 --> 00:06:18.536 A:middle
当请求执行完毕

00:06:18.536 --> 00:06:19.676 A:middle
手机上会生成一个结果

00:06:19.676 --> 00:06:21.156 A:middle
将其返回给 Watch

00:06:21.156 --> 00:06:22.336 A:middle
再传达给用户

00:06:22.336 --> 00:06:25.806 A:middle
那么 现在我们了解了

00:06:25.806 --> 00:06:26.946 A:middle
构成捷径的关键概念

00:06:26.946 --> 00:06:28.256 A:middle
以及它在 Watch 上是如何执行的

00:06:28.256 --> 00:06:29.446 A:middle
下面让我们来看看

00:06:29.446 --> 00:06:31.166 A:middle
Relevant Shortcut 它可以获取你的

00:06:31.166 --> 00:06:32.456 A:middle
捷径并在最相关的时刻

00:06:32.456 --> 00:06:33.696 A:middle
将它们呈现在表盘上

00:06:35.066 --> 00:06:37.756 A:middle
我们可以根据你的捷径内容

00:06:37.756 --> 00:06:38.936 A:middle
自动对 Siri 表盘中

00:06:38.936 --> 00:06:39.846 A:middle
卡片上的栏目进行填充

00:06:40.016 --> 00:06:41.706 A:middle
不过 你也可以根据个人习惯

00:06:41.706 --> 00:06:42.826 A:middle
决定卡片的显示内容

00:06:42.826 --> 00:06:43.846 A:middle
这对一目了然地呈现信息

00:06:43.846 --> 00:06:44.816 A:middle
十分有用

00:06:45.216 --> 00:06:47.756 A:middle
当然 当你轻点卡片

00:06:47.756 --> 00:06:48.666 A:middle
就会执行

00:06:48.666 --> 00:06:49.706 A:middle
相应的隐藏的捷径

00:06:50.056 --> 00:06:51.106 A:middle
那么 下面让我们来看看

00:06:51.106 --> 00:06:52.476 A:middle
这在表盘上是如何运行的

00:06:53.006 --> 00:06:54.976 A:middle
如果你的捷径支持

00:06:54.976 --> 00:06:56.226 A:middle
用户活动 那么当用户

00:06:56.226 --> 00:06:57.916 A:middle
轻点它 你的 App

00:06:57.916 --> 00:07:00.726 A:middle
将自动打开相关的内容

00:06:57.916 --> 00:07:00.726 A:middle
将自动打开相关的内容

00:07:01.256 --> 00:07:03.756 A:middle
如果你的 App 或者

00:07:03.756 --> 00:07:04.886 A:middle
捷径不是基于 Intent 构建的

00:07:04.886 --> 00:07:06.316 A:middle
那么当用户轻点卡片时

00:07:06.316 --> 00:07:07.476 A:middle
我们将看到这样的

00:07:07.476 --> 00:07:08.516 A:middle
Intent 确认界面

00:07:09.336 --> 00:07:10.556 A:middle
如果用户轻点确认

00:07:11.156 --> 00:07:11.906 A:middle
并且你的 Intent 是在后台运行的

00:07:11.906 --> 00:07:13.536 A:middle
那么我们将内联执行该指令

00:07:14.576 --> 00:07:15.906 A:middle
假如你的 Intent

00:07:15.906 --> 00:07:16.976 A:middle
无法在后台运行 我们将启动

00:07:16.976 --> 00:07:18.166 A:middle
你的 App 并递交你的

00:07:18.166 --> 00:07:19.716 A:middle
Intent 来继续执行指令

00:07:21.216 --> 00:07:22.556 A:middle
接下来 让我们看一下 Relevant Shortcut

00:07:22.556 --> 00:07:23.306 A:middle
的 API

00:07:23.916 --> 00:07:25.146 A:middle
Relevant Shortcut 的核心

00:07:25.146 --> 00:07:26.396 A:middle
当然就是捷径

00:07:26.886 --> 00:07:28.286 A:middle
如果你想提示我们

00:07:28.286 --> 00:07:29.086 A:middle
这一内容何时

00:07:29.086 --> 00:07:30.166 A:middle
会产生相关性 你可以给我们提供

00:07:30.166 --> 00:07:31.256 A:middle
relevanceProviders

00:07:31.256 --> 00:07:31.806 A:middle
我们很快会介绍它

00:07:33.196 --> 00:07:34.186 A:middle
如果你想自定义的

00:07:34.186 --> 00:07:36.216 A:middle
UI 超出了捷径

00:07:36.216 --> 00:07:37.916 A:middle
可提供的范围 你可以在

00:07:37.916 --> 00:07:39.196 A:middle
watchTemplate 属性中给我们一个

00:07:39.196 --> 00:07:40.106 A:middle
默认卡片模版

00:07:40.726 --> 00:07:43.246 A:middle
现在 当你创造完成了

00:07:43.246 --> 00:07:44.166 A:middle
所有的 Relevant Shortcut

00:07:44.166 --> 00:07:45.676 A:middle
你需要让我们了解它们

00:07:45.926 --> 00:07:46.886 A:middle
你要告知

00:07:46.886 --> 00:07:48.186 A:middle
默认 relevantShortcut 商店

00:07:48.696 --> 00:07:49.696 A:middle
你可以通过提供一个数组

00:07:49.696 --> 00:07:50.576 A:middle
来做到这一点

00:07:50.966 --> 00:07:52.066 A:middle
每当你提供给我们一个数组

00:07:52.066 --> 00:07:53.286 A:middle
它就会清除之前

00:07:53.286 --> 00:07:54.596 A:middle
Shortcut Store 内的内容

00:07:54.596 --> 00:07:55.946 A:middle
这对清除过去的

00:07:55.946 --> 00:07:57.786 A:middle
Relevant Shortcut 非常有用

00:07:58.116 --> 00:07:58.846 A:middle
不过 你只需记住

00:07:58.846 --> 00:08:00.406 A:middle
为我们提供所有

00:07:58.846 --> 00:08:00.406 A:middle
为我们提供所有

00:08:00.406 --> 00:08:01.616 A:middle
需要我们考量的 Relevant Shortcut

00:08:01.616 --> 00:08:02.136 A:middle
就可以了

00:08:03.876 --> 00:08:05.116 A:middle
让我们来看看

00:08:05.116 --> 00:08:05.946 A:middle
我们的内容是如何在

00:08:05.946 --> 00:08:06.266 A:middle
卡片上显示的

00:08:06.806 --> 00:08:08.296 A:middle
你可以在左上角看到

00:08:08.296 --> 00:08:09.436 A:middle
你的 App 图标

00:08:09.436 --> 00:08:10.836 A:middle
以及你的 App 的名称

00:08:11.536 --> 00:08:12.816 A:middle
它的下面需要一个标题字符串

00:08:12.816 --> 00:08:14.346 A:middle
再下面是可选的副标题

00:08:14.346 --> 00:08:15.746 A:middle
你可以用它显示

00:08:15.746 --> 00:08:17.026 A:middle
更多的文字

00:08:17.386 --> 00:08:18.556 A:middle
副标题的内容将用斜体显示

00:08:19.236 --> 00:08:20.166 A:middle
这些标题的左边是

00:08:20.166 --> 00:08:22.106 A:middle
可选的自定义图像

00:08:22.646 --> 00:08:23.486 A:middle
它支持透明图像

00:08:23.486 --> 00:08:25.916 A:middle
而且自动采用圆角模式

00:08:26.776 --> 00:08:27.696 A:middle
你可以通过 watchOS 的

00:08:27.696 --> 00:08:28.886 A:middle
Human Interface Guidelines

00:08:29.086 --> 00:08:30.186 A:middle
来了解更多关于

00:08:30.186 --> 00:08:31.756 A:middle
这些素材的尺寸

00:08:32.496 --> 00:08:33.716 A:middle
正如我之前提到的 现在我们可以

00:08:33.775 --> 00:08:35.096 A:middle
自动填充所有

00:08:35.096 --> 00:08:36.796 A:middle
非用户提供的捷径栏目

00:08:37.196 --> 00:08:39.346 A:middle
在自定义 Intent 的情况下

00:08:39.936 --> 00:08:41.426 A:middle
你提供的每一个参数组合

00:08:41.426 --> 00:08:43.265 A:middle
都会关联一个我们可以使用的

00:08:43.265 --> 00:08:44.246 A:middle
标题和副标题

00:08:45.546 --> 00:08:46.556 A:middle
而且 当你用代码生成了 Intent

00:08:46.556 --> 00:08:48.196 A:middle
并产生了一个捷径之后

00:08:48.856 --> 00:08:50.766 A:middle
你可以用任意参数来设定图像

00:08:51.406 --> 00:08:52.606 A:middle
我们将根据所提供的

00:08:52.606 --> 00:08:54.266 A:middle
最详细的参数

00:08:54.266 --> 00:08:55.536 A:middle
来为自定义图像

00:08:55.536 --> 00:08:56.436 A:middle
选择一个图像

00:08:57.326 --> 00:08:58.346 A:middle
一个参数的具体取值

00:08:58.346 --> 00:08:59.356 A:middle
是由你列在

00:08:59.416 --> 00:09:00.706 A:middle
Intent 定义文件

00:08:59.416 --> 00:09:00.706 A:middle
Intent 定义文件

00:09:00.706 --> 00:09:02.256 A:middle
内的参数所决定的

00:09:02.836 --> 00:09:05.106 A:middle
在 NSUserActivity 的情况下

00:09:05.106 --> 00:09:06.906 A:middle
当你通过创建你的

00:09:06.906 --> 00:09:07.926 A:middle
userActivity 来生成

00:09:07.926 --> 00:09:09.536 A:middle
一个捷径时

00:09:09.536 --> 00:09:10.896 A:middle
你要提供你在 App 的

00:09:10.896 --> 00:09:11.776 A:middle
info.plist 中的

00:09:11.776 --> 00:09:12.776 A:middle
userActivity 类型

00:09:13.156 --> 00:09:13.986 A:middle
对我们来说 要想不用

00:09:13.986 --> 00:09:15.076 A:middle
默认卡片模版就将其

00:09:15.076 --> 00:09:16.116 A:middle
呈现出来 你需要给我们

00:09:16.116 --> 00:09:17.176 A:middle
在标题属性上提供一个

00:09:17.176 --> 00:09:17.596 A:middle
标题的值

00:09:18.646 --> 00:09:20.486 A:middle
在 iOS 中 你也可以通过

00:09:20.486 --> 00:09:22.526 A:middle
创建一个 CSSearchableItemAttributeSet

00:09:22.526 --> 00:09:25.066 A:middle
来提供副标题和自定义图像

00:09:26.256 --> 00:09:27.336 A:middle
在该属性集上

00:09:27.336 --> 00:09:28.666 A:middle
我们将从内容描述属性中

00:09:28.666 --> 00:09:29.456 A:middle
抽取副标题

00:09:29.456 --> 00:09:31.146 A:middle
并且从 thumbnailData 属性中

00:09:31.146 --> 00:09:32.306 A:middle
抽取自定义头像

00:09:33.476 --> 00:09:34.426 A:middle
当你配置完

00:09:34.426 --> 00:09:35.926 A:middle
这个属性集 就可以将它设置在

00:09:35.966 --> 00:09:36.926 A:middle
NSUserActivity 的

00:09:37.066 --> 00:09:38.336 A:middle
contentAttributeSet 属性中了

00:09:38.916 --> 00:09:42.216 A:middle
如果你不想提供给我们

00:09:42.216 --> 00:09:43.856 A:middle
整合进你的捷径的内容

00:09:43.856 --> 00:09:44.846 A:middle
你可以提供一个

00:09:44.846 --> 00:09:46.306 A:middle
默认卡片模版 它有

00:09:46.306 --> 00:09:48.066 A:middle
卡片上每一个栏目的属性

00:09:48.536 --> 00:09:49.376 A:middle
而且 根据我们所获取的内容

00:09:49.376 --> 00:09:51.796 A:middle
我们将展示不同的布局

00:09:52.536 --> 00:09:53.296 A:middle
大家可以看到右边的

00:09:53.296 --> 00:09:54.746 A:middle
两个配置 如果它们未提供

00:09:54.746 --> 00:09:55.796 A:middle
图像 我们将把它的文字

00:09:55.796 --> 00:09:57.296 A:middle
向左延伸

00:09:57.296 --> 00:09:58.696 A:middle
这给文字内容提供了更多的空间

00:09:59.376 --> 00:10:00.836 A:middle
在下方的两个例子中

00:09:59.376 --> 00:10:00.836 A:middle
在下方的两个例子中

00:10:00.836 --> 00:10:02.126 A:middle
如果没有副标题

00:10:02.126 --> 00:10:03.206 A:middle
我们会把标题字符串

00:10:03.206 --> 00:10:04.330 A:middle
从顶行自动换至底行

00:10:06.616 --> 00:10:08.796 A:middle
如果你的捷径是基于 Intent 构建的

00:10:08.796 --> 00:10:10.246 A:middle
当用户轻点它时

00:10:10.246 --> 00:10:11.906 A:middle
就会看到这个 Intent 确认视图

00:10:12.736 --> 00:10:13.546 A:middle
左上角是你的

00:10:13.546 --> 00:10:14.736 A:middle
App 图标

00:10:14.736 --> 00:10:15.946 A:middle
它会变大一点 后面是

00:10:15.946 --> 00:10:16.666 A:middle
你的 App 名称

00:10:17.376 --> 00:10:18.416 A:middle
在此之下 我们将直接从

00:10:18.416 --> 00:10:19.936 A:middle
你的 Intent 的定义文件中

00:10:19.936 --> 00:10:21.026 A:middle
选取显示的标题和副标题

00:10:21.626 --> 00:10:22.816 A:middle
这时候 用户有

00:10:22.886 --> 00:10:23.516 A:middle
三个选项

00:10:24.186 --> 00:10:25.286 A:middle
如果他们想运行你的 Intent

00:10:25.556 --> 00:10:26.716 A:middle
可以点击中间粉色的

00:10:26.716 --> 00:10:27.566 A:middle
确认按钮

00:10:28.126 --> 00:10:28.996 A:middle
如果他们不想运行它

00:10:29.276 --> 00:10:30.406 A:middle
可以轻点忽略按钮

00:10:30.406 --> 00:10:30.976 A:middle
或者 Digital Crown

00:10:31.496 --> 00:10:32.596 A:middle
第三个选项

00:10:32.596 --> 00:10:33.266 A:middle
要更为精细

00:10:33.936 --> 00:10:35.486 A:middle
有时用户看到一个 Intent

00:10:35.756 --> 00:10:37.076 A:middle
发现自己想对其中的一些参数

00:10:37.076 --> 00:10:37.886 A:middle
做轻微调整

00:10:38.176 --> 00:10:40.426 A:middle
那么 他们可以轻点顶端的模块

00:10:40.456 --> 00:10:41.926 A:middle
我们将启动你的

00:10:41.926 --> 00:10:43.276 A:middle
App 并提供

00:10:43.276 --> 00:10:44.486 A:middle
你自定义过的 Intent

00:10:44.726 --> 00:10:46.146 A:middle
因此 你可以在继续

00:10:46.146 --> 00:10:47.376 A:middle
执行指令前 呈现给用户一些

00:10:47.376 --> 00:10:48.376 A:middle
可以对某些参数

00:10:48.376 --> 00:10:49.356 A:middle
稍作修改的 UI

00:10:50.666 --> 00:10:51.616 A:middle
现在 让我们来进一步

00:10:51.616 --> 00:10:53.166 A:middle
谈谈中间的

00:10:53.166 --> 00:10:55.186 A:middle
粉色确认按钮

00:10:55.386 --> 00:10:56.306 A:middle
我们这里所显示的字符串

00:10:56.306 --> 00:10:57.806 A:middle
是一个操作动词

00:10:57.806 --> 00:10:58.976 A:middle
它基于你在

00:10:58.976 --> 00:11:00.346 A:middle
Intent 定义文件中

00:10:58.976 --> 00:11:00.346 A:middle
Intent 定义文件中

00:11:00.346 --> 00:11:01.296 A:middle
定义的 Intent 类别

00:11:02.596 --> 00:11:04.336 A:middle
此外 这个颜色是从

00:11:04.336 --> 00:11:05.706 A:middle
你的 Watch App 界面描述板里

00:11:05.706 --> 00:11:07.266 A:middle
App 的全球色彩中

00:11:07.266 --> 00:11:08.056 A:middle
选出来的

00:11:08.666 --> 00:11:10.886 A:middle
要时刻记住

00:11:10.886 --> 00:11:11.946 A:middle
你的 Watch App 内

00:11:11.976 --> 00:11:13.226 A:middle
支持的 Intent

00:11:13.276 --> 00:11:14.816 A:middle
必须是你的 iOS App

00:11:14.816 --> 00:11:16.206 A:middle
支持的 Intent 的子集

00:11:16.686 --> 00:11:17.406 A:middle
这意味着你将在 iOS 和 watchOS 上

00:11:17.406 --> 00:11:19.066 A:middle
共享同样的

00:11:19.066 --> 00:11:21.196 A:middle
标题字符串和

00:11:21.196 --> 00:11:21.836 A:middle
副标题字符串

00:11:22.306 --> 00:11:23.356 A:middle
而 watchOS

00:11:23.356 --> 00:11:24.316 A:middle
是一个有很多约束的画板

00:11:24.536 --> 00:11:25.446 A:middle
每一个字都很重要

00:11:25.936 --> 00:11:27.426 A:middle
因此 我们非常推荐使用

00:11:27.426 --> 00:11:28.776 A:middle
NSStringVariableWidthRuleType 密钥

00:11:28.776 --> 00:11:30.956 A:middle
和字符串字典

00:11:31.476 --> 00:11:32.636 A:middle
这允许你给我们

00:11:32.636 --> 00:11:34.356 A:middle
许多可供我们选择的

00:11:34.446 --> 00:11:35.296 A:middle
不同大小的字符串

00:11:35.456 --> 00:11:36.456 A:middle
我们可以根据

00:11:36.456 --> 00:11:37.096 A:middle
呈现内容的环境来进行选择

00:11:38.456 --> 00:11:39.496 A:middle
当为 watchOS 提供内容时

00:11:39.496 --> 00:11:41.876 A:middle
我们推荐为 38 毫米 Watch

00:11:41.876 --> 00:11:43.776 A:middle
提供一个宽度规则

00:11:44.166 --> 00:11:45.616 A:middle
为 20 的字符串

00:11:45.656 --> 00:11:47.506 A:middle
同时 为 42 毫米 Watch 提供

00:11:47.506 --> 00:11:48.106 A:middle
一个宽度规则为 24 的字符串

00:11:48.756 --> 00:11:51.266 A:middle
想了解更多关于这个

00:11:51.266 --> 00:11:53.216 A:middle
API 的信息

00:11:53.216 --> 00:11:54.476 A:middle
请观看去年大会上的

00:11:54.476 --> 00:11:55.706 A:middle
"Localizing with Xcode 9" 讲座

00:11:56.646 --> 00:11:58.726 A:middle
现在让我们来

00:11:58.726 --> 00:11:59.566 A:middle
谈论一下 Relevance Provider

00:12:01.116 --> 00:12:02.676 A:middle
Relevance Provider 是

00:12:02.676 --> 00:12:04.146 A:middle
一种提示我们

00:12:04.146 --> 00:12:05.116 A:middle
何时该显示内容的方法

00:12:06.436 --> 00:12:07.366 A:middle
这种方法可以让我们知道

00:12:07.366 --> 00:12:08.686 A:middle
我们在计算相关性时

00:12:08.716 --> 00:12:09.966 A:middle
该如何整合内容 比如时间

00:12:09.966 --> 00:12:11.536 A:middle
用户的位置 或他们的

00:12:11.536 --> 00:12:12.506 A:middle
日常活动

00:12:13.186 --> 00:12:14.166 A:middle
而实际上 你可以在一个

00:12:14.166 --> 00:12:15.366 A:middle
Relevance Shortcut 种给我们

00:12:15.366 --> 00:12:16.266 A:middle
提供不止一个的 Relevance Provider

00:12:16.306 --> 00:12:17.526 A:middle
我们还将利用

00:12:17.526 --> 00:12:18.686 A:middle
输出信息的内部区段

00:12:19.016 --> 00:12:20.076 A:middle
所以 如果你给我们提供一个

00:12:20.076 --> 00:12:21.286 A:middle
说明某天某个时刻

00:12:21.286 --> 00:12:22.296 A:middle
很重要的 Relevance Provider

00:12:22.296 --> 00:12:23.336 A:middle
而另一个说明某个

00:12:23.336 --> 00:12:24.606 A:middle
特定的位置很重要

00:12:25.116 --> 00:12:26.256 A:middle
当在这个时刻用户同时

00:12:26.356 --> 00:12:28.136 A:middle
出现在这个位置时 你将得到

00:12:28.206 --> 00:12:29.806 A:middle
高关联性的输出结果

00:12:30.586 --> 00:12:31.866 A:middle
如果你想将这些

00:12:31.866 --> 00:12:32.816 A:middle
Relevance Provider 结合起来

00:12:32.816 --> 00:12:33.756 A:middle
你需要分别提供两个

00:12:33.906 --> 00:12:35.356 A:middle
Relevance Shortcut

00:12:35.356 --> 00:12:36.356 A:middle
每一个都有

00:12:36.356 --> 00:12:37.246 A:middle
不同的 Relevance Provider

00:12:37.746 --> 00:12:39.716 A:middle
那么让我们来看一下

00:12:39.716 --> 00:12:40.586 A:middle
我们可用的选项

00:12:41.416 --> 00:12:42.246 A:middle
第一个是

00:12:42.436 --> 00:12:44.726 A:middle
INDateRelevanceProvider

00:12:44.726 --> 00:12:45.656 A:middle
它有规定的 startDate 参数

00:12:45.656 --> 00:12:46.876 A:middle
和一个可选的

00:12:46.876 --> 00:12:47.536 A:middle
endDate 参数

00:12:48.546 --> 00:12:49.516 A:middle
当你新建一个这样的

00:12:49.516 --> 00:12:50.986 A:middle
Relevance Provider 实例时

00:12:50.986 --> 00:12:52.416 A:middle
离你提供的开始时间

00:12:52.536 --> 00:12:53.676 A:middle
越接近 那么 Provider

00:12:53.676 --> 00:12:55.346 A:middle
输出的相关性就越高

00:12:56.226 --> 00:12:57.596 A:middle
当那一天的那一时刻过去后

00:12:57.836 --> 00:12:58.856 A:middle
其相关性就会呈曲线下滑

00:12:58.856 --> 00:13:00.126 A:middle
以让更多的

00:12:58.856 --> 00:13:00.126 A:middle
以让更多的

00:13:00.126 --> 00:13:01.366 A:middle
内容出现在表盘上

00:13:01.706 --> 00:13:02.466 A:middle
如果你给我们提供了

00:13:02.466 --> 00:13:04.076 A:middle
可选的 endDate 我们会调整曲线

00:13:04.076 --> 00:13:05.316 A:middle
来适应信息

00:13:05.856 --> 00:13:08.806 A:middle
如果你的内容

00:13:08.806 --> 00:13:10.086 A:middle
和指定位置更相关

00:13:10.086 --> 00:13:10.706 A:middle
你可以使用

00:13:10.816 --> 00:13:12.076 A:middle
INLocationRelevanceProvider

00:13:13.086 --> 00:13:14.916 A:middle
当你构建一个这样的实例时

00:13:14.916 --> 00:13:16.246 A:middle
它会把 CLRegion

00:13:16.246 --> 00:13:16.956 A:middle
作为主要参数

00:13:17.116 --> 00:13:18.296 A:middle
当用户离这一区域

00:13:18.296 --> 00:13:19.686 A:middle
越来越近时

00:13:19.686 --> 00:13:20.666 A:middle
RelevanceProvider 输出的

00:13:20.666 --> 00:13:22.306 A:middle
关联性就会变得越来越高

00:13:23.686 --> 00:13:24.956 A:middle
你的脑海中并不会经常出现

00:13:24.956 --> 00:13:26.246 A:middle
关联内容的

00:13:26.246 --> 00:13:27.506 A:middle
具体时间或

00:13:27.506 --> 00:13:29.946 A:middle
或具体位置

00:13:30.296 --> 00:13:31.866 A:middle
用户的日程

00:13:31.866 --> 00:13:33.676 A:middle
和他们最爱的位置

00:13:33.676 --> 00:13:34.636 A:middle
时常发生变化

00:13:34.636 --> 00:13:35.796 A:middle
你肯定不想追踪

00:13:35.796 --> 00:13:36.546 A:middle
所有的这些信息

00:13:36.736 --> 00:13:38.126 A:middle
所以你可以利用

00:13:38.126 --> 00:13:39.676 A:middle
Siri 面部智能识别并且使用

00:13:39.836 --> 00:13:41.226 A:middle
INDailyRoutineRelevanceProvider

00:13:41.496 --> 00:13:42.646 A:middle
这里面有

00:13:42.646 --> 00:13:43.856 A:middle
用户可能喜爱的

00:13:43.856 --> 00:13:45.596 A:middle
时刻和位置

00:13:46.196 --> 00:13:47.256 A:middle
比如说 假如你有一些

00:13:47.256 --> 00:13:48.516 A:middle
想要在用户醒来时

00:13:48.516 --> 00:13:49.846 A:middle
作为每日预报来显示的内容

00:13:49.846 --> 00:13:51.296 A:middle
你不必知道他们是

00:13:51.296 --> 00:13:52.176 A:middle
早上五点醒还是

00:13:52.176 --> 00:13:52.896 A:middle
上午十点醒

00:13:53.206 --> 00:13:53.956 A:middle
你只需向我们提供

00:13:53.956 --> 00:13:54.816 A:middle
早晨的情况即可

00:13:55.736 --> 00:13:57.066 A:middle
如果你想进行需要些

00:13:57.066 --> 00:13:58.116 A:middle
运动器材的体能训练

00:13:58.116 --> 00:13:59.426 A:middle
你只要提供我们

00:13:59.426 --> 00:14:00.426 A:middle
运动的情况即可

00:13:59.426 --> 00:14:00.426 A:middle
运动的情况即可

00:14:01.006 --> 00:14:04.186 A:middle
现在我们的 Toolbox 里

00:14:04.186 --> 00:14:05.736 A:middle
已经有了所有的这些 API

00:14:05.736 --> 00:14:06.846 A:middle
下面让我们构建一些 Relevant Shortcut

00:14:07.956 --> 00:14:09.336 A:middle
在我的例子中 我们制作了一个

00:14:09.336 --> 00:14:10.546 A:middle
虚拟的记录饮食的 App

00:14:10.546 --> 00:14:12.656 A:middle
它可以让用户记录

00:14:12.656 --> 00:14:13.726 A:middle
自己的饮食情况 而且他们可以

00:14:13.726 --> 00:14:14.626 A:middle
选择做些挑战

00:14:15.016 --> 00:14:16.186 A:middle
在这周的挑战中 我们的用户

00:14:16.186 --> 00:14:17.676 A:middle
选择了素食挑战

00:14:18.346 --> 00:14:19.636 A:middle
那么 我们将为记录饮食

00:14:19.636 --> 00:14:22.336 A:middle
创建一个用户活动

00:14:22.556 --> 00:14:23.846 A:middle
它的活动类型是

00:14:23.846 --> 00:14:25.386 A:middle
com.myapp.LogMeal

00:14:25.926 --> 00:14:26.596 A:middle
由于我们要在

00:14:26.596 --> 00:14:27.696 A:middle
晚餐时显示出来

00:14:27.806 --> 00:14:28.936 A:middle
我们要把用户信息

00:14:28.936 --> 00:14:30.076 A:middle
字典内的重要内容

00:14:30.076 --> 00:14:31.656 A:middle
设置到晚餐中

00:14:32.986 --> 00:14:34.056 A:middle
一旦我们设置好了 userActivity

00:14:34.056 --> 00:14:35.266 A:middle
我们就可以创建一个捷径

00:14:35.266 --> 00:14:36.166 A:middle
从这个捷径里

00:14:36.166 --> 00:14:36.976 A:middle
我们就可以创建出一个

00:14:36.976 --> 00:14:37.676 A:middle
Relevant Shortcut

00:14:38.716 --> 00:14:39.536 A:middle
现在 我们想让用户知道

00:14:39.536 --> 00:14:40.696 A:middle
因为他们已经

00:14:40.696 --> 00:14:41.736 A:middle
选择了素食挑战

00:14:41.736 --> 00:14:42.916 A:middle
因此这一内容将在表盘上

00:14:42.916 --> 00:14:43.406 A:middle
显示出来

00:14:43.896 --> 00:14:44.716 A:middle
我们要制作一个

00:14:44.716 --> 00:14:45.606 A:middle
默认卡片模版

00:14:45.606 --> 00:14:47.516 A:middle
来用 Log Dinner 这个名字

00:14:47.516 --> 00:14:48.316 A:middle
来作为自定义 UI 的标题

00:14:48.796 --> 00:14:49.876 A:middle
并且 我们会在副标题

00:14:49.876 --> 00:14:51.436 A:middle
和自定义图像中

00:14:51.606 --> 00:14:52.396 A:middle
显示素食挑战

00:14:52.986 --> 00:14:55.466 A:middle
我们的用户不经常

00:14:55.466 --> 00:14:56.876 A:middle
记录自己的饮食

00:14:56.876 --> 00:14:58.636 A:middle
但是他们选择了这个挑战

00:14:58.896 --> 00:15:00.136 A:middle
所以 我们想给系统一个提示

00:14:58.896 --> 00:15:00.136 A:middle
所以 我们想给系统一个提示

00:15:00.136 --> 00:15:00.986 A:middle
告诉它这个内容

00:15:00.986 --> 00:15:02.926 A:middle
应在夜间 通过在 .evening. 情景下发送

00:15:03.166 --> 00:15:04.566 A:middle
dailyRoutineRelevanceProvider

00:15:04.566 --> 00:15:05.636 A:middle
显示出来

00:15:06.366 --> 00:15:07.076 A:middle
现在既然我们的

00:15:07.076 --> 00:15:08.306 A:middle
Relevant Shortcut 已经配置完成了

00:15:08.306 --> 00:15:09.246 A:middle
我们可以把它发送至

00:15:09.246 --> 00:15:10.466 A:middle
默认的 relevantShortcutStore 中

00:15:10.536 --> 00:15:14.006 A:middle
下一个例子 在我们的

00:15:14.006 --> 00:15:15.466 A:middle
App 中 用户还可以

00:15:15.466 --> 00:15:16.346 A:middle
设定许多爱吃的

00:15:16.346 --> 00:15:17.786 A:middle
和经常吃的零食

00:15:17.786 --> 00:15:19.886 A:middle
或者设置他们每天吃的早餐

00:15:19.936 --> 00:15:20.726 A:middle
那么我们创建了一个

00:15:20.726 --> 00:15:23.176 A:middle
logFavoriteMealIntent

00:15:24.136 --> 00:15:25.206 A:middle
我们想要这些

00:15:25.206 --> 00:15:26.146 A:middle
显示在表盘上

00:15:26.146 --> 00:15:27.206 A:middle
使用户更易记录

00:15:27.206 --> 00:15:28.936 A:middle
自己最爱的零食和饮食

00:15:29.736 --> 00:15:30.896 A:middle
因此 我们将新建一个 Intent 的实例

00:15:30.896 --> 00:15:32.806 A:middle
拿出一个我们最爱的食物

00:15:32.806 --> 00:15:33.736 A:middle
在参数中将它

00:15:33.736 --> 00:15:34.466 A:middle
设置为最爱

00:15:34.566 --> 00:15:36.746 A:middle
这个例子中 我们的用户爱吃曲奇

00:15:36.986 --> 00:15:39.496 A:middle
我们也会为这一参数设置一个

00:15:39.496 --> 00:15:40.936 A:middle
图像 当它出现在表盘上时

00:15:40.936 --> 00:15:42.106 A:middle
用户就会有更多的

00:15:42.106 --> 00:15:43.136 A:middle
相关信息来了解

00:15:43.136 --> 00:15:43.876 A:middle
他们将记录什么

00:15:45.076 --> 00:15:46.146 A:middle
从这里 我们可以采用我们的

00:15:46.146 --> 00:15:47.416 A:middle
Intent 创建捷径

00:15:47.416 --> 00:15:48.646 A:middle
通过捷径就可以创建一个

00:15:48.646 --> 00:15:49.316 A:middle
relevantShortcut

00:15:50.536 --> 00:15:51.416 A:middle
此时 我们就准备好将

00:15:51.416 --> 00:15:52.636 A:middle
relevantShortcut 发送至

00:15:52.636 --> 00:15:54.106 A:middle
relevant shortcut store 了

00:15:54.756 --> 00:15:55.656 A:middle
我们不需要默认卡片模版

00:15:55.656 --> 00:15:56.806 A:middle
因为有标题字符串

00:15:56.806 --> 00:15:58.236 A:middle
和我们发送给

00:15:58.236 --> 00:15:59.056 A:middle
Intent 的图像

00:15:59.056 --> 00:16:00.086 A:middle
就已经足够了

00:15:59.056 --> 00:16:00.086 A:middle
就已经足够了

00:16:00.926 --> 00:16:01.816 A:middle
我们实在不想

00:16:01.816 --> 00:16:02.976 A:middle
再提供一个 relevanceProvider

00:16:03.436 --> 00:16:04.356 A:middle
因为这对用户来说

00:16:04.356 --> 00:16:05.426 A:middle
是已经习以为常的事情

00:16:05.666 --> 00:16:06.906 A:middle
他们通常会全天

00:16:06.906 --> 00:16:07.806 A:middle
记录这些 我们可以利用

00:16:07.806 --> 00:16:09.056 A:middle
Siri 面部预测引擎

00:16:09.056 --> 00:16:10.316 A:middle
让它在用户最需要

00:16:10.316 --> 00:16:12.196 A:middle
的时候显示出来

00:16:12.736 --> 00:16:14.966 A:middle
而且 尽管我们完成了

00:16:14.966 --> 00:16:16.126 A:middle
relevantShortcuts 的创建 但实际上到这一步

00:16:16.126 --> 00:16:16.996 A:middle
我们还没有彻底结束

00:16:17.286 --> 00:16:18.846 A:middle
我们也需要有能力来处理它们

00:16:19.316 --> 00:16:21.316 A:middle
在新的 watchOS 5 中

00:16:21.316 --> 00:16:22.396 A:middle
在你的 WKExtensionDelegate

00:16:22.396 --> 00:16:23.896 A:middle
中有一种叫做

00:16:23.896 --> 00:16:24.836 A:middle
处理用户捷径的方法

00:16:26.246 --> 00:16:27.336 A:middle
来看我们的第一个例子 如果

00:16:27.336 --> 00:16:28.946 A:middle
用户轻点 Siri 上的卡片

00:16:28.946 --> 00:16:29.766 A:middle
我们就会启动 App

00:16:29.766 --> 00:16:31.396 A:middle
接下来我们会把用户活动

00:16:31.396 --> 00:16:32.886 A:middle
传递给这个方法

00:16:33.186 --> 00:16:34.436 A:middle
这种方法的活动类型和

00:16:34.526 --> 00:16:35.686 A:middle
com.myapp.LogMeal 是匹配的

00:16:36.556 --> 00:16:37.716 A:middle
在这个阶段 我们想确定

00:16:37.716 --> 00:16:38.646 A:middle
我们进入到了 App 中

00:16:38.646 --> 00:16:39.396 A:middle
正确的部分

00:16:39.496 --> 00:16:40.486 A:middle
所以我们会跳转到

00:16:40.486 --> 00:16:41.916 A:middle
rootInterfaceController

00:16:41.916 --> 00:16:42.456 A:middle
进而启用

00:16:42.456 --> 00:16:43.786 A:middle
logMealInterfaceController

00:16:44.446 --> 00:16:45.376 A:middle
我们要确保

00:16:45.376 --> 00:16:46.636 A:middle
将我们输入进用户信息字典

00:16:46.636 --> 00:16:48.076 A:middle
的内容继续传递

00:16:48.076 --> 00:16:48.976 A:middle
这样我们才能知道要记录

00:16:48.976 --> 00:16:49.476 A:middle
哪一顿饮食

00:16:49.476 --> 00:16:52.956 A:middle
来看第二个例子

00:16:52.956 --> 00:16:54.316 A:middle
一般来说

00:16:54.316 --> 00:16:55.716 A:middle
能够后台运行的 Intent

00:16:55.716 --> 00:16:57.006 A:middle
可以成功在我们的

00:16:57.006 --> 00:16:57.796 A:middle
Intent 扩展程序中运行

00:16:58.346 --> 00:16:59.076 A:middle
不过 也有一些我们的

00:16:59.076 --> 00:17:00.506 A:middle
App 会

00:16:59.076 --> 00:17:00.506 A:middle
App 会

00:17:00.506 --> 00:17:02.106 A:middle
直接收到反馈的实例

00:17:02.656 --> 00:17:03.646 A:middle
第一种是 假如在执行指令的

00:17:03.646 --> 00:17:04.856 A:middle
过程中有错误产生

00:17:04.856 --> 00:17:06.846 A:middle
我们需要在 App 内处理它

00:17:07.116 --> 00:17:08.165 A:middle
另一种则可能

00:17:08.165 --> 00:17:09.096 A:middle
出现在用户想要

00:17:09.096 --> 00:17:10.415 A:middle
稍微修改一些参数时

00:17:10.856 --> 00:17:11.836 A:middle
比如 当他们想要

00:17:11.836 --> 00:17:12.806 A:middle
记录一个曲奇饼

00:17:13.076 --> 00:17:14.356 A:middle
但实际上吃掉了五个时

00:17:14.356 --> 00:17:16.195 A:middle
那么 我们要轻点顶端模块

00:17:16.336 --> 00:17:17.086 A:middle
启动你的 App

00:17:17.086 --> 00:17:18.945 A:middle
然后你就会收到一个反馈

00:17:19.396 --> 00:17:20.945 A:middle
你收到的 userActivity

00:17:21.415 --> 00:17:22.586 A:middle
的活动类型

00:17:22.586 --> 00:17:23.945 A:middle
将和你给我们的 Intent 类

00:17:23.945 --> 00:17:24.846 A:middle
名称相同

00:17:25.386 --> 00:17:27.626 A:middle
在这个阶段 你可以从

00:17:27.626 --> 00:17:28.526 A:middle
userActivity 中抽出

00:17:28.526 --> 00:17:30.546 A:middle
一个交互 和这个交互中的

00:17:30.546 --> 00:17:31.936 A:middle
一个 Intent 它拥有

00:17:31.936 --> 00:17:33.826 A:middle
你创建 Relevant Shortcut 时设置的

00:17:33.826 --> 00:17:35.086 A:middle
所有参数

00:17:35.836 --> 00:17:37.366 A:middle
所以 每当我们的 App

00:17:37.366 --> 00:17:38.506 A:middle
运行时 我们都可以

00:17:38.506 --> 00:17:39.596 A:middle
创建 Relevant Shortcut

00:17:39.956 --> 00:17:40.966 A:middle
不过 必须注意的一点是

00:17:40.966 --> 00:17:42.136 A:middle
尽管你的内容出现在

00:17:42.136 --> 00:17:43.166 A:middle
Siri 表盘上

00:17:43.166 --> 00:17:44.456 A:middle
但是这不一定意味着

00:17:44.456 --> 00:17:45.966 A:middle
你的 App 正在运行

00:17:46.496 --> 00:17:48.006 A:middle
所以 为了帮助大家获得更多的

00:17:48.176 --> 00:17:49.256 A:middle
运行时间 以提供相关的捷径

00:17:49.516 --> 00:17:50.186 A:middle
我们创建了

00:17:50.186 --> 00:17:52.676 A:middle
WKRelevantShortcutRefresh

00:17:52.676 --> 00:17:53.336 A:middle
后台任务

00:17:54.556 --> 00:17:56.026 A:middle
我们将把它传递给

00:17:56.026 --> 00:17:57.516 A:middle
那些用户花费了时间

00:17:57.596 --> 00:17:58.916 A:middle
观察 浏览

00:17:58.916 --> 00:17:59.896 A:middle
但并没有滑开的

00:17:59.896 --> 00:18:02.956 A:middle
App 的 Relevant Shortcut

00:17:59.896 --> 00:18:02.956 A:middle
App 的 Relevant Shortcut

00:18:04.286 --> 00:18:05.126 A:middle
当你有了一个

00:18:05.126 --> 00:18:06.716 A:middle
后台刷新任务

00:18:06.716 --> 00:18:08.366 A:middle
你就可以更新支持你

00:18:08.366 --> 00:18:10.046 A:middle
Relevant Shortcut 的数据

00:18:10.046 --> 00:18:11.596 A:middle
并给我们提供一套全新的

00:18:11.596 --> 00:18:12.576 A:middle
Relevant Shortcut 了

00:18:13.896 --> 00:18:15.976 A:middle
顺便一提 当支持

00:18:15.976 --> 00:18:17.136 A:middle
后台运行的 Intent 运行时

00:18:17.136 --> 00:18:19.376 A:middle
它执行在你的 Intent 扩展程序的内部

00:18:19.846 --> 00:18:20.796 A:middle
这意味着如果你更新

00:18:20.796 --> 00:18:22.126 A:middle
你的数据库存储

00:18:22.126 --> 00:18:22.966 A:middle
有可能是因为你的 UI

00:18:23.046 --> 00:18:24.416 A:middle
和 App 已经老化

00:18:25.526 --> 00:18:26.796 A:middle
所以 在 5 中

00:18:26.796 --> 00:18:28.416 A:middle
我们还创建了

00:18:28.416 --> 00:18:30.056 A:middle
WKIntentDidRunRefresh

00:18:30.086 --> 00:18:30.776 A:middle
BackgroundTask

00:18:31.126 --> 00:18:32.086 A:middle
并且 我们将把它同

00:18:32.086 --> 00:18:33.606 A:middle
一些运行时间

00:18:33.606 --> 00:18:35.396 A:middle
在 Intent 扩展程序执行完

00:18:35.396 --> 00:18:35.926 A:middle
捷径之后一同传递给你

00:18:37.076 --> 00:18:38.326 A:middle
这样你就可以确认

00:18:38.326 --> 00:18:39.646 A:middle
你的 UI 是否是最新版本

00:18:40.326 --> 00:18:41.526 A:middle
是否需要更新

00:18:41.526 --> 00:18:43.806 A:middle
Snapshot 或者重装以及

00:18:43.806 --> 00:18:44.866 A:middle
扩展你的并行时间线

00:18:45.236 --> 00:18:48.916 A:middle
下面让我们来看看

00:18:48.916 --> 00:18:50.926 A:middle
如何利用 iOS 里的这些 API

00:18:51.456 --> 00:18:53.686 A:middle
好消息是 除了那些

00:18:53.686 --> 00:18:55.666 A:middle
WKRefreshBackgroundTasks

00:18:55.666 --> 00:18:57.646 A:middle
我们可以在 iOS App 内

00:18:57.876 --> 00:18:58.996 A:middle
使用完全一样的 API

00:19:00.056 --> 00:19:01.086 A:middle
我们在 iOS App 里

00:19:01.086 --> 00:19:02.656 A:middle
提供的 Relevant Shortcut

00:19:02.656 --> 00:19:03.716 A:middle
会定期从手机

00:19:03.716 --> 00:19:04.426 A:middle
同步到 Watch

00:19:04.496 --> 00:19:05.896 A:middle
而且考虑到

00:19:05.896 --> 00:19:06.766 A:middle
在表盘上显示

00:19:06.766 --> 00:19:08.866 A:middle
它会结合一些本地的 Relevant Shortcut

00:19:09.916 --> 00:19:12.656 A:middle
你拥有所有相同的 UI 自定义选项

00:19:12.996 --> 00:19:14.286 A:middle
唯一的区别就在于

00:19:14.286 --> 00:19:15.446 A:middle
如果你的 Relevant Shortcut 需要

00:19:15.446 --> 00:19:16.726 A:middle
回到手机上执行 我们会显示

00:19:16.726 --> 00:19:18.096 A:middle
你的 iOS App 的图像

00:19:18.096 --> 00:19:19.706 A:middle
而不是你的 App 的图像

00:19:20.556 --> 00:19:23.146 A:middle
既然我们可以显示

00:19:23.146 --> 00:19:24.146 A:middle
在手机或 Watch 上

00:19:24.146 --> 00:19:25.026 A:middle
运行的 Relevant Shortcut

00:19:25.026 --> 00:19:26.276 A:middle
让我们来看一下

00:19:26.276 --> 00:19:27.156 A:middle
当用户轻点时

00:19:27.156 --> 00:19:28.316 A:middle
它会在什么地方执行指令

00:19:29.596 --> 00:19:31.246 A:middle
如果一个 Relevant Shortcut 可以由

00:19:31.246 --> 00:19:32.406 A:middle
你的 Watch 在本地安装的

00:19:32.406 --> 00:19:33.796 A:middle
App 处理

00:19:34.056 --> 00:19:35.046 A:middle
不论它从哪里来

00:19:35.046 --> 00:19:36.916 A:middle
我们都会在

00:19:36.956 --> 00:19:38.166 A:middle
App 内执行它

00:19:38.836 --> 00:19:40.116 A:middle
这可以给予用户

00:19:40.116 --> 00:19:41.726 A:middle
最佳的体验和最少的延迟

00:19:43.056 --> 00:19:44.386 A:middle
你可以通过确认

00:19:44.386 --> 00:19:45.956 A:middle
用户活动的活动类型是否在

00:19:45.956 --> 00:19:47.336 A:middle
info.plist NSUserActivityTyped 序列里

00:19:47.336 --> 00:19:48.986 A:middle
来确保你的 App

00:19:48.986 --> 00:19:51.766 A:middle
支持某个捷径的执行指令

00:19:52.616 --> 00:19:53.816 A:middle
或者 你的 Intent

00:19:53.816 --> 00:19:55.656 A:middle
在你的 Intent 扩展程序列表上

00:19:56.226 --> 00:19:58.736 A:middle
如果除了 iOS 上

00:19:58.736 --> 00:19:59.826 A:middle
没有其他已安装的 App

00:19:59.826 --> 00:20:01.956 A:middle
能处理你的捷径

00:19:59.826 --> 00:20:01.956 A:middle
能处理你的捷径

00:20:01.956 --> 00:20:03.316 A:middle
我们将把它返回手机运行

00:20:03.316 --> 00:20:04.366 A:middle
即使你的手机

00:20:04.366 --> 00:20:05.786 A:middle
不在用户附近

00:20:06.916 --> 00:20:08.556 A:middle
鉴于我们现在可以把内容

00:20:08.556 --> 00:20:09.846 A:middle
返回到手机上执行

00:20:09.846 --> 00:20:10.766 A:middle
我们想确保用户

00:20:10.766 --> 00:20:12.116 A:middle
不会轻点卡片 然后

00:20:12.116 --> 00:20:13.676 A:middle
被立即告知去拿自己的手机

00:20:13.676 --> 00:20:15.286 A:middle
所以 我们有一些关于

00:20:15.286 --> 00:20:16.536 A:middle
我们愿意在手机上执行的

00:20:16.536 --> 00:20:18.516 A:middle
捷径类型的相关规则

00:20:19.276 --> 00:20:21.126 A:middle
要求就是它们是

00:20:21.126 --> 00:20:21.756 A:middle
基于 Intent 构建的

00:20:22.386 --> 00:20:23.796 A:middle
它们会处理后台运行的执行指令

00:20:24.236 --> 00:20:25.316 A:middle
而且 它们不需要

00:20:25.316 --> 00:20:26.076 A:middle
保护数据准入

00:20:26.246 --> 00:20:27.266 A:middle
即手机锁屏时

00:20:27.266 --> 00:20:29.116 A:middle
你要加密的数据

00:20:30.446 --> 00:20:31.496 A:middle
确认你的内容是否

00:20:31.496 --> 00:20:33.316 A:middle
符合要求的方法就是

00:20:33.316 --> 00:20:34.256 A:middle
查看你自定义 Intent

00:20:34.256 --> 00:20:35.276 A:middle
里的参数组合

00:20:35.276 --> 00:20:38.576 A:middle
并确保它支持后台运行

00:20:39.056 --> 00:20:40.796 A:middle
查看你所有的

00:20:40.876 --> 00:20:42.246 A:middle
自定义 Intent 看看你采用的

00:20:42.246 --> 00:20:43.576 A:middle
方式有没有什么

00:20:43.576 --> 00:20:44.466 A:middle
验证限制

00:20:45.406 --> 00:20:46.306 A:middle
这里有三个选项

00:20:46.306 --> 00:20:47.336 A:middle
我们支持前两种

00:20:47.786 --> 00:20:48.636 A:middle
第一种里面没有

00:20:48.636 --> 00:20:49.316 A:middle
任何限制

00:20:49.936 --> 00:20:51.626 A:middle
第二种显示当你的设备锁住时

00:20:51.626 --> 00:20:52.786 A:middle
你被限制住了

00:20:52.786 --> 00:20:53.926 A:middle
这意味着至少要

00:20:53.926 --> 00:20:54.886 A:middle
解锁 Watch

00:20:54.886 --> 00:20:55.956 A:middle
我们才能执行它

00:20:56.306 --> 00:20:58.276 A:middle
最后一种是

00:20:58.276 --> 00:20:59.826 A:middle
锁定时限制 或者

00:20:59.826 --> 00:21:00.486 A:middle
保护数据不可用

00:20:59.826 --> 00:21:00.486 A:middle
保护数据不可用

00:21:01.916 --> 00:21:03.996 A:middle
现在各位已经了解了所有

00:21:03.996 --> 00:21:05.026 A:middle
在 Watch 和手机上

00:21:05.026 --> 00:21:05.976 A:middle
创建优秀的捷径

00:21:05.976 --> 00:21:06.276 A:middle
需要的信息

00:21:06.616 --> 00:21:07.516 A:middle
下面 我将会把场地交给 Josh

00:21:07.516 --> 00:21:08.766 A:middle
他将为大家介绍

00:21:08.766 --> 00:21:09.766 A:middle
更多关于预测引擎的内容

00:21:09.766 --> 00:21:09.966 A:middle
谢谢大家

00:21:10.516 --> 00:21:17.416 A:middle
[ 掌声 ]

00:21:17.916 --> 00:21:18.406 A:middle
&gt;&gt; 感谢 Paul

00:21:19.686 --> 00:21:20.166 A:middle
早上好

00:21:20.686 --> 00:21:22.176 A:middle
我叫 Josh

00:21:22.176 --> 00:21:23.516 A:middle
我是团队的一名工程师

00:21:23.816 --> 00:21:25.236 A:middle
我们很开心能制作出多种

00:21:25.236 --> 00:21:26.536 A:middle
呈现在用户的

00:21:26.536 --> 00:21:28.766 A:middle
Siri 表盘上的 Relevant Shortcut

00:21:29.256 --> 00:21:31.186 A:middle
Paul 刚刚为大家介绍了

00:21:31.186 --> 00:21:32.616 A:middle
一些 API 的内容

00:21:32.616 --> 00:21:34.456 A:middle
以及向系统提供你的

00:21:34.456 --> 00:21:35.866 A:middle
Relevant Shortcut 的不同方式

00:21:36.576 --> 00:21:37.916 A:middle
现在 我想介绍下系统

00:21:37.916 --> 00:21:38.926 A:middle
是如何预测你的

00:21:38.926 --> 00:21:40.336 A:middle
Relevant Shortcut 的

00:21:40.336 --> 00:21:42.166 A:middle
以及你可以做些什么

00:21:42.166 --> 00:21:43.946 A:middle
来确保系统能在

00:21:44.056 --> 00:21:45.426 A:middle
最恰当的时候向用户呈现你的内容

00:21:48.096 --> 00:21:49.136 A:middle
正如 Paul 刚刚谈到的

00:21:49.136 --> 00:21:50.946 A:middle
Siri 表盘上的内容

00:21:50.946 --> 00:21:52.116 A:middle
是根据其对用户的

00:21:52.116 --> 00:21:53.316 A:middle
相关性来排序的

00:21:53.936 --> 00:21:55.586 A:middle
每当用户抬起手臂时

00:21:55.586 --> 00:21:57.196 A:middle
我们想给他们呈现

00:21:57.196 --> 00:21:58.366 A:middle
他们最关心的内容

00:21:58.666 --> 00:21:59.506 A:middle
不论是根据当前的

00:21:59.506 --> 00:22:01.726 A:middle
时间 地点 还是整个

00:21:59.506 --> 00:22:01.726 A:middle
时间 地点 还是整个

00:22:01.726 --> 00:22:03.006 A:middle
系统内的其他因素而产生的

00:22:03.526 --> 00:22:06.646 A:middle
为了解用户

00:22:06.646 --> 00:22:07.676 A:middle
最关心什么内容

00:22:07.676 --> 00:22:09.276 A:middle
我们需要看一下他们在

00:22:09.566 --> 00:22:10.786 A:middle
Siri 表盘上是如何

00:22:10.786 --> 00:22:11.716 A:middle
与不同卡片进行互动的

00:22:12.176 --> 00:22:13.306 A:middle
他们在轻点什么内容呢

00:22:13.426 --> 00:22:14.196 A:middle
他们花费大量时间

00:22:14.196 --> 00:22:15.246 A:middle
观看的是什么呢

00:22:15.476 --> 00:22:15.996 A:middle
他们为寻找其他内容

00:22:15.996 --> 00:22:18.166 A:middle
而滑过的又是些什么呢

00:22:18.696 --> 00:22:20.296 A:middle
我们用所有的这些信息

00:22:20.296 --> 00:22:22.326 A:middle
来了解用户抬起手臂时

00:22:22.326 --> 00:22:23.436 A:middle
想要立刻看到

00:22:23.436 --> 00:22:25.066 A:middle
不同的卡片是什么

00:22:26.016 --> 00:22:30.866 A:middle
由于我们试着再次显示

00:22:30.866 --> 00:22:32.726 A:middle
用户最关心的内容

00:22:32.726 --> 00:22:33.246 A:middle
你需要确保你提供在

00:22:33.246 --> 00:22:34.846 A:middle
Siri 表盘上的内容

00:22:34.846 --> 00:22:36.246 A:middle
是相关的

00:22:36.246 --> 00:22:36.976 A:middle
并且足够吸引人

00:22:40.796 --> 00:22:42.026 A:middle
下面 让我们进一步谈谈

00:22:42.026 --> 00:22:43.846 A:middle
如何把你的

00:22:43.846 --> 00:22:45.526 A:middle
Relevant Shortcut 显示在 Siri 表盘上

00:22:45.846 --> 00:22:47.346 A:middle
正如 Paul 之前提到的

00:22:47.406 --> 00:22:48.416 A:middle
第一步 你需要给系统

00:22:48.416 --> 00:22:49.596 A:middle
提供你的 Relevant Shortcut

00:22:49.596 --> 00:22:50.916 A:middle
你需要提供到

00:22:50.916 --> 00:22:52.806 A:middle
默认的 Relevant Shortcuts Store

00:22:54.006 --> 00:22:54.986 A:middle
一旦你提供了你的

00:22:54.986 --> 00:22:56.946 A:middle
Relevant Shortcut 我们就可以

00:22:56.946 --> 00:22:57.816 A:middle
通过我们的

00:22:57.816 --> 00:22:58.846 A:middle
机器学习模型来弄清

00:22:58.926 --> 00:23:00.136 A:middle
向用户呈现

00:22:58.926 --> 00:23:00.136 A:middle
向用户呈现

00:23:00.136 --> 00:23:01.556 A:middle
Relevant Shortcut 的

00:23:01.556 --> 00:23:02.466 A:middle
最佳方式是什么

00:23:03.076 --> 00:23:04.236 A:middle
那么 让我们来看看我们在这个

00:23:04.236 --> 00:23:05.866 A:middle
模式里都考虑到了什么因素

00:23:07.126 --> 00:23:08.546 A:middle
我们看到的第一个就是

00:23:08.546 --> 00:23:10.116 A:middle
你的 Relevance Provider

00:23:10.776 --> 00:23:12.496 A:middle
这是你向系统提供

00:23:12.496 --> 00:23:14.356 A:middle
我们没有的

00:23:14.626 --> 00:23:15.786 A:middle
附加语境的方式

00:23:16.066 --> 00:23:17.506 A:middle
可能是一个具体的时间

00:23:17.766 --> 00:23:19.696 A:middle
位置或其他语境

00:23:21.286 --> 00:23:22.756 A:middle
我们也会查看用户过去的行为

00:23:22.826 --> 00:23:24.416 A:middle
那么 用户之前是如何

00:23:24.416 --> 00:23:25.936 A:middle
与这个 Relevant Shortcut 互动的呢

00:23:26.356 --> 00:23:27.176 A:middle
它是用户花费大量时间

00:23:27.176 --> 00:23:28.496 A:middle
在表盘上轻点

00:23:28.496 --> 00:23:29.626 A:middle
并浏览的那个吗

00:23:29.936 --> 00:23:30.436 A:middle
或者 是他们为寻找

00:23:30.436 --> 00:23:32.666 A:middle
更有趣内容而滑过的那个

00:23:34.506 --> 00:23:36.076 A:middle
我们在众多其他因素中

00:23:36.076 --> 00:23:37.166 A:middle
还看了系统内的

00:23:37.196 --> 00:23:38.536 A:middle
许多不同的因素 比如说

00:23:38.536 --> 00:23:41.666 A:middle
当前的时间 星期几

00:23:41.666 --> 00:23:43.646 A:middle
当前的位置

00:23:43.646 --> 00:23:44.456 A:middle
用户的日常活动

00:23:44.516 --> 00:23:46.126 A:middle
将这些都考虑到

00:23:46.366 --> 00:23:48.146 A:middle
可以更好的了解

00:23:48.146 --> 00:23:49.746 A:middle
当用户想要和特定的

00:23:49.746 --> 00:23:51.096 A:middle
捷径互动时

00:23:51.096 --> 00:23:52.116 A:middle
的语境应该是什么

00:23:52.626 --> 00:23:57.296 A:middle
还值得注意的一点是

00:23:57.296 --> 00:23:59.406 A:middle
这个模型对每个用户都很安全

00:23:59.406 --> 00:24:00.676 A:middle
并且可以自定义的

00:23:59.406 --> 00:24:00.676 A:middle
并且可以自定义的

00:24:01.066 --> 00:24:02.526 A:middle
我们所有的学习都是

00:24:02.636 --> 00:24:05.496 A:middle
在设备上进行的 并且我们正在制作

00:24:05.496 --> 00:24:07.306 A:middle
一个可以针对每一个用户

00:24:07.306 --> 00:24:08.806 A:middle
和 Siri 表盘的模型

00:24:08.876 --> 00:24:10.126 A:middle
你和表盘互动的方式

00:24:10.126 --> 00:24:11.226 A:middle
也许和我与表盘

00:24:11.226 --> 00:24:12.646 A:middle
互动的方式有所不同

00:24:14.146 --> 00:24:15.546 A:middle
一旦我们有了这个已训练模型

00:24:15.546 --> 00:24:17.436 A:middle
我们就可以运行你的

00:24:17.436 --> 00:24:19.326 A:middle
Relevant Shortcut

00:24:19.406 --> 00:24:20.586 A:middle
并且根据它们对用户的

00:24:20.586 --> 00:24:21.976 A:middle
相关性把它们再次显示在 Siri 表盘上

00:24:26.416 --> 00:24:27.376 A:middle
如果你之前听过一些

00:24:27.376 --> 00:24:29.136 A:middle
关于捷径的讲座

00:24:29.136 --> 00:24:30.396 A:middle
那你可能听说过捐赠

00:24:31.126 --> 00:24:32.726 A:middle
这是你给系统指示的方式

00:24:32.726 --> 00:24:34.606 A:middle
来让它知道用户在你的

00:24:34.606 --> 00:24:35.266 A:middle
App 内做什么

00:24:36.846 --> 00:24:37.926 A:middle
尽管实际上它们不会在

00:24:37.926 --> 00:24:39.186 A:middle
Siri 表盘的 UI 里

00:24:39.186 --> 00:24:41.816 A:middle
显示出来 当我们想要

00:24:41.816 --> 00:24:43.176 A:middle
了解用户过去的行为时

00:24:43.176 --> 00:24:44.886 A:middle
我们还是会将其考虑进去

00:24:47.416 --> 00:24:49.556 A:middle
再次强调

00:24:49.556 --> 00:24:51.406 A:middle
捐赠是指示重要任务

00:24:51.746 --> 00:24:53.186 A:middle
或其他关于用户

00:24:53.186 --> 00:24:54.816 A:middle
在你的 App 内的活动信息

00:24:54.816 --> 00:24:56.936 A:middle
并将其提供给系统的重要方式

00:24:58.546 --> 00:25:00.006 A:middle
通过向系统提供这一信息

00:24:58.546 --> 00:25:00.006 A:middle
通过向系统提供这一信息

00:25:00.006 --> 00:25:01.996 A:middle
我们可以明白并学会

00:25:01.996 --> 00:25:03.836 A:middle
用户行为当中存在的模式

00:25:03.836 --> 00:25:06.646 A:middle
例如 如果用户

00:25:06.646 --> 00:25:07.766 A:middle
每天都在同一个时间观看

00:25:07.766 --> 00:25:08.996 A:middle
或在相似的位置

00:25:08.996 --> 00:25:10.966 A:middle
做出相同的动作

00:25:10.966 --> 00:25:12.746 A:middle
系统就会挑出这些模式

00:25:12.746 --> 00:25:14.186 A:middle
然后在最合适的时候

00:25:14.186 --> 00:25:15.526 A:middle
让它们出现在

00:25:15.556 --> 00:25:17.456 A:middle
Relevant Shortcut 中

00:25:19.236 --> 00:25:21.886 A:middle
所以 如果你在用

00:25:21.886 --> 00:25:23.426 A:middle
NSUserActivities 来显示

00:25:23.566 --> 00:25:25.286 A:middle
你的捐赠

00:25:25.286 --> 00:25:26.416 A:middle
为了向系统提供你的捐赠

00:25:26.536 --> 00:25:27.576 A:middle
你需要了解

00:25:27.576 --> 00:25:28.066 A:middle
以下的内容

00:25:28.706 --> 00:25:30.056 A:middle
首先你需要把

00:25:30.106 --> 00:25:31.296 A:middle
这些属性在你的 NSUserActivity

00:25:31.296 --> 00:25:32.856 A:middle
eligibleForPrediction

00:25:32.856 --> 00:25:34.096 A:middle
和 eligibleForSearch 中

00:25:34.096 --> 00:25:35.066 A:middle
设置为 "true"

00:25:37.056 --> 00:25:38.156 A:middle
接下来 你需要在你的

00:25:38.156 --> 00:25:39.436 A:middle
info.plist 内指示

00:25:39.436 --> 00:25:40.936 A:middle
来确保有一个 App

00:25:40.936 --> 00:25:42.206 A:middle
支持你的用户活动

00:25:43.936 --> 00:25:44.926 A:middle
最后 你想要确认

00:25:44.926 --> 00:25:46.056 A:middle
无论用户在何时

00:25:46.056 --> 00:25:47.196 A:middle
看到了这条内容

00:25:47.236 --> 00:25:48.636 A:middle
你都可以捐赠这些

00:25:48.636 --> 00:25:50.966 A:middle
用户活动 这样一来 系统就可以

00:25:50.966 --> 00:25:51.566 A:middle
开始挑选模式

00:25:51.966 --> 00:25:54.696 A:middle
为了能够进行捐赠

00:25:54.696 --> 00:25:56.166 A:middle
在 NSUserActivity 上

00:25:56.216 --> 00:25:57.756 A:middle
有一个方法叫做 becomeCurrent

00:25:58.006 --> 00:25:59.546 A:middle
它允许你向系统进行捐赠

00:26:01.216 --> 00:26:03.166 A:middle
不过 在新的 5 中

00:26:03.166 --> 00:26:03.906 A:middle
还有一个方法是

00:26:04.246 --> 00:26:05.816 A:middle
updateUserActivity

00:26:05.816 --> 00:26:07.706 A:middle
它存在于 WKInterfaceController 上

00:26:07.706 --> 00:26:09.596 A:middle
你可以在这上面将你的用户活动

00:26:09.596 --> 00:26:11.226 A:middle
附加到一个 interfaceController 上

00:26:11.226 --> 00:26:13.036 A:middle
每当用户见到这个 interfaceController

00:26:13.116 --> 00:26:14.336 A:middle
系统就会自动

00:26:14.336 --> 00:26:17.166 A:middle
代你捐赠用户活动

00:26:17.916 --> 00:26:19.416 A:middle
这和我们在 iOS 上

00:26:19.416 --> 00:26:21.116 A:middle
UIViewController 中的 API

00:26:21.116 --> 00:26:22.036 A:middle
以及 UIResponder 上的 API 相似

00:26:22.036 --> 00:26:23.536 A:middle
你可以在这些上面

00:26:23.536 --> 00:26:26.116 A:middle
给你的 UI 附加

00:26:26.116 --> 00:26:26.796 A:middle
NSUserActivity

00:26:28.066 --> 00:26:29.166 A:middle
那么 这就是

00:26:29.166 --> 00:26:30.846 A:middle
我们推荐的在  上进行

00:26:31.026 --> 00:26:32.966 A:middle
NSUserActivity 捐赠的方式

00:26:34.416 --> 00:26:37.436 A:middle
如果有一个 Intent 支持你的捷径

00:26:37.436 --> 00:26:39.786 A:middle
你可以通过使用

00:26:39.886 --> 00:26:41.726 A:middle
INInteraction API

00:26:41.826 --> 00:26:42.786 A:middle
来进行 Intent 捐赠

00:26:43.186 --> 00:26:45.096 A:middle
所以 如果你之前参加过

00:26:45.096 --> 00:26:46.166 A:middle
别的有关捷径的讲座

00:26:46.166 --> 00:26:47.286 A:middle
你可能会对这个很熟悉

00:26:47.286 --> 00:26:49.696 A:middle
不过 要想进行这个捐赠

00:26:49.696 --> 00:26:50.786 A:middle
首先你要创建你的 Intent

00:26:51.196 --> 00:26:52.656 A:middle
并且调整每一个参数

00:26:52.656 --> 00:26:53.576 A:middle
因为它们对用户在你的 App 内

00:26:53.576 --> 00:26:54.636 A:middle
进行的活动而言十分重要

00:26:55.506 --> 00:26:56.596 A:middle
接下来 你要用 Intent

00:26:56.596 --> 00:26:58.476 A:middle
创建你的 INInteraction

00:26:58.476 --> 00:27:00.276 A:middle
并且在用户做出这一

00:26:58.476 --> 00:27:00.276 A:middle
并且在用户做出这一

00:27:00.276 --> 00:27:01.916 A:middle
特定互动时 调用捐赠方法

00:27:02.496 --> 00:27:05.556 A:middle
另一个值得注意的是

00:27:05.886 --> 00:27:07.526 A:middle
这个主要的捷径类型

00:27:07.526 --> 00:27:09.936 A:middle
我们在作出预测时要用到它

00:27:10.036 --> 00:27:12.716 A:middle
那么 让我们来看一下这一内容

00:27:13.396 --> 00:27:15.216 A:middle
在 Xcode Intent editor 中

00:27:15.216 --> 00:27:16.466 A:middle
你会发现

00:27:16.466 --> 00:27:18.326 A:middle
有一栏可以选择

00:27:18.326 --> 00:27:19.446 A:middle
主要的捷径类型

00:27:20.276 --> 00:27:21.666 A:middle
它允许你向系统发出指示

00:27:21.666 --> 00:27:24.296 A:middle
例如 你的 App 最关键的

00:27:24.296 --> 00:27:24.646 A:middle
使用案例

00:27:25.106 --> 00:27:26.616 A:middle
下面让我们来进一步看看

00:27:26.616 --> 00:27:29.366 A:middle
这是什么意思

00:27:30.456 --> 00:27:31.786 A:middle
通过指定主要的捷径类型

00:27:31.786 --> 00:27:33.086 A:middle
你就像是在

00:27:33.086 --> 00:27:34.696 A:middle
告诉系统 你所认为

00:27:34.696 --> 00:27:36.206 A:middle
用户最关心的

00:27:36.206 --> 00:27:37.426 A:middle
使用案例是什么

00:27:37.426 --> 00:27:38.906 A:middle
这可以帮我们的

00:27:38.906 --> 00:27:39.766 A:middle
学习模型加速

00:27:41.366 --> 00:27:42.616 A:middle
你可以指示任意一个这些你已经

00:27:42.686 --> 00:27:43.866 A:middle
定义的 Intent

00:27:45.616 --> 00:27:46.986 A:middle
为达到最佳性能

00:27:47.246 --> 00:27:48.846 A:middle
参数组合

00:27:48.846 --> 00:27:50.436 A:middle
和选择 都会有一个

00:27:50.436 --> 00:27:51.526 A:middle
你在 Relevant Shortcut

00:27:51.526 --> 00:27:52.536 A:middle
提供的参数的子集

00:27:52.776 --> 00:27:53.786 A:middle
接下来 我们将展示几个例子

00:27:53.786 --> 00:27:54.796 A:middle
来让大家理解

00:27:54.796 --> 00:27:58.066 A:middle
这是什么意思

00:27:58.476 --> 00:27:59.746 A:middle
不过 通过向系统传递这一信息

00:27:59.746 --> 00:28:01.436 A:middle
我们可以在用户行为中

00:27:59.746 --> 00:28:01.436 A:middle
我们可以在用户行为中

00:28:01.436 --> 00:28:03.296 A:middle
更快地挑出相应模式

00:28:03.296 --> 00:28:04.866 A:middle
更快地知道

00:28:04.866 --> 00:28:06.176 A:middle
用户最想要的

00:28:06.176 --> 00:28:08.236 A:middle
Relevant Shortcut 是什么

00:28:10.476 --> 00:28:11.836 A:middle
首先 我们有一个

00:28:11.836 --> 00:28:12.446 A:middle
叫 Messaging 的 App

00:28:12.736 --> 00:28:13.766 A:middle
我和 Paul 已经

00:28:13.766 --> 00:28:14.806 A:middle
用了一阵这个软件

00:28:14.806 --> 00:28:16.046 A:middle
每天早上

00:28:16.046 --> 00:28:17.386 A:middle
我们都会反复地发短信

00:28:17.776 --> 00:28:19.086 A:middle
有时候它会准备好

00:28:19.086 --> 00:28:20.666 A:middle
开始这样的对话

00:28:20.666 --> 00:28:22.316 A:middle
而有时候则是关于我们午饭要吃

00:28:23.176 --> 00:28:24.686 A:middle
哪一种曲奇饼

00:28:24.846 --> 00:28:26.396 A:middle
这个 App 已经采用了

00:28:26.396 --> 00:28:28.006 A:middle
Siri 捷径

00:28:28.006 --> 00:28:29.096 A:middle
并且 他们定义了一些

00:28:29.096 --> 00:28:30.316 A:middle
他们 App 支持的

00:28:30.316 --> 00:28:30.996 A:middle
不同的参数

00:28:31.256 --> 00:28:32.566 A:middle
第一个是接受者

00:28:32.886 --> 00:28:34.326 A:middle
我的信息是发给谁的呢

00:28:34.376 --> 00:28:36.796 A:middle
第二个是信息

00:28:37.016 --> 00:28:38.126 A:middle
那么 我想发送的

00:28:38.126 --> 00:28:39.156 A:middle
信息内容是什么呢

00:28:40.416 --> 00:28:41.946 A:middle
正如我前面提到的

00:28:41.946 --> 00:28:43.206 A:middle
不错 我和 Paul 每一天的早晨

00:28:43.206 --> 00:28:45.026 A:middle
都在使用这个 App

00:28:45.026 --> 00:28:46.266 A:middle
但是我们发送的

00:28:46.266 --> 00:28:47.396 A:middle
实际内容

00:28:47.476 --> 00:28:48.406 A:middle
每天都不一样

00:28:49.366 --> 00:28:50.886 A:middle
所以 由于这一原因

00:28:50.886 --> 00:28:52.166 A:middle
这可能不是主要的捷径类型

00:28:52.166 --> 00:28:53.326 A:middle
的最佳选择

00:28:53.326 --> 00:28:54.836 A:middle
系统会需要更长的时间

00:28:54.926 --> 00:28:56.126 A:middle
才能明白

00:28:56.126 --> 00:28:57.806 A:middle
我想要的

00:28:57.806 --> 00:28:59.026 A:middle
捷径是什么

00:28:59.516 --> 00:29:02.356 A:middle
鉴于我和 Paul

00:28:59.516 --> 00:29:02.356 A:middle
鉴于我和 Paul

00:29:02.356 --> 00:29:03.706 A:middle
经常联系

00:29:03.706 --> 00:29:05.056 A:middle
所以系统可以十分迅速地

00:29:05.056 --> 00:29:06.296 A:middle
挑出这一模式

00:29:06.296 --> 00:29:07.206 A:middle
即我每天早上都

00:29:07.206 --> 00:29:10.486 A:middle
给 Paul 发短信

00:29:10.896 --> 00:29:12.176 A:middle
有一个更有趣的例子

00:29:12.176 --> 00:29:13.626 A:middle
就是我每天早晨我用来

00:29:13.626 --> 00:29:14.736 A:middle
点咖啡的这个 App

00:29:15.846 --> 00:29:17.166 A:middle
这个 App 同样

00:29:17.166 --> 00:29:18.356 A:middle
采用了 Siri 捷径

00:29:18.746 --> 00:29:20.176 A:middle
他们支持几个

00:29:20.176 --> 00:29:21.116 A:middle
不同的参数

00:29:21.346 --> 00:29:22.656 A:middle
第一个是我想买的

00:29:22.656 --> 00:29:23.546 A:middle
咖啡种类

00:29:24.026 --> 00:29:25.606 A:middle
下一个是调味品

00:29:25.606 --> 00:29:26.786 A:middle
我想加奶油还是加糖呢

00:29:27.556 --> 00:29:29.146 A:middle
最后一个是

00:29:29.146 --> 00:29:30.376 A:middle
我想去哪里取我的咖啡

00:29:31.986 --> 00:29:33.546 A:middle
所以 我每天都用这个 App

00:29:33.546 --> 00:29:34.936 A:middle
去一个地方点我的

00:29:34.936 --> 00:29:35.606 A:middle
早间咖啡

00:29:36.126 --> 00:29:37.076 A:middle
但是 这要视我在哪里

00:29:37.076 --> 00:29:38.426 A:middle
开会而定

00:29:38.426 --> 00:29:39.676 A:middle
我想取咖啡的位置

00:29:39.676 --> 00:29:40.656 A:middle
会逐日改变

00:29:41.046 --> 00:29:42.206 A:middle
可能我会去 Infinite Loop

00:29:42.206 --> 00:29:43.726 A:middle
或者 Apple Park

00:29:43.726 --> 00:29:45.556 A:middle
或者洛杉矶

00:29:45.556 --> 00:29:46.616 A:middle
而且我想要在最近的店里

00:29:46.616 --> 00:29:47.416 A:middle
取我的咖啡

00:29:48.236 --> 00:29:50.496 A:middle
所以 由于位置变动的

00:29:50.496 --> 00:29:52.056 A:middle
可能性很大

00:29:52.496 --> 00:29:53.436 A:middle
这可能并不是

00:29:53.436 --> 00:29:54.906 A:middle
主要捷径类型的最佳选择

00:29:54.906 --> 00:29:56.366 A:middle
系统可能也需要

00:29:56.366 --> 00:29:57.276 A:middle
更长的时间来

00:29:57.276 --> 00:29:58.776 A:middle
了解我行为

00:29:58.776 --> 00:29:59.296 A:middle
中的模式

00:30:00.066 --> 00:30:02.146 A:middle
然而 我每一次

00:30:02.146 --> 00:30:03.506 A:middle
下单的内容

00:30:03.506 --> 00:30:04.056 A:middle
都是相同的

00:30:04.156 --> 00:30:05.316 A:middle
我总是点一杯加等量

00:30:05.316 --> 00:30:06.876 A:middle
奶油和糖的拿铁

00:30:07.266 --> 00:30:08.306 A:middle
这可以是主要的

00:30:08.306 --> 00:30:09.516 A:middle
捷径类型的

00:30:09.516 --> 00:30:12.616 A:middle
一个最佳选择

00:30:13.056 --> 00:30:14.586 A:middle
而且 咖啡本身

00:30:14.666 --> 00:30:16.206 A:middle
可能太普通了 对吧

00:30:16.206 --> 00:30:18.166 A:middle
加点调味品的咖啡

00:30:18.466 --> 00:30:20.646 A:middle
可能是更好的主要捷径类型

00:30:22.046 --> 00:30:23.956 A:middle
这就是你如何

00:30:23.956 --> 00:30:25.866 A:middle
在 App 内提供

00:30:25.866 --> 00:30:27.666 A:middle
用户在做什么这一信息的方式

00:30:28.006 --> 00:30:29.566 A:middle
现在 让我们来谈谈我们将如何

00:30:29.566 --> 00:30:31.026 A:middle
预测你的 Relevant Shortcut

00:30:32.046 --> 00:30:33.746 A:middle
谈到这个内容

00:30:33.746 --> 00:30:34.656 A:middle
我们将看下几个

00:30:34.656 --> 00:30:36.806 A:middle
不同的 App

00:30:36.996 --> 00:30:38.586 A:middle
第一个是这个叫 Recipes 的 App

00:30:38.586 --> 00:30:41.396 A:middle
我每一天都用这个 App

00:30:41.396 --> 00:30:42.706 A:middle
来为我提供我可能

00:30:42.706 --> 00:30:43.906 A:middle
想尝试的食谱推荐

00:30:46.076 --> 00:30:47.226 A:middle
下一个是这个叫

00:30:47.226 --> 00:30:48.726 A:middle
Fitness Trainer 的 App

00:30:48.726 --> 00:30:49.936 A:middle
它会提醒我外出

00:30:49.936 --> 00:30:51.446 A:middle
在晚上跑跑步

00:30:52.186 --> 00:30:54.396 A:middle
最后是这个叫

00:30:54.396 --> 00:30:56.396 A:middle
Travel Guide 的 App

00:30:56.396 --> 00:30:57.486 A:middle
它会在我外出时 或我出现在

00:30:57.486 --> 00:30:58.586 A:middle
有趣的地点附近时

00:30:58.586 --> 00:30:59.466 A:middle
出现在屏幕上 这样我就可以去到

00:30:59.506 --> 00:30:59.796 A:middle
那些地方

00:31:00.886 --> 00:31:02.416 A:middle
这三个 App 中的每一个

00:31:02.416 --> 00:31:04.286 A:middle
都会属于

00:31:04.286 --> 00:31:05.566 A:middle
我们的三种分类里的

00:31:05.566 --> 00:31:08.526 A:middle
其中一个我们把第一个称之为

00:31:08.526 --> 00:31:09.056 A:middle
"Downtime"

00:31:09.666 --> 00:31:10.556 A:middle
它没有与其相关的

00:31:10.556 --> 00:31:11.886 A:middle
具体的时间

00:31:11.886 --> 00:31:13.996 A:middle
或具体的位置

00:31:14.206 --> 00:31:15.786 A:middle
我想和这个

00:31:15.786 --> 00:31:17.266 A:middle
Recipes App

00:31:17.266 --> 00:31:18.266 A:middle
互动的时间

00:31:18.266 --> 00:31:19.036 A:middle
并不固定

00:31:19.876 --> 00:31:21.026 A:middle
然而 这个 Fitness Trainer

00:31:21.026 --> 00:31:22.756 A:middle
App 有一个非常

00:31:22.756 --> 00:31:23.676 A:middle
具体的时间 对吧

00:31:24.036 --> 00:31:25.716 A:middle
我已经将晚上八点

00:31:25.756 --> 00:31:27.036 A:middle
设置为在表盘上

00:31:27.036 --> 00:31:28.806 A:middle
提醒我的最佳时间了

00:31:29.756 --> 00:31:31.016 A:middle
通过传给系统这一信息

00:31:31.016 --> 00:31:33.186 A:middle
我们可以更精确地将

00:31:33.186 --> 00:31:34.936 A:middle
这一特定的 Relevant Shortcut

00:31:34.936 --> 00:31:35.996 A:middle
与我们需要考虑的

00:31:35.996 --> 00:31:37.436 A:middle
其他因素进行排序

00:31:39.246 --> 00:31:40.706 A:middle
同样 这个 Travel Guide App

00:31:40.816 --> 00:31:42.616 A:middle
也知道它该何时

00:31:42.616 --> 00:31:44.176 A:middle
显示其相应的

00:31:44.176 --> 00:31:45.066 A:middle
Relevant Shortcut 对吧

00:31:45.066 --> 00:31:46.456 A:middle
它知道用户感兴趣的所有位置

00:31:46.456 --> 00:31:47.566 A:middle
在这个例子中

00:31:47.566 --> 00:31:48.296 A:middle
即金门公园

00:31:48.916 --> 00:31:50.126 A:middle
再次 通过传递给系统

00:31:50.126 --> 00:31:51.746 A:middle
这一信息

00:31:51.746 --> 00:31:54.026 A:middle
我们可以预测特定的

00:31:54.096 --> 00:31:55.776 A:middle
捷径的相关性

00:31:58.576 --> 00:31:59.736 A:middle
要向系统提供

00:31:59.736 --> 00:32:01.016 A:middle
这样的附加语境

00:31:59.736 --> 00:32:01.016 A:middle
这样的附加语境

00:32:01.016 --> 00:32:02.286 A:middle
不论是具体的时间

00:32:02.286 --> 00:32:03.796 A:middle
地点 或是其他的信息

00:32:04.516 --> 00:32:06.316 A:middle
你都可以通过

00:32:06.316 --> 00:32:07.346 A:middle
RelevanceProvider API 来提供

00:32:07.346 --> 00:32:08.926 A:middle
这就允许你

00:32:08.926 --> 00:32:10.736 A:middle
在你的内容对用户

00:32:10.736 --> 00:32:12.086 A:middle
最具重要性时

00:32:12.086 --> 00:32:13.226 A:middle
向系统发出指示

00:32:15.896 --> 00:32:17.156 A:middle
它也允许你向用户显示

00:32:17.156 --> 00:32:18.586 A:middle
他们之前可能没见过的

00:32:18.586 --> 00:32:19.296 A:middle
一些新内容

00:32:20.166 --> 00:32:21.306 A:middle
既然你向系统提供了

00:32:21.306 --> 00:32:22.646 A:middle
这些附加提示

00:32:23.466 --> 00:32:24.556 A:middle
在系统确信这是用户

00:32:24.556 --> 00:32:27.616 A:middle
最感兴趣的事情之前

00:32:27.616 --> 00:32:28.986 A:middle
我们无需看到过多

00:32:28.986 --> 00:32:30.466 A:middle
用户过去的行为与连贯性

00:32:33.056 --> 00:32:34.826 A:middle
不过 我们一定要记住

00:32:34.826 --> 00:32:36.816 A:middle
在每一个过程都要

00:32:36.816 --> 00:32:39.256 A:middle
考虑用户的参与度

00:32:39.646 --> 00:32:40.626 A:middle
不论你是否提供了

00:32:40.626 --> 00:32:42.026 A:middle
Relevance Provider

00:32:42.026 --> 00:32:43.036 A:middle
我们都想确定

00:32:43.036 --> 00:32:44.416 A:middle
我们所显示的内容

00:32:44.416 --> 00:32:44.976 A:middle
正是用户最关心的内容

00:32:49.156 --> 00:32:51.266 A:middle
下面 让我们再来看一下

00:32:51.266 --> 00:32:52.016 A:middle
这个 Recipes App

00:32:52.416 --> 00:32:53.376 A:middle
就像我们之前提到的

00:32:53.376 --> 00:32:54.926 A:middle
它没有一个

00:32:54.926 --> 00:32:56.626 A:middle
与之相关的具体的

00:32:56.626 --> 00:32:58.536 A:middle
时间或位置 对吧

00:32:58.536 --> 00:32:59.676 A:middle
我想和这个 App

00:32:59.676 --> 00:33:01.346 A:middle
互动的时间可能是

00:32:59.676 --> 00:33:01.346 A:middle
互动的时间可能是

00:33:01.346 --> 00:33:02.446 A:middle
做晚饭的时候 然而对你而言可能是

00:33:02.446 --> 00:33:03.326 A:middle
做午饭的时候

00:33:04.876 --> 00:33:06.336 A:middle
那这样一来

00:33:06.556 --> 00:33:08.526 A:middle
我们可能实际上在指示

00:33:08.526 --> 00:33:09.566 A:middle
Relevance Provider 的一个空集

00:33:12.146 --> 00:33:13.496 A:middle
这样 系统将基于

00:33:13.496 --> 00:33:15.166 A:middle
用户之前与这个捷径

00:33:15.166 --> 00:33:17.016 A:middle
互动的情况

00:33:17.016 --> 00:33:18.216 A:middle
来确定这一特定捷径

00:33:18.216 --> 00:33:19.046 A:middle
的相关性

00:33:19.346 --> 00:33:20.736 A:middle
于我而言 我经常在

00:33:20.736 --> 00:33:22.096 A:middle
晚上七点左右使用它

00:33:22.096 --> 00:33:23.436 A:middle
因为我在这个时间做晚饭

00:33:23.436 --> 00:33:24.496 A:middle
所以这也是系统把这个

00:33:24.756 --> 00:33:27.126 A:middle
Relevant Shortcut 显示在表盘上的时间

00:33:29.046 --> 00:33:30.086 A:middle
然而 如果我们看一下

00:33:30.086 --> 00:33:31.446 A:middle
这个 Fitness Trainer App

00:33:31.746 --> 00:33:33.006 A:middle
它有与之相关的具体时间

00:33:33.006 --> 00:33:34.626 A:middle
你可以通过

00:33:34.626 --> 00:33:36.156 A:middle
创建一个 dateRelevanceProvider

00:33:36.156 --> 00:33:37.846 A:middle
来提供这个时间

00:33:37.846 --> 00:33:39.406 A:middle
在这里即把晚上八点

00:33:39.406 --> 00:33:39.926 A:middle
作为显示时间

00:33:42.606 --> 00:33:43.906 A:middle
通过向系统传递这一信息

00:33:43.906 --> 00:33:45.846 A:middle
我们会在一天当中的

00:33:45.846 --> 00:33:47.496 A:middle
某个特定时间附近

00:33:47.496 --> 00:33:48.146 A:middle
显示这个内容

00:33:49.596 --> 00:33:50.776 A:middle
当时间越来越接近

00:33:50.776 --> 00:33:52.256 A:middle
晚上八点

00:33:52.346 --> 00:33:53.596 A:middle
这一内容对用户的相关性

00:33:53.596 --> 00:33:54.656 A:middle
也就越来越高

00:33:55.006 --> 00:33:56.506 A:middle
那么让我们来看一下

00:33:57.726 --> 00:34:00.116 A:middle
这是我的 Siri 表盘上

00:33:57.726 --> 00:34:00.116 A:middle
这是我的 Siri 表盘上

00:34:00.336 --> 00:34:01.786 A:middle
可能会有的几张卡片

00:34:01.856 --> 00:34:03.316 A:middle
第一个是日历 它提醒我

00:34:03.316 --> 00:34:06.946 A:middle
要为这个讲座进行一个预备会议

00:34:06.946 --> 00:34:08.206 A:middle
下一个是我使用的一个 App

00:34:08.206 --> 00:34:10.775 A:middle
它会给我一些太空新闻的趣闻

00:34:11.786 --> 00:34:13.065 A:middle
最后 来看一下这个

00:34:13.065 --> 00:34:14.076 A:middle
Fitness Trainer App

00:34:14.076 --> 00:34:15.330 A:middle
让我们来详细了解一下它

00:34:20.036 --> 00:34:21.656 A:middle
当我醒来

00:34:21.656 --> 00:34:22.616 A:middle
准备开始新的一天

00:34:22.616 --> 00:34:24.016 A:middle
时间大概是早上八点

00:34:24.536 --> 00:34:25.815 A:middle
你可以看到这个

00:34:25.815 --> 00:34:26.946 A:middle
Fitness Trainer App 实际上

00:34:26.946 --> 00:34:29.216 A:middle
已经显示在 Siri 表盘上了

00:34:29.686 --> 00:34:30.896 A:middle
我们想确保用户知道

00:34:30.896 --> 00:34:31.916 A:middle
他们在这一整天中

00:34:31.916 --> 00:34:33.085 A:middle
都需要做哪些事情

00:34:33.085 --> 00:34:34.746 A:middle
不过它会显示在

00:34:34.746 --> 00:34:36.726 A:middle
相对下面一点的位置

00:34:36.726 --> 00:34:37.815 A:middle
对于用户而言 这件事

00:34:37.815 --> 00:34:38.686 A:middle
目前并不是最紧要的

00:34:39.795 --> 00:34:41.096 A:middle
但是 当我们已经

00:34:41.096 --> 00:34:42.896 A:middle
在进行一天的活动时

00:34:42.896 --> 00:34:44.166 A:middle
日历上的事件

00:34:44.166 --> 00:34:45.146 A:middle
对我而言就不再相关了

00:34:45.516 --> 00:34:46.505 A:middle
那么 Fitness Trainer

00:34:46.505 --> 00:34:47.696 A:middle
的建议就会在表盘

00:34:47.696 --> 00:34:48.456 A:middle
上方出现 对吧

00:34:48.706 --> 00:34:49.876 A:middle
随着我们离晚上八点

00:34:49.876 --> 00:34:51.246 A:middle
越来越近 这个内容对我也就

00:34:51.246 --> 00:34:53.226 A:middle
越来越重要

00:34:54.246 --> 00:34:55.556 A:middle
当时间终于来到晚上八点

00:34:55.556 --> 00:34:56.985 A:middle
它也就成了

00:34:56.985 --> 00:34:57.996 A:middle
对我最重要的事情

00:34:58.176 --> 00:34:59.186 A:middle
它想确保我没有忘记

00:34:59.186 --> 00:35:00.026 A:middle
要去跑步这件事

00:34:59.186 --> 00:35:00.026 A:middle
要去跑步这件事

00:35:00.026 --> 00:35:02.136 A:middle
所以 它就会在 Siri

00:35:02.136 --> 00:35:05.926 A:middle
表盘的顶部显示

00:35:06.056 --> 00:35:07.026 A:middle
现在 让我们来看一下

00:35:07.026 --> 00:35:08.436 A:middle
Travel Guide App

00:35:08.436 --> 00:35:10.236 A:middle
它也是要在用户出现在感兴趣的

00:35:10.306 --> 00:35:11.396 A:middle
有趣位置附近时

00:35:11.396 --> 00:35:12.316 A:middle
显示内容

00:35:14.706 --> 00:35:15.896 A:middle
各位可能已经猜到

00:35:15.896 --> 00:35:17.096 A:middle
你可以用一个

00:35:17.096 --> 00:35:18.086 A:middle
locationRelevanceProvider

00:35:18.086 --> 00:35:19.466 A:middle
向系统提供信息

00:35:19.796 --> 00:35:21.646 A:middle
在这个例子中就是

00:35:21.696 --> 00:35:22.006 A:middle
金门公园

00:35:24.176 --> 00:35:26.006 A:middle
通过向系统

00:35:26.006 --> 00:35:27.616 A:middle
提供这一信息

00:35:27.616 --> 00:35:29.226 A:middle
当用户开始向

00:35:29.226 --> 00:35:30.746 A:middle
金门公园靠近时

00:35:30.936 --> 00:35:31.896 A:middle
我们就会自动显示

00:35:31.896 --> 00:35:32.366 A:middle
这一内容

00:35:33.376 --> 00:35:34.376 A:middle
当用户离金门公园

00:35:34.376 --> 00:35:35.606 A:middle
越来越近

00:35:35.606 --> 00:35:37.046 A:middle
这一内容对用户来说

00:35:37.046 --> 00:35:38.216 A:middle
也就越来越相关

00:35:40.276 --> 00:35:42.216 A:middle
所以 假如我刚到洛杉矶

00:35:42.216 --> 00:35:43.606 A:middle
你可以看到

00:35:43.606 --> 00:35:44.516 A:middle
我们已经开始显示

00:35:44.516 --> 00:35:45.986 A:middle
建议用户去

00:35:45.986 --> 00:35:47.006 A:middle
金门公园的内容了

00:35:47.606 --> 00:35:48.726 A:middle
该内容会在表盘下方显示

00:35:48.726 --> 00:35:49.796 A:middle
因为现在对我来说

00:35:49.796 --> 00:35:50.966 A:middle
这并不是最要紧的事

00:35:50.966 --> 00:35:52.586 A:middle
但我们想确保用户

00:35:52.586 --> 00:35:54.166 A:middle
了解到这一内容

00:35:55.256 --> 00:35:57.466 A:middle
而且 随着我越来越靠近

00:35:57.466 --> 00:35:58.756 A:middle
金门公园

00:35:58.756 --> 00:36:00.156 A:middle
直到我最终到达金门公园

00:35:58.756 --> 00:36:00.156 A:middle
直到我最终到达金门公园

00:36:00.156 --> 00:36:01.806 A:middle
这一内容呈现与我越来越相关的趋势

00:36:01.806 --> 00:36:03.296 A:middle
我可以很容易地轻点

00:36:03.296 --> 00:36:04.986 A:middle
这个内容来了解更多详细内容

00:36:05.236 --> 00:36:06.986 A:middle
并查看我在金门公园都可以

00:36:06.986 --> 00:36:07.656 A:middle
做些什么

00:36:10.036 --> 00:36:11.076 A:middle
当你在创建你的

00:36:11.076 --> 00:36:12.696 A:middle
locationRelevanceProviders 时

00:36:12.696 --> 00:36:14.616 A:middle
你要给系统提供一个 CLRegion

00:36:15.226 --> 00:36:16.036 A:middle
这样 你就可以

00:36:16.036 --> 00:36:17.856 A:middle
指明两个重要的属性

00:36:18.346 --> 00:36:21.666 A:middle
第一个是实际坐标

00:36:21.666 --> 00:36:22.636 A:middle
你想在显示你的内容

00:36:22.636 --> 00:36:24.806 A:middle
的同时显示半径

00:36:25.156 --> 00:36:26.536 A:middle
那么 用户到底需要

00:36:26.536 --> 00:36:27.946 A:middle
离这些位置多近才能获得

00:36:27.946 --> 00:36:30.946 A:middle
相关的内容呢

00:36:31.476 --> 00:36:32.746 A:middle
CLRegion 里还有几个参数

00:36:32.746 --> 00:36:34.626 A:middle
你可以用它们

00:36:34.626 --> 00:36:36.546 A:middle
调整系统理解你的

00:36:36.576 --> 00:36:37.486 A:middle
区域的方式

00:36:38.546 --> 00:36:40.106 A:middle
第一个是 notifyOnEntry

00:36:40.686 --> 00:36:42.036 A:middle
所以 顾名思义

00:36:42.466 --> 00:36:43.806 A:middle
在这条内容与用户产生相关性之前

00:36:43.806 --> 00:36:45.186 A:middle
系统会一直等待

00:36:45.186 --> 00:36:46.496 A:middle
直到用户进入

00:36:46.496 --> 00:36:47.656 A:middle
这一区域

00:36:49.726 --> 00:36:51.076 A:middle
同样 你也可以设置

00:36:51.076 --> 00:36:52.766 A:middle
notifyOnExit 属性

00:36:52.766 --> 00:36:54.516 A:middle
在这个属性里

00:36:54.516 --> 00:36:55.986 A:middle
在该内容与用户关联之前

00:36:56.056 --> 00:36:57.286 A:middle
系统会一直等待

00:36:57.286 --> 00:36:58.556 A:middle
直到用户离开这个区域

00:36:59.566 --> 00:37:01.376 A:middle
实际上 我们将这两个属性

00:36:59.566 --> 00:37:01.376 A:middle
实际上 我们将这两个属性

00:37:01.436 --> 00:37:02.696 A:middle
与现有的基于 Siri 表盘的

00:37:02.696 --> 00:37:04.266 A:middle
位置提醒一起使用

00:37:04.266 --> 00:37:06.036 A:middle
以获得一种类似于

00:37:06.036 --> 00:37:07.686 A:middle
地理围栏的特性

00:37:10.146 --> 00:37:12.106 A:middle
CLRegion 上默认将

00:37:12.106 --> 00:37:13.476 A:middle
这些属性都设定为 "true"

00:37:14.016 --> 00:37:15.386 A:middle
这样一来 我们就可以

00:37:15.706 --> 00:37:17.226 A:middle
根据用户离

00:37:17.226 --> 00:37:18.766 A:middle
某一特定地点的距离

00:37:18.766 --> 00:37:20.346 A:middle
顺利地把相关性内插进来

00:37:21.716 --> 00:37:24.506 A:middle
这样 制作 CLRegion

00:37:24.556 --> 00:37:25.306 A:middle
就十分简单了

00:37:26.516 --> 00:37:27.866 A:middle
在这个例子中 我们是在

00:37:27.866 --> 00:37:29.396 A:middle
Apple Park 附近制作

00:37:29.486 --> 00:37:30.386 A:middle
所以我同时置入了

00:37:30.386 --> 00:37:33.026 A:middle
Apple Park 的坐标和它的半径

00:37:33.026 --> 00:37:34.256 A:middle
那么 我需要离这里多近呢

00:37:34.526 --> 00:37:35.826 A:middle
在这个例子中是两公里

00:37:36.276 --> 00:37:39.366 A:middle
下一步 我将调整 notifyOnEntry

00:37:39.366 --> 00:37:40.926 A:middle
因为 notifyOnExit 属性

00:37:40.956 --> 00:37:42.836 A:middle
对我的用例有很大帮助

00:37:43.476 --> 00:37:44.836 A:middle
一旦我把我的区域全部

00:37:44.836 --> 00:37:46.846 A:middle
配置完毕 我就可以十分轻松地

00:37:46.846 --> 00:37:47.266 A:middle
创建一个

00:37:47.266 --> 00:37:48.436 A:middle
locationRelevanceProvider

00:37:50.696 --> 00:37:52.276 A:middle
我有几条关于

00:37:52.276 --> 00:37:53.616 A:middle
locationRelevanceProvider 的提示

00:37:54.696 --> 00:37:56.086 A:middle
为了使用它

00:37:56.086 --> 00:37:57.596 A:middle
你的 App 需要位置授权

00:37:57.736 --> 00:37:58.796 A:middle
否则我们会忽略

00:37:58.796 --> 00:37:59.326 A:middle
这一特殊的

00:37:59.326 --> 00:38:00.606 A:middle
locationRelevanceProvider

00:37:59.326 --> 00:38:00.606 A:middle
locationRelevanceProvider

00:38:01.316 --> 00:38:03.366 A:middle
而且 为延长用户的电池寿命

00:38:03.366 --> 00:38:04.706 A:middle
一小时内我们获取的

00:38:04.706 --> 00:38:05.906 A:middle
位置更新数量

00:38:05.906 --> 00:38:07.206 A:middle
是有限的

00:38:07.206 --> 00:38:09.306 A:middle
请记住这一点

00:38:10.666 --> 00:38:12.026 A:middle
所以 这些是你可以向系统

00:38:12.026 --> 00:38:13.816 A:middle
提供具体时间

00:38:13.816 --> 00:38:15.116 A:middle
和位置的一些方式

00:38:15.736 --> 00:38:16.796 A:middle
下面让我们来看看

00:38:16.796 --> 00:38:17.796 A:middle
该如何向用户提供

00:38:17.856 --> 00:38:18.566 A:middle
个性化服务

00:38:19.586 --> 00:38:20.596 A:middle
我们有这个

00:38:20.646 --> 00:38:22.136 A:middle
dailyRoutineRelevanceProvider

00:38:22.366 --> 00:38:23.586 A:middle
那么 正如 Paul 之前提到的

00:38:23.586 --> 00:38:25.406 A:middle
它允许你在有意义的

00:38:25.406 --> 00:38:26.886 A:middle
时间或位置为用户

00:38:26.886 --> 00:38:28.606 A:middle
呈现相关内容

00:38:30.456 --> 00:38:32.376 A:middle
这些时间和位置

00:38:32.376 --> 00:38:33.906 A:middle
对每一位 Siri 表盘的

00:38:33.906 --> 00:38:37.666 A:middle
的用户都是个性化定制的

00:38:38.356 --> 00:38:39.266 A:middle
那么 我们第一个

00:38:39.266 --> 00:38:40.996 A:middle
要讨论的情景是早晨

00:38:42.566 --> 00:38:43.536 A:middle
这一情景允许你

00:38:43.596 --> 00:38:44.796 A:middle
在用户早晨醒来时

00:38:44.796 --> 00:38:45.596 A:middle
正确显示内容

00:38:46.406 --> 00:38:47.746 A:middle
实际上我们已经将其用于

00:38:47.746 --> 00:38:49.386 A:middle
Siri 表盘上现有的

00:38:49.606 --> 00:38:51.556 A:middle
第一方天气数据源上了

00:38:51.556 --> 00:38:53.246 A:middle
因此 我们可以在一天的

00:38:53.246 --> 00:38:54.486 A:middle
开始之际给用户提供

00:38:54.486 --> 00:38:55.946 A:middle
一份天气预报

00:38:55.946 --> 00:38:57.796 A:middle
之后它会很快消失

00:38:57.796 --> 00:38:59.266 A:middle
来为用户可能感兴趣的

00:38:59.266 --> 00:39:02.216 A:middle
其他内容腾出空间

00:38:59.266 --> 00:39:02.216 A:middle
其他内容腾出空间

00:39:02.516 --> 00:39:04.136 A:middle
我们也有夜晚的情景

00:39:04.706 --> 00:39:05.726 A:middle
这一情景允许我们在

00:39:05.726 --> 00:39:07.136 A:middle
用户上床睡觉前

00:39:07.136 --> 00:39:07.706 A:middle
显示相关内容

00:39:08.586 --> 00:39:10.386 A:middle
我们将其用在了 5 的

00:39:10.726 --> 00:39:12.956 A:middle
新版心率卡中

00:39:12.956 --> 00:39:14.046 A:middle
以便我们能全天为用户

00:39:14.046 --> 00:39:15.246 A:middle
提供他们心率活动

00:39:15.246 --> 00:39:18.296 A:middle
的整体情况

00:39:18.446 --> 00:39:20.406 A:middle
而且 创建 dailyRoutineRelevanceProvider

00:39:20.406 --> 00:39:20.956 A:middle
变得非常简单

00:39:20.956 --> 00:39:22.436 A:middle
你只需指定

00:39:22.436 --> 00:39:23.566 A:middle
你最感兴趣的情景

00:39:23.566 --> 00:39:25.296 A:middle
那么这样一来

00:39:25.296 --> 00:39:26.306 A:middle
我们就可以轻松地创建一个

00:39:26.306 --> 00:39:27.676 A:middle
dailyRoutineRelevanceProvider

00:39:27.676 --> 00:39:28.796 A:middle
在用户醒来时

00:39:28.796 --> 00:39:31.286 A:middle
正确地显示内容

00:39:32.206 --> 00:39:33.566 A:middle
这两种情景的特性

00:39:33.566 --> 00:39:35.226 A:middle
都和 dateLocation

00:39:35.226 --> 00:39:36.936 A:middle
或者说 dateRelevanceProvider

00:39:36.936 --> 00:39:37.876 A:middle
特别相似

00:39:38.706 --> 00:39:39.936 A:middle
除了系统是

00:39:39.936 --> 00:39:41.706 A:middle
自动计算出我们应该

00:39:41.706 --> 00:39:42.616 A:middle
在何时显示

00:39:42.616 --> 00:39:43.606 A:middle
这一内容之外

00:39:46.526 --> 00:39:47.816 A:middle
我们还提供了一些

00:39:47.816 --> 00:39:49.236 A:middle
允许你在重要的位置

00:39:49.236 --> 00:39:50.536 A:middle
向用户显示相关内容

00:39:50.536 --> 00:39:52.186 A:middle
的情景 无论是

00:39:52.186 --> 00:39:57.086 A:middle
家 工作地点 学校

00:39:57.086 --> 00:39:58.256 A:middle
或是当用户到达健身房

00:40:00.046 --> 00:40:01.056 A:middle
创建一个

00:40:01.056 --> 00:40:02.436 A:middle
dailyRoutineRelevanceProviders

00:40:02.436 --> 00:40:03.206 A:middle
非常简单

00:40:03.266 --> 00:40:04.426 A:middle
你只需指定

00:40:04.426 --> 00:40:05.556 A:middle
你感兴趣的情景

00:40:08.396 --> 00:40:09.646 A:middle
对于所有的这些情景

00:40:09.646 --> 00:40:12.826 A:middle
这个 relevanceProvider 的特性

00:40:12.826 --> 00:40:14.636 A:middle
还是和 locationRelevanceProvider 一样

00:40:14.936 --> 00:40:15.866 A:middle
除了系统是代你

00:40:15.866 --> 00:40:17.176 A:middle
自动计算出位置

00:40:17.176 --> 00:40:18.186 A:middle
这一点的

00:40:19.296 --> 00:40:20.346 A:middle
所以 随着用户

00:40:20.346 --> 00:40:22.046 A:middle
靠近这些位置 你的内容

00:40:22.046 --> 00:40:23.616 A:middle
对用户来说

00:40:23.746 --> 00:40:24.436 A:middle
也愈加相关

00:40:26.086 --> 00:40:28.626 A:middle
所以 这就是我们关于

00:40:28.626 --> 00:40:30.006 A:middle
如何预测你 Siri 表盘上的

00:40:30.006 --> 00:40:31.656 A:middle
Relevant Shortcut 的一些见解

00:40:31.906 --> 00:40:33.016 A:middle
你还可以通过这些

00:40:33.016 --> 00:40:34.606 A:middle
来向系统提供

00:40:34.606 --> 00:40:36.446 A:middle
附加语境 以便我们能在

00:40:36.446 --> 00:40:37.836 A:middle
最恰当的时间

00:40:37.836 --> 00:40:38.666 A:middle
显示你的内容

00:40:39.296 --> 00:40:41.556 A:middle
现在 让我们来看看

00:40:41.556 --> 00:40:42.886 A:middle
该如何在 Siri 表盘上

00:40:42.886 --> 00:40:43.756 A:middle
提供绝佳的体验

00:40:44.796 --> 00:40:46.076 A:middle
我们已经对 Siri 表盘

00:40:46.076 --> 00:40:47.516 A:middle
进行了很长时间的研究

00:40:47.616 --> 00:40:48.576 A:middle
这一路以来

00:40:48.576 --> 00:40:49.286 A:middle
我们学到了很多

00:40:51.556 --> 00:40:52.956 A:middle
首先就是 我们认为

00:40:52.956 --> 00:40:54.426 A:middle
Siri 表盘上

00:40:54.426 --> 00:40:56.306 A:middle
有两个高级内容分类

00:40:56.306 --> 00:40:58.326 A:middle
特别方便使用

00:40:59.736 --> 00:41:00.616 A:middle
其一就是可以

00:40:59.736 --> 00:41:00.616 A:middle
其一就是可以

00:41:00.616 --> 00:41:01.716 A:middle
可快速查看的信息

00:41:02.346 --> 00:41:03.856 A:middle
我们可以在

00:41:03.856 --> 00:41:05.456 A:middle
抬起手腕时 轻松获得自己

00:41:05.456 --> 00:41:06.586 A:middle
最想要的一条信息

00:41:06.586 --> 00:41:08.346 A:middle
并且可以在合适的时间

00:41:08.346 --> 00:41:09.436 A:middle
轻点以了解

00:41:09.436 --> 00:41:10.316 A:middle
更多细节

00:41:11.796 --> 00:41:13.596 A:middle
第二个是轻点动作

00:41:14.096 --> 00:41:15.396 A:middle
我们可以在

00:41:15.396 --> 00:41:16.966 A:middle
表盘上轻点某个卡片

00:41:16.966 --> 00:41:18.996 A:middle
来执行一个复杂活动

00:41:18.996 --> 00:41:20.506 A:middle
然后立刻反馈给我

00:41:21.606 --> 00:41:23.166 A:middle
下面 让我们来看一下

00:41:23.166 --> 00:41:24.206 A:middle
可快速查看的信息

00:41:24.686 --> 00:41:25.746 A:middle
你可以看到 我们再次

00:41:25.746 --> 00:41:26.586 A:middle
使用到了 Recipes App

00:41:27.576 --> 00:41:28.576 A:middle
在这一整天中

00:41:28.576 --> 00:41:30.736 A:middle
当我扫视手腕部位时

00:41:30.736 --> 00:41:31.596 A:middle
我可以得到一条

00:41:31.596 --> 00:41:32.306 A:middle
信息 对吧

00:41:32.306 --> 00:41:33.906 A:middle
我可以看到我今天晚些时候

00:41:33.906 --> 00:41:35.026 A:middle
可能会烹饪的食谱

00:41:35.386 --> 00:41:36.656 A:middle
并且我可以轻松地决定

00:41:36.836 --> 00:41:37.656 A:middle
我想不想做这道菜

00:41:37.746 --> 00:41:38.876 A:middle
或我今晚是否想外出

00:41:39.926 --> 00:41:41.186 A:middle
当我晚上准备好

00:41:41.186 --> 00:41:42.626 A:middle
要回家时 我可以

00:41:42.626 --> 00:41:45.296 A:middle
轻松地轻点它

00:41:45.296 --> 00:41:46.836 A:middle
来深入浏览这个 App

00:41:46.836 --> 00:41:47.706 A:middle
看看我是否需要在回家路上

00:41:47.706 --> 00:41:47.976 A:middle
去一趟杂货店

00:41:53.316 --> 00:41:54.526 A:middle
因此 如果你想为用户

00:41:54.526 --> 00:41:55.646 A:middle
提供可快速浏览的信息

00:41:55.646 --> 00:41:57.016 A:middle
那么你需要记住

00:41:57.016 --> 00:41:57.956 A:middle
以下这些内容

00:41:58.946 --> 00:42:00.046 A:middle
确保你在你的

00:41:58.946 --> 00:42:00.046 A:middle
确保你在你的

00:42:00.046 --> 00:42:02.216 A:middle
Relevant Shortcut 中显示的

00:42:02.216 --> 00:42:03.376 A:middle
是最关键的内容

00:42:04.546 --> 00:42:05.826 A:middle
因为这是用户每天

00:42:05.826 --> 00:42:06.886 A:middle
在抬起手腕时

00:42:06.886 --> 00:42:07.956 A:middle
将看到的内容

00:42:07.956 --> 00:42:09.716 A:middle
这是他们想

00:42:09.716 --> 00:42:10.626 A:middle
立刻在表盘上

00:42:10.626 --> 00:42:11.346 A:middle
看到的内容

00:42:12.636 --> 00:42:15.296 A:middle
当用户轻点你的

00:42:15.296 --> 00:42:16.786 A:middle
Relevant Shortcut

00:42:16.786 --> 00:42:18.076 A:middle
就应该打开你的 App 内的

00:42:18.076 --> 00:42:19.166 A:middle
一个位置 并为他们提供

00:42:19.166 --> 00:42:20.276 A:middle
额外的信息

00:42:21.166 --> 00:42:22.616 A:middle
也的确有不小心轻点了

00:42:22.616 --> 00:42:23.946 A:middle
Siri 表盘的情况

00:42:23.946 --> 00:42:24.956 A:middle
在这种情况下 你一定想确认你没有

00:42:24.956 --> 00:42:26.246 A:middle
开始任何用户不知情的

00:42:26.246 --> 00:42:27.716 A:middle
长时间运行的

00:42:27.716 --> 00:42:29.266 A:middle
后台任务

00:42:30.836 --> 00:42:32.306 A:middle
正如 Paul 之前提到的

00:42:32.306 --> 00:42:33.726 A:middle
系统会自动给你

00:42:33.726 --> 00:42:35.216 A:middle
一个附加的

00:42:35.216 --> 00:42:36.416 A:middle
后台刷新任务

00:42:36.416 --> 00:42:38.376 A:middle
让你提供新的内容

00:42:38.856 --> 00:42:40.186 A:middle
请利用好这一性能

00:42:40.186 --> 00:42:41.796 A:middle
这样你就能确保

00:42:41.796 --> 00:42:43.166 A:middle
可以在 Siri 表盘上

00:42:43.166 --> 00:42:44.086 A:middle
显示相关的有趣内容

00:42:44.626 --> 00:42:48.216 A:middle
而且 每当你得到新数据

00:42:48.216 --> 00:42:49.456 A:middle
不论它是否

00:42:49.456 --> 00:42:51.206 A:middle
经过后台刷新

00:42:51.206 --> 00:42:52.426 A:middle
因为你已经联网

00:42:52.426 --> 00:42:53.996 A:middle
并下载了新的数据

00:42:53.996 --> 00:42:55.156 A:middle
或者由于用户已经开始使用你的 App

00:42:55.156 --> 00:42:56.876 A:middle
确保你提供的

00:42:56.876 --> 00:42:58.156 A:middle
新的 Relevant Shortcut

00:42:58.156 --> 00:42:59.826 A:middle
总能在用户抬起手腕时

00:43:00.126 --> 00:43:01.316 A:middle
让系统显示

00:43:01.316 --> 00:43:02.636 A:middle
最有趣的内容

00:43:04.966 --> 00:43:07.126 A:middle
最后 如果你想要

00:43:07.126 --> 00:43:08.246 A:middle
及时显示信息

00:43:08.246 --> 00:43:10.606 A:middle
请通过 Relevance Provider

00:43:10.776 --> 00:43:12.086 A:middle
向我们发送指示

00:43:12.416 --> 00:43:13.846 A:middle
以便系统可以

00:43:13.846 --> 00:43:15.596 A:middle
在最合适的时间显示你的内容

00:43:15.896 --> 00:43:20.426 A:middle
这就是快速可浏览信息

00:43:20.846 --> 00:43:21.716 A:middle
现在 让我们再谈一下

00:43:21.716 --> 00:43:23.936 A:middle
Siri 表盘上的轻点动作

00:43:25.896 --> 00:43:27.326 A:middle
大家可以看到我们再次

00:43:27.356 --> 00:43:28.356 A:middle
使用了这个 Fitness Trainer App

00:43:28.676 --> 00:43:30.006 A:middle
在我的手腕上

00:43:30.006 --> 00:43:31.426 A:middle
我可以轻松得到

00:43:31.426 --> 00:43:32.586 A:middle
我需要出去跑步的提醒

00:43:34.656 --> 00:43:36.156 A:middle
轻点它 我就会得到

00:43:36.246 --> 00:43:37.636 A:middle
确认 来确定这就是

00:43:37.636 --> 00:43:39.886 A:middle
我想要执行的实际指令

00:43:41.226 --> 00:43:42.816 A:middle
轻点两下 我就可以开始

00:43:42.816 --> 00:43:43.376 A:middle
体能训练了

00:43:43.576 --> 00:43:44.676 A:middle
我不用花费时间

00:43:44.676 --> 00:43:46.426 A:middle
去众多 App 里

00:43:46.426 --> 00:43:47.736 A:middle
寻找这个 Fitness Trainer App

00:43:47.736 --> 00:43:49.776 A:middle
就可以开始进行我的体能训练

00:43:49.776 --> 00:43:51.346 A:middle
我可以在我的表盘上

00:43:51.346 --> 00:43:53.126 A:middle
轻松地轻点两下

00:43:53.126 --> 00:43:54.196 A:middle
就开始体能训练

00:43:57.256 --> 00:43:58.706 A:middle
如果你提供了轻点指令

00:43:58.706 --> 00:44:00.246 A:middle
请记住以下几点

00:43:58.706 --> 00:44:00.246 A:middle
请记住以下几点

00:44:01.856 --> 00:44:03.606 A:middle
你的 Intent 是在你的

00:44:03.606 --> 00:44:04.806 A:middle
Siri 扩展程序内运行的

00:44:05.376 --> 00:44:06.956 A:middle
这就允许系统在后台

00:44:06.956 --> 00:44:09.046 A:middle
自动运行你的 Intent

00:44:09.156 --> 00:44:10.476 A:middle
这样用户就再也不用

00:44:10.476 --> 00:44:11.776 A:middle
离开 Siri 表盘

00:44:11.776 --> 00:44:13.626 A:middle
来运行你的指令了

00:44:16.066 --> 00:44:17.486 A:middle
我们只展示标准的

00:44:17.486 --> 00:44:19.146 A:middle
系统确认 UI

00:44:19.146 --> 00:44:21.086 A:middle
这样用户就知道他们要

00:44:21.086 --> 00:44:22.096 A:middle
运行的指令是什么

00:44:22.096 --> 00:44:23.226 A:middle
我们可以确定这就是他们

00:44:23.226 --> 00:44:24.000 A:middle
想做的

00:44:27.046 --> 00:44:28.076 A:middle
你也想确认

00:44:28.076 --> 00:44:29.176 A:middle
你创建的捷径

00:44:29.176 --> 00:44:30.156 A:middle
是被完全指定的

00:44:30.156 --> 00:44:32.536 A:middle
这样你的

00:44:32.536 --> 00:44:33.956 A:middle
Intent 扩展程序就可以

00:44:33.956 --> 00:44:35.166 A:middle
在无需任何其他用户确认的情况下

00:44:35.166 --> 00:44:35.886 A:middle
处理它

00:44:37.186 --> 00:44:38.896 A:middle
因此当用户轻点

00:44:38.896 --> 00:44:39.956 A:middle
Siri 表盘上的这些

00:44:39.956 --> 00:44:41.146 A:middle
Relevant Shortcut 时

00:44:41.146 --> 00:44:42.596 A:middle
我们无需打开你的 App

00:44:42.596 --> 00:44:43.676 A:middle
来从用户处

00:44:43.676 --> 00:44:45.066 A:middle
继续获取附加信息

00:44:45.446 --> 00:44:47.136 A:middle
我们可以开始运行你的

00:44:47.136 --> 00:44:48.516 A:middle
SiriKit 扩展程序

00:44:48.516 --> 00:44:49.786 A:middle
在后台运行它

00:44:49.786 --> 00:44:51.856 A:middle
用户就可以在当天获取它

00:44:52.946 --> 00:44:55.456 A:middle
你肯定也想在你的 App 内

00:44:55.636 --> 00:44:57.596 A:middle
提供像 Relevant Shortcut 一样的

00:44:57.596 --> 00:44:58.986 A:middle
日常使用任务

00:44:59.436 --> 00:45:00.636 A:middle
这些是用户经常使用

00:44:59.436 --> 00:45:00.636 A:middle
这些是用户经常使用

00:45:00.636 --> 00:45:01.866 A:middle
你的 App 的原因

00:45:01.866 --> 00:45:03.436 A:middle
也是为什么他们想要

00:45:03.436 --> 00:45:04.746 A:middle
从表盘上轻松快速地

00:45:04.746 --> 00:45:06.986 A:middle
获取信息的原因

00:45:07.796 --> 00:45:09.456 A:middle
你也想要确认

00:45:09.456 --> 00:45:10.456 A:middle
你能够经常提供

00:45:10.456 --> 00:45:11.276 A:middle
Relevant Shortcut

00:45:11.846 --> 00:45:13.136 A:middle
你可能不知道

00:45:13.136 --> 00:45:14.156 A:middle
你上次向系统提供

00:45:14.156 --> 00:45:16.146 A:middle
Relevant Shortcut 是什么时候

00:45:16.146 --> 00:45:16.886 A:middle
而且你想要确认

00:45:16.886 --> 00:45:18.806 A:middle
你的用户总能从

00:45:18.806 --> 00:45:19.826 A:middle
Siri 表盘上得到

00:45:19.826 --> 00:45:20.436 A:middle
你的指令

00:45:21.376 --> 00:45:22.626 A:middle
如果你要在 App 开始运行时

00:45:22.626 --> 00:45:23.826 A:middle
提供这些内容

00:45:24.166 --> 00:45:25.576 A:middle
请在后台线程操作

00:45:25.576 --> 00:45:27.396 A:middle
这样你就不会降低 App 的运行速度

00:45:28.026 --> 00:45:31.356 A:middle
我们讨论了很多关于

00:45:31.566 --> 00:45:33.186 A:middle
Relevant Shortcut 的内容

00:45:33.186 --> 00:45:34.416 A:middle
以及很多你可以在

00:45:34.416 --> 00:45:36.286 A:middle
Siri 表盘上显示

00:45:36.286 --> 00:45:37.166 A:middle
正确内容的方式

00:45:37.166 --> 00:45:40.456 A:middle
你需要确认你提供的

00:45:40.456 --> 00:45:42.286 A:middle
内容是相关的

00:45:42.286 --> 00:45:43.406 A:middle
并且吸引人的

00:45:43.726 --> 00:45:44.846 A:middle
这是用户想要在

00:45:44.846 --> 00:45:45.926 A:middle
抬起手腕时立刻看到的内容

00:45:45.926 --> 00:45:47.146 A:middle
是我们想在 Siri 表盘上

00:45:47.226 --> 00:45:49.566 A:middle
显示的内容

00:45:49.566 --> 00:45:50.646 A:middle
也是我们想要

00:45:50.646 --> 00:45:52.066 A:middle
放在顶部的内容

00:45:53.876 --> 00:45:55.946 A:middle
当你有了 App

00:45:55.986 --> 00:45:57.256 A:middle
你会得到最为丰富的体验

00:45:57.906 --> 00:45:59.206 A:middle
系统可以给你

00:45:59.206 --> 00:46:00.396 A:middle
附加后台刷新任务

00:45:59.206 --> 00:46:00.396 A:middle
附加后台刷新任务

00:46:00.396 --> 00:46:01.886 A:middle
并且从用户轻点任意一个

00:46:01.886 --> 00:46:03.516 A:middle
Relevant Shortcut

00:46:03.516 --> 00:46:04.336 A:middle
到我们开始执行指令之前

00:46:04.336 --> 00:46:06.266 A:middle
不会有任何的延迟

00:46:08.356 --> 00:46:09.856 A:middle
如果大家有什么疑问

00:46:09.856 --> 00:46:11.006 A:middle
我们今晚还有一个实验室活动

00:46:11.006 --> 00:46:12.386 A:middle
我们很乐意和各位谈谈

00:46:12.386 --> 00:46:13.486 A:middle
有关 Relevant Shortcut

00:46:13.486 --> 00:46:14.426 A:middle
和 Siri 表盘的内容

00:46:15.116 --> 00:46:16.796 A:middle
我们很期待看到

00:46:16.796 --> 00:46:17.876 A:middle
各位在表盘上创造出

00:46:17.916 --> 00:46:20.036 A:middle
多种多样的体验

00:46:20.716 --> 00:46:20.956 A:middle
谢谢大家

00:46:21.516 --> 00:46:24.500 A:middle
[ 掌声 ]
