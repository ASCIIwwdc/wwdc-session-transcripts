WEBVTT

00:00:20.320 --> 00:00:22.422
<c.magenta>测量值和单位</c>

00:00:34.034 --> 00:00:35.636
<c.magenta>嗨 我是Daphne Larose</c>

00:00:35.702 --> 00:00:37.871
<c.magenta>我是Foundation团队</c>
<c.magenta>的软件工程师</c>

00:00:38.105 --> 00:00:39.239
<c.magenta>欢迎来到我的讲座</c>

00:00:39.439 --> 00:00:41.341
<c.magenta>谢谢仍然坚持在这的你们</c>

00:00:41.408 --> 00:00:42.876
<c.magenta>我知道现在已经晚了</c>

00:00:45.112 --> 00:00:47.548
<c.magenta>当我想到应用</c>

00:00:47.614 --> 00:00:50.050
<c.magenta>我们通常和测量值关联的</c>

00:00:50.584 --> 00:00:52.886
<c.magenta>我不知道你们</c>
<c.magenta>但是我首先想到的</c>

00:00:52.953 --> 00:00:54.154
<c.magenta>是转换应用</c>

00:00:54.454 --> 00:00:56.857
<c.magenta>讲得通 把一个单位转换成另一个</c>

00:00:57.724 --> 00:01:00.427
<c.magenta>但是我想知道是否有其他应用</c>

00:00:57.724 --> 00:01:00.427
<c.magenta>但是我想知道是否有其他应用</c>

00:01:00.494 --> 00:01:03.263
<c.magenta>也使用测量值</c>
<c.magenta>但是是用不那么明显的方式</c>

00:01:04.932 --> 00:01:09.203
<c.magenta>我不知道 但当我思考 测量值</c>

00:01:09.269 --> 00:01:12.706
<c.magenta>这很有趣 对吗</c>
<c.magenta>因为我们一直在用它们</c>

00:01:13.073 --> 00:01:15.309
<c.magenta>我们只是一般不会明确地想到它们</c>

00:01:15.709 --> 00:01:17.845
<c.magenta>它们会以一种意料之外的方式出现</c>

00:01:18.212 --> 00:01:21.415
<c.magenta>其中的一种方式是</c>
<c.magenta>它们不以单位的形式出现</c>

00:01:21.481 --> 00:01:24.451
<c.magenta>这很普遍</c>
<c.magenta>不管环境是什么</c>

00:01:24.918 --> 00:01:28.622
<c.magenta>假设我在法国 我在用一个应用</c>

00:01:28.889 --> 00:01:30.791
<c.magenta>是计算路程长度</c>

00:01:31.191 --> 00:01:34.895
<c.magenta>我期待这个测量值会显示公里</c>

00:01:35.329 --> 00:01:37.030
<c.magenta>但是它显示英里</c>

00:01:37.097 --> 00:01:37.931
<c.magenta>这就像 嗯</c>

00:01:38.332 --> 00:01:41.735
<c.magenta>这是不和谐的</c>
<c.magenta>不是很好的用户体验</c>

00:01:42.636 --> 00:01:45.038
<c.magenta>所以在这次演讲中</c>
<c.magenta>我们会向你介绍</c>

00:01:45.105 --> 00:01:50.310
<c.magenta>一系列可以帮助你确保这不会</c>
<c.magenta>在你的应用中发生的API</c>

00:01:52.713 --> 00:01:55.549
<c.magenta>如果我们再次思考这个问题</c>
<c.magenta>关于其他应用</c>

00:01:55.616 --> 00:01:57.351
<c.magenta>我们和测量值相关联的应用</c>

00:01:57.417 --> 00:01:59.920
<c.magenta>我提到过转换应用</c>
<c.magenta>这还是真的</c>

00:02:00.554 --> 00:02:03.023
<c.magenta>但是其他例子可以是游戏 对吗？</c>

00:02:05.192 --> 00:02:08.127
<c.magenta>所以今天我们会谈谈我在工作的游戏</c>

00:02:08.195 --> 00:02:10.531
<c.magenta>它叫做Jammin' in the Streetz</c>
<c.magenta>有一个z</c>

00:02:10.597 --> 00:02:12.799
<c.magenta>因为z很酷</c>
<c.magenta>我想要我的游戏酷</c>

00:02:13.934 --> 00:02:15.102
<c.magenta>这个游戏的假定</c>

00:02:15.169 --> 00:02:18.071
<c.magenta>是让我们的玩家从一关跳舞到另一关</c>

00:02:18.672 --> 00:02:22.142
<c.magenta>我为这个游戏设定了一些目标</c>

00:02:22.409 --> 00:02:24.878
<c.magenta>一 我希望这个游戏很有趣</c>

00:02:24.945 --> 00:02:27.080
<c.magenta>像是有史以来最有趣的一个游戏</c>

00:02:27.648 --> 00:02:30.984
<c.magenta>二 大量表情符号 因为我爱表情符号</c>

00:02:31.652 --> 00:02:35.155
<c.magenta>三 需要在世界范围内可用</c>
<c.magenta>我想要它出现在每个地方</c>

00:02:37.858 --> 00:02:40.894
<c.magenta>当我们思考一些游戏可能包括的内容</c>

00:02:41.428 --> 00:02:43.664
<c.magenta>每一轮会被称为一个jam会话</c>

00:02:44.264 --> 00:02:46.867
<c.magenta>在jam会话里 它追踪</c>

00:02:47.134 --> 00:02:51.438
<c.magenta>玩家从一关到另一关所花的总时间</c>

00:02:51.939 --> 00:02:53.774
<c.magenta>他们移动的距离</c>

00:02:53.841 --> 00:02:56.109
<c.magenta>他们进行的舞蹈移动</c>

00:02:56.410 --> 00:02:59.179
<c.magenta>甚至像是移动的速率</c>

00:03:01.949 --> 00:03:04.685
<c.magenta>但是让我们想想我刚刚提到的事</c>

00:03:05.319 --> 00:03:06.186
<c.magenta>注意到什么吗？</c>

00:03:06.820 --> 00:03:10.257
<c.magenta>它们都是可测量的</c>
<c.magenta>它们都是可量化的 对吗？</c>

00:03:10.457 --> 00:03:14.027
<c.magenta>如果我们现在停止这次演讲</c>

00:03:14.461 --> 00:03:16.396
<c.magenta>突然拿出电脑尝试写代码</c>

00:03:17.164 --> 00:03:18.565
<c.magenta>我们怎么表现这？</c>

00:03:19.299 --> 00:03:22.069
<c.magenta>我们可以用双精度浮点来表示它们</c>

00:03:22.669 --> 00:03:23.504
<c.magenta>这是对的</c>

00:03:24.071 --> 00:03:26.406
<c.magenta>简单 这样做的问题是</c>

00:03:26.473 --> 00:03:29.376
<c.magenta>如果我们在这么做的时候漏掉了</c>
<c.magenta>一些上下文</c>

00:03:29.977 --> 00:03:31.378
<c.magenta>让我们看一个例子</c>

00:03:32.746 --> 00:03:34.014
<c.magenta>我们有我们的角色</c>

00:03:34.081 --> 00:03:36.016
<c.magenta>我告诉过你 很多表情符号</c>
<c.magenta>我很喜欢</c>

00:03:36.950 --> 00:03:39.887
<c.magenta>我们的角色有月球漫步</c>
<c.magenta>因为为什么不</c>

00:03:40.487 --> 00:03:42.789
<c.magenta>他们月球漫步了一段距离</c>

00:03:43.290 --> 00:03:46.660
<c.magenta>如果我们储存距离为5</c>

00:03:47.327 --> 00:03:51.131
<c.magenta>就像 嗯 好吧</c>
<c.magenta>但是5究竟是什么意思？</c>

00:03:51.431 --> 00:03:53.700
<c.magenta>这带来这个问题</c>
<c.magenta>5什么？</c>

00:03:54.768 --> 00:03:57.237
<c.magenta>但是如果我们说5英尺</c>
<c.magenta>这就像是 好的</c>

00:03:57.304 --> 00:03:58.605
<c.magenta>这是有意义的</c>

00:03:58.739 --> 00:04:00.707
<c.magenta>现在它在物理空间中有了语境</c>

00:03:58.739 --> 00:04:00.707
<c.magenta>现在它在物理空间中有了语境</c>

00:04:02.209 --> 00:04:06.480
<c.magenta>所以</c>
<c.magenta>让我们谈谈</c>

00:04:06.547 --> 00:04:08.815
<c.magenta>Foundation引入的方法 或者说API</c>

00:04:08.882 --> 00:04:11.485
<c.magenta>来精确的表示整个语境</c>

00:04:12.819 --> 00:04:13.954
<c.magenta>你有一个新的结构</c>

00:04:14.421 --> 00:04:16.857
<c.magenta>叫做测量值 它在单位类型上是通用的</c>

00:04:16.923 --> 00:04:19.192
<c.magenta>我们会讲一下什么是单位类型</c>

00:04:20.761 --> 00:04:24.898
<c.magenta>包含一个单位和一个值</c>
<c.magenta>以及一个初始化函数</c>

00:04:25.899 --> 00:04:29.503
<c.magenta>它酷的地方是你可以</c>

00:04:29.570 --> 00:04:33.340
<c.magenta>有一个完整的语境来表达一个测量值</c>

00:04:34.975 --> 00:04:36.710
<c.magenta>如果我们返回到我们的角色</c>

00:04:37.277 --> 00:04:38.345
<c.magenta>假设在游戏中</c>

00:04:38.412 --> 00:04:40.948
<c.magenta>我们不只是追踪移动的距离</c>

00:04:41.215 --> 00:04:44.685
<c.magenta>我们还追踪角色的剩余距离</c>

00:04:45.118 --> 00:04:47.120
<c.magenta>我们怎么用新API这么做？</c>

00:04:49.089 --> 00:04:53.193
<c.magenta>现在我们可以把移动距离表达为5英尺</c>

00:04:54.094 --> 00:04:55.929
<c.magenta>我们还可以把剩余距离表达为</c>

00:04:56.196 --> 00:04:58.432
<c.magenta>一个测量值 让我们假设是6英尺</c>

00:04:59.700 --> 00:05:02.569
<c.magenta>等等 你可以用它做些很酷的事</c>

00:04:59.700 --> 00:05:02.569
<c.magenta>等等 你可以用它做些很酷的事</c>

00:05:02.936 --> 00:05:05.205
<c.magenta>你可以把它们加起来得到总距离</c>

00:05:05.606 --> 00:05:08.141
<c.magenta>是一个11英尺的测量值</c>

00:05:09.543 --> 00:05:13.647
<c.magenta>你可以乘以它们得到你想要的值</c>

00:05:14.982 --> 00:05:18.852
<c.magenta>你可以除以他们得到一个类似的值</c>

00:05:18.919 --> 00:05:19.786
<c.magenta>这很好</c>

00:05:21.355 --> 00:05:23.223
<c.magenta>如果我们返回来思考单位</c>

00:05:24.324 --> 00:05:27.561
<c.magenta>什么是我们想和单位关联起来的？</c>

00:05:29.296 --> 00:05:33.400
<c.magenta>首先 每个单位有一个符号 容易地</c>

00:05:35.636 --> 00:05:37.871
<c.magenta>单位有量度</c>

00:05:37.938 --> 00:05:42.276
<c.magenta>一个例子是对于长度量度</c>

00:05:43.410 --> 00:05:46.947
<c.magenta>可以用 像是 英尺是长度单位</c>
<c.magenta>对吗？</c>

00:05:49.550 --> 00:05:51.618
<c.magenta>单位间可以互相相等</c>

00:05:51.685 --> 00:05:55.489
<c.magenta>1英尺大约等于0.3米</c>

00:05:57.457 --> 00:06:00.594
<c.magenta>我们现在有API来表示一个单位</c>
<c.magenta>对象</c>

00:05:57.457 --> 00:06:00.594
<c.magenta>我们现在有API来表示一个单位</c>
<c.magenta>对象</c>

00:06:01.428 --> 00:06:03.764
<c.magenta>如果你注意的话</c>

00:06:03.830 --> 00:06:06.433
<c.magenta>之前我说每个单位有一个符号</c>

00:06:06.633 --> 00:06:10.404
<c.magenta>在API中我们在这表示符号</c>

00:06:10.938 --> 00:06:13.974
<c.magenta>我们没有在这显示量度和相等</c>

00:06:14.041 --> 00:06:17.077
<c.magenta>因为不是每个单位都能等于另一个</c>

00:06:17.144 --> 00:06:19.446
<c.magenta>而且不是每个单位都是有尺寸的</c>

00:06:19.947 --> 00:06:22.349
<c.magenta>但是至少每个单位都有符号</c>

00:06:22.416 --> 00:06:23.884
<c.magenta>所以我们在这它表示它</c>

00:06:24.551 --> 00:06:27.187
<c.magenta>但是如果我们返回到量度的概念</c>

00:06:27.254 --> 00:06:29.489
<c.magenta>什么是量度？</c>
<c.magenta>这是什么意思？</c>

00:06:30.123 --> 00:06:32.459
<c.magenta>量度是单位的种类</c>

00:06:32.659 --> 00:06:35.195
<c.magenta>可以被不同单位表示</c>

00:06:35.462 --> 00:06:37.598
<c.magenta>当我们想到长度时</c>
<c.magenta>做为一个例子</c>

00:06:38.232 --> 00:06:43.203
<c.magenta>长度可以用公里 英尺 英里等表示</c>

00:06:44.505 --> 00:06:46.507
<c.magenta>量度还有基本单位</c>

00:06:46.573 --> 00:06:50.210
<c.magenta>回到长度的例子</c>
<c.magenta>长度的基本单位是米</c>

00:06:51.879 --> 00:06:54.214
<c.magenta>你还可以在量度内进行转换</c>

00:06:54.281 --> 00:06:55.382
<c.magenta>在单一的量度内</c>

00:06:55.449 --> 00:06:58.352
<c.magenta>你可以把公里转换成英尺或反过来</c>

00:06:58.418 --> 00:07:00.254
<c.magenta>米到英里 等等</c>

00:06:58.418 --> 00:07:00.254
<c.magenta>米到英里 等等</c>

00:07:02.456 --> 00:07:04.625
<c.magenta>现在我们有API来表示一个量度</c>

00:07:04.691 --> 00:07:07.361
<c.magenta>你看到在这</c>
<c.magenta>量度是单位的子类</c>

00:07:07.694 --> 00:07:11.164
<c.magenta>这表明它通过继承获得符号属性</c>

00:07:12.699 --> 00:07:14.268
<c.magenta>我们有一个转换器属性</c>

00:07:14.334 --> 00:07:17.337
<c.magenta>我会深入地看一下单位转换器</c>

00:07:17.404 --> 00:07:20.174
<c.magenta>但是基本上它定义这个单位</c>

00:07:20.240 --> 00:07:21.708
<c.magenta>和它的基本单位之间的转换</c>

00:07:22.709 --> 00:07:25.979
<c.magenta>我们有初始化函数 需要符号和</c>
<c.magenta>转换器实例</c>

00:07:26.547 --> 00:07:29.082
<c.magenta>我已经提到过每个量度有一个基本单位</c>

00:07:29.149 --> 00:07:32.219
<c.magenta>所以我们有一个类属性会返回那个单位</c>

00:07:32.953 --> 00:07:35.055
<c.magenta>一件重要的事需要记得</c>

00:07:35.122 --> 00:07:39.259
<c.magenta>每个量度实例 属于一个单位</c>
<c.magenta>并且自身是一个单位</c>

00:07:40.594 --> 00:07:42.829
<c.magenta>有了这个我们引入的新API</c>

00:07:42.896 --> 00:07:45.199
<c.magenta>酷的事是</c>

00:07:45.265 --> 00:07:49.036
<c.magenta>我们提供170多种单位</c>

00:07:49.102 --> 00:07:51.071
<c.magenta>你可以立即使用</c>

00:07:51.138 --> 00:07:52.439
<c.magenta>你甚至无需自己定义它们</c>

00:07:52.506 --> 00:07:53.607
<c.magenta>你只需要使用它们</c>

00:07:53.907 --> 00:07:55.509
<c.magenta>像是 在这次演讲之后</c>

00:07:57.945 --> 00:08:02.583
<c.magenta>大部分单位是依照国际单位系统</c>

00:07:57.945 --> 00:08:02.583
<c.magenta>大部分单位是依照国际单位系统</c>

00:08:02.649 --> 00:08:05.953
<c.magenta>所以它们使用你已经习惯的单位</c>
<c.magenta>这很酷</c>

00:08:07.321 --> 00:08:08.755
<c.magenta>让我们看一个例子</c>

00:08:09.223 --> 00:08:13.894
<c.magenta>我们有长度量度</c>
<c.magenta>它有一系列的单位</c>

00:08:13.961 --> 00:08:16.797
<c.magenta>是类属性表示这些量度</c>

00:08:17.064 --> 00:08:18.665
<c.magenta>如果我们返回这里</c>

00:08:18.732 --> 00:08:21.602
<c.magenta>量度实例实际上是单位</c>

00:08:22.302 --> 00:08:24.171
<c.magenta>任何时候你调用这些属性</c>

00:08:24.238 --> 00:08:26.406
<c.magenta>你获得一个长度单位的实例</c>

00:08:27.140 --> 00:08:29.409
<c.magenta>这些实例的区别是</c>

00:08:29.476 --> 00:08:31.245
<c.magenta>第一 它们的符号不同</c>

00:08:31.478 --> 00:08:36.683
<c.magenta>第二 转换器的定义不同</c>

00:08:39.620 --> 00:08:43.423
<c.magenta>一个我们提供给你的所有类的概述</c>

00:08:43.490 --> 00:08:44.925
<c.magenta>所有不同的单位类型</c>

00:08:45.325 --> 00:08:48.629
<c.magenta>记得我说过有170多种</c>

00:08:49.029 --> 00:08:50.831
<c.magenta>试着用一用它们</c>

00:08:51.231 --> 00:08:53.834
<c.magenta>但是我们有一些很酷的</c>
<c.magenta>一些常用的单位类型</c>

00:08:53.901 --> 00:08:56.270
<c.magenta>像是面积 质量 温度 长度</c>

00:08:56.603 --> 00:09:01.041
<c.magenta>但是也有一些不常用的像是</c>
<c.magenta>光照度和电流</c>

00:08:56.603 --> 00:09:01.041
<c.magenta>但是也有一些不常用的像是</c>
<c.magenta>光照度和电流</c>

00:09:01.108 --> 00:09:03.744
<c.magenta>但是听起来真的很有趣 若你玩一玩它们</c>

00:09:04.945 --> 00:09:09.283
<c.magenta>让我们返回到我们的移动距离和</c>
<c.magenta>剩余距离的测量值</c>

00:09:09.616 --> 00:09:11.285
<c.magenta>这是我们已经见过的代码</c>

00:09:12.252 --> 00:09:14.021
<c.magenta>现在我们要注释最后两行</c>

00:09:14.087 --> 00:09:15.422
<c.magenta>因为我们要重新定义它们</c>

00:09:15.889 --> 00:09:17.558
<c.magenta>我们只剩已移动距离</c>

00:09:18.091 --> 00:09:21.328
<c.magenta>但是我们定义剩余距离</c>
<c.magenta>使用相同的值6</c>

00:09:21.395 --> 00:09:23.397
<c.magenta>但是不是传递英尺作为单位</c>

00:09:23.463 --> 00:09:24.865
<c.magenta>我们传递公里</c>

00:09:27.701 --> 00:09:29.703
<c.magenta>现在事情开始变得危险</c>

00:09:29.770 --> 00:09:33.674
<c.magenta>因为我们要把已移动距离</c>
<c.magenta>和剩余距离加起来</c>

00:09:33.740 --> 00:09:36.276
<c.magenta>但是一个是英尺 一个是公里</c>

00:09:37.010 --> 00:09:38.946
<c.magenta>这对总距离说明什么？</c>

00:09:39.012 --> 00:09:41.548
<c.magenta>它的单位是英尺还是公里？</c>

00:09:41.715 --> 00:09:43.717
<c.magenta>讲台会在5秒内爆炸吗？</c>

00:09:43.784 --> 00:09:44.651
<c.magenta>我不知道</c>

00:09:45.219 --> 00:09:46.987
<c.magenta>但是 不 它不会</c>

00:09:47.054 --> 00:09:50.257
<c.magenta>其实发生的事是</c>
<c.magenta>结果的单位是基本单位</c>

00:09:50.490 --> 00:09:51.391
<c.magenta>也就是米</c>

00:09:51.592 --> 00:09:53.560
<c.magenta>关于测量值酷的事情</c>

00:09:53.627 --> 00:09:56.930
<c.magenta>是暗中为我们处理了一切</c>

00:09:57.097 --> 00:09:58.799
<c.magenta>你完全不需要为此担心</c>

00:09:58.966 --> 00:10:01.935
<c.magenta>你可以用这些操作符</c>
<c.magenta>就像普通的标量值一样</c>

00:09:58.966 --> 00:10:01.935
<c.magenta>你可以用这些操作符</c>
<c.magenta>就像普通的标量值一样</c>

00:10:02.002 --> 00:10:03.737
<c.magenta>你获得期待的结果</c>

00:10:06.039 --> 00:10:10.944
<c.magenta>现在让我们再次假设我想要追踪角色</c>

00:10:11.011 --> 00:10:14.748
<c.magenta>因为某些原因 因为是在演示</c>

00:10:14.815 --> 00:10:19.386
<c.magenta>我们只是打印字符串</c>
<c.magenta>但是我想做些更时髦的事</c>

00:10:19.453 --> 00:10:21.154
<c.magenta>同时更有功能性</c>

00:10:21.221 --> 00:10:22.456
<c.magenta>但关键是我希望能够</c>

00:10:22.523 --> 00:10:24.925
<c.magenta>比较这些测量值</c>
<c.magenta>现在你可以</c>

00:10:24.992 --> 00:10:28.795
<c.magenta>测量值支持比较操作符</c>
<c.magenta>使你能够这么做</c>

00:10:28.862 --> 00:10:32.966
<c.magenta>如果我们要打印</c>
<c.magenta>距离标记</c>

00:10:33.734 --> 00:10:36.069
<c.magenta>我们会得到我们想要的刚刚开始</c>

00:10:36.136 --> 00:10:38.405
<c.magenta>因为测量值可以正确推断</c>

00:10:38.472 --> 00:10:41.375
<c.magenta>已移动距离比剩余距离小</c>

00:10:44.845 --> 00:10:47.314
<c.magenta>让我们谈谈更多关于定义一个单位</c>

00:10:47.381 --> 00:10:49.483
<c.magenta>因为我们还没有深入研究它</c>

00:10:50.651 --> 00:10:51.818
<c.magenta>之前提过</c>

00:10:51.885 --> 00:10:54.755
<c.magenta>单位总是以它们的基本单位定义的</c>

00:10:56.290 --> 00:11:00.594
<c.magenta>有一个方法来描述这种转换</c>

00:10:56.290 --> 00:11:00.594
<c.magenta>有一个方法来描述这种转换</c>

00:11:00.661 --> 00:11:03.063
<c.magenta>和基本单位之间的转换</c>

00:11:03.130 --> 00:11:07.401
<c.magenta>我们会在进入单位转换器的时候</c>
<c.magenta>谈论更多</c>

00:11:09.503 --> 00:11:12.072
<c.magenta>重要的事是记得</c>

00:11:12.139 --> 00:11:15.142
<c.magenta>转换只能发生在单一量度中</c>

00:11:15.375 --> 00:11:17.377
<c.magenta>比如当你想到长度</c>

00:11:17.611 --> 00:11:21.148
<c.magenta>你可以把公里转换成英尺</c>

00:11:21.215 --> 00:11:25.018
<c.magenta>但是你会尝试把公里转换成秒吗？</c>

00:11:25.285 --> 00:11:27.821
<c.magenta>在概念上这并没有意义</c>

00:11:28.021 --> 00:11:30.924
<c.magenta>在这个情况下</c>
<c.magenta>如果你试着对测量值这么做</c>

00:11:30.991 --> 00:11:31.825
<c.magenta>会抛出</c>

00:11:33.260 --> 00:11:35.996
<c.magenta>一个Objective-C</c>
<c.magenta>或者Swift中的致命错误</c>

00:11:39.199 --> 00:11:41.935
<c.magenta>记得我提过我们提供</c>

00:11:42.002 --> 00:11:44.605
<c.magenta>170多种单位给你立即使用</c>

00:11:44.972 --> 00:11:48.509
<c.magenta>有可能你不需要定义你的定制单位</c>

00:11:48.909 --> 00:11:50.777
<c.magenta>但是如果你需要 只有在这时</c>

00:11:50.844 --> 00:11:53.747
<c.magenta>你需要思考如果定义它们</c>
<c.magenta>这很酷</c>

00:11:53.814 --> 00:11:55.015
<c.magenta>你实际上可以用它们</c>

00:11:55.082 --> 00:11:57.584
<c.magenta>那些已经提供给你的单位</c>

00:11:57.885 --> 00:11:59.786
<c.magenta>但是如果你创造定制的单位</c>

00:12:00.020 --> 00:12:02.589
<c.magenta>你要思考如何建立转换器</c>

00:12:04.258 --> 00:12:05.926
<c.magenta>酷的是</c>

00:12:05.993 --> 00:12:09.997
<c.magenta>测量值可以帮你暗中处理转换</c>

00:12:10.063 --> 00:12:11.398
<c.magenta>即使是你定制的单位</c>

00:12:12.266 --> 00:12:14.468
<c.magenta>它就是能自动地工作</c>

00:12:16.103 --> 00:12:17.571
<c.magenta>让我们谈谈定制单位</c>

00:12:17.638 --> 00:12:19.540
<c.magenta>我们要为游戏定制一些单位</c>

00:12:21.508 --> 00:12:24.978
<c.magenta>我们有jamz单位</c>
<c.magenta>因为我想</c>

00:12:25.045 --> 00:12:27.548
<c.magenta>计算一个jam会话中的总时间</c>

00:12:27.614 --> 00:12:30.083
<c.magenta>用叫做jamz的单位来计算</c>

00:12:30.184 --> 00:12:31.852
<c.magenta>我觉得秒太无聊了</c>

00:12:32.619 --> 00:12:36.757
<c.magenta>但如果你看看这里 我们有</c>
<c.magenta>UnitConverterLinear对象</c>

00:12:36.857 --> 00:12:39.092
<c.magenta>它是什么？</c>
<c.magenta>我们还没有说过它</c>

00:12:39.660 --> 00:12:42.763
<c.magenta>让我们返回来说说更多关于转换的事</c>

00:12:44.131 --> 00:12:45.933
<c.magenta>和基本单位之间的转换</c>

00:12:46.900 --> 00:12:49.870
<c.magenta>UnitConverter是根类</c>
<c.magenta>它定义两个方法</c>

00:12:50.204 --> 00:12:53.040
<c.magenta>描述这个转换</c>

00:12:53.407 --> 00:12:57.110
<c.magenta>baseUnitValue(fromValue)</c>
<c.magenta>和value(fromBaseUnitValue)</c>

00:12:58.011 --> 00:13:01.615
<c.magenta>UnitConverterLinear</c>
<c.magenta>覆盖这两个方法</c>

00:12:58.011 --> 00:13:01.615
<c.magenta>UnitConverterLinear</c>
<c.magenta>覆盖这两个方法</c>

00:13:01.849 --> 00:13:03.483
<c.magenta>并线性地定义它们</c>

00:13:03.550 --> 00:13:05.185
<c.magenta>对这里所有懂数学的人</c>

00:13:05.252 --> 00:13:06.887
<c.magenta>它的形式是AX+B</c>

00:13:06.954 --> 00:13:09.122
<c.magenta>A是系数 B是常数</c>

00:13:10.791 --> 00:13:12.593
<c.magenta>如果我们返回到jamz单位</c>

00:13:14.828 --> 00:13:19.266
<c.magenta>我们看到系数是30 一个标量值30</c>

00:13:19.333 --> 00:13:22.970
<c.magenta>我们是说一个jamz单位等于30秒</c>

00:13:23.370 --> 00:13:25.472
<c.magenta>在我们的线性函数中</c>

00:13:25.939 --> 00:13:28.342
<c.magenta>无论jamz为何值</c>
<c.magenta>我们把它乘以30</c>

00:13:28.408 --> 00:13:32.212
<c.magenta>所以一次jam会话共是4个jamz</c>
<c.magenta>4个jamz</c>

00:13:32.679 --> 00:13:35.015
<c.magenta>如果我们想把它转换成秒</c>

00:13:35.082 --> 00:13:37.484
<c.magenta>会是4乘以30等于120秒</c>

00:13:37.918 --> 00:13:39.186
<c.magenta>你也可以反过来做</c>

00:13:39.253 --> 00:13:41.722
<c.magenta>120除以30来得到jamz值</c>

00:13:41.788 --> 00:13:42.623
<c.magenta>耶</c>

00:13:44.491 --> 00:13:48.362
<c.magenta>假设我要定义其他定制单位</c>
<c.magenta>比如长度</c>

00:13:48.428 --> 00:13:51.832
<c.magenta>因为我不想用英尺和米计算</c>
<c.magenta>移动距离</c>

00:13:51.899 --> 00:13:54.535
<c.magenta>我想用一些更有趣的东西比如hopz</c>

00:13:55.135 --> 00:13:57.137
<c.magenta>所以这里 相同的概念</c>

00:13:57.638 --> 00:14:01.141
<c.magenta>1 hopz等于0.75米</c>

00:13:57.638 --> 00:14:01.141
<c.magenta>1 hopz等于0.75米</c>

00:14:01.475 --> 00:14:05.212
<c.magenta>我们在这定义方程</c>

00:14:05.779 --> 00:14:09.216
<c.magenta>其他我需要的定制单位也是一样</c>

00:14:09.783 --> 00:14:11.785
<c.magenta>你现在知道怎么做了</c>

00:14:14.154 --> 00:14:18.025
<c.magenta>如果你还记得</c>
<c.magenta>当我谈到jam会话</c>

00:14:18.358 --> 00:14:20.694
<c.magenta>我命名了一个测量值</c>

00:14:20.761 --> 00:14:23.463
<c.magenta>是所进行的舞蹈移动的次数</c>

00:14:24.364 --> 00:14:28.502
<c.magenta>不幸的是国际单位系统没有一个量度</c>

00:14:28.569 --> 00:14:30.270
<c.magenta>用来识别舞蹈移动</c>

00:14:30.337 --> 00:14:31.738
<c.magenta>我不确定为什么</c>

00:14:31.805 --> 00:14:34.374
<c.magenta>但是这是一个我们今天要自己</c>
<c.magenta>定义的东西</c>

00:14:34.508 --> 00:14:36.176
<c.magenta>我们有UnitDanceMove类</c>

00:14:36.610 --> 00:14:39.012
<c.magenta>有一个基本单位</c>
<c.magenta>wackyArmMovements</c>

00:14:40.480 --> 00:14:41.682
<c.magenta>你在这看到</c>

00:14:41.748 --> 00:14:44.785
<c.magenta>一个wackyArmMovement</c>
<c.magenta>等于另一个wackyArmMovement</c>

00:14:44.852 --> 00:14:47.554
<c.magenta>它的意思是另一种定义单位的方式</c>

00:14:47.621 --> 00:14:51.625
<c.magenta>是多少个基本单位组成一个</c>
<c.magenta>特定单位</c>

00:14:51.992 --> 00:14:54.261
<c.magenta>这里是一对一</c>
<c.magenta>所以系数是1</c>

00:14:55.863 --> 00:14:58.198
<c.magenta>假设我们想定义一个机械移动</c>

00:14:58.732 --> 00:15:02.536
<c.magenta>我认为它就相当于大概4个</c>
<c.magenta>wackyArmMovements</c>

00:14:58.732 --> 00:15:02.536
<c.magenta>我认为它就相当于大概4个</c>
<c.magenta>wackyArmMovements</c>

00:15:03.704 --> 00:15:06.740
<c.magenta>CabbagePatch是3个</c>
<c.magenta>wackyArmMovements</c>

00:15:06.807 --> 00:15:08.008
<c.magenta>是的</c>

00:15:08.075 --> 00:15:12.946
<c.magenta>当然没有jazzHands的</c>
<c.magenta>舞蹈动作的量度是不完整的</c>

00:15:13.013 --> 00:15:15.315
<c.magenta>它等于2个</c>
<c.magenta>wackyArmMovements</c>

00:15:15.582 --> 00:15:17.384
<c.magenta>我认为这是精确的</c>
<c.magenta>我们会坚持这样</c>

00:15:18.552 --> 00:15:22.523
<c.magenta>现在让我们返回并创建jam会话</c>

00:15:22.589 --> 00:15:23.991
<c.magenta>我在早前已经概述过的</c>

00:15:24.958 --> 00:15:27.794
<c.magenta>移动的距离 也就是已经进行的</c>
<c.magenta>步数</c>

00:15:27.861 --> 00:15:30.764
<c.magenta>会用我们创造的单位hopz</c>

00:15:31.265 --> 00:15:33.734
<c.magenta>jamTime的单位自然是jamz</c>

00:15:34.635 --> 00:15:37.104
<c.magenta>舞蹈移动的单位将会是机械</c>

00:15:37.171 --> 00:15:41.074
<c.magenta>我们的角色当然会一直跳机械舞</c>

00:15:41.942 --> 00:15:45.345
<c.magenta>舞蹈速率实际上会是米每秒</c>

00:15:45.412 --> 00:15:46.313
<c.magenta>但是如果你记得</c>

00:15:46.647 --> 00:15:49.383
<c.magenta>我们的测量值没有用米或者秒的</c>

00:15:49.449 --> 00:15:51.285
<c.magenta>所以我们要怎么获得那个值？</c>

00:15:52.152 --> 00:15:54.588
<c.magenta>我们可以把</c>
<c.magenta>已移动步数转换成米</c>

00:15:55.289 --> 00:15:58.158
<c.magenta>我们还可以把jamTime转换成秒</c>

00:15:59.092 --> 00:16:01.195
<c.magenta>现在我们可以返回一个测量值</c>

00:15:59.092 --> 00:16:01.195
<c.magenta>现在我们可以返回一个测量值</c>

00:16:01.261 --> 00:16:03.063
<c.magenta>是按照米每秒的</c>

00:16:03.697 --> 00:16:07.467
<c.magenta>酷的事是只需要几行代码</c>

00:16:07.534 --> 00:16:11.271
<c.magenta>我们就可以完全定义我们的jam会话</c>

00:16:14.808 --> 00:16:17.744
<c.magenta>现在我们知道怎样表示测量值</c>

00:16:17.811 --> 00:16:19.713
<c.magenta>和单位做为模型对象</c>
<c.magenta>这很酷</c>

00:16:20.447 --> 00:16:22.082
<c.magenta>但是我告诉过你</c>

00:16:22.282 --> 00:16:24.785
<c.magenta>我想要这个游戏在每个地方可用</c>

00:16:25.319 --> 00:16:28.055
<c.magenta>要这么做我们需要格式化这些</c>
<c.magenta>测量值</c>

00:16:28.488 --> 00:16:30.190
<c.magenta>事情在这变得棘手一点</c>

00:16:31.124 --> 00:16:32.259
<c.magenta>如果我们有我们的角色</c>

00:16:32.326 --> 00:16:35.796
<c.magenta>我们不说跳舞了5英尺</c>

00:16:35.863 --> 00:16:38.265
<c.magenta>而是说跳了5公里机械舞</c>

00:16:38.832 --> 00:16:39.666
<c.magenta>硬核</c>

00:16:40.467 --> 00:16:43.504
<c.magenta>如果我们想在全世界显示这些</c>
<c.magenta>那看起来会怎样？</c>

00:16:44.538 --> 00:16:46.707
<c.magenta>在加拿大 我们可以这么写</c>

00:16:47.140 --> 00:16:49.910
<c.magenta>它以前被写成5公里</c>

00:16:51.245 --> 00:16:53.413
<c.magenta>然而如果我们用中文显示这些</c>

00:16:53.480 --> 00:16:55.482
<c.magenta>我们需要翻译单位</c>

00:16:56.683 --> 00:17:00.921
<c.magenta>在阿拉伯语里我们需要翻译单位</c>
<c.magenta>并改变数字的显示</c>

00:16:56.683 --> 00:17:00.921
<c.magenta>在阿拉伯语里我们需要翻译单位</c>
<c.magenta>并改变数字的显示</c>

00:17:00.988 --> 00:17:03.757
<c.magenta>来确保从右到左的正确顺序</c>

00:17:04.223 --> 00:17:07.694
<c.magenta>这些都是我需要手动在我的应用</c>
<c.magenta>里进行的逻辑</c>

00:17:08.729 --> 00:17:11.964
<c.magenta>最后在美国 我们会说 公里？</c>

00:17:12.031 --> 00:17:14.367
<c.magenta>那是什么？</c>
<c.magenta>那是什么东西？</c>

00:17:14.835 --> 00:17:18.172
<c.magenta>所以我不光需要处理转换</c>

00:17:18.238 --> 00:17:20.040
<c.magenta>在我的计算过程中</c>

00:17:20.107 --> 00:17:23.242
<c.magenta>我还需要仅仅为了格式处理转换</c>

00:17:23.310 --> 00:17:26.313
<c.magenta>这是我需要加进应用的额外逻辑</c>

00:17:27.948 --> 00:17:29.283
<c.magenta>那这里的解决方案是什么？</c>

00:17:29.449 --> 00:17:31.685
<c.magenta>你可以让Foundation</c>
<c.magenta>为你做所有的事</c>

00:17:32.219 --> 00:17:34.821
<c.magenta>我们有新的格式器叫做</c>
<c.magenta>MeasurementFormatter</c>

00:17:35.122 --> 00:17:39.259
<c.magenta>它格式化测量值和单位并且知道</c>
<c.magenta>地区</c>

00:17:39.326 --> 00:17:41.261
<c.magenta>所以你不需要担心</c>

00:17:42.062 --> 00:17:43.230
<c.magenta>让我们看一看它</c>

00:17:43.697 --> 00:17:44.932
<c.magenta>它是格式器的子类</c>

00:17:44.998 --> 00:17:48.435
<c.magenta>如果你对其他格式器熟悉</c>
<c.magenta>是一样的概念</c>

00:17:49.837 --> 00:17:51.338
<c.magenta>它有unitOptions属性</c>

00:17:51.405 --> 00:17:54.174
<c.magenta>我们稍后会谈到</c>
<c.magenta>更多unitOptions</c>

00:17:54.708 --> 00:17:55.609
<c.magenta>它还有unitStyle</c>

00:17:55.676 --> 00:17:57.711
<c.magenta>如果你熟悉其他格式器</c>

00:17:57.778 --> 00:17:58.846
<c.magenta>短 中 长</c>

00:18:00.681 --> 00:18:02.115
<c.magenta>它有一个可设置的地区</c>

00:18:02.182 --> 00:18:05.919
<c.magenta>现在你可能默认使用</c>

00:18:05.986 --> 00:18:08.488
<c.magenta>用户的当前地区</c>

00:18:08.555 --> 00:18:11.425
<c.magenta>这就是这个地区永远的默认值</c>

00:18:11.825 --> 00:18:15.462
<c.magenta>但是如果你需要明确设置它</c>
<c.magenta>你可以这么做</c>

00:18:16.563 --> 00:18:18.365
<c.magenta>它还接受一个</c>
<c.magenta>定制的numberFormatter</c>

00:18:18.432 --> 00:18:21.435
<c.magenta>假设你想要你的测量值中的值</c>

00:18:21.502 --> 00:18:23.937
<c.magenta>被用科学计数法显示</c>

00:18:24.037 --> 00:18:26.907
<c.magenta>你可以提供一个定制的</c>
<c.magenta>numberFormatter来为你这么做</c>

00:18:28.876 --> 00:18:33.046
<c.magenta>它还有方法接受一个测量值对象和</c>
<c.magenta>一个单位对象</c>

00:18:34.715 --> 00:18:37.117
<c.magenta>让我们多谈一下单位选项</c>

00:18:37.885 --> 00:18:41.021
<c.magenta>酷的事是它开箱可用 根据默认</c>

00:18:41.088 --> 00:18:45.058
<c.magenta>这个格式器使用你的用户所在</c>
<c.magenta>地区偏爱的单位进行格式化</c>

00:18:45.225 --> 00:18:46.593
<c.magenta>所以你甚至不用思考这些</c>

00:18:46.994 --> 00:18:48.662
<c.magenta>它还考虑其他事比如目的</c>

00:18:48.729 --> 00:18:51.798
<c.magenta>如果你在计算一个长度</c>

00:18:51.865 --> 00:18:55.002
<c.magenta>关于路程距离而不是身高</c>

00:18:55.068 --> 00:18:58.205
<c.magenta>你会想要根据语境用不同的单位</c>

00:19:00.073 --> 00:19:04.211
<c.magenta>所以我会看看一些</c>
<c.magenta>MeasurementFormatter提供的选项</c>

00:19:05.412 --> 00:19:08.382
<c.magenta>一个是providedUnit</c>
<c.magenta>假设我们有一个情况</c>

00:19:08.448 --> 00:19:11.685
<c.magenta>我们想传入5公里的测量值</c>

00:19:11.919 --> 00:19:13.954
<c.magenta>但是我们的地区是美国</c>

00:19:14.021 --> 00:19:17.591
<c.magenta>通常在美国我们会为路程</c>

00:19:17.658 --> 00:19:20.460
<c.magenta>把它转换成英里</c>
<c.magenta>因为我们通常用英里</c>

00:19:20.894 --> 00:19:22.462
<c.magenta>但若你设置providedUnit</c>

00:19:22.529 --> 00:19:26.066
<c.magenta>它会保证不论你传入什么单位</c>

00:19:26.133 --> 00:19:28.035
<c.magenta>都会被格式化成你设置的这个单位</c>

00:19:29.570 --> 00:19:31.405
<c.magenta>还有一个动作叫做自然比例尺</c>

00:19:31.471 --> 00:19:36.009
<c.magenta>这对UI相关的东西很有用</c>

00:19:36.076 --> 00:19:38.478
<c.magenta>如果你的应用是在watch上运行</c>

00:19:38.612 --> 00:19:41.248
<c.magenta>你很担心屏幕尺寸</c>

00:19:41.915 --> 00:19:43.951
<c.magenta>那么不是放1000米</c>

00:19:44.017 --> 00:19:46.553
<c.magenta>会需要很多你的屏幕</c>

00:19:46.620 --> 00:19:48.989
<c.magenta>你实际上可以把它格式化成1公里</c>

00:19:51.191 --> 00:19:52.893
<c.magenta>另一个是不带单位的温度</c>

00:19:52.960 --> 00:19:56.296
<c.magenta>假设你有个测量值显示90华氏度</c>

00:19:56.463 --> 00:19:59.032
<c.magenta>但是你不想要显示华氏度单位</c>

00:19:59.266 --> 00:20:01.935
<c.magenta>你可以这么设置</c>
<c.magenta>得到你想要的结果</c>

00:19:59.266 --> 00:20:01.935
<c.magenta>你可以这么设置</c>
<c.magenta>得到你想要的结果</c>

00:20:03.670 --> 00:20:05.205
<c.magenta>让我们用一些例子来玩一玩</c>

00:20:05.272 --> 00:20:06.507
<c.magenta>我们有我们的格式器</c>

00:20:07.474 --> 00:20:09.643
<c.magenta>我们有我们的原始距离测量值</c>

00:20:09.710 --> 00:20:12.579
<c.magenta>那是5公里因为这是我们的角色</c>
<c.magenta>跳舞的距离</c>

00:20:13.347 --> 00:20:15.849
<c.magenta>现在我们想从中获得一个结果字符串</c>

00:20:17.017 --> 00:20:19.653
<c.magenta>我们会看到结果的单位是英里</c>

00:20:19.720 --> 00:20:22.489
<c.magenta>最酷的事是只用了三行代码</c>

00:20:22.656 --> 00:20:24.758
<c.magenta>我们不但得到了想要的结果</c>

00:20:24.992 --> 00:20:27.728
<c.magenta>而且不需要对格式器做任何事</c>

00:20:27.794 --> 00:20:30.597
<c.magenta>开箱即用不需要任何设置</c>

00:20:30.864 --> 00:20:32.232
<c.magenta>它知道应该做什么</c>

00:20:33.500 --> 00:20:36.203
<c.magenta>现在假设我们给它我们的</c>
<c.magenta>定制单位hopz</c>

00:20:36.637 --> 00:20:40.474
<c.magenta>以及测量值 MeasurementFormatter</c>
<c.magenta>它没概念</c>

00:20:40.541 --> 00:20:42.976
<c.magenta>它不知道hopz实际上是一个单位</c>

00:20:44.545 --> 00:20:46.847
<c.magenta>但是我们创建了hopz距离</c>

00:20:47.381 --> 00:20:49.917
<c.magenta>我们把它传递给格式器</c>

00:20:50.450 --> 00:20:54.321
<c.magenta>它实际上还可以为我们暗地里进行</c>
<c.magenta>转换</c>

00:20:54.755 --> 00:20:56.089
<c.magenta>我们不需要做任何事</c>

00:20:58.192 --> 00:21:01.061
<c.magenta>现在让我们假设我们有定制单位</c>

00:20:58.192 --> 00:21:01.061
<c.magenta>现在让我们假设我们有定制单位</c>

00:21:01.128 --> 00:21:04.231
<c.magenta>我们要人们看到它</c>
<c.magenta>所以设置providedUnit</c>

00:21:05.032 --> 00:21:07.701
<c.magenta>我们会给它一个测量值</c>
<c.magenta>这会有我们的hopz单位</c>

00:21:08.635 --> 00:21:11.672
<c.magenta>现在结果会使用那个单位</c>

00:21:13.707 --> 00:21:16.143
<c.magenta>这个情况是个很有趣的情况</c>

00:21:16.210 --> 00:21:19.379
<c.magenta>因为我们不但提供一个定制单位</c>

00:21:19.446 --> 00:21:23.050
<c.magenta>我们还提供定制量度中的定制单位</c>

00:21:23.250 --> 00:21:24.184
<c.magenta>在这一点</c>

00:21:24.918 --> 00:21:27.754
<c.magenta>这就像 不是很确定</c>
<c.magenta>MeasurementFormatter会做什么？</c>

00:21:28.388 --> 00:21:31.391
<c.magenta>好吧 它做的正是我们期待的</c>
<c.magenta>这很好</c>

00:21:33.927 --> 00:21:37.297
<c.magenta>现在我要把讲台交给</c>
<c.magenta>Foundation团队的另一成员</c>

00:21:37.497 --> 00:21:40.400
<c.magenta>他会展示如何使用测量值</c>

00:21:40.467 --> 00:21:43.937
<c.magenta>并且可以在游戏的高分功能中</c>
<c.magenta>使用和格式化它</c>

00:21:44.404 --> 00:21:45.272
<c.magenta>谢谢</c>

00:21:46.707 --> 00:21:47.641
<c.magenta>谢谢Daphne</c>

00:21:48.876 --> 00:21:50.677
<c.magenta>我是Peter Hosey</c>

00:21:50.844 --> 00:21:53.180
<c.magenta>我也是Foundation团队</c>
<c.magenta>的一名工程师</c>

00:21:53.914 --> 00:21:57.184
<c.magenta>像Daphne说的</c>
<c.magenta>这是我们的高分列表</c>

00:21:57.317 --> 00:21:59.987
<c.magenta>我们在这显示游戏的关卡列表</c>

00:22:00.787 --> 00:22:04.024
<c.magenta>当你点击一个时你看到基本事实</c>

00:22:04.091 --> 00:22:06.527
<c.magenta>关于关卡 名字 它的一个图片</c>

00:22:07.127 --> 00:22:10.364
<c.magenta>你看到一些关于玩这关的重要信息</c>

00:22:10.430 --> 00:22:11.498
<c.magenta>你需要知道的事</c>

00:22:12.499 --> 00:22:17.437
<c.magenta>并且你还会看到你的统计</c>
<c.magenta>关于你在游戏中的表现怎样</c>

00:22:18.605 --> 00:22:24.578
<c.magenta>你看到一些东西 比如你的高分</c>
<c.magenta>做了多少wackyArmMovements</c>

00:22:25.179 --> 00:22:27.881
<c.magenta>你能看到你跳了多远多快</c>

00:22:29.149 --> 00:22:32.019
<c.magenta>但这些都只是数字</c>

00:22:32.553 --> 00:22:34.555
<c.magenta>他们缺少量度</c>

00:22:35.856 --> 00:22:39.526
<c.magenta>所以我们不知道</c>
<c.magenta>像是6811是多远？</c>

00:22:42.996 --> 00:22:47.000
<c.magenta>现在你自己可以实现一整个单位系统</c>

00:22:47.301 --> 00:22:49.269
<c.magenta>你最开始可以只追踪一个单位</c>

00:22:49.336 --> 00:22:51.471
<c.magenta>直到最后追踪所有这些数字</c>

00:22:52.139 --> 00:22:57.845
<c.magenta>你可以再构造更多</c>
<c.magenta>比如一个单位转换系统</c>

00:22:57.911 --> 00:23:00.447
<c.magenta>能理解不同地区</c>

00:22:57.911 --> 00:23:00.447
<c.magenta>能理解不同地区</c>

00:23:00.514 --> 00:23:02.649
<c.magenta>并自动翻译单位名</c>

00:23:02.716 --> 00:23:04.651
<c.magenta>这有很多工作不是吗？</c>

00:23:05.185 --> 00:23:07.988
<c.magenta>像Daphne说过的</c>
<c.magenta>让Foundation为你工作</c>

00:23:08.622 --> 00:23:10.691
<c.magenta>我们现在有测量值和单位</c>

00:23:10.757 --> 00:23:12.926
<c.magenta>以及在Foundation中的</c>
<c.magenta>MeasurementFormatter类型</c>

00:23:13.460 --> 00:23:16.096
<c.magenta>让我们在我们的游戏里用它们</c>

00:23:18.165 --> 00:23:21.101
<c.magenta>我们要创建定制单位</c>

00:23:21.235 --> 00:23:23.470
<c.magenta>Daphne向你们展示过</c>
<c.magenta>像是这样</c>

00:23:24.037 --> 00:23:27.341
<c.magenta>我们有一些长度单位和速度单位</c>

00:23:28.141 --> 00:23:30.978
<c.magenta>我们有4个定制的舞蹈移动</c>

00:23:31.044 --> 00:23:33.080
<c.magenta>并不来自Foundation</c>

00:23:35.148 --> 00:23:36.984
<c.magenta>我们有我们的定制单位</c>

00:23:37.050 --> 00:23:40.888
<c.magenta>我们能把这些带到我们的模型中</c>
<c.magenta>它是这个关卡结构</c>

00:23:41.555 --> 00:23:44.224
<c.magenta>有我们关于这个关卡的一些基本</c>
<c.magenta>事实</c>

00:23:44.892 --> 00:23:49.229
<c.magenta>并包括角色的统计 这只是些数字</c>

00:23:49.696 --> 00:23:51.798
<c.magenta>让我们把它们转成测量值</c>

00:23:52.199 --> 00:23:55.169
<c.magenta>现在我们有舞蹈移动的测量值</c>
<c.magenta>一个长度的测量值</c>

00:23:55.235 --> 00:23:56.503
<c.magenta>还有一个速度的测量值</c>

00:23:57.004 --> 00:24:00.607
<c.magenta>因为我们改变了属性</c>
<c.magenta>我们也改变初始化函数</c>

00:23:57.004 --> 00:24:00.607
<c.magenta>因为我们改变了属性</c>
<c.magenta>我们也改变初始化函数</c>

00:24:01.175 --> 00:24:04.044
<c.magenta>现在可以用测量值来创造一关了</c>

00:24:04.912 --> 00:24:08.515
<c.magenta>我们想在列表视图控制器里做这些</c>

00:24:08.749 --> 00:24:10.984
<c.magenta>这里 针对这个视图的控制器</c>
<c.magenta>这是列表</c>

00:24:12.252 --> 00:24:17.691
<c.magenta>我们的列表视图控制器的请求</c>
<c.magenta>是一个同步的API 它返回</c>

00:24:18.392 --> 00:24:21.595
<c.magenta>一个JSON字典列表</c>
<c.magenta>每关一个</c>

00:24:21.662 --> 00:24:23.363
<c.magenta>包含所有信息</c>

00:24:24.765 --> 00:24:29.169
<c.magenta>特别是包括角色的统计</c>
<c.magenta>做为数字</c>

00:24:29.770 --> 00:24:32.973
<c.magenta>我们想要围绕这些数字创造测量值</c>

00:24:34.007 --> 00:24:36.510
<c.magenta>这是wackyArmMovements的数字</c>

00:24:36.777 --> 00:24:38.145
<c.magenta>这是Hopz的数字</c>

00:24:38.212 --> 00:24:40.814
<c.magenta>这是hopzPerJamz的数字</c>

00:24:43.116 --> 00:24:45.953
<c.magenta>现在这些信息在我们的模型中</c>

00:24:46.019 --> 00:24:50.023
<c.magenta>我们把它作为测量值创建在我们的</c>
<c.magenta>列表视图控制器中</c>

00:24:50.858 --> 00:24:53.126
<c.magenta>这是我们在列表视图控制器中要</c>
<c.magenta>做的唯一改变</c>

00:24:54.194 --> 00:24:56.363
<c.magenta>现在我们可以看看详情视图控制器</c>

00:24:56.430 --> 00:24:58.999
<c.magenta>它在这里显示这个视图</c>

00:24:59.066 --> 00:25:01.702
<c.magenta>并且为每一关显示这些</c>

00:24:59.066 --> 00:25:01.702
<c.magenta>并且为每一关显示这些</c>

00:25:03.837 --> 00:25:07.374
<c.magenta>我们还可以在这用我们的新测量值</c>

00:25:08.275 --> 00:25:11.645
<c.magenta>我们已经有了一个格式器</c>

00:25:11.712 --> 00:25:14.815
<c.magenta>这是一个NumberFormatter</c>
<c.magenta>它所做的是填充</c>

00:25:14.882 --> 00:25:18.185
<c.magenta>到6个数字 用0来填充</c>
<c.magenta>我们想保持它</c>

00:25:18.252 --> 00:25:19.453
<c.magenta>但是我们想在其上开发</c>

00:25:19.520 --> 00:25:21.188
<c.magenta>我们想让它显示单位</c>

00:25:21.855 --> 00:25:24.525
<c.magenta>所以我们要再加两个格式器</c>

00:25:25.492 --> 00:25:27.261
<c.magenta>我等下会解释为什么要这么做</c>

00:25:28.295 --> 00:25:29.630
<c.magenta>现在我们已经创建了它们</c>

00:25:30.097 --> 00:25:33.233
<c.magenta>我们来到同样的地方</c>
<c.magenta>我们已经配置了数字格式器</c>

00:25:33.300 --> 00:25:35.135
<c.magenta>是在我们的</c>
<c.magenta>viewDidLoad方法中</c>

00:25:35.202 --> 00:25:38.372
<c.magenta>这是从UIViewController继承的</c>
<c.magenta>我们在这覆盖它</c>

00:25:39.006 --> 00:25:41.141
<c.magenta>我们配置</c>
<c.magenta>highScoreNumberFormatter</c>

00:25:41.208 --> 00:25:43.377
<c.magenta>用我们的最少整数位数</c>

00:25:43.777 --> 00:25:46.246
<c.magenta>现在我们要配置</c>
<c.magenta>MeasurementFormatter</c>

00:25:46.580 --> 00:25:49.216
<c.magenta>用我们的providedUnit</c>
<c.magenta>它是wackyArmMovements</c>

00:25:49.883 --> 00:25:51.451
<c.magenta>你在这看不出来 不是吗？</c>

00:25:52.452 --> 00:25:56.890
<c.magenta>用我们的NumberFormatter</c>
<c.magenta>我们可以继续填充到6位数字</c>

00:25:58.192 --> 00:26:00.961
<c.magenta>我提到过我们新建了两个新的</c>
<c.magenta>MeasurementFormatters</c>

00:25:58.192 --> 00:26:00.961
<c.magenta>我提到过我们新建了两个新的</c>
<c.magenta>MeasurementFormatters</c>

00:26:01.028 --> 00:26:02.529
<c.magenta>让我们配置另一个</c>

00:26:02.996 --> 00:26:05.165
<c.magenta>这一个我们想用</c>
<c.magenta>标准的数字格式器</c>

00:26:05.232 --> 00:26:07.234
<c.magenta>所以我们不设置这个</c>
<c.magenta>NumberFormatter</c>

00:26:07.301 --> 00:26:09.937
<c.magenta>但是我们仍然设置它使用</c>
<c.magenta>providedUnit</c>

00:26:14.508 --> 00:26:16.276
<c.magenta>现在如果我运行它</c>

00:26:17.878 --> 00:26:18.979
<c.magenta>欧</c>

00:26:19.546 --> 00:26:22.049
<c.magenta>我配置了格式器</c>

00:26:22.516 --> 00:26:25.252
<c.magenta>我现在需要使用它们给我的字符串</c>

00:26:27.521 --> 00:26:31.758
<c.magenta>我们已经谈过了一个格式器</c>
<c.magenta>我们说从这个值得到的字符串</c>

00:26:33.093 --> 00:26:35.462
<c.magenta>当它是一个数字时工作得很好</c>
<c.magenta>但现是一个测量值</c>

00:26:35.529 --> 00:26:37.831
<c.magenta>所以我们谈谈</c>
<c.magenta>MeasurementFormatter</c>

00:26:37.898 --> 00:26:39.533
<c.magenta>这只需要修改一个单词</c>

00:26:40.200 --> 00:26:41.802
<c.magenta>其他的都完全一样</c>

00:26:42.436 --> 00:26:43.971
<c.magenta>对任何格式器都同样工作</c>

00:26:44.838 --> 00:26:47.608
<c.magenta>另外两个我们直接从数字获得</c>
<c.magenta>字符串</c>

00:26:47.674 --> 00:26:51.245
<c.magenta>你可以想象这不利于你的本地化</c>

00:26:52.312 --> 00:26:54.047
<c.magenta>这里我们也希望用一个格式器</c>

00:26:54.848 --> 00:26:58.952
<c.magenta>所以我们会用我们其他的格式器</c>
<c.magenta>这还是一样的东西</c>

00:26:59.019 --> 00:27:01.889
<c.magenta>这个情况下我们从测量值得到</c>
<c.magenta>字符串</c>

00:26:59.019 --> 00:27:01.889
<c.magenta>这个情况下我们从测量值得到</c>
<c.magenta>字符串</c>

00:27:02.623 --> 00:27:06.460
<c.magenta>这返回一个字符串</c>
<c.magenta>我们把它传递给标签</c>

00:27:07.461 --> 00:27:08.829
<c.magenta>现在我们可以运行应用</c>

00:27:15.235 --> 00:27:17.371
<c.magenta>我们看到我们的定制单位显示了出来</c>

00:27:18.672 --> 00:27:20.140
<c.magenta>这是一个开始</c>

00:27:20.440 --> 00:27:24.211
<c.magenta>但是我们还是没有</c>
<c.magenta>真正提供真实世界的语境</c>

00:27:24.278 --> 00:27:25.746
<c.magenta>这是我们开始的目标</c>

00:27:26.146 --> 00:27:28.882
<c.magenta>我们需要用真实世界的单位显示</c>
<c.magenta>这些</c>

00:27:30.517 --> 00:27:33.220
<c.magenta>所以我们可以进行一些我们自己</c>
<c.magenta>的转换逻辑</c>

00:27:33.654 --> 00:27:36.356
<c.magenta>但是MeasurementFormatter</c>
<c.magenta>可以为我们做这些</c>

00:27:36.924 --> 00:27:39.826
<c.magenta>我们要创建另一个</c>
<c.magenta>MeasurementFormatter</c>

00:27:40.294 --> 00:27:42.963
<c.magenta>因为我们有定制单位</c>
<c.magenta>MeasurementFormatter</c>

00:27:43.030 --> 00:27:46.200
<c.magenta>我们还要有能识别地区的</c>
<c.magenta>MeasurementFormatter</c>

00:27:47.534 --> 00:27:49.503
<c.magenta>我们创建它 和我们配置它一样</c>

00:27:49.570 --> 00:27:52.172
<c.magenta>除了我们实际上不需要做任何事</c>

00:27:52.739 --> 00:27:55.008
<c.magenta>因为MeasurementFormatter可以</c>
<c.magenta>立即使用</c>

00:27:55.375 --> 00:28:01.081
<c.magenta>自动转换成玩家想要的针对他们</c>
<c.magenta>地区的单位</c>

00:27:55.375 --> 00:28:01.081
<c.magenta>自动转换成玩家想要的针对他们</c>
<c.magenta>地区的单位</c>

00:28:04.218 --> 00:28:07.554
<c.magenta>这里会变得有点棘手</c>
<c.magenta>请对我有点耐心</c>

00:28:08.655 --> 00:28:12.726
<c.magenta>我们正在调用一个格式器</c>
<c.magenta>要求得到一个字符串</c>

00:28:12.793 --> 00:28:14.528
<c.magenta>并把它直接传给标签</c>

00:28:17.397 --> 00:28:19.333
<c.magenta>我们要做的</c>

00:28:20.367 --> 00:28:24.071
<c.magenta>是我们将首先调用</c>
<c.magenta>customUnitsMeasurementFormatter</c>

00:28:24.137 --> 00:28:26.273
<c.magenta>得到距离的字符串</c>

00:28:26.974 --> 00:28:29.943
<c.magenta>然后调用</c>
<c.magenta>localeAwareMeasurementFormatter</c>

00:28:30.010 --> 00:28:31.979
<c.magenta>得到它的距离字符串</c>

00:28:32.813 --> 00:28:35.249
<c.magenta>然后用一个Swift字符串填写</c>

00:28:35.315 --> 00:28:38.952
<c.magenta>把这两个放一起生成一个字符串</c>

00:28:39.019 --> 00:28:41.421
<c.magenta>我们把这个字符串传给标签</c>

00:28:41.622 --> 00:28:44.591
<c.magenta>我们为距离这么做了</c>
<c.magenta>我们也为舞蹈速率这么做</c>

00:28:45.726 --> 00:28:47.227
<c.magenta>这就是我们需要做的全部工作</c>

00:28:53.367 --> 00:28:56.670
<c.magenta>用来显示我们的两个定制单位</c>

00:28:56.737 --> 00:28:59.373
<c.magenta>和玩家希望的针对他们的地区的</c>
<c.magenta>单位</c>

00:29:00.440 --> 00:29:01.642
<c.magenta>真实世界中的距离</c>

00:29:06.747 --> 00:29:08.448
<c.magenta>但是我们不需要停在这</c>

00:29:08.582 --> 00:29:13.287
<c.magenta>因为目标是让这个游戏到达全世界</c>
<c.magenta>的每个国家</c>

00:29:14.021 --> 00:29:16.823
<c.magenta>英里在美国很好</c>
<c.magenta>我们在美国</c>

00:29:16.890 --> 00:29:17.791
<c.magenta>我们看到英里</c>

00:29:18.325 --> 00:29:20.527
<c.magenta>但是我们想确保它在每个国家都</c>
<c.magenta>工作</c>

00:29:21.161 --> 00:29:24.331
<c.magenta>所以我要用到一个Xcode功能</c>

00:29:24.765 --> 00:29:29.770
<c.magenta>这是你方案的一部分</c>
<c.magenta>我要在这编辑我的方案</c>

00:29:39.346 --> 00:29:41.014
<c.magenta>我要复制方案</c>

00:29:42.616 --> 00:29:43.750
<c.magenta>当复制方案时</c>

00:29:43.817 --> 00:29:45.319
<c.magenta>会问我它的名字</c>

00:29:45.385 --> 00:29:49.923
<c.magenta>我会给我的方案一个有特色的名字</c>

00:29:53.961 --> 00:29:56.763
<c.magenta>现在给我的方案命名了</c>

00:29:57.331 --> 00:30:00.801
<c.magenta>我要做一个简单的改变</c>
<c.magenta>在运行的里面</c>

00:29:57.331 --> 00:30:00.801
<c.magenta>我要做一个简单的改变</c>
<c.magenta>在运行的里面</c>

00:30:03.003 --> 00:30:06.507
<c.magenta>选项标签 应用地区</c>

00:30:07.441 --> 00:30:13.280
<c.magenta>我要把我们的测试移动到外国</c>

00:30:13.347 --> 00:30:14.882
<c.magenta>像是加拿大</c>

00:30:18.118 --> 00:30:20.554
<c.magenta>现在我要运行这个方案</c>

00:30:21.889 --> 00:30:26.760
<c.magenta>不需要改变应用代码</c>
<c.magenta>没有模拟器的配置改变</c>

00:30:26.827 --> 00:30:28.228
<c.magenta>只是改变方案</c>

00:30:28.295 --> 00:30:30.931
<c.magenta>我们看到在加拿大</c>
<c.magenta>它显示公里</c>

00:30:32.900 --> 00:30:34.868
<c.magenta>这就是我们要让它工作所需的全部</c>
<c.magenta>工作</c>

00:30:34.935 --> 00:30:36.436
<c.magenta>有了我们新的测量值和单位</c>

00:30:36.503 --> 00:30:38.672
<c.magenta>和在Foundation中</c>
<c.magenta>MeasurementFormatter类型</c>

00:30:38.972 --> 00:30:39.840
<c.magenta>谢谢</c>

00:30:40.274 --> 00:30:41.275
<c.magenta>谢谢 Daphne</c>

00:30:42.643 --> 00:30:43.944
<c.magenta>非常感谢 Peter</c>

00:30:44.144 --> 00:30:46.446
<c.magenta>显然这个游戏会很流行</c>

00:30:46.513 --> 00:30:48.348
<c.magenta>我很喜欢它</c>

00:30:50.617 --> 00:30:52.085
<c.magenta>让我们很快总结一下</c>

00:30:52.152 --> 00:30:56.957
<c.magenta>我们看了这整个演讲和演示</c>

00:30:57.024 --> 00:30:59.092
<c.magenta>测量值和单位怎么是模型对象</c>

00:30:59.159 --> 00:31:01.628
<c.magenta>我们可以在应用中使用</c>
<c.magenta>这很棒</c>

00:30:59.159 --> 00:31:01.628
<c.magenta>我们可以在应用中使用</c>
<c.magenta>这很棒</c>

00:31:01.695 --> 00:31:03.964
<c.magenta>我们还看到很容易格式化它们</c>

00:31:04.031 --> 00:31:07.768
<c.magenta>只需要我们进行少量工作</c>
<c.magenta>这很酷</c>

00:31:09.036 --> 00:31:15.742
<c.magenta>最好的部分是我们免费得到所有的</c>
<c.magenta>这些强大的本地化</c>

00:31:15.809 --> 00:31:18.946
<c.magenta>不需要定义任何对象或选项</c>

00:31:19.012 --> 00:31:20.314
<c.magenta>开箱即用</c>

00:31:21.148 --> 00:31:23.784
<c.magenta>所以现在你不需要突然变成知道</c>
<c.magenta>多国语言</c>

00:31:23.851 --> 00:31:29.056
<c.magenta>或者改变你应用的任何逻辑和代码</c>
<c.magenta>来支持这些</c>

00:31:29.122 --> 00:31:30.791
<c.magenta>你只需要直接使用它</c>

00:31:32.025 --> 00:31:34.795
<c.magenta>如果你想要知道更多信息</c>
<c.magenta>你需要访问这个链接</c>

00:31:35.362 --> 00:31:37.764
<c.magenta>这些会话已是过去式了</c>

00:31:37.831 --> 00:31:41.401
<c.magenta>但是如果你们超感兴趣</c>
<c.magenta>我建议你们下载视频</c>

00:31:42.703 --> 00:31:43.804
<c.magenta>非常感谢</c>
