WEBVTT

00:00:19.419 --> 00:00:20.954
<c.magenta>用广色域来工作</c>

00:00:21.021 --> 00:00:25.125
<c.magenta>广色域显示的理解与优化</c>

00:00:27.861 --> 00:00:29.129
<c.magenta>欢迎大家的到来</c>

00:00:29.196 --> 00:00:31.798
<c.magenta>我希望每个人都有个很棒的WWDC</c>

00:00:32.098 --> 00:00:33.033
<c.magenta>我叫Justin Stoyles</c>

00:00:33.100 --> 00:00:35.569
<c.magenta>我是Apple图形和媒体组的一员</c>

00:00:35.736 --> 00:00:39.006
<c.magenta>我很高兴今天和你们谈谈</c>
<c.magenta>用广色域来工作</c>

00:00:39.940 --> 00:00:41.341
<c.magenta>我们今天要覆盖一些主题</c>

00:00:41.608 --> 00:00:44.945
<c.magenta>首先我们要讨论一些核心的颜色</c>
<c.magenta>概念</c>

00:00:45.045 --> 00:00:48.382
<c.magenta>我们会谈谈什么是广色域</c>
<c.magenta>它为什么重要</c>

00:00:48.916 --> 00:00:50.450
<c.magenta>然后我会交给Patrick</c>

00:00:50.551 --> 00:00:53.086
<c.magenta>他会向你们展示过程</c>

00:00:53.153 --> 00:00:56.023
<c.magenta>把广色域资源加入应用的过程</c>

00:00:56.356 --> 00:00:58.325
<c.magenta>然后我会交给Steve</c>

00:00:58.392 --> 00:01:00.360
<c.magenta>他会谈谈渲染广色域</c>

00:00:58.392 --> 00:01:00.360
<c.magenta>他会谈谈渲染广色域</c>

00:01:00.661 --> 00:01:01.795
<c.magenta>让我们开始</c>

00:01:02.763 --> 00:01:05.532
<c.magenta>我已经提到过 我很高兴今天能</c>
<c.magenta>和你们谈谈广色域</c>

00:01:05.699 --> 00:01:07.734
<c.magenta>这是因为我们正在改变</c>

00:01:07.835 --> 00:01:10.704
<c.magenta>我们处理广色域 或者一般来说颜色</c>
<c.magenta>的方法</c>

00:01:10.771 --> 00:01:12.539
<c.magenta>在Mac和iOS平台上</c>

00:01:14.174 --> 00:01:16.243
<c.magenta>一个好的开始的点是上世纪90年代</c>

00:01:16.343 --> 00:01:20.147
<c.magenta>Apple一直处在解决计算中的颜色</c>
<c.magenta>问题的前沿</c>

00:01:20.447 --> 00:01:22.115
<c.magenta>最好从ColorSync说起</c>

00:01:22.216 --> 00:01:25.252
<c.magenta>ColorSync</c>
<c.magenta>是Mac的颜色管理平台</c>

00:01:25.485 --> 00:01:27.721
<c.magenta>它是上世纪90年代开发的</c>
<c.magenta>当时</c>

00:01:27.788 --> 00:01:30.290
<c.magenta>Apple和其他有相同想法的公司</c>
<c.magenta>聚在一起</c>

00:01:30.357 --> 00:01:33.961
<c.magenta>有一个想法那就是颜色管理和</c>
<c.magenta>再现的标准</c>

00:01:34.027 --> 00:01:35.629
<c.magenta>可能可以开始解决一部分问题</c>

00:01:35.696 --> 00:01:38.599
<c.magenta>工程师和设计师与颜色打交道时</c>
<c.magenta>面对的问题</c>

00:01:39.433 --> 00:01:42.903
<c.magenta>该组后来成为国际颜色联盟（ICC）</c>

00:01:42.970 --> 00:01:44.338
<c.magenta>你可能感到熟悉</c>

00:01:44.771 --> 00:01:47.474
<c.magenta>ICC的工作成果</c>
<c.magenta>被融入ColorSync中</c>

00:01:47.541 --> 00:01:49.676
<c.magenta>我们也把那包含进了OS X</c>

00:01:51.044 --> 00:01:53.914
<c.magenta>Apple现仍然处于显示技术的前沿</c>

00:01:54.014 --> 00:01:56.884
<c.magenta>在多个产品线上</c>
<c.magenta>我们现在有漂亮的retina显示</c>

00:01:56.984 --> 00:02:00.220
<c.magenta>人们非常非常喜欢它们</c>
<c.magenta>但什么是下一个前沿？</c>

00:01:56.984 --> 00:02:00.220
<c.magenta>人们非常非常喜欢它们</c>
<c.magenta>但什么是下一个前沿？</c>

00:02:00.654 --> 00:02:01.488
<c.magenta>好吧</c>

00:02:01.822 --> 00:02:05.959
<c.magenta>去年我们宣布了漂亮的有P3显示</c>
<c.magenta>的新iMac</c>

00:02:06.193 --> 00:02:08.095
<c.magenta>我们获得了巨大的反响</c>

00:02:08.161 --> 00:02:10.229
<c.magenta>它们多显示25%的颜色</c>

00:02:10.297 --> 00:02:13.133
<c.magenta>它们有P3色彩空间</c>
<c.magenta>人们很爱这点</c>

00:02:13.333 --> 00:02:15.068
<c.magenta>如果你再快进一年</c>

00:02:15.135 --> 00:02:18.739
<c.magenta>我们有新iPad Pro 9.7寸</c>
<c.magenta>显示并有True Tone技术</c>

00:02:18.805 --> 00:02:20.407
<c.magenta>所以我们又更进了一步</c>

00:02:20.607 --> 00:02:22.209
<c.magenta>现在有很多事在下面发生</c>

00:02:22.276 --> 00:02:24.478
<c.magenta>我们今天会试着涉及到这些主题</c>

00:02:24.578 --> 00:02:27.114
<c.magenta>我会从核心的颜色概念开始</c>

00:02:27.915 --> 00:02:31.351
<c.magenta>让我们从简单的开始</c>
<c.magenta>什么是色彩空间？</c>

00:02:31.418 --> 00:02:35.622
<c.magenta>一个色彩空间是一个环境</c>
<c.magenta>在其中颜色可以被比较和显示</c>

00:02:35.689 --> 00:02:38.926
<c.magenta>它可以是1 2 3 4维空间</c>

00:02:38.992 --> 00:02:42.296
<c.magenta>是由颜色成分的亮度定义的</c>

00:02:43.130 --> 00:02:46.834
<c.magenta>颜色成分也经常被称为颜色通道</c>

00:02:47.301 --> 00:02:50.204
<c.magenta>一种表示方法你可能很熟悉</c>
<c.magenta>那就是RGB</c>

00:02:50.270 --> 00:02:52.806
<c.magenta>这和显示屏密切相关</c>

00:02:52.873 --> 00:02:55.008
<c.magenta>你的子像素是红 绿 蓝</c>

00:02:55.108 --> 00:02:56.910
<c.magenta>要考虑这些颜色通道你可以想</c>

00:02:56.977 --> 00:02:59.379
<c.magenta>每一个颜色通道的亮度</c>

00:02:59.446 --> 00:03:01.748
<c.magenta>决定你在另一端看到的颜色</c>

00:02:59.446 --> 00:03:01.748
<c.magenta>决定你在另一端看到的颜色</c>

00:03:03.517 --> 00:03:05.419
<c.magenta>有多个不同的色彩空间</c>

00:03:05.485 --> 00:03:08.355
<c.magenta>我提前了RGB空间</c>
<c.magenta>在显示中很流行</c>

00:03:08.422 --> 00:03:10.490
<c.magenta>但是还有很多</c>
<c.magenta>有灰度空间</c>

00:03:10.557 --> 00:03:12.292
<c.magenta>被用在单色打印上</c>

00:03:12.659 --> 00:03:15.662
<c.magenta>在彩色打印中</c>
<c.magenta>我们通常用CMYK空间</c>

00:03:15.762 --> 00:03:18.765
<c.magenta>如果你尝试进行计算和转换</c>

00:03:18.832 --> 00:03:20.868
<c.magenta>我们通常用色彩空间比如LAB</c>

00:03:20.934 --> 00:03:22.302
<c.magenta>它是设备不相关的</c>

00:03:24.271 --> 00:03:27.207
<c.magenta>现在我们有色彩空间和颜色通道</c>

00:03:27.274 --> 00:03:28.876
<c.magenta>我们现在想创建一个坐标系统</c>

00:03:28.976 --> 00:03:31.111
<c.magenta>我们可以比较和计算颜色</c>

00:03:31.211 --> 00:03:33.413
<c.magenta>这就是颜色基色的概念</c>

00:03:33.580 --> 00:03:37.084
<c.magenta>颜色基色通常落在</c>

00:03:37.150 --> 00:03:39.786
<c.magenta>你可以在特定的颜色通道上达到的</c>
<c.magenta>最大值</c>

00:03:40.254 --> 00:03:43.023
<c.magenta>在这个RGB色彩空间的例子中</c>

00:03:43.090 --> 00:03:48.028
<c.magenta>你可以看到颜色基色是我们在</c>
<c.magenta>色彩空间上定位点1.0的地方</c>

00:03:48.195 --> 00:03:51.632
<c.magenta>对黑色 在任何一个颜色通道上</c>
<c.magenta>都没有饱和度</c>

00:03:51.698 --> 00:03:54.902
<c.magenta>所以我有0 0 0</c>
<c.magenta>对白色我有1 1 1</c>

00:03:55.002 --> 00:03:58.906
<c.magenta>对红色我只饱和红色通道</c>
<c.magenta>我有1 0 0</c>

00:03:59.206 --> 00:04:00.207
<c.magenta>非常简单</c>

00:03:59.206 --> 00:04:00.207
<c.magenta>非常简单</c>

00:04:00.841 --> 00:04:04.444
<c.magenta>当我们提到色域</c>
<c.magenta>我们实际上是说所有</c>

00:04:04.511 --> 00:04:08.348
<c.magenta>可以被那些单独的颜色通道的</c>
<c.magenta>组合定义的颜色</c>

00:04:09.082 --> 00:04:11.218
<c.magenta>现在你知道一些基本的</c>

00:04:11.285 --> 00:04:13.220
<c.magenta>我们将会在这个演讲中讨论的颜色概念</c>

00:04:13.854 --> 00:04:17.291
<c.magenta>那么什么是广色域？</c>
<c.magenta>首先我们要谈一下</c>

00:04:17.357 --> 00:04:19.726
<c.magenta>目前的行业标准是什么</c>

00:04:20.093 --> 00:04:25.699
<c.magenta>标准RGB或者sRGB是目前计算机</c>
<c.magenta>界使用最广泛的色彩空间</c>

00:04:25.832 --> 00:04:30.103
<c.magenta>它基于BT.709标准</c>
<c.magenta>我们用的伽玛大约是2.2</c>

00:04:30.571 --> 00:04:33.740
<c.magenta>典型的光照条件</c>
<c.magenta>在这个例子里是D65</c>

00:04:34.208 --> 00:04:36.677
<c.magenta>这是iOS的默认色彩空间</c>

00:04:36.743 --> 00:04:39.279
<c.magenta>这实际上也是很多平台的默认</c>
<c.magenta>色彩空间</c>

00:04:39.646 --> 00:04:41.949
<c.magenta>这很方便</c>
<c.magenta>因为有一些平台</c>

00:04:42.015 --> 00:04:44.117
<c.magenta>有颜色管理</c>
<c.magenta>还有一些没有</c>

00:04:44.218 --> 00:04:47.788
<c.magenta>当目前存在的很多内容都是sRGB</c>

00:04:47.855 --> 00:04:50.157
<c.magenta>你可以对你获得的内容做一些假设</c>

00:04:50.224 --> 00:04:52.693
<c.magenta>并且它会在另一端被如实重现</c>

00:04:52.860 --> 00:04:54.328
<c.magenta>但事情不永远是这样</c>

00:04:54.728 --> 00:04:58.532
<c.magenta>sRGB可以很好的用来描述我们日常</c>
<c.magenta>工作中使用的颜色</c>

00:04:58.599 --> 00:05:01.568
<c.magenta>我们的系统可以很好地显示这些颜色</c>

00:04:58.599 --> 00:05:01.568
<c.magenta>我们的系统可以很好地显示这些颜色</c>

00:05:01.668 --> 00:05:05.138
<c.magenta>但是很多颜色并不适合sRGB</c>

00:05:06.607 --> 00:05:09.710
<c.magenta>很多纺织品是用墨水和染料设计的</c>

00:05:09.810 --> 00:05:12.446
<c.magenta>有很多颜色是在sRGB之外的</c>

00:05:12.546 --> 00:05:14.448
<c.magenta>主要是因为这些颜色很捉人眼球</c>

00:05:14.515 --> 00:05:18.519
<c.magenta>它们非常生动和令人印象深刻</c>
<c.magenta>如果你看看足球做为例子</c>

00:05:18.585 --> 00:05:21.021
<c.magenta>有很多球衣的颜色实际上在sRGB</c>
<c.magenta>之外</c>

00:05:21.088 --> 00:05:22.956
<c.magenta>因为他们在进攻</c>
<c.magenta>吸引了我们的注意</c>

00:05:23.023 --> 00:05:24.591
<c.magenta>无论是看你孩子的足球赛</c>

00:05:24.658 --> 00:05:25.959
<c.magenta>还是欧洲杯</c>

00:05:26.026 --> 00:05:27.794
<c.magenta>你会看到很多球衣的颜色</c>

00:05:27.861 --> 00:05:30.097
<c.magenta>实际上不能用sRGB描述</c>

00:05:31.765 --> 00:05:34.868
<c.magenta>很多产品实际上也是用sRGB之外</c>
<c.magenta>的颜色设计的</c>

00:05:34.935 --> 00:05:37.604
<c.magenta>这些产品是我们每天打交道的</c>

00:05:38.105 --> 00:05:41.241
<c.magenta>但是最迷人的例子就是大自然本身</c>

00:05:41.341 --> 00:05:45.012
<c.magenta>日落 秋叶 热带水体</c>

00:05:45.078 --> 00:05:48.782
<c.magenta>这都是大自然中的事物</c>
<c.magenta>含有sRGB之外的颜色</c>

00:05:48.949 --> 00:05:50.918
<c.magenta>我们想要显示它们</c>

00:05:51.018 --> 00:05:53.687
<c.magenta>好的事情是你可能有很多相片</c>

00:05:53.754 --> 00:05:56.757
<c.magenta>你在相机上拍摄的</c>
<c.magenta>特别是如果你用RAW格式</c>

00:05:56.823 --> 00:05:58.892
<c.magenta>它实际上包含很多颜色数据</c>

00:05:58.959 --> 00:06:02.062
<c.magenta>但是你无法在显示器上看到</c>
<c.magenta>如果你的显示器只支持sRGB</c>

00:05:58.959 --> 00:06:02.062
<c.magenta>但是你无法在显示器上看到</c>
<c.magenta>如果你的显示器只支持sRGB</c>

00:06:03.330 --> 00:06:04.631
<c.magenta>那对此我们要怎么办？</c>

00:06:06.200 --> 00:06:08.702
<c.magenta>去年我提过我们引入产品</c>

00:06:08.769 --> 00:06:12.239
<c.magenta>有一个新的色彩空间</c>
<c.magenta>这个色彩空间是Display P3</c>

00:06:12.406 --> 00:06:15.609
<c.magenta>在我们的iMac和</c>
<c.magenta>iPad Pro 9.7中</c>

00:06:15.676 --> 00:06:16.710
<c.magenta>我们用这个色彩空间</c>

00:06:16.777 --> 00:06:20.047
<c.magenta>它是基于SMPTE的</c>
<c.magenta>DCI-P3标准</c>

00:06:20.147 --> 00:06:21.281
<c.magenta>但它有一点不同</c>

00:06:21.481 --> 00:06:25.018
<c.magenta>DCI-P3是为数字投影定义的</c>
<c.magenta>色彩空间</c>

00:06:25.085 --> 00:06:27.421
<c.magenta>它在那种观看条件下表现很好</c>

00:06:27.621 --> 00:06:30.023
<c.magenta>但是我们的观看条件有一点不同</c>

00:06:30.090 --> 00:06:33.060
<c.magenta>sRGB表现地很好</c>
<c.magenta>对于定义一个标准</c>

00:06:33.160 --> 00:06:34.795
<c.magenta>工作在我们的观看条件下</c>

00:06:34.862 --> 00:06:37.731
<c.magenta>所以我们采用了相同的伽玛</c>
<c.magenta>和典型光照条件</c>

00:06:37.798 --> 00:06:39.967
<c.magenta>为我们的白点 像sRGB</c>

00:06:40.033 --> 00:06:43.871
<c.magenta>这是Display P3和</c>
<c.magenta>DCI-P3的关键区别</c>

00:06:44.872 --> 00:06:47.941
<c.magenta>为了理解什么颜色在sRGB之外</c>

00:06:48.008 --> 00:06:50.110
<c.magenta>但我们可在Display P3中</c>
<c.magenta>描述</c>

00:06:50.177 --> 00:06:52.179
<c.magenta>我会试着用行动向你展示</c>

00:06:54.448 --> 00:06:57.951
<c.magenta>这是我相片库中的一张相片</c>
<c.magenta>我用photos导出它</c>

00:06:58.018 --> 00:07:00.020
<c.magenta>在Display P3色彩空间</c>

00:06:58.018 --> 00:07:00.020
<c.magenta>在Display P3色彩空间</c>

00:07:00.220 --> 00:07:01.588
<c.magenta>它是很漂亮的相片</c>

00:07:01.655 --> 00:07:04.057
<c.magenta>即使我们今天是用一个sRGB投影</c>
<c.magenta>在看它</c>

00:07:04.124 --> 00:07:06.827
<c.magenta>或者如果你在观看视频</c>
<c.magenta>如今你在用sRGB观看</c>

00:07:06.894 --> 00:07:08.795
<c.magenta>这个相片还是看起来很好</c>

00:07:08.962 --> 00:07:12.165
<c.magenta>但是相片上有很多东西你可能不</c>
<c.magenta>能马上发现</c>

00:07:12.266 --> 00:07:17.271
<c.magenta>但是实际上有很多颜色</c>
<c.magenta>实际上没有被sRGB描述</c>

00:07:17.371 --> 00:07:20.107
<c.magenta>这是sRGB色域外的颜色</c>

00:07:20.207 --> 00:07:23.877
<c.magenta>这种情况下你最终得到的是</c>
<c.magenta>对这些区域进行色调分离</c>

00:07:23.944 --> 00:07:27.114
<c.magenta>所以这些颜色被压缩到sRGB</c>
<c.magenta>色域的边界</c>

00:07:28.115 --> 00:07:29.750
<c.magenta>我们要怎么解决这个情况？</c>

00:07:30.050 --> 00:07:34.421
<c.magenta>我们要把更专业的工作流程转移</c>
<c.magenta>到我们的移动平台</c>

00:07:34.922 --> 00:07:36.190
<c.magenta>要使这成为可能</c>

00:07:36.256 --> 00:07:38.759
<c.magenta>不仅仅是把广色域显示加入你的系统</c>

00:07:38.825 --> 00:07:41.261
<c.magenta>还需要一起做一些其他事</c>

00:07:41.962 --> 00:07:45.032
<c.magenta>其中之一是我们需要更新出厂校准</c>

00:07:45.098 --> 00:07:49.036
<c.magenta>所以现在我们所有的产品都有</c>
<c.magenta>单独校准的显示</c>

00:07:49.136 --> 00:07:51.371
<c.magenta>在每台设备上</c>
<c.magenta>你可以相信颜色</c>

00:07:51.438 --> 00:07:53.006
<c.magenta>是准确一致的</c>

00:07:53.473 --> 00:07:58.612
<c.magenta>最后我们在iOS中建立了整个系统</c>
<c.magenta>范围的颜色管理</c>

00:07:58.679 --> 00:08:00.314
<c.magenta>这就是我们所做的事</c>

00:07:58.679 --> 00:08:00.314
<c.magenta>这就是我们所做的事</c>

00:08:01.849 --> 00:08:05.018
<c.magenta>但是我们不能只是建立一个相同的</c>
<c.magenta>颜色管理系统</c>

00:08:05.085 --> 00:08:07.387
<c.magenta>使用在Mac上使用的相同方法</c>

00:08:07.454 --> 00:08:10.591
<c.magenta>有不同的考虑和限制</c>

00:08:10.657 --> 00:08:11.925
<c.magenta>当与移动平台一起工作时</c>

00:08:12.526 --> 00:08:15.262
<c.magenta>一个要考虑的就是无数的应用</c>

00:08:15.329 --> 00:08:17.698
<c.magenta>已经存在在iOS生态系统中</c>

00:08:17.965 --> 00:08:21.702
<c.magenta>这些应用是在sRGB中开发的</c>
<c.magenta>调整了颜色</c>

00:08:21.768 --> 00:08:23.804
<c.magenta>和性能</c>
<c.magenta>在sRGB中</c>

00:08:24.004 --> 00:08:25.939
<c.magenta>我们怎么保证这些应用</c>

00:08:26.006 --> 00:08:28.642
<c.magenta>仍然可以运行在有颜色管理的平台上</c>

00:08:28.742 --> 00:08:32.513
<c.magenta>而不会影响性能和颜色</c>

00:08:32.712 --> 00:08:35.682
<c.magenta>我们所做的就是在sRGB的基础上</c>
<c.magenta>创建</c>

00:08:36.316 --> 00:08:39.986
<c.magenta>所以我们引入了一个扩大范围</c>
<c.magenta>的sRGB色彩空间</c>

00:08:40.120 --> 00:08:42.956
<c.magenta>这是我们用来工作于广色域的</c>
<c.magenta>工作空间</c>

00:08:43.423 --> 00:08:46.059
<c.magenta>我们用相同的sRGB基色</c>

00:08:47.194 --> 00:08:50.731
<c.magenta>我们用相同的伽玛2.2</c>
<c.magenta>相同的白点</c>

00:08:51.198 --> 00:08:54.601
<c.magenta>有趣的差别是我们允许值</c>

00:08:54.668 --> 00:08:57.070
<c.magenta>大于1或小于0</c>

00:08:57.137 --> 00:09:00.040
<c.magenta>允许我们保持相同的性能</c>

00:08:57.137 --> 00:09:00.040
<c.magenta>允许我们保持相同的性能</c>

00:09:00.107 --> 00:09:03.143
<c.magenta>和外观</c>
<c.magenta>对所有为sRGB开发的应用</c>

00:09:03.477 --> 00:09:06.513
<c.magenta>但是还可以用负值和大于1的值</c>

00:09:06.580 --> 00:09:09.183
<c.magenta>允许我们表达任何可见光谱内的</c>
<c.magenta>颜色</c>

00:09:09.249 --> 00:09:11.919
<c.magenta>同时仍然保持我们的定位点在sRGB</c>
<c.magenta>中</c>

00:09:13.420 --> 00:09:15.856
<c.magenta>用来说明它的最好办法是用一个</c>
<c.magenta>例子</c>

00:09:16.690 --> 00:09:20.861
<c.magenta>所以让我们假设我想要Display P3</c>
<c.magenta>中最饱和的红色</c>

00:09:20.928 --> 00:09:22.763
<c.magenta>那会是1 0 0</c>

00:09:23.163 --> 00:09:26.400
<c.magenta>如果想在扩大范围sRGB中表示它</c>

00:09:27.267 --> 00:09:28.769
<c.magenta>那会看起来像这样</c>

00:09:29.036 --> 00:09:32.372
<c.magenta>在红色通道 我有一个值是大于1</c>

00:09:32.673 --> 00:09:36.109
<c.magenta>在绿色和蓝色通道我实际上用负值</c>

00:09:36.176 --> 00:09:39.913
<c.magenta>所以我减少了绿色和蓝色</c>
<c.magenta>增加了过饱和的红色</c>

00:09:39.980 --> 00:09:44.885
<c.magenta>这允许我得到一种颜色是在sRGB</c>
<c.magenta>色域之外的</c>

00:09:44.952 --> 00:09:49.590
<c.magenta>同时使用相同的sRGB定位点</c>
<c.magenta>在扩大范围sRGB中</c>

00:09:51.859 --> 00:09:54.261
<c.magenta>有趣的事是如果你用一种像素格式</c>

00:09:54.328 --> 00:09:57.030
<c.magenta>允许你用很大的负值和正值</c>

00:09:57.097 --> 00:10:00.534
<c.magenta>这种方法允许你表达任何可视光谱</c>
<c.magenta>里的颜色</c>

00:09:57.097 --> 00:10:00.534
<c.magenta>这种方法允许你表达任何可视光谱</c>
<c.magenta>里的颜色</c>

00:10:00.701 --> 00:10:01.835
<c.magenta>所以这是可扩展的</c>

00:10:04.671 --> 00:10:11.411
<c.magenta>说到像素格式</c>
<c.magenta>sRGB标准是8位</c>

00:10:11.478 --> 00:10:16.350
<c.magenta>8位用来描述sRGB中的颜色已经</c>
<c.magenta>够大了</c>

00:10:16.850 --> 00:10:18.118
<c.magenta>不完美但是还不错</c>

00:10:18.352 --> 00:10:20.287
<c.magenta>一个简单的例子来描述</c>

00:10:20.354 --> 00:10:23.390
<c.magenta>之间的区别</c>
<c.magenta>在我们希望sRGB的精确度</c>

00:10:23.457 --> 00:10:25.993
<c.magenta>和更广色域的精确度之间的区别</c>

00:10:26.660 --> 00:10:27.794
<c.magenta>是用这个例子</c>

00:10:27.861 --> 00:10:30.664
<c.magenta>假设我想要在家建造一个楼梯</c>

00:10:30.731 --> 00:10:32.266
<c.magenta>从地下室到一楼</c>

00:10:32.466 --> 00:10:33.767
<c.magenta>我会用8个台阶</c>

00:10:33.834 --> 00:10:36.570
<c.magenta>我也许会用12个 但是让我们简单</c>
<c.magenta>地假设我会用8个</c>

00:10:37.471 --> 00:10:39.039
<c.magenta>这对我是合适的高度</c>

00:10:39.306 --> 00:10:42.142
<c.magenta>如果我想要把楼梯扩展到二楼</c>

00:10:42.543 --> 00:10:44.511
<c.magenta>我不会仅仅用相同数量的台阶</c>

00:10:44.611 --> 00:10:46.580
<c.magenta>当我们用数字编码颜色时</c>

00:10:46.914 --> 00:10:49.683
<c.magenta>这对你尝试表达更多颜色讲得通</c>

00:10:49.850 --> 00:10:51.652
<c.magenta>你想要更精确</c>

00:10:53.487 --> 00:10:56.957
<c.magenta>每颜色通道8位对sRGB足够了</c>

00:10:57.024 --> 00:11:00.194
<c.magenta>如果我们是说使用sRGB之外的颜色</c>

00:10:57.024 --> 00:11:00.194
<c.magenta>如果我们是说使用sRGB之外的颜色</c>

00:11:00.394 --> 00:11:03.764
<c.magenta>那么我们的建议是每颜色通道</c>
<c.magenta>使用16位</c>

00:11:06.500 --> 00:11:09.670
<c.magenta>现在在我交给Patrick前</c>
<c.magenta>我想要用另一点来结束</c>

00:11:09.736 --> 00:11:13.273
<c.magenta>我们仔细检查了整个系统</c>
<c.magenta>并且更新了所有框架</c>

00:11:13.340 --> 00:11:15.275
<c.magenta>和工具使它们能正确理解颜色</c>

00:11:15.609 --> 00:11:18.445
<c.magenta>但是如果你们用开源工具开发应用</c>

00:11:18.745 --> 00:11:22.182
<c.magenta>或者从头开发了你自己的图像处理</c>
<c.magenta>管道</c>

00:11:22.549 --> 00:11:24.451
<c.magenta>你需要采取行动来确保</c>

00:11:24.518 --> 00:11:27.454
<c.magenta>你所用的工具能正确理解颜色</c>

00:11:27.988 --> 00:11:29.756
<c.magenta>此外 我们已经帮你们处理好了</c>

00:11:30.190 --> 00:11:32.459
<c.magenta>关于这的更多</c>
<c.magenta>我会交给Patrick</c>

00:11:36.763 --> 00:11:39.666
<c.magenta>谢谢Justin</c>
<c.magenta>我是Patrick Heynen</c>

00:11:39.733 --> 00:11:42.236
<c.magenta>我是Cocoa框架组的高级工程师</c>
<c.magenta>经理</c>

00:11:42.636 --> 00:11:45.806
<c.magenta>我想问广色域从何而来？</c>

00:11:45.873 --> 00:11:48.175
<c.magenta>答案是它实际上不仅仅来自于衣服</c>

00:11:48.509 --> 00:11:50.410
<c.magenta>不 它来自你</c>

00:11:51.345 --> 00:11:54.081
<c.magenta>也就是它来自应用及其内容</c>

00:11:54.381 --> 00:11:57.384
<c.magenta>和你的应用提供的用户体验</c>

00:11:58.352 --> 00:12:01.755
<c.magenta>哪种内容可以为广色域进行修改？</c>

00:11:58.352 --> 00:12:01.755
<c.magenta>哪种内容可以为广色域进行修改？</c>

00:12:02.523 --> 00:12:05.225
<c.magenta>第一个可能是你们最熟悉的</c>

00:12:05.292 --> 00:12:06.727
<c.magenta>就是静态图像资源</c>

00:12:06.793 --> 00:12:10.964
<c.magenta>它们是PNG JPEG</c>
<c.magenta>和单独的图形文件</c>

00:12:11.031 --> 00:12:14.134
<c.magenta>你捆绑进了你的应用并且一起发行</c>

00:12:14.201 --> 00:12:16.270
<c.magenta>和你的应用包一起给你的用户</c>

00:12:17.604 --> 00:12:21.508
<c.magenta>另一类是文档和基于网络的图像</c>
<c.magenta>资源</c>

00:12:21.575 --> 00:12:24.344
<c.magenta>它们是单独的图像内容</c>

00:12:24.411 --> 00:12:27.514
<c.magenta>你可以从网络服务下载</c>

00:12:27.614 --> 00:12:30.050
<c.magenta>或者储存在文档数据中</c>

00:12:31.985 --> 00:12:33.220
<c.magenta>还有其他类</c>

00:12:33.287 --> 00:12:35.756
<c.magenta>比如高级媒体</c>
<c.magenta>比如Live Photos</c>

00:12:35.822 --> 00:12:41.795
<c.magenta>或者来自iPhone iPad内置</c>
<c.magenta>摄像头的内容</c>

00:12:41.862 --> 00:12:43.397
<c.magenta>我不会说太多细节</c>

00:12:43.463 --> 00:12:47.534
<c.magenta>关于广色域对这些种类内容的影响</c>

00:12:47.601 --> 00:12:50.070
<c.magenta>但我推荐你去看看iOS摄影进展与</c>

00:12:50.204 --> 00:12:52.739
<c.magenta>在iOS上编辑</c>
<c.magenta>Live Photos和RAW演讲</c>

00:12:53.040 --> 00:12:54.575
<c.magenta>以获知更多细节</c>

00:12:55.375 --> 00:12:58.445
<c.magenta>最后还有一个内容是GPU纹理</c>

00:12:58.512 --> 00:13:01.448
<c.magenta>如果你的应用工作在GPU一级</c>

00:12:58.512 --> 00:13:01.448
<c.magenta>如果你的应用工作在GPU一级</c>

00:13:01.548 --> 00:13:04.785
<c.magenta>比如你的游戏引擎</c>
<c.magenta>或者图形软件的高级部分</c>

00:13:04.852 --> 00:13:07.287
<c.magenta>并且你会发送颜色信息</c>

00:13:07.354 --> 00:13:10.657
<c.magenta>以纹理或着色器值的形式直接</c>
<c.magenta>发送给GPU</c>

00:13:10.724 --> 00:13:14.027
<c.magenta>对广色域内容还有其他要考虑的</c>

00:13:14.728 --> 00:13:16.630
<c.magenta>我也不会深入太多细节</c>

00:13:16.697 --> 00:13:20.100
<c.magenta>但我要介绍同事Dan Omachi</c>
<c.magenta>对此所做得极好的处理</c>

00:13:20.167 --> 00:13:21.802
<c.magenta>在Metal的新特性第二部分</c>

00:13:23.504 --> 00:13:26.139
<c.magenta>好的让我们回到颜色问题</c>

00:13:26.740 --> 00:13:28.775
<c.magenta>Justin早前做了很好的解释</c>

00:13:29.142 --> 00:13:31.111
<c.magenta>但这怎么应用到应用？</c>

00:13:31.445 --> 00:13:36.550
<c.magenta>应用内容可能来自一个很宽范围的来源</c>

00:13:36.683 --> 00:13:38.585
<c.magenta>颜色的丰富程度也在一个很宽的</c>
<c.magenta>范围中</c>

00:13:38.652 --> 00:13:40.153
<c.magenta>从灰度</c>

00:13:40.354 --> 00:13:44.658
<c.magenta>一直到16位广色域内容</c>

00:13:45.692 --> 00:13:46.927
<c.magenta>同时</c>

00:13:47.060 --> 00:13:50.998
<c.magenta>设备和显示的颜色能力也处于</c>
<c.magenta>很宽的范围中</c>

00:13:51.665 --> 00:13:56.036
<c.magenta>比如iPhone 5</c>
<c.magenta>只能显示sRGB</c>

00:13:56.270 --> 00:13:58.238
<c.magenta>一直到最新的iPad Pro</c>

00:13:58.305 --> 00:14:02.943
<c.magenta>可以完全显示P3颜色和扩大范围</c>
<c.magenta>sRGB</c>

00:13:58.305 --> 00:14:02.943
<c.magenta>可以完全显示P3颜色和扩大范围</c>
<c.magenta>sRGB</c>

00:14:03.277 --> 00:14:05.145
<c.magenta>你要这么衔接这些差别？</c>

00:14:06.079 --> 00:14:08.782
<c.magenta>我们将解决这些颜色问题</c>

00:14:09.149 --> 00:14:12.452
<c.magenta>支柱就是颜色管理</c>

00:14:14.955 --> 00:14:16.190
<c.magenta>什么是颜色管理？</c>

00:14:17.491 --> 00:14:20.127
<c.magenta>颜色管理的工作就是确保</c>

00:14:20.661 --> 00:14:23.397
<c.magenta>图像在所有输出设备上看起来</c>
<c.magenta>都是相同的</c>

00:14:23.664 --> 00:14:25.866
<c.magenta>不管它被编码到哪个色彩空间</c>

00:14:25.933 --> 00:14:27.401
<c.magenta>或者最初它是如何被创造的</c>

00:14:27.868 --> 00:14:30.470
<c.magenta>就是这些</c>
<c.magenta>但它是怎么工作的？</c>

00:14:33.640 --> 00:14:36.476
<c.magenta>颜色管理从每个图像开始</c>

00:14:36.543 --> 00:14:39.079
<c.magenta>或者有相关联的色彩空间的内容种类</c>

00:14:39.179 --> 00:14:40.914
<c.magenta>有时被称为颜色配置</c>

00:14:42.683 --> 00:14:45.452
<c.magenta>这告知系统颜色的实际含义</c>

00:14:45.586 --> 00:14:49.056
<c.magenta>然后颜色匹配过程通过算法映射</c>

00:14:49.122 --> 00:14:51.925
<c.magenta>这些颜色到特征和输出空间</c>

00:14:51.992 --> 00:14:53.794
<c.magenta>属于你要渲染到的设备</c>
<c.magenta>的特征和输出空间</c>

00:14:55.262 --> 00:14:58.699
<c.magenta>当然这是一个计算过程而且不是</c>
<c.magenta>免费的</c>

00:14:58.765 --> 00:15:02.102
<c.magenta>实际上每个像素都会被涉及</c>
<c.magenta>会被转化和匹配</c>

00:14:58.765 --> 00:15:02.102
<c.magenta>实际上每个像素都会被涉及</c>
<c.magenta>会被转化和匹配</c>

00:15:03.170 --> 00:15:06.673
<c.magenta>而且还需要注意这是有可能有损的过程</c>

00:15:06.740 --> 00:15:07.908
<c.magenta>特别是如果你要</c>

00:15:07.975 --> 00:15:11.211
<c.magenta>从更广的色域转化到更窄的色域</c>

00:15:11.378 --> 00:15:14.548
<c.magenta>假设一个16位的P3内容降到</c>
<c.magenta>8位的sRGB</c>

00:15:14.915 --> 00:15:18.852
<c.magenta>这会造成色彩保真度的丢失</c>

00:15:18.919 --> 00:15:20.120
<c.magenta>这是需要注意的事</c>

00:15:20.721 --> 00:15:24.091
<c.magenta>这是重要的方面</c>
<c.magenta>但是有好消息</c>

00:15:24.558 --> 00:15:28.328
<c.magenta>第一个好消息是这个颜色匹配过程</c>

00:15:28.395 --> 00:15:29.596
<c.magenta>它们用算法定义的方式</c>

00:15:29.663 --> 00:15:31.899
<c.magenta>我不想讲解它们背后关于颜色科学</c>
<c.magenta>的细节</c>

00:15:31.965 --> 00:15:35.636
<c.magenta>但是结果是那些计算很容易被</c>
<c.magenta>硬件加速</c>

00:15:35.869 --> 00:15:38.005
<c.magenta>不论是用CPU还是GPU</c>

00:15:39.139 --> 00:15:40.407
<c.magenta>这导致下一个好消息</c>

00:15:40.474 --> 00:15:44.278
<c.magenta>我们把这个功能集成到了系统本身</c>

00:15:44.411 --> 00:15:47.281
<c.magenta>它们都通过Quartz 2D</c>
<c.magenta>自动运行</c>

00:15:47.381 --> 00:15:49.750
<c.magenta>Mac上的ColorSync</c>
<c.magenta>以及核心动画</c>

00:15:51.151 --> 00:15:53.387
<c.magenta>实际上你需要确定的是</c>

00:15:53.453 --> 00:15:56.957
<c.magenta>你的内容被正确的加了标签</c>

00:15:57.024 --> 00:16:00.260
<c.magenta>在这种情况下 要正确显示你的</c>
<c.magenta>图像不需要任何代码</c>

00:15:57.024 --> 00:16:00.260
<c.magenta>在这种情况下 要正确显示你的</c>
<c.magenta>图像不需要任何代码</c>

00:16:00.327 --> 00:16:01.562
<c.magenta>并且让颜色正确显示</c>

00:16:03.463 --> 00:16:04.965
<c.magenta>平台颜色管理</c>

00:16:05.432 --> 00:16:08.936
<c.magenta>Justin逃避了的macOS</c>

00:16:09.002 --> 00:16:10.871
<c.magenta>从它一开始就有颜色管理</c>

00:16:10.938 --> 00:16:12.773
<c.magenta>有些人甚至可能会说早于它的开始</c>

00:16:12.840 --> 00:16:16.643
<c.magenta>当它在ColorSync时代</c>
<c.magenta>之前被称为macOS</c>

00:16:17.311 --> 00:16:20.013
<c.magenta>所以这没有什么新的</c>
<c.magenta>但是在iOS上有一些新的</c>

00:16:20.080 --> 00:16:22.316
<c.magenta>从iOS 9.3开始</c>

00:16:22.416 --> 00:16:25.285
<c.magenta>我们在大部分设备上有自动颜色</c>
<c.magenta>管理支持</c>

00:16:26.954 --> 00:16:30.457
<c.magenta>这就是颜色管理</c>
<c.magenta>解决颜色问题的关键</c>

00:16:32.593 --> 00:16:33.827
<c.magenta>现在让我们谈谈</c>

00:16:33.894 --> 00:16:37.631
<c.magenta>一些设计上的考虑和工具链</c>

00:16:37.698 --> 00:16:39.933
<c.magenta>和平台服务是如何被增强的</c>

00:16:40.000 --> 00:16:43.770
<c.magenta>来适应在你的应用中获得广色域</c>
<c.magenta>的内容</c>

00:16:44.471 --> 00:16:47.241
<c.magenta>首先它总是从设计开始</c>

00:16:48.942 --> 00:16:51.278
<c.magenta>需要考虑的重要的事是</c>

00:16:51.411 --> 00:16:54.314
<c.magenta>从设计上看你要在什么时候达到</c>
<c.magenta>广色域</c>

00:16:56.617 --> 00:16:59.486
<c.magenta>我首先要说的是</c>

00:16:59.553 --> 00:17:03.190
<c.magenta>很重要的是当这样做有意义时才</c>
<c.magenta>使用广色域</c>

00:16:59.553 --> 00:17:03.190
<c.magenta>很重要的是当这样做有意义时才</c>
<c.magenta>使用广色域</c>

00:17:03.991 --> 00:17:04.858
<c.magenta>而不是在任何地方</c>

00:17:04.925 --> 00:17:08.561
<c.magenta>请记住我们日常生活中接触的</c>
<c.magenta>大部分颜色</c>

00:17:08.762 --> 00:17:11.198
<c.magenta>其实被包含在漂亮的sRGB三角形中</c>

00:17:11.265 --> 00:17:12.566
<c.magenta>这是大部分颜色所在之处</c>

00:17:13.500 --> 00:17:16.869
<c.magenta>然而还有那些漂亮的</c>
<c.magenta>新的生动的饱和的颜色</c>

00:17:17.104 --> 00:17:20.406
<c.magenta>你的应用使用它们是有意义的</c>

00:17:20.674 --> 00:17:22.608
<c.magenta>所以很重要的一点是把广色域内容</c>
<c.magenta>看成</c>

00:17:22.675 --> 00:17:24.310
<c.magenta>你可以使用的一个工具</c>

00:17:24.411 --> 00:17:27.013
<c.magenta>当生动的颜色确实能提高用户体验时</c>

00:17:27.079 --> 00:17:28.815
<c.magenta>并且为你的应用增加一些价值</c>

00:17:30.617 --> 00:17:33.754
<c.magenta>并没有必要更新你的所有内容</c>

00:17:33.921 --> 00:17:35.589
<c.magenta>并且马上升级到P3</c>

00:17:35.722 --> 00:17:37.724
<c.magenta>这并不是一种技术转变</c>

00:17:38.058 --> 00:17:40.961
<c.magenta>这只是一种新的你可以使用的</c>
<c.magenta>创造性工具</c>

00:17:41.228 --> 00:17:42.763
<c.magenta>在你想用它时</c>

00:17:43.397 --> 00:17:46.166
<c.magenta>好消息是我们改进了工具链支持</c>

00:17:46.366 --> 00:17:49.736
<c.magenta>使逐渐采用广色域成为可能</c>

00:17:51.939 --> 00:17:55.075
<c.magenta>让我们假设你想升级一些内容</c>
<c.magenta>到广色域</c>

00:17:55.142 --> 00:17:56.476
<c.magenta>什么是需要考虑的？</c>

00:17:56.543 --> 00:17:58.378
<c.magenta>小心是很重要的</c>

00:17:58.612 --> 00:18:02.816
<c.magenta>当你升级设计文件到广色域</c>

00:17:58.612 --> 00:18:02.816
<c.magenta>当你升级设计文件到广色域</c>

00:18:04.084 --> 00:18:07.487
<c.magenta>一个常见圈套是仅仅赋予一个新</c>
<c.magenta>的配置文件</c>

00:18:07.554 --> 00:18:10.991
<c.magenta>它从sRGB开始</c>
<c.magenta>赋予一个新的广色域配置</c>

00:18:11.191 --> 00:18:13.227
<c.magenta>这是一个错误</c>
<c.magenta>这仅仅重新映射</c>

00:18:13.293 --> 00:18:15.562
<c.magenta>已有的颜色信息到新的色彩空间</c>

00:18:15.696 --> 00:18:18.232
<c.magenta>这相当有效</c>
<c.magenta>但可能不是你想要的</c>

00:18:18.398 --> 00:18:20.133
<c.magenta>因为这只是拉伸所有颜色</c>

00:18:20.200 --> 00:18:22.903
<c.magenta>使它们生动</c>
<c.magenta>而且设计文件的外观</c>

00:18:22.970 --> 00:18:24.571
<c.magenta>不可避免地被改变</c>

00:18:25.005 --> 00:18:29.810
<c.magenta>重要的一点是应该转而使用</c>
<c.magenta>转化到P3</c>

00:18:31.011 --> 00:18:33.013
<c.magenta>这会做一个颜色匹配操作</c>

00:18:33.247 --> 00:18:36.650
<c.magenta>你的设计结果不会改变它的外观</c>

00:18:36.750 --> 00:18:38.685
<c.magenta>但是它被准备好使用</c>

00:18:38.819 --> 00:18:41.288
<c.magenta>并且有一些内容被提升到那些</c>
<c.magenta>漂亮的</c>

00:18:41.355 --> 00:18:43.524
<c.magenta>生动饱和的P3颜色</c>

00:18:45.559 --> 00:18:48.128
<c.magenta>当你进行广色域设计时</c>

00:18:48.195 --> 00:18:50.330
<c.magenta>这很重要</c>
<c.magenta>我们强烈推荐</c>

00:18:50.397 --> 00:18:52.466
<c.magenta>你使用Display P3颜色配置</c>

00:18:52.566 --> 00:18:54.434
<c.magenta>作为你的工作文档配置</c>

00:18:55.936 --> 00:18:59.740
<c.magenta>并维持最高的颜色准确度和最高</c>
<c.magenta>质量</c>

00:18:59.907 --> 00:19:03.010
<c.magenta>工作在每通道16位的颜色模式</c>
<c.magenta>下是个好主意</c>

00:18:59.907 --> 00:19:03.010
<c.magenta>工作在每通道16位的颜色模式</c>
<c.magenta>下是个好主意</c>

00:19:04.178 --> 00:19:08.982
<c.magenta>当然能看到你的设计很好</c>

00:19:09.116 --> 00:19:11.585
<c.magenta>所以如果你要在广色域下工作</c>

00:19:11.652 --> 00:19:14.021
<c.magenta>最好进行设计工作</c>

00:19:14.087 --> 00:19:16.523
<c.magenta>在可以渲染广色域的系统上</c>

00:19:16.590 --> 00:19:20.227
<c.magenta>比如2015年末推出的iMac</c>
<c.magenta>或其他有这个能力的硬件</c>

00:19:22.529 --> 00:19:26.266
<c.magenta>当来到产生产品的阶段</c>
<c.magenta>为了输出资源</c>

00:19:27.267 --> 00:19:32.973
<c.magenta>使用16位嵌入Display P3</c>
<c.magenta>ICC配置的PNG文件很重要</c>

00:19:33.173 --> 00:19:34.908
<c.magenta>这是一种黄金标准</c>

00:19:35.108 --> 00:19:38.445
<c.magenta>把内容转换成广色域内容</c>

00:19:40.614 --> 00:19:41.782
<c.magenta>一个简短的注意事项</c>

00:19:42.983 --> 00:19:46.220
<c.magenta>有一些很流行的内容生成工作流程</c>

00:19:46.386 --> 00:19:47.387
<c.magenta>它们有不同名字</c>

00:19:47.454 --> 00:19:50.624
<c.magenta>我要特别讨论Adobe</c>
<c.magenta>Photoshop工作流程</c>

00:19:51.158 --> 00:19:54.061
<c.magenta>他们被称为为网络保存和导出资源</c>

00:19:54.127 --> 00:19:58.265
<c.magenta>这些工作流程很多都没有完成向</c>
<c.magenta>广色域的转变</c>

00:19:58.332 --> 00:20:02.035
<c.magenta>它们不能导出16位P3内容</c>

00:19:58.332 --> 00:20:02.035
<c.magenta>它们不能导出16位P3内容</c>

00:20:02.135 --> 00:20:04.404
<c.magenta>所以现在不要用它们</c>

00:20:04.638 --> 00:20:08.909
<c.magenta>使用一些变通方法</c>
<c.magenta>使用保存为PNG格式</c>

00:20:08.976 --> 00:20:12.513
<c.magenta>使用16位并且嵌入显示配置</c>
<c.magenta>做为一个变通方案</c>

00:20:14.081 --> 00:20:17.885
<c.magenta>这就是设计过程和广色域如何</c>
<c.magenta>影响它</c>

00:20:18.685 --> 00:20:22.055
<c.magenta>现在让我们谈谈工具和如何使用</c>
<c.magenta>它们</c>

00:20:22.523 --> 00:20:25.893
<c.magenta>要采用你在设计过程中得到的内容</c>

00:20:26.260 --> 00:20:27.628
<c.magenta>我要谈到的第一件事</c>

00:20:27.694 --> 00:20:30.264
<c.magenta>是内容工具故事的中心</c>

00:20:30.497 --> 00:20:32.132
<c.magenta>是Xcode资源分类</c>

00:20:32.466 --> 00:20:34.134
<c.magenta>你可能对此感到熟悉</c>

00:20:34.268 --> 00:20:36.570
<c.magenta>这是Xcode中的普通工具</c>

00:20:36.637 --> 00:20:39.273
<c.magenta>允许你整理并分类你的图像资源</c>

00:20:39.339 --> 00:20:43.710
<c.magenta>标记它并提供元数据</c>
<c.magenta>把它发送到你的应用中</c>

00:20:46.013 --> 00:20:47.514
<c.magenta>资源分类会为你做什么？</c>

00:20:47.581 --> 00:20:50.584
<c.magenta>它们是最好的静态资源部署工具</c>

00:20:51.752 --> 00:20:56.089
<c.magenta>我们自动对你的资源内容进行</c>
<c.magenta>颜色修正</c>

00:20:56.156 --> 00:20:58.625
<c.magenta>并对构建目标进行优化</c>

00:20:58.692 --> 00:21:01.495
<c.magenta>所以即使你的设计师是完美的</c>

00:20:58.692 --> 00:21:01.495
<c.magenta>所以即使你的设计师是完美的</c>

00:21:01.562 --> 00:21:03.764
<c.magenta>并且总能交付内容</c>
<c.magenta>含有正确的配置</c>

00:21:03.830 --> 00:21:06.834
<c.magenta>和所有正确的信息</c>
<c.magenta>在他们的交付物中</c>

00:21:06.900 --> 00:21:08.769
<c.magenta>但事情并不总是这样</c>

00:21:08.969 --> 00:21:11.438
<c.magenta>这就是自动颜色修正发挥作用</c>
<c.magenta>的时候</c>

00:21:11.505 --> 00:21:13.173
<c.magenta>来确保我们匹配并标准化全部颜色</c>

00:21:13.240 --> 00:21:16.243
<c.magenta>到合适的目标设备的工作空间</c>

00:21:17.911 --> 00:21:20.247
<c.magenta>我们还自动进行像素格式优化</c>

00:21:20.314 --> 00:21:23.050
<c.magenta>确保对设备使用正确的位深</c>

00:21:24.885 --> 00:21:27.554
<c.magenta>最后 但当然不是最不重要的</c>

00:21:27.621 --> 00:21:29.990
<c.magenta>资源分类是应用切片的途径</c>

00:21:30.324 --> 00:21:32.226
<c.magenta>应用切片是其瘦身功能的重要组成部分</c>

00:21:32.292 --> 00:21:35.896
<c.magenta>它确保只有相关内容被传送给客户</c>

00:21:35.963 --> 00:21:38.532
<c.magenta>在一个特定设备上</c>
<c.magenta>不相关内容不会被传送</c>

00:21:40.300 --> 00:21:43.470
<c.magenta>那我们做了什么让资源分类更容易</c>

00:21:43.537 --> 00:21:45.072
<c.magenta>与广色域内容一起工作？</c>

00:21:46.373 --> 00:21:50.511
<c.magenta>第一个重要改进是我们现在支持</c>
<c.magenta>16位的源内容</c>

00:21:50.577 --> 00:21:55.249
<c.magenta>并为16位的图像资源提供干净的</c>
<c.magenta>端对端路径</c>

00:21:56.183 --> 00:21:58.552
<c.magenta>我们有16位半负载来储存它</c>

00:21:58.819 --> 00:22:02.289
<c.magenta>但是你在Xcode 8中可以用到它</c>

00:21:58.819 --> 00:22:02.289
<c.magenta>但是你在Xcode 8中可以用到它</c>

00:22:03.090 --> 00:22:08.262
<c.magenta>下一个重要的事是我们增加了</c>
<c.magenta>给显示色域分类的功能</c>

00:22:09.329 --> 00:22:12.399
<c.magenta>这是什么意思？</c>
<c.magenta>这说明你</c>

00:22:12.466 --> 00:22:18.772
<c.magenta>在查看器中有一个新的选项来</c>
<c.magenta>提供并剪裁优化了的资源</c>

00:22:18.839 --> 00:22:21.975
<c.magenta>为sRGB或Display P3</c>

00:22:22.109 --> 00:22:25.245
<c.magenta>显示色域和设备通过那些特征</c>
<c.magenta>匹配</c>

00:22:26.480 --> 00:22:27.447
<c.magenta>三个简单选择</c>

00:22:27.514 --> 00:22:28.882
<c.magenta>这就是这个特性</c>

00:22:28.982 --> 00:22:31.418
<c.magenta>Xcode提供它来整理资源</c>

00:22:31.485 --> 00:22:33.120
<c.magenta>但你怎么利用它？</c>
<c.magenta>你怎么考虑利用它？</c>

00:22:33.453 --> 00:22:35.656
<c.magenta>这里有三个简单的选择</c>

00:22:37.057 --> 00:22:38.225
<c.magenta>选择一</c>

00:22:40.394 --> 00:22:41.295
<c.magenta>不做任何事</c>

00:22:42.229 --> 00:22:44.097
<c.magenta>这可能看起来激进</c>

00:22:44.198 --> 00:22:46.266
<c.magenta>但是完全可以这么做</c>

00:22:48.035 --> 00:22:50.103
<c.magenta>因为如果你不对资源分类进行改变</c>

00:22:50.304 --> 00:22:52.139
<c.magenta>你可能不需要这些生动的新颜色</c>

00:22:52.206 --> 00:22:57.377
<c.magenta>你将继续在所有设备上如实渲染</c>
<c.magenta>8位的sRGB内容</c>

00:22:57.644 --> 00:23:00.214
<c.magenta>没有什么会改变</c>
<c.magenta>你不需要更新所有东西</c>

00:22:57.644 --> 00:23:00.214
<c.magenta>没有什么会改变</c>
<c.magenta>你不需要更新所有东西</c>

00:23:00.280 --> 00:23:02.282
<c.magenta>只需要确保它能运行在新硬件上</c>

00:23:02.649 --> 00:23:04.418
<c.magenta>这完全是个有效的选项</c>

00:23:04.484 --> 00:23:09.122
<c.magenta>当然这表示你的应用不会包含</c>
<c.magenta>任何广色域</c>

00:23:09.857 --> 00:23:11.925
<c.magenta>这是完全可行的设计选择</c>

00:23:12.226 --> 00:23:14.695
<c.magenta>这是部署选择的结果</c>

00:23:15.229 --> 00:23:19.700
<c.magenta>假设你想要在你的应用中使用广色域</c>

00:23:19.800 --> 00:23:22.703
<c.magenta>带来选择二</c>
<c.magenta>升级到P3</c>

00:23:24.738 --> 00:23:29.042
<c.magenta>我们把这种方法称为通用P3资源</c>

00:23:29.443 --> 00:23:33.780
<c.magenta>它所要做的是使用16位</c>
<c.magenta>Display P3文件</c>

00:23:33.847 --> 00:23:34.982
<c.magenta>可能从你设计师那得到它</c>

00:23:35.082 --> 00:23:37.551
<c.magenta>然后在资源分类中替换你已有的</c>
<c.magenta>资源</c>

00:23:37.618 --> 00:23:39.253
<c.magenta>使用这个升级过的资源</c>

00:23:40.754 --> 00:23:43.891
<c.magenta>在创建时会发生的是</c>
<c.magenta>我们会自动生成</c>

00:23:43.957 --> 00:23:48.695
<c.magenta>一个sRGB变种 从16位</c>
<c.magenta>通用Display P3主档生成</c>

00:23:49.463 --> 00:23:51.298
<c.magenta>我们会进行高质量的颜色匹配</c>

00:23:51.365 --> 00:23:53.634
<c.magenta>高质量会降级到8位</c>

00:23:54.001 --> 00:23:56.703
<c.magenta>然后在瘦身和内容选择时</c>

00:23:56.770 --> 00:24:01.308
<c.magenta>我们确保正确的内容变种被选择</c>
<c.magenta>用在适当的设备上</c>

00:23:56.770 --> 00:24:01.308
<c.magenta>我们确保正确的内容变种被选择</c>
<c.magenta>用在适当的设备上</c>

00:24:03.377 --> 00:24:06.180
<c.magenta>但是如果你对自动转换不满意</c>

00:24:06.246 --> 00:24:07.648
<c.magenta>你想要完全的控制</c>

00:24:08.248 --> 00:24:10.417
<c.magenta>好消息是这也提供给了你</c>

00:24:10.484 --> 00:24:13.220
<c.magenta>这就是选择三 优化资源</c>

00:24:14.555 --> 00:24:16.256
<c.magenta>这基本上是个很简单的选项</c>

00:24:16.323 --> 00:24:23.096
<c.magenta>你提供一16位Display P3</c>
<c.magenta>内容和你的原始的8位sRGB内容</c>

00:24:23.163 --> 00:24:26.900
<c.magenta>我们给你提供地方来整理这两类资源</c>

00:24:27.100 --> 00:24:30.304
<c.magenta>他们会被创建进你的应用并且被</c>
<c.magenta>正确的选择和瘦身</c>

00:24:31.305 --> 00:24:37.044
<c.magenta>这就是广色域资源和资源分类</c>

00:24:38.512 --> 00:24:41.415
<c.magenta>我现在想要介绍创造内容</c>

00:24:44.885 --> 00:24:50.090
<c.magenta>假设我们有这个漂亮的色度环</c>

00:24:56.630 --> 00:24:58.632
<c.magenta>假设我们有这个漂亮的色度环</c>

00:24:58.699 --> 00:25:00.133
<c.magenta>这好多了</c>

00:24:58.699 --> 00:25:00.133
<c.magenta>这好多了</c>

00:25:01.235 --> 00:25:04.238
<c.magenta>我已经决定了</c>
<c.magenta>这会获得好处</c>

00:25:04.304 --> 00:25:06.139
<c.magenta>从一些更生动的饱和颜色</c>

00:25:06.507 --> 00:25:08.575
<c.magenta>这是怎么完成的？</c>
<c.magenta>让我们看看这里</c>

00:25:08.642 --> 00:25:10.677
<c.magenta>这只是一个简单的渐变</c>
<c.magenta>一个辐射渐变</c>

00:25:10.744 --> 00:25:12.212
<c.magenta>我只想要强调这里</c>

00:25:12.412 --> 00:25:16.350
<c.magenta>在渐变中的这一点是一个纯的</c>
<c.magenta>饱和绿色</c>

00:25:17.384 --> 00:25:19.086
<c.magenta>我从这开始</c>

00:25:20.587 --> 00:25:22.055
<c.magenta>我要怎么升级它？</c>

00:25:22.122 --> 00:25:26.660
<c.magenta>我首先要做的是</c>
<c.magenta>因为我要整理类型</c>

00:25:26.793 --> 00:25:30.163
<c.magenta>我要创建它的一个备份这样就不会</c>
<c.magenta>弄坏已有的资源</c>

00:25:30.230 --> 00:25:31.565
<c.magenta>我在这起一个新的名字</c>

00:25:34.501 --> 00:25:36.904
<c.magenta>我现在准备好开始工作了</c>

00:25:37.337 --> 00:25:38.539
<c.magenta>我要做的第一件事</c>

00:25:38.605 --> 00:25:41.842
<c.magenta>是更新到每通道16位</c>

00:25:42.709 --> 00:25:44.244
<c.magenta>我们现准备好用16位工作了</c>

00:25:44.378 --> 00:25:47.915
<c.magenta>然后是十分重要的转换到配置</c>

00:25:49.082 --> 00:25:50.651
<c.magenta>我要做的是</c>

00:25:51.151 --> 00:25:54.488
<c.magenta>把这变成Display P3</c>
<c.magenta>颜色配置</c>

00:25:56.657 --> 00:25:58.358
<c.magenta>我们弄好了</c>

00:25:58.592 --> 00:26:01.295
<c.magenta>实际上我可以在下面的文档配置</c>
<c.magenta>中确认</c>

00:25:58.592 --> 00:26:01.295
<c.magenta>实际上我可以在下面的文档配置</c>
<c.magenta>中确认</c>

00:26:01.361 --> 00:26:04.431
<c.magenta>Display P3 16位组件</c>
<c.magenta>我准备好了</c>

00:26:04.531 --> 00:26:06.867
<c.magenta>让我们看看这个渐变发生了什么</c>

00:26:08.402 --> 00:26:10.070
<c.magenta>让我们看看最爱的绿色</c>

00:26:10.804 --> 00:26:13.807
<c.magenta>这很有趣是吗？</c>
<c.magenta>这个绿色并没有改变</c>

00:26:13.874 --> 00:26:16.510
<c.magenta>注意这个色度环的外观完全没有</c>
<c.magenta>改变</c>

00:26:16.577 --> 00:26:19.646
<c.magenta>和赋值相比</c>
<c.magenta>这是转化计划中的结果</c>

00:26:19.980 --> 00:26:23.250
<c.magenta>但是相同的绿色现在只有70%的</c>
<c.magenta>饱和度</c>

00:26:23.317 --> 00:26:26.720
<c.magenta>这表明有多少净空间</c>

00:26:26.787 --> 00:26:31.592
<c.magenta>来扩展到更广的色域并得到更</c>
<c.magenta>纯的绿色</c>

00:26:31.725 --> 00:26:34.828
<c.magenta>我想要那么做</c>
<c.magenta>但是我不想要一整天都在讲台上</c>

00:26:34.895 --> 00:26:37.531
<c.magenta>我会重新应用渐变的预设</c>

00:26:37.598 --> 00:26:41.702
<c.magenta>现在一切应该都回到开始的样子</c>

00:26:41.768 --> 00:26:47.708
<c.magenta>100%饱和但是现在是在纯的</c>
<c.magenta>P3广色域空间</c>

00:26:47.908 --> 00:26:49.810
<c.magenta>现在我有我漂亮的资源了</c>

00:26:49.910 --> 00:26:51.912
<c.magenta>我会继续并保存</c>

00:26:52.846 --> 00:26:55.849
<c.magenta>当然这只是一个设计文件</c>

00:26:55.916 --> 00:26:58.685
<c.magenta>我只有保存它以后</c>
<c.magenta>才能在我的应用使用它</c>

00:26:58.952 --> 00:26:59.786
<c.magenta>我将这么做</c>

00:26:59.853 --> 00:27:03.357
<c.magenta>我将把它保存为</c>
<c.magenta>不是Photoshop raw而是PNG</c>

00:26:59.853 --> 00:27:03.357
<c.magenta>我将把它保存为</c>
<c.magenta>不是Photoshop raw而是PNG</c>

00:27:03.423 --> 00:27:05.659
<c.magenta>我要确保嵌入了颜色配置</c>

00:27:06.727 --> 00:27:07.728
<c.magenta>并保存它</c>

00:27:09.196 --> 00:27:10.764
<c.magenta>好的 我完成了</c>

00:27:10.964 --> 00:27:12.799
<c.magenta>其实我还没完成</c>
<c.magenta>我只完成了设计过程</c>

00:27:12.866 --> 00:27:14.801
<c.magenta>我没有把它加入到我的应用</c>

00:27:15.202 --> 00:27:17.404
<c.magenta>让我们这么做</c>

00:27:20.707 --> 00:27:24.478
<c.magenta>我的应用在哪？我的应用在这</c>
<c.magenta>这是我的应用 没有修改的</c>

00:27:24.578 --> 00:27:27.848
<c.magenta>这是我已有的sRGB P3色度环</c>

00:27:28.649 --> 00:27:30.617
<c.magenta>我想要做的是来到这</c>

00:27:30.684 --> 00:27:35.455
<c.magenta>到这个弹出菜单来显示sRGB</c>
<c.magenta>和Display P3色域</c>

00:27:35.522 --> 00:27:39.359
<c.magenta>这会立即显示一系列额外的分类</c>
<c.magenta>选项</c>

00:27:39.426 --> 00:27:44.331
<c.magenta>我把我的P3色度环放到这个位置</c>

00:27:44.531 --> 00:27:46.600
<c.magenta>我弄好了</c>
<c.magenta>现在如果我构建并运行</c>

00:27:46.733 --> 00:27:50.070
<c.magenta>它会把它们都编译到我的资源分类中</c>

00:27:50.137 --> 00:27:52.806
<c.magenta>若我在iPad Pro 9.7</c>
<c.magenta>英寸上运行</c>

00:27:52.873 --> 00:27:56.176
<c.magenta>我会得到16位</c>
<c.magenta>Display P3资源</c>

00:27:56.243 --> 00:28:00.581
<c.magenta>在一个sRGB设备上</c>
<c.magenta>如iPhone 6 我会得到该资源</c>

00:27:56.243 --> 00:28:00.581
<c.magenta>在一个sRGB设备上</c>
<c.magenta>如iPhone 6 我会得到该资源</c>

00:28:01.949 --> 00:28:03.016
<c.magenta>好的</c>

00:28:03.417 --> 00:28:07.888
<c.magenta>这就是在应用中加入内容</c>

00:28:11.558 --> 00:28:15.762
<c.magenta>我们已经谈过了工具和怎么用</c>
<c.magenta>它们处理内容</c>

00:28:15.829 --> 00:28:17.798
<c.magenta>现在是时候讨论部署要考虑的事</c>

00:28:17.865 --> 00:28:19.566
<c.magenta>你使用完那些工具后发生了什么</c>

00:28:19.633 --> 00:28:22.536
<c.magenta>这会怎么影响你的应用的运行</c>

00:28:23.136 --> 00:28:27.241
<c.magenta>有了资源分类部署应用切片</c>

00:28:27.307 --> 00:28:31.612
<c.magenta>将确保适当的变种被传递给给定的设备</c>

00:28:31.678 --> 00:28:32.579
<c.magenta>这很重要</c>

00:28:32.646 --> 00:28:34.681
<c.magenta>因为有可能有很多内容</c>

00:28:34.781 --> 00:28:36.049
<c.magenta>是你应用的一部分</c>

00:28:36.383 --> 00:28:40.587
<c.magenta>有了切片 我们确保没有负载成本</c>

00:28:40.754 --> 00:28:42.422
<c.magenta>对你的实际最终用户</c>

00:28:42.489 --> 00:28:45.526
<c.magenta>对将广色域内容加入你的应用</c>

00:28:45.592 --> 00:28:47.628
<c.magenta>因为我们确保有了应用切片</c>

00:28:47.694 --> 00:28:50.330
<c.magenta>广色域内容只被发送给广色域设备</c>

00:28:50.430 --> 00:28:52.733
<c.magenta>sRGB内容发送给剩下的设备</c>

00:28:52.799 --> 00:28:56.436
<c.magenta>它不会浪费不相关设备的空间</c>

00:28:58.739 --> 00:29:01.742
<c.magenta>在Mac上其实没有新东西</c>

00:28:58.739 --> 00:29:01.742
<c.magenta>在Mac上其实没有新东西</c>

00:29:01.808 --> 00:29:04.344
<c.magenta>NSImage总是可选择最好的表达</c>

00:29:04.411 --> 00:29:07.848
<c.magenta>从资源分类中可用的表达里</c>

00:29:07.948 --> 00:29:09.917
<c.magenta>它会继续这么做</c>

00:29:10.017 --> 00:29:12.152
<c.magenta>根据你的目标显示器的特征</c>

00:29:12.219 --> 00:29:14.688
<c.magenta>比如如果你使用的是广色域iMac</c>

00:29:14.755 --> 00:29:18.425
<c.magenta>你有P3内容在你的资源分类中</c>

00:29:18.492 --> 00:29:22.729
<c.magenta>它会在渲染内容时使用这些资源</c>

00:29:22.996 --> 00:29:27.668
<c.magenta>就像Mac上1X和2X资源的</c>
<c.magenta>行为一样</c>

00:29:27.768 --> 00:29:30.604
<c.magenta>NSImage和NSImage视图</c>
<c.magenta>和所有有关的AppKit类</c>

00:29:30.671 --> 00:29:33.073
<c.magenta>确保自动刷新内容</c>

00:29:33.140 --> 00:29:35.175
<c.magenta>当显示器特征改变时</c>

00:29:35.242 --> 00:29:38.645
<c.magenta>比如你的窗口在内部和外部显示器</c>
<c.magenta>之间移动</c>

00:29:38.745 --> 00:29:42.916
<c.magenta>或者颜色特征或后台缩放比例改变</c>

00:29:43.750 --> 00:29:44.818
<c.magenta>这很好</c>

00:29:44.952 --> 00:29:47.521
<c.magenta>但是数据是怎么储存的</c>

00:29:47.588 --> 00:29:51.425
<c.magenta>这会对你的应用有什么影响？</c>

00:29:52.292 --> 00:29:55.429
<c.magenta>一个好消息是在构建时</c>
<c.magenta>我们尽了很大努力</c>

00:29:55.495 --> 00:29:58.966
<c.magenta>来优化像素格式和储存特征</c>

00:29:59.032 --> 00:30:01.902
<c.magenta>为你的资源分类的所有图像内容</c>

00:29:59.032 --> 00:30:01.902
<c.magenta>为你的资源分类的所有图像内容</c>

00:30:02.503 --> 00:30:05.239
<c.magenta>并尽量用最有效率的方法来做到</c>
<c.magenta>这些</c>

00:30:05.305 --> 00:30:07.007
<c.magenta>尽我们最大的能力</c>

00:30:07.074 --> 00:30:12.713
<c.magenta>我们现在用16位每成分来储存</c>
<c.magenta>广色域内容</c>

00:30:12.813 --> 00:30:13.647
<c.magenta>我之前提到过</c>

00:30:13.714 --> 00:30:18.018
<c.magenta>这允许你有端到端16位的颜色精度</c>

00:30:18.085 --> 00:30:20.554
<c.magenta>在你的应用资源中</c>

00:30:21.321 --> 00:30:24.358
<c.magenta>我们还有压缩</c>

00:30:25.292 --> 00:30:29.663
<c.magenta>这很方便因为16位和8位相比有</c>
<c.magenta>更多数据</c>

00:30:29.730 --> 00:30:33.767
<c.magenta>更多的数据不可避免的导致更大的</c>
<c.magenta>足迹</c>

00:30:33.867 --> 00:30:35.169
<c.magenta>除非你使用压缩</c>

00:30:35.235 --> 00:30:38.305
<c.magenta>现在我们总是有压缩</c>
<c.magenta>我们总是有无缩压缩</c>

00:30:38.372 --> 00:30:41.141
<c.magenta>比如对PNG文件发生的</c>

00:30:41.975 --> 00:30:45.379
<c.magenta>但今年的新特性是一些有损压缩</c>
<c.magenta>选项</c>

00:30:45.445 --> 00:30:49.049
<c.magenta>来中和 你知道的 应用足迹尺寸</c>

00:30:49.950 --> 00:30:53.954
<c.magenta>第一个我们称为基本压缩</c>

00:30:54.021 --> 00:30:57.291
<c.magenta>这是一个和JPEG很像的压缩系统</c>

00:30:57.391 --> 00:31:01.028
<c.magenta>除了增加的红利</c>
<c.magenta>它还可以处理透明度</c>

00:30:57.391 --> 00:31:01.028
<c.magenta>除了增加的红利</c>
<c.magenta>它还可以处理透明度</c>

00:31:01.094 --> 00:31:06.300
<c.magenta>它有相似的视觉和性能特征</c>

00:31:06.366 --> 00:31:10.771
<c.magenta>好消息是它表现的很好</c>

00:31:10.838 --> 00:31:13.040
<c.magenta>在所有设备上</c>

00:31:13.106 --> 00:31:14.641
<c.magenta>就像JPEG一样</c>

00:31:15.008 --> 00:31:16.009
<c.magenta>它是你可以依赖的</c>

00:31:16.076 --> 00:31:19.613
<c.magenta>付出很小的视觉质量损失</c>

00:31:19.680 --> 00:31:22.049
<c.magenta>来获得很好的储存特性</c>

00:31:22.916 --> 00:31:24.985
<c.magenta>今年新的还有</c>

00:31:25.052 --> 00:31:28.922
<c.magenta>我们有令人兴奋的选项</c>
<c.magenta>叫做使用ASTC的GPU压缩</c>

00:31:29.890 --> 00:31:32.626
<c.magenta>ASTC代表高级可缩放纹理压缩</c>

00:31:32.693 --> 00:31:36.797
<c.magenta>是用GPU压缩过的纹理格式</c>

00:31:36.897 --> 00:31:42.903
<c.magenta>被很多Apple设备上和其他系统上</c>
<c.magenta>的现代GPU支持</c>

00:31:44.505 --> 00:31:49.877
<c.magenta>我们把这个选择带到你的资源分类中</c>
<c.magenta>通过两种不同形式</c>

00:31:49.943 --> 00:31:52.613
<c.magenta>一是GPU最佳质量</c>

00:31:52.679 --> 00:31:56.917
<c.magenta>是固定的比特率</c>
<c.magenta>4位每像素ASTC压缩模式</c>

00:31:56.984 --> 00:32:00.020
<c.magenta>是很好的选择 大致上可以</c>
<c.magenta>在视觉性能上</c>

00:31:56.984 --> 00:32:00.020
<c.magenta>是很好的选择 大致上可以</c>
<c.magenta>在视觉性能上</c>

00:32:00.087 --> 00:32:03.290
<c.magenta>和视觉保真度上</c>
<c.magenta>和高质量JPEG相当</c>

00:32:04.858 --> 00:32:07.594
<c.magenta>我们还有GPU最小尺寸</c>

00:32:07.661 --> 00:32:10.230
<c.magenta>如果你真的想极大地优化你的足迹</c>

00:32:10.330 --> 00:32:14.468
<c.magenta>和你的内存足迹</c>
<c.magenta>那么你选择这个尺寸</c>

00:32:14.535 --> 00:32:16.470
<c.magenta>这是1位每像素固定比特率编码</c>

00:32:16.537 --> 00:32:18.305
<c.magenta>有优秀的存储特性</c>

00:32:19.506 --> 00:32:24.545
<c.magenta>当然因为不是每个设备的每个GPU</c>
<c.magenta>都支持</c>

00:32:24.611 --> 00:32:27.648
<c.magenta>使用ASTC格式</c>

00:32:28.348 --> 00:32:30.651
<c.magenta>我们更进一步</c>
<c.magenta>为你自动生成</c>

00:32:30.717 --> 00:32:35.122
<c.magenta>一个软件后退</c>
<c.magenta>为没有这个功能的设备</c>

00:32:35.189 --> 00:32:37.124
<c.magenta>这很好的一点是它意味着你不需要</c>
<c.magenta>担心</c>

00:32:37.191 --> 00:32:40.561
<c.magenta>你的内容会不兼容</c>

00:32:40.661 --> 00:32:41.762
<c.magenta>对所有支持的设备</c>

00:32:41.828 --> 00:32:43.397
<c.magenta>我们会自动生成这个后退</c>

00:32:43.497 --> 00:32:45.499
<c.magenta>合适地使用 瘦身 路由它</c>

00:32:45.566 --> 00:32:48.101
<c.magenta>对不支持ASTC的设备</c>

00:32:48.735 --> 00:32:51.238
<c.magenta>所以你可以使用GPU压缩</c>

00:32:51.305 --> 00:32:54.942
<c.magenta>不需要冒破坏兼容性的风险</c>

00:32:55.776 --> 00:32:58.312
<c.magenta>一个简短的注解关于GPU如何压缩</c>

00:32:58.378 --> 00:33:00.514
<c.magenta>广色域资源</c>

00:32:58.378 --> 00:33:00.514
<c.magenta>广色域资源</c>

00:33:01.048 --> 00:33:06.653
<c.magenta>我们用ASTC低动态范围</c>
<c.magenta>（LDR）压缩模式</c>

00:33:07.387 --> 00:33:09.656
<c.magenta>就是说广色域内容实际上需要</c>

00:33:09.723 --> 00:33:12.025
<c.magenta>在压缩前被降低到8位</c>

00:33:12.092 --> 00:33:15.963
<c.magenta>因为LDR是每样本8位的压缩格式</c>

00:33:16.763 --> 00:33:18.832
<c.magenta>好消息是我们为你进行这项工作</c>

00:33:18.899 --> 00:33:22.536
<c.magenta>我们自动进行一个高质量的8位</c>
<c.magenta>转换</c>

00:33:22.603 --> 00:33:25.239
<c.magenta>在构造中</c>
<c.magenta>当我们处理你的图像时</c>

00:33:26.173 --> 00:33:28.876
<c.magenta>但是我们保留可能含有的广色域</c>
<c.magenta>颜色</c>

00:33:28.942 --> 00:33:30.711
<c.magenta>在你的原始16位源内容中的颜色</c>

00:33:30.777 --> 00:33:35.382
<c.magenta>通过Display P3色彩空间内</c>
<c.magenta>编码和压缩</c>

00:33:35.449 --> 00:33:38.418
<c.magenta>这样就保留了显示所有颜色的能力</c>

00:33:38.485 --> 00:33:40.754
<c.magenta>在Display P3色域中的所有颜色</c>

00:33:42.823 --> 00:33:44.291
<c.magenta>这就是部署</c>

00:33:44.391 --> 00:33:46.393
<c.magenta>关于部署特性的一个小讨论</c>

00:33:46.460 --> 00:33:49.162
<c.magenta>但是这个演讲是关于颜色的</c>

00:33:49.296 --> 00:33:50.697
<c.magenta>颜色怎么样？</c>

00:33:51.565 --> 00:33:53.634
<c.magenta>特别是UI中的颜色</c>

00:33:54.434 --> 00:33:55.369
<c.magenta>UI中的颜色</c>

00:33:55.469 --> 00:33:59.373
<c.magenta>一个重要的观察是你在屏幕上看到</c>
<c.magenta>的大部分像素</c>

00:33:59.439 --> 00:34:01.208
<c.magenta>大部分应用绘制的</c>
<c.magenta>并不是来自图像</c>

00:33:59.439 --> 00:34:01.208
<c.magenta>大部分应用绘制的</c>
<c.magenta>并不是来自图像</c>

00:34:01.275 --> 00:34:04.912
<c.magenta>即使在这次演讲中获得了重要地位</c>
<c.magenta>的应用</c>

00:34:04.978 --> 00:34:06.947
<c.magenta>屏幕上的大部分像素实际上是纯色</c>

00:34:07.047 --> 00:34:09.416
<c.magenta>在你的应用中用代码绘制</c>

00:34:10.284 --> 00:34:11.918
<c.magenta>广色域颜色的结果是</c>

00:34:11.985 --> 00:34:16.623
<c.magenta>对仅仅工作在这么简单的层次带</c>
<c.magenta>来了新的挑战</c>

00:34:16.723 --> 00:34:18.091
<c.magenta>让我们谈谈它</c>

00:34:18.692 --> 00:34:20.960
<c.magenta>特别是我想谈谈第一个挑战</c>

00:34:21.027 --> 00:34:22.663
<c.magenta>实际上是谈论颜色</c>

00:34:22.728 --> 00:34:24.864
<c.magenta>因为这是一个被低估的问题</c>

00:34:24.931 --> 00:34:26.667
<c.magenta>被低估的问题</c>

00:34:27.167 --> 00:34:30.170
<c.magenta>一般当设计师和工程师交流</c>

00:34:30.237 --> 00:34:34.507
<c.magenta>通过书面形式 或者可能甚至是</c>
<c.magenta>口头或视觉形式</c>

00:34:34.574 --> 00:34:37.844
<c.magenta>代码的交流</c>
<c.magenta>通常假设了sRGB色彩空间</c>

00:34:38.445 --> 00:34:41.514
<c.magenta>这表明你可能曾经看到颜色被</c>
<c.magenta>写下来</c>

00:34:41.614 --> 00:34:45.319
<c.magenta>像是RGB 128 45 56</c>
<c.magenta>这样的格式</c>

00:34:45.686 --> 00:34:47.855
<c.magenta>很简单 他们不告诉你</c>
<c.magenta>这是在什么色彩空间</c>

00:34:47.955 --> 00:34:50.090
<c.magenta>它假设每个人都知道是什么颜色</c>

00:34:50.157 --> 00:34:52.826
<c.magenta>因为每个人都使用sRGB 不是吗？</c>

00:34:53.092 --> 00:34:54.761
<c.magenta>不再是了</c>

00:34:55.395 --> 00:34:59.333
<c.magenta>这对和广色域一起工作不再足够</c>

00:34:59.433 --> 00:35:00.267
<c.magenta>那你要怎么办？</c>

00:34:59.433 --> 00:35:00.267
<c.magenta>那你要怎么办？</c>

00:35:00.334 --> 00:35:02.002
<c.magenta>你能做的最重要的步骤是指出</c>

00:35:02.069 --> 00:35:05.138
<c.magenta>指出什么色彩空间是你工作和交流的</c>

00:35:05.205 --> 00:35:07.774
<c.magenta>或者写下 或者传送那个颜色</c>

00:35:09.176 --> 00:35:14.248
<c.magenta>当你进行广色域设计时</c>
<c.magenta>用Display P3而非sRGB</c>

00:35:14.581 --> 00:35:15.849
<c.magenta>并标明它</c>

00:35:16.149 --> 00:35:21.288
<c.magenta>如果你需要使用比0到255的8位</c>
<c.magenta>表示更高的精度</c>

00:35:21.421 --> 00:35:22.656
<c.magenta>那么使用浮点数</c>

00:35:23.023 --> 00:35:26.159
<c.magenta>做为一个例子 下一次你在电子</c>
<c.magenta>邮件里发送颜色</c>

00:35:26.660 --> 00:35:28.595
<c.magenta>你可能会把它们写成像这样的</c>

00:35:28.662 --> 00:35:33.500
<c.magenta>有一个注解 P3 255</c>
<c.magenta>128 191等等</c>

00:35:34.468 --> 00:35:35.402
<c.magenta>选择颜色</c>

00:35:35.469 --> 00:35:37.004
<c.magenta>这是你怎么交流颜色</c>

00:35:37.070 --> 00:35:39.373
<c.magenta>但是那个颜色是从何而来的</c>

00:35:39.439 --> 00:35:41.642
<c.magenta>可能是你选择它</c>
<c.magenta>可能是设计师从哪选择了它</c>

00:35:41.742 --> 00:35:43.944
<c.magenta>他们是怎么选择颜色的？</c>
<c.magenta>用一个色板</c>

00:35:44.578 --> 00:35:47.481
<c.magenta>这是Mac的标准色板</c>

00:35:47.548 --> 00:35:49.950
<c.magenta>是AppKit的一部分</c>
<c.magenta>叫做NSColorPanel</c>

00:35:51.685 --> 00:35:56.223
<c.magenta>这当然是个很熟悉的UI</c>
<c.magenta>但是它也遭受</c>

00:35:56.290 --> 00:35:58.825
<c.magenta>一些我们刚才提到了的调用颜色</c>
<c.magenta>遇到的限制</c>

00:35:58.892 --> 00:36:02.296
<c.magenta>典型的 我们选取红 绿 蓝的值</c>
<c.magenta>0到255的数字</c>

00:35:58.892 --> 00:36:02.296
<c.magenta>典型的 我们选取红 绿 蓝的值</c>
<c.magenta>0到255的数字</c>

00:36:02.963 --> 00:36:06.166
<c.magenta>色板总是支持在不同的色彩空间</c>
<c.magenta>中选择颜色</c>

00:36:06.233 --> 00:36:09.803
<c.magenta>但是这不总是一个直观和简单的</c>
<c.magenta>用户体验</c>

00:36:10.370 --> 00:36:12.706
<c.magenta>我很高兴地说我们实际上做了</c>
<c.magenta>一些改进</c>

00:36:12.773 --> 00:36:14.842
<c.magenta>在macOS Sierra的色板中</c>

00:36:14.908 --> 00:36:16.977
<c.magenta>使工作在广色域变得容易一点</c>

00:36:17.511 --> 00:36:18.745
<c.magenta>我们做的第一件事</c>

00:36:18.812 --> 00:36:22.883
<c.magenta>是我们把最常用最重要的工作空间</c>

00:36:22.983 --> 00:36:26.420
<c.magenta>主要是Display P3和</c>
<c.magenta>sRGB放在右键菜单里</c>

00:36:26.486 --> 00:36:32.726
<c.magenta>在数字选择器的动作菜单里sRGB</c>
<c.magenta>当然还有Display P3</c>

00:36:32.893 --> 00:36:35.596
<c.magenta>我们做的下一件事是我们实际上</c>
<c.magenta>允许一个选项</c>

00:36:35.662 --> 00:36:40.067
<c.magenta>改变它的颜色的数字显示方式</c>
<c.magenta>从整数变成浮点数</c>

00:36:40.400 --> 00:36:42.836
<c.magenta>所以你可以标准化浮点颜色</c>

00:36:42.903 --> 00:36:45.305
<c.magenta>如果这对你的工作流程有利</c>

00:36:46.840 --> 00:36:51.612
<c.magenta>另一个令人兴奋的事是我们</c>
<c.magenta>在色度环或环选择器中完成了它</c>

00:36:52.279 --> 00:36:55.782
<c.magenta>我们实际上改变了它的实现</c>
<c.magenta>所以它实际上可以渲染</c>

00:36:55.883 --> 00:37:00.954
<c.magenta>整个P3颜色的色域</c>
<c.magenta>当使用一个合适的显示器时</c>

00:36:55.883 --> 00:37:00.954
<c.magenta>整个P3颜色的色域</c>
<c.magenta>当使用一个合适的显示器时</c>

00:37:02.256 --> 00:37:05.459
<c.magenta>我们还添加了一个新的右键菜单</c>
<c.magenta>允许你</c>

00:37:05.526 --> 00:37:07.561
<c.magenta>使用这个自动行为</c>

00:37:07.628 --> 00:37:11.098
<c.magenta>它自动切换功能 在P3</c>

00:37:11.164 --> 00:37:15.335
<c.magenta>和sRGB之间 当你用多台显示器时</c>
<c.magenta>或者固定在特定色彩空间</c>

00:37:15.836 --> 00:37:17.871
<c.magenta>如果你想看到更多</c>

00:37:19.506 --> 00:37:23.810
<c.magenta>现在我们选择了我们的颜色</c>
<c.magenta>我们知道怎么沟通它</c>

00:37:23.877 --> 00:37:26.146
<c.magenta>其实要使事情发生</c>
<c.magenta>我们需要写代码 不是吗？</c>

00:37:26.346 --> 00:37:28.815
<c.magenta>我们怎么在代码中构造广色域颜色？</c>

00:37:30.217 --> 00:37:33.353
<c.magenta>我们引入了两个新的方便的构造函数</c>

00:37:33.420 --> 00:37:38.192
<c.magenta>在AppKit和UIKit中直接</c>
<c.magenta>使用Display P3颜色数字</c>

00:37:38.959 --> 00:37:41.228
<c.magenta>这是NSColor Display P3</c>
<c.magenta>红 绿 蓝 透明度</c>

00:37:41.295 --> 00:37:43.797
<c.magenta>和UIColor Display P3</c>
<c.magenta>红 绿 蓝 透明度</c>

00:37:43.864 --> 00:37:46.066
<c.magenta>很好的方法</c>
<c.magenta>和来自你的设计师的P3颜色一起工作</c>

00:37:47.000 --> 00:37:51.338
<c.magenta>但是当然你的代码可能工作在</c>
<c.magenta>扩大范围sRGB颜色上</c>

00:37:51.438 --> 00:37:54.842
<c.magenta>这可能并不来自设计师</c>
<c.magenta>但是可能来自一个不同的子系统</c>

00:37:54.942 --> 00:37:58.946
<c.magenta>或者一个提供扩大范围sRGB颜色</c>
<c.magenta>的API</c>

00:37:59.179 --> 00:38:00.480
<c.magenta>你怎么和这些一起工作？</c>

00:37:59.179 --> 00:38:00.480
<c.magenta>你怎么和这些一起工作？</c>

00:38:00.681 --> 00:38:05.085
<c.magenta>好消息是我们扩展了已有的标准</c>

00:38:05.152 --> 00:38:08.488
<c.magenta>NSColor和UIColor的</c>
<c.magenta>红 绿 蓝 透明度构造函数</c>

00:38:08.655 --> 00:38:12.826
<c.magenta>并不固定在他们的输入成分</c>
<c.magenta>并且允许值被表示成</c>

00:38:12.893 --> 00:38:14.795
<c.magenta>大于1和小于0</c>

00:38:14.928 --> 00:38:18.465
<c.magenta>这样你可简单构造扩大范围的sRGB</c>
<c.magenta>颜色</c>

00:38:20.501 --> 00:38:23.203
<c.magenta>然后是储存颜色</c>

00:38:24.338 --> 00:38:26.373
<c.magenta>如果你想要</c>

00:38:27.574 --> 00:38:30.811
<c.magenta>把颜色放入你的文档数据或者</c>
<c.magenta>用某种形式归档它们要怎么做？</c>

00:38:31.044 --> 00:38:34.147
<c.magenta>这样做的话要特别小心</c>

00:38:34.214 --> 00:38:37.985
<c.magenta>因为和这个生态系统的其他部分</c>
<c.magenta>一样</c>

00:38:38.185 --> 00:38:41.889
<c.magenta>有很多传统上的关于颜色空间的</c>
<c.magenta>假设</c>

00:38:41.955 --> 00:38:43.457
<c.magenta>并假设每个人说的是相同的事</c>

00:38:43.524 --> 00:38:45.592
<c.magenta>当你传递一个红 绿 蓝数字</c>

00:38:45.659 --> 00:38:47.361
<c.magenta>你只需要三个数字对吗？</c>

00:38:47.427 --> 00:38:49.530
<c.magenta>只需这么做表示一个颜色</c>
<c.magenta>这有什么问题？</c>

00:38:49.997 --> 00:38:51.131
<c.magenta>事实证明确实有问题</c>

00:38:51.465 --> 00:38:54.635
<c.magenta>因为你无法分清sRGB</c>

00:38:54.701 --> 00:38:56.470
<c.magenta>和P3颜色且你可能做了错误选择</c>

00:38:56.537 --> 00:38:59.173
<c.magenta>结果在你的文档中是错误的颜色</c>

00:38:59.773 --> 00:39:02.075
<c.magenta>我希望你考虑一下</c>

00:38:59.773 --> 00:39:02.075
<c.magenta>我希望你考虑一下</c>

00:39:02.142 --> 00:39:07.681
<c.magenta>在使用广色域颜色的时候同时编码</c>
<c.magenta>一个兼容的sRGB颜色</c>

00:39:08.382 --> 00:39:12.252
<c.magenta>这允许你的应用</c>
<c.magenta>特别是旧的版本</c>

00:39:12.352 --> 00:39:13.353
<c.magenta>因为这是文档数据</c>

00:39:13.420 --> 00:39:16.089
<c.magenta>你需要考虑向前向后兼容</c>

00:39:16.490 --> 00:39:20.027
<c.magenta>允许旧应用继续得到sRGB数据</c>

00:39:20.093 --> 00:39:22.996
<c.magenta>并继续把它当成sRGB</c>
<c.magenta>这是当时做的假设</c>

00:39:23.363 --> 00:39:26.366
<c.magenta>而新的软件知道新的广色域代码</c>

00:39:26.433 --> 00:39:27.634
<c.magenta>你一起保存的代码</c>

00:39:28.669 --> 00:39:31.271
<c.magenta>你怎么创造兼容的sRGB颜色？</c>

00:39:31.338 --> 00:39:34.408
<c.magenta>在iOS上你可以用</c>
<c.magenta>CGColor.convert API</c>

00:39:34.908 --> 00:39:38.946
<c.magenta>在macOS上你可以用珍贵的</c>
<c.magenta>NSColor.usingColorSpace API</c>

00:39:39.012 --> 00:39:41.215
<c.magenta>来把那些颜色转化到sRGB色彩空间</c>

00:39:42.049 --> 00:39:45.752
<c.magenta>我们实际上把这集成到了macOS</c>
<c.magenta>本身中</c>

00:39:46.220 --> 00:39:51.325
<c.magenta>你可能熟悉TextEdit</c>
<c.magenta>Mac上的文字编辑应用</c>

00:39:51.592 --> 00:39:54.595
<c.magenta>它的文档格式是RTF</c>
<c.magenta>也就是富文本格式</c>

00:39:54.661 --> 00:39:56.797
<c.magenta>一直存在并被支持</c>

00:39:56.864 --> 00:39:59.766
<c.magenta>被Cocoa文本系统作为</c>
<c.magenta>它所需的文档储存格式</c>

00:40:00.067 --> 00:40:04.671
<c.magenta>当你对一个文本范围添加一个颜色</c>

00:40:04.738 --> 00:40:07.207
<c.magenta>它实际上被储存在RTF文档里的方式</c>

00:40:07.541 --> 00:40:12.946
<c.magenta>是简单的红 绿 蓝 0到255</c>

00:40:13.247 --> 00:40:15.616
<c.magenta>这会造成问题</c>
<c.magenta>我想现在你们可以理解</c>

00:40:15.682 --> 00:40:17.951
<c.magenta>因为我们不知道</c>
<c.magenta>那些红 绿 蓝值</c>

00:40:18.018 --> 00:40:20.988
<c.magenta>属于哪个色彩空间</c>
<c.magenta>而且它不允许你表达整个范围</c>

00:40:21.622 --> 00:40:23.390
<c.magenta>所以我们采取了行动</c>

00:40:23.790 --> 00:40:26.894
<c.magenta>我们的成果是改进RTF标准</c>

00:40:26.960 --> 00:40:30.664
<c.magenta>以及我们怎么读写RTF</c>
<c.magenta>至少在我们的平台上</c>

00:40:31.131 --> 00:40:34.735
<c.magenta>通过包含一个扩展的颜色表</c>

00:40:35.235 --> 00:40:37.938
<c.magenta>这实际上注释了每个颜色元组</c>

00:40:38.005 --> 00:40:40.574
<c.magenta>它现在被转化成16位整数</c>

00:40:40.841 --> 00:40:42.976
<c.magenta>包含单独的色彩空间信息</c>

00:40:43.043 --> 00:40:45.879
<c.magenta>允许你在多个色彩空间定义颜色</c>

00:40:47.714 --> 00:40:48.782
<c.magenta>这很好</c>

00:40:48.882 --> 00:40:51.451
<c.magenta>但是这是加利福尼亚州</c>
<c.magenta>我们应该冲浪不是吗？</c>

00:40:51.818 --> 00:40:53.687
<c.magenta>这和颜色有什么关系？</c>

00:40:53.754 --> 00:40:55.556
<c.magenta>网络上有颜色</c>

00:40:58.158 --> 00:41:01.128
<c.magenta>关于广色域和网络的好消息是</c>

00:40:58.158 --> 00:41:01.128
<c.magenta>关于广色域和网络的好消息是</c>

00:41:01.562 --> 00:41:04.031
<c.magenta>只要你的图像内容有正确的标签</c>

00:41:04.097 --> 00:41:05.933
<c.magenta>和正确的颜色配置信息</c>

00:41:06.333 --> 00:41:10.137
<c.magenta>那么所有内容在网页上渲染时都</c>
<c.magenta>会被颜色匹配</c>

00:41:10.404 --> 00:41:12.639
<c.magenta>只要你这么做</c>
<c.magenta>你就准备好了</c>

00:41:13.941 --> 00:41:17.177
<c.magenta>还有现在有媒介查询可以用来解析</c>
<c.magenta>资源</c>

00:41:17.244 --> 00:41:20.514
<c.magenta>在P3和sRGB兼容设备间</c>
<c.magenta>这真的很方便</c>

00:41:21.849 --> 00:41:24.618
<c.magenta>最后现在有WebKit提案</c>

00:41:24.718 --> 00:41:29.456
<c.magenta>用来在除了sRGB以外的色彩空间</c>
<c.magenta>中定义颜色</c>

00:41:29.523 --> 00:41:32.125
<c.magenta>一种从CSS开始就有的情况</c>

00:41:32.693 --> 00:41:35.596
<c.magenta>我要说的就这些</c>
<c.magenta>我想把讲台交给Steve Holt</c>

00:41:35.696 --> 00:41:40.200
<c.magenta>他会告诉你更多关于在你的应用中</c>
<c.magenta>渲染广色域的事</c>

00:41:40.667 --> 00:41:41.568
<c.magenta>谢谢</c>

00:41:44.171 --> 00:41:45.072
<c.magenta>谢谢Patrick</c>

00:41:47.040 --> 00:41:49.042
<c.magenta>所以在你的应用中</c>

00:41:49.810 --> 00:41:53.580
<c.magenta>你经常有从资源分类中获得的资源</c>

00:41:53.647 --> 00:41:57.217
<c.magenta>但是你可能获得一些内容是由</c>
<c.magenta>用户产生的</c>

00:41:57.284 --> 00:42:00.120
<c.magenta>或者来自网络</c>
<c.magenta>你无法控制的来源</c>

00:41:57.284 --> 00:42:00.120
<c.magenta>或者来自网络</c>
<c.magenta>你无法控制的来源</c>

00:42:00.754 --> 00:42:04.725
<c.magenta>也许你想要产生一些额外的资源</c>
<c.magenta>作为它的一部分</c>

00:42:05.325 --> 00:42:07.160
<c.magenta>你怎么在广色域中来处理这些？</c>

00:42:07.694 --> 00:42:10.898
<c.magenta>当你用广色域绘制时</c>

00:42:12.332 --> 00:42:14.434
<c.magenta>我将用一个简化的例子</c>

00:42:14.501 --> 00:42:19.740
<c.magenta>这是一个盒子</c>
<c.magenta>它的一半被渲染</c>

00:42:19.806 --> 00:42:23.143
<c.magenta>用Display P3中</c>
<c.magenta>我们可用最饱和的红色</c>

00:42:23.544 --> 00:42:25.746
<c.magenta>另一半被渲染</c>

00:42:25.879 --> 00:42:29.583
<c.magenta>使用我们可用的最饱和的sRGB颜色</c>

00:42:30.417 --> 00:42:34.388
<c.magenta>不幸的是因为这个视频是被录制的</c>

00:42:34.454 --> 00:42:36.857
<c.magenta>而且你是用一个投影系统观看直播</c>

00:42:37.124 --> 00:42:40.160
<c.magenta>而它并没有和我们的新显示一样</c>
<c.magenta>的颜色保真度</c>

00:42:40.360 --> 00:42:41.261
<c.magenta>我们需要作弊</c>

00:42:42.296 --> 00:42:44.898
<c.magenta>我们实际上降低了两种颜色的</c>
<c.magenta>饱和度</c>

00:42:44.965 --> 00:42:48.836
<c.magenta>我们看到的和代码不完全一样</c>

00:42:48.936 --> 00:42:50.537
<c.magenta>和我将要展示的代码的输出相比</c>

00:42:50.604 --> 00:42:53.540
<c.magenta>但是在一台设备上渲染它</c>
<c.magenta>它会在那</c>

00:42:54.441 --> 00:42:58.812
<c.magenta>我是UIKit组</c>
<c.magenta>Cocoa的框架工程师</c>

00:42:58.912 --> 00:43:03.450
<c.magenta>当然我会从桌面的Cocoa开始</c>

00:42:58.912 --> 00:43:03.450
<c.magenta>当然我会从桌面的Cocoa开始</c>

00:43:03.550 --> 00:43:05.519
<c.magenta>用广色域Cocoa渲染</c>

00:43:05.586 --> 00:43:07.187
<c.magenta>当你在桌面上</c>

00:43:07.254 --> 00:43:10.457
<c.magenta>它已经有很好的颜色管理支持</c>

00:43:10.524 --> 00:43:13.193
<c.magenta>你图像和绘制中的颜色配置</c>

00:43:13.994 --> 00:43:16.330
<c.magenta>如果你需要在代码中手动绘制</c>

00:43:16.763 --> 00:43:20.367
<c.magenta>而且需要在屏幕外完成</c>
<c.magenta>推荐的做法是</c>

00:43:20.434 --> 00:43:24.404
<c.magenta>用NSImage和</c>
<c.magenta>drawingHandler API</c>

00:43:25.272 --> 00:43:27.207
<c.magenta>它被调用时有当前语境</c>

00:43:27.875 --> 00:43:31.712
<c.magenta>你可以在任何你使用NSImage的</c>
<c.magenta>地方使用它</c>

00:43:31.879 --> 00:43:32.913
<c.magenta>它可以在那工作</c>

00:43:33.680 --> 00:43:35.415
<c.magenta>让我们看一些代码</c>

00:43:37.451 --> 00:43:40.821
<c.magenta>很简单就是设置一个尺寸</c>

00:43:41.388 --> 00:43:46.126
<c.magenta>我们用我们想要的尺寸</c>
<c.magenta>初始化NSImage</c>

00:43:46.193 --> 00:43:47.594
<c.magenta>我们不想它翻转</c>

00:43:48.195 --> 00:43:51.365
<c.magenta>我们配置绘制处理器</c>

00:43:53.834 --> 00:43:56.069
<c.magenta>我们从drawRect</c>
<c.magenta>得到传入的矩形</c>

00:43:56.403 --> 00:44:01.608
<c.magenta>我们把它分为两半</c>
<c.magenta>分配displayP3Red并绘制它</c>

00:43:56.403 --> 00:44:01.608
<c.magenta>我们把它分为两半</c>
<c.magenta>分配displayP3Red并绘制它</c>

00:44:02.476 --> 00:44:05.679
<c.magenta>然后分配我们的sRGB红并绘制它</c>

00:44:06.380 --> 00:44:10.050
<c.magenta>然后返回真 因为我们成功了</c>
<c.magenta>我们完成了</c>

00:44:10.751 --> 00:44:12.986
<c.magenta>这就是了 它是工作的</c>

00:44:13.387 --> 00:44:15.289
<c.magenta>如果你目前在你的应用里使用它</c>

00:44:15.522 --> 00:44:16.957
<c.magenta>你已经做了正确的事</c>

00:44:18.559 --> 00:44:21.328
<c.magenta>这就是桌面</c>

00:44:21.828 --> 00:44:24.531
<c.magenta>那关于iOS呢？</c>
<c.magenta>应该是一样容易对吗？</c>

00:44:26.200 --> 00:44:31.071
<c.magenta>你们应该熟悉</c>
<c.magenta>UIGraphicsBeginImageContext</c>

00:44:31.738 --> 00:44:33.006
<c.magenta>这是一个很好的API</c>

00:44:34.808 --> 00:44:36.610
<c.magenta>让我们再看看代码</c>

00:44:37.110 --> 00:44:39.947
<c.magenta>我们得到尺寸</c>
<c.magenta>我们用尺寸创造语境</c>

00:44:40.948 --> 00:44:46.753
<c.magenta>我们分开我们的矩形 绘制我们的</c>
<c.magenta>P3颜色和sRGB颜色</c>

00:44:47.588 --> 00:44:49.556
<c.magenta>我们得到我们的图像并结束语境</c>

00:44:50.958 --> 00:44:52.926
<c.magenta>这就是我们得到的</c>

00:44:54.595 --> 00:44:56.496
<c.magenta>这不对</c>

00:44:58.465 --> 00:44:59.733
<c.magenta>为什么这不工作？</c>

00:45:02.536 --> 00:45:07.274
<c.magenta>如果我们看看资料</c>
<c.magenta>我们有一个有趣的点</c>

00:45:08.108 --> 00:45:12.446
<c.magenta>我们标明了UIKit中的</c>
<c.magenta>BeginImageContext API</c>

00:45:13.380 --> 00:45:16.483
<c.magenta>只会返回一个32位整数语境</c>

00:45:16.617 --> 00:45:21.455
<c.magenta>这表明你每个通道红 绿 蓝 透明</c>
<c.magenta>度只得到8位</c>

00:45:23.557 --> 00:45:28.028
<c.magenta>这极大地影响了我们能用它绘制</c>
<c.magenta>什么</c>

00:45:29.396 --> 00:45:32.966
<c.magenta>因为我们不能创建一个语境</c>
<c.magenta>每个颜色通道超过8位</c>

00:45:35.736 --> 00:45:39.339
<c.magenta>它不能显示任何扩大范围sRGB色域</c>
<c.magenta>中的颜色</c>

00:45:40.974 --> 00:45:44.244
<c.magenta>而且因为已有的界面是用C语言写的</c>

00:45:44.511 --> 00:45:48.582
<c.magenta>我们不能扩展选项</c>

00:45:48.715 --> 00:45:52.719
<c.magenta>我们也不想使UIGraphics</c>
<c.magenta>成为有更多选项的语境</c>

00:45:53.887 --> 00:45:57.958
<c.magenta>所以我们在iOS X中提供了一些</c>
<c.magenta>新API</c>

00:45:58.692 --> 00:46:00.661
<c.magenta>它是UIGraphicsImageRenderer</c>

00:45:58.692 --> 00:46:00.661
<c.magenta>它是UIGraphicsImageRenderer</c>

00:46:02.162 --> 00:46:03.897
<c.magenta>它的工作方式很直观</c>

00:46:03.964 --> 00:46:06.200
<c.magenta>我会进入一些代码</c>

00:46:07.701 --> 00:46:11.038
<c.magenta>首先初始化我们的图像渲染者对象</c>

00:46:11.305 --> 00:46:12.439
<c.magenta>你可以重用它</c>

00:46:12.673 --> 00:46:16.243
<c.magenta>而且它的属性会保持相同</c>
<c.magenta>在每个</c>

00:46:16.310 --> 00:46:18.345
<c.magenta>你使用这个绘制处理器得到的图像中</c>

00:46:20.547 --> 00:46:22.783
<c.magenta>你只需要调用渲染器 图像</c>

00:46:23.016 --> 00:46:29.656
<c.magenta>你提供代码块就像平时一样</c>

00:46:30.524 --> 00:46:34.828
<c.magenta>你从描述确切属性的</c>
<c.magenta>格式里得到的边界</c>

00:46:34.895 --> 00:46:36.897
<c.magenta>这个特定的渲染器所含有的属性</c>

00:46:37.698 --> 00:46:39.233
<c.magenta>然后你分开这个边界</c>

00:46:40.701 --> 00:46:43.604
<c.magenta>你得到并渲染P3红色方块</c>

00:46:44.505 --> 00:46:48.075
<c.magenta>然后你设置和渲染sRGB红色方块</c>

00:46:48.642 --> 00:46:50.611
<c.magenta>就像我们之前在AppKit中有的</c>

00:46:51.111 --> 00:46:53.780
<c.magenta>我们有一个正确渲染了扩大范围的</c>

00:46:54.648 --> 00:46:57.651
<c.magenta>一半P3一半sRGB的红色方块</c>

00:46:59.586 --> 00:47:01.822
<c.magenta>关于这个新API的一些其他要注意</c>
<c.magenta>的事</c>

00:46:59.586 --> 00:47:01.822
<c.magenta>关于这个新API的一些其他要注意</c>
<c.magenta>的事</c>

00:47:02.723 --> 00:47:04.958
<c.magenta>默认它是完全被颜色管理</c>

00:47:06.126 --> 00:47:10.764
<c.magenta>它还默认支持</c>
<c.magenta>扩大范围的sRGB色彩空间</c>

00:47:11.832 --> 00:47:14.034
<c.magenta>它对这很聪明</c>

00:47:14.568 --> 00:47:20.073
<c.magenta>若你有一个设备有P3显示</c>
<c.magenta>像是新iPad Pro 9.7英寸</c>

00:47:20.541 --> 00:47:22.009
<c.magenta>我们会默认启用它</c>

00:47:22.075 --> 00:47:24.077
<c.magenta>你不需要进行额外工作</c>

00:47:24.545 --> 00:47:27.114
<c.magenta>但是如果你在一台不支持显示</c>
<c.magenta>扩展了的颜色的设备上</c>

00:47:27.214 --> 00:47:29.616
<c.magenta>比如其他iPad和iPhone</c>

00:47:30.350 --> 00:47:33.654
<c.magenta>那么你会得到更标准的每通道8位</c>

00:47:34.021 --> 00:47:37.024
<c.magenta>sRGB语境来进行绘制</c>

00:47:37.691 --> 00:47:41.662
<c.magenta>所以我们没有浪费额外的内存</c>
<c.magenta>来得到16位浮点语境</c>

00:47:42.763 --> 00:47:46.333
<c.magenta>它为你做的其他事是</c>
<c.magenta>管理CGContext的生命周期</c>

00:47:47.067 --> 00:47:49.436
<c.magenta>你不需要操心结束这个语境</c>

00:47:49.503 --> 00:47:52.673
<c.magenta>或者自己进行其他管理</c>

00:47:54.408 --> 00:47:57.544
<c.magenta>对你应用中的任何旧代码</c>

00:47:57.845 --> 00:48:00.480
<c.magenta>它工作在</c>
<c.magenta>UIGraphicsGetCurrentContext</c>

00:47:57.845 --> 00:48:00.480
<c.magenta>它工作在</c>
<c.magenta>UIGraphicsGetCurrentContext</c>

00:48:00.814 --> 00:48:03.116
<c.magenta>所以如果你调用一些函数比如</c>
<c.magenta>绘制矩形</c>

00:48:03.650 --> 00:48:04.952
<c.magenta>你会做正确的事</c>

00:48:06.854 --> 00:48:09.656
<c.magenta>这就是在屏幕外绘制</c>

00:48:10.157 --> 00:48:11.325
<c.magenta>关于在屏幕上绘制呢？</c>

00:48:12.492 --> 00:48:13.994
<c.magenta>我们重新开始一个新iKit</c>

00:48:15.229 --> 00:48:18.031
<c.magenta>在UIView上</c>
<c.magenta>我们有新的Swift 3</c>

00:48:18.365 --> 00:48:20.434
<c.magenta>在Swift 3中被新命名 绘制</c>

00:48:20.767 --> 00:48:23.370
<c.magenta>我们在这为你做正确的事</c>

00:48:24.004 --> 00:48:27.641
<c.magenta>当你在你的UIView子类中调用</c>
<c.magenta>绘制</c>

00:48:28.408 --> 00:48:31.144
<c.magenta>如果你是在iPad 9.7英寸上</c>

00:48:32.012 --> 00:48:37.885
<c.magenta>我们会正确的在扩大范围sRGB</c>
<c.magenta>色彩空间中调用你的绘制方法</c>

00:48:37.985 --> 00:48:40.087
<c.magenta>使用浮点像素格式</c>

00:48:41.088 --> 00:48:44.491
<c.magenta>如果你不是在一个新设备上那么</c>

00:48:45.292 --> 00:48:49.129
<c.magenta>你得到现在你得到的</c>
<c.magenta>每通道8位的sRGB</c>

00:48:50.597 --> 00:48:54.201
<c.magenta>当然如果你有图像</c>
<c.magenta>我们有UIImageView</c>

00:48:54.568 --> 00:48:57.471
<c.magenta>从iOS 9.3起被颜色管理</c>

00:48:57.538 --> 00:48:59.573
<c.magenta>并在现在被继续颜色管理</c>

00:48:59.640 --> 00:49:02.643
<c.magenta>屏幕上的广色域CocoaTouch</c>

00:48:59.640 --> 00:49:02.643
<c.magenta>屏幕上的广色域CocoaTouch</c>

00:49:02.743 --> 00:49:05.045
<c.magenta>如果你需要知道你是如何渲染的</c>

00:49:05.746 --> 00:49:08.982
<c.magenta>你可以看看你的视图中的</c>
<c.magenta>UITraitCollection的新特征</c>

00:49:09.082 --> 00:49:11.618
<c.magenta>在视图控制器中被称为显示色域</c>

00:49:13.153 --> 00:49:15.889
<c.magenta>它获得一个</c>
<c.magenta>UIDisplayGamut枚举</c>

00:49:15.956 --> 00:49:19.193
<c.magenta>它的属性是P3如果你在一个新的</c>

00:49:19.259 --> 00:49:23.697
<c.magenta>P3类的显示上 或者sRGB如果你</c>
<c.magenta>在一个新的sRGB类的显示上</c>

00:49:23.797 --> 00:49:27.701
<c.magenta>这可以很有用</c>
<c.magenta>如果你需要匹配一个特定</c>

00:49:28.335 --> 00:49:32.039
<c.magenta>UI颜色和一个从资源分类获得的</c>
<c.magenta>资源</c>

00:49:32.105 --> 00:49:36.310
<c.magenta>所以你正确地匹配颜色到你的资源</c>

00:49:38.278 --> 00:49:43.150
<c.magenta>现在如果你知道一个视图永远都</c>
<c.magenta>不需要</c>

00:49:43.250 --> 00:49:45.586
<c.magenta>扩大范围sRGB语境？</c>

00:49:46.653 --> 00:49:52.993
<c.magenta>CALayer上有一个新的属性是</c>
<c.magenta>内容格式</c>

00:49:53.126 --> 00:49:58.398
<c.magenta>这为你控制CA创建的语境的位深</c>

00:49:58.498 --> 00:50:01.335
<c.magenta>当它渲染那个视图时</c>

00:49:58.498 --> 00:50:01.335
<c.magenta>当它渲染那个视图时</c>

00:50:01.935 --> 00:50:08.709
<c.magenta>根据默认 在iPad Pro 9.7英寸上</c>
<c.magenta>它会使用扩大范围语境</c>

00:50:08.909 --> 00:50:13.580
<c.magenta>在其他设备上它会默认使用传统的</c>
<c.magenta>sRGB语境</c>

00:50:14.348 --> 00:50:18.118
<c.magenta>你通过使用这些格式文字来控制它</c>

00:50:18.218 --> 00:50:19.720
<c.magenta>控制位深</c>

00:50:19.786 --> 00:50:22.723
<c.magenta>在Cocoa中 回到桌面</c>

00:50:23.624 --> 00:50:27.060
<c.magenta>NSView和</c>
<c.magenta>UIView是一样的</c>

00:50:27.127 --> 00:50:30.631
<c.magenta>它会使用和NSWindow</c>
<c.magenta>相同的语境来绘制</c>

00:50:31.331 --> 00:50:36.370
<c.magenta>你可以看看所有传统的属性</c>

00:50:36.436 --> 00:50:40.774
<c.magenta>有窗口后备存储 屏幕目标配置等</c>

00:50:41.675 --> 00:50:43.377
<c.magenta>如果窗口改变了显示屏</c>

00:50:44.111 --> 00:50:47.181
<c.magenta>viewDidChangeBackingProperties</c>
<c.magenta>这个你视图中的回调会被调用</c>

00:50:47.548 --> 00:50:49.416
<c.magenta>你还可以监听</c>

00:50:49.483 --> 00:50:53.086
<c.magenta>NSWindowDidChange-</c>
<c.magenta>BackingPropertiesNotification</c>

00:50:53.153 --> 00:50:55.255
<c.magenta>它会在你的视图窗口中被省略</c>

00:50:55.722 --> 00:51:01.228
<c.magenta>这些是从很久之前你就一直在</c>
<c.magenta>打交道的相同的东西</c>

00:50:55.722 --> 00:51:01.228
<c.magenta>这些是从很久之前你就一直在</c>
<c.magenta>打交道的相同的东西</c>

00:51:01.895 --> 00:51:04.031
<c.magenta>仅仅是提醒一下</c>

00:51:04.331 --> 00:51:07.634
<c.magenta>NSWindow的支持属性</c>

00:51:08.669 --> 00:51:14.441
<c.magenta>包括显示缩放 色彩空间和输出</c>
<c.magenta>显示色域</c>

00:51:16.443 --> 00:51:23.417
<c.magenta>和在iOS中一样 你还可以控制</c>
<c.magenta>从AppKit获得的语境的位深</c>

00:51:25.219 --> 00:51:28.055
<c.magenta>通过NSWindow的</c>
<c.magenta>WindowDepth属性</c>

00:51:28.121 --> 00:51:30.958
<c.magenta>你可以把它设置成这些位深中的</c>
<c.magenta>任意一个</c>

00:51:31.024 --> 00:51:36.864
<c.magenta>所以如果你在一个广色域显示器上</c>
<c.magenta>但并不需要额外的精度</c>

00:51:37.464 --> 00:51:40.868
<c.magenta>你可以设成24位RGB</c>

00:51:40.934 --> 00:51:43.804
<c.magenta>那它就不会为你创建扩展的语境</c>

00:51:44.872 --> 00:51:47.241
<c.magenta>我们今天学到了什么？</c>

00:51:48.108 --> 00:51:49.009
<c.magenta>好吧</c>

00:51:50.310 --> 00:51:53.580
<c.magenta>你看到了广色域的视觉和怎么把</c>
<c.magenta>这带给</c>

00:51:53.647 --> 00:51:56.650
<c.magenta>下一代的显示和你的用户</c>

00:51:57.885 --> 00:52:00.587
<c.magenta>我们谈了一点关于色域的知识和</c>
<c.magenta>颜色管理</c>

00:51:57.885 --> 00:52:00.587
<c.magenta>我们谈了一点关于色域的知识和</c>
<c.magenta>颜色管理</c>

00:52:01.054 --> 00:52:03.924
<c.magenta>以及怎么和广色域内容一起工作</c>

00:52:03.991 --> 00:52:05.692
<c.magenta>你想带给你的用户的内容</c>

00:52:08.028 --> 00:52:10.430
<c.magenta>我们回顾了怎么在你的应用中使用</c>
<c.magenta>颜色</c>

00:52:12.065 --> 00:52:15.736
<c.magenta>怎么把你的绘制代码提升到颜色</c>
<c.magenta>的下一个层次</c>

00:52:16.870 --> 00:52:21.475
<c.magenta>通过确保它在广色域情况下能</c>
<c.magenta>正确绘制</c>

00:52:22.609 --> 00:52:26.880
<c.magenta>关于更多信息</c>
<c.magenta>你当然可以获得这些幻灯片</c>

00:52:26.947 --> 00:52:29.249
<c.magenta>在这个演讲的网站上</c>

00:52:29.983 --> 00:52:33.187
<c.magenta>还有很多相关的演讲</c>

00:52:34.221 --> 00:52:35.389
<c.magenta>这是第1页</c>

00:52:37.191 --> 00:52:38.659
<c.magenta>请获得它们</c>

00:52:38.725 --> 00:52:41.995
<c.magenta>如果它们已经发布了</c>
<c.magenta>我不会枚举它们 它们有很多</c>

00:52:43.463 --> 00:52:48.001
<c.magenta>请用WWDC应用观看视频</c>
<c.magenta>或者在WWDC网站上在线观看</c>

00:52:48.502 --> 00:52:49.436
<c.magenta>谢谢</c>
