WEBVTT

00:00:19.486 --> 00:00:25.025 align:middle
<c.magenta>在网页中使用Apple Pay</c>

00:00:28.695 --> 00:00:29.897 align:middle
<c.magenta>大家好</c>

00:00:30.764 --> 00:00:33.600 align:middle
<c.magenta>欢迎回来</c>
<c.magenta>参加去年Apple Pay会议的人</c>

00:00:34.034 --> 00:00:34.868 align:middle
<c.magenta>我是Nick</c>

00:00:35.435 --> 00:00:37.738 align:middle
<c.magenta>今天我与同事Anders会在这里</c>

00:00:38.138 --> 00:00:40.974 align:middle
<c.magenta>我们将会讲述一个新的特性</c>

00:00:41.341 --> 00:00:43.510 align:middle
<c.magenta>在网页中使用Apple Pay</c>

00:00:44.545 --> 00:00:47.214 align:middle
<c.magenta>首先 我想先问大家一个问题</c>

00:00:48.382 --> 00:00:51.852 align:middle
<c.magenta>你们当中有多少人</c>
<c.magenta>举起你们的手或者对着屏幕喊出来</c>

00:00:51.919 --> 00:00:54.054 align:middle
<c.magenta>如果你在楼下或者在线观看的话</c>

00:00:54.121 --> 00:00:56.623 align:middle
<c.magenta>你们当中有多少人尝试过网上购物</c>

00:00:57.057 --> 00:00:59.993 align:middle
<c.magenta>但是发现过程太复杂</c>
<c.magenta>然后放弃了购物</c>

00:01:01.461 --> 00:01:02.596 align:middle
<c.magenta>我看到了很多人举手了</c>

00:01:03.297 --> 00:01:05.199 align:middle
<c.magenta>毫无疑问 这是一个大问题</c>

00:01:05.331 --> 00:01:09.102 align:middle
<c.magenta>这是我昨天访问的一个网站</c>
<c.magenta>非常的传统</c>

00:01:10.003 --> 00:01:12.139 align:middle
<c.magenta>无视这名字Honest Bob</c>
<c.magenta>他是一个很棒的家伙</c>

00:01:13.073 --> 00:01:15.075 align:middle
<c.magenta>但他在结账的时候遇到了一些困扰</c>

00:01:15.776 --> 00:01:18.745 align:middle line:1
<c.magenta>为了举例</c>
<c.magenta>我将我的名字改变一下</c>

00:01:18.812 --> 00:01:21.014 align:middle line:1
<c.magenta>改成了Johnny Appleseed</c>
<c.magenta>避免重名</c>

00:01:21.315 --> 00:01:22.716 align:middle line:1
<c.magenta>然后我开始输入卡号</c>

00:01:22.816 --> 00:01:24.251 align:middle line:1
<c.magenta>获得了令人迷惑的错误信息</c>

00:01:24.985 --> 00:01:27.654 align:middle line:1
<c.magenta>提示说卡号必须是一连串的数字</c>

00:01:28.522 --> 00:01:31.758 align:middle line:1
<c.magenta>这样我就会心里想</c>
<c.magenta>我觉得没有空格是错误的</c>

00:01:31.825 --> 00:01:34.161 align:middle line:1
<c.magenta>并且我的卡上就是有空格的</c>

00:01:34.494 --> 00:01:35.696 align:middle line:1
<c.magenta>于是我做了修改</c>

00:01:36.530 --> 00:01:39.666 align:middle line:1
<c.magenta>然后我又得到了一个错误信息</c>
<c.magenta>比较明显 月份不符合</c>

00:01:39.733 --> 00:01:42.336 align:middle line:1
<c.magenta>而不是提示我</c>
<c.magenta>没有选择月份</c>

00:01:42.903 --> 00:01:44.771 align:middle line:1
<c.magenta>这样很令人困扰</c>

00:01:45.372 --> 00:01:48.542 align:middle line:1
<c.magenta>希望大家不会遇到像这样糟糕的场景</c>

00:01:49.109 --> 00:01:52.012 align:middle line:1
<c.magenta>但是因特网支付</c>
<c.magenta>真的还非常的落后</c>

00:01:52.713 --> 00:01:54.081 align:middle line:1
<c.magenta>且我们希望能解决这种问题</c>

00:01:54.481 --> 00:01:56.750 align:middle
<c.magenta>认为可通过</c>
<c.magenta>Apple Pay解决这种问题</c>

00:01:58.085 --> 00:01:59.486 align:middle
<c.magenta>并且我们今天将会讲述</c>

00:01:59.653 --> 00:02:01.955 align:middle
<c.magenta>如何解决这些问题</c>

00:01:59.653 --> 00:02:01.955 align:middle
<c.magenta>如何解决这些问题</c>

00:02:02.089 --> 00:02:05.392 align:middle
<c.magenta>可以通过在网页中使用良好的接口</c>

00:02:05.592 --> 00:02:07.261 align:middle
<c.magenta>及Apple Pay带来的好处</c>

00:02:07.928 --> 00:02:11.231 align:middle
<c.magenta>我们将会讲到很多内容</c>
<c.magenta>让我们首先开始做一个介绍</c>

00:02:11.298 --> 00:02:14.001 align:middle
<c.magenta>我们将会通过一些事例</c>
<c.magenta>来讲述Apple Pay</c>

00:02:14.067 --> 00:02:16.937 align:middle
<c.magenta>你们可能还不熟悉它</c>
<c.magenta>还不了解它能做什么</c>

00:02:17.671 --> 00:02:19.406 align:middle
<c.magenta>然后我们会讲述一些具体的API</c>

00:02:19.473 --> 00:02:22.843 align:middle
<c.magenta>我们将这些新JavaScript</c>
<c.magenta>API添加进了Safari</c>

00:02:23.810 --> 00:02:27.281 align:middle
<c.magenta>然后我们会讲述支付处理的过程</c>
<c.magenta>以及如何获得付款</c>

00:02:28.582 --> 00:02:30.517 align:middle
<c.magenta>最后是关于Apple Pay的设计</c>

00:02:30.584 --> 00:02:34.021 align:middle
<c.magenta>如何让你的网站变的出众而且实用</c>

00:02:34.321 --> 00:02:36.356 align:middle
<c.magenta>及拥有比较好的</c>
<c.magenta>Apple Pay体验</c>

00:02:37.658 --> 00:02:38.692 align:middle
<c.magenta>所以 让我们开始吧</c>

00:02:40.194 --> 00:02:41.428 align:middle
<c.magenta>Apple Pay是什么？</c>

00:02:42.429 --> 00:02:44.932 align:middle
<c.magenta>希望你们大多数人</c>
<c.magenta>都比较熟悉Apple Pay</c>

00:02:45.399 --> 00:02:49.303 align:middle
<c.magenta>它是一种简单安全以及私密的支付方式</c>

00:02:50.404 --> 00:02:54.141 align:middle
<c.magenta>你可以在商店中使用</c>

00:02:54.208 --> 00:02:56.176 align:middle
<c.magenta>也可以在iOS应用中使用</c>

00:02:57.477 --> 00:02:59.847 align:middle
<c.magenta>也许你们已试过了</c>
<c.magenta>若没有 请放心的去尝试一下</c>

00:02:59.913 --> 00:03:02.783 align:middle
<c.magenta>有很多非常好的应用</c>
<c.magenta>比如Lyft Uber DoorDash</c>

00:02:59.913 --> 00:03:02.783 align:middle
<c.magenta>有很多非常好的应用</c>
<c.magenta>比如Lyft Uber DoorDash</c>

00:03:02.850 --> 00:03:05.152 align:middle
<c.magenta>即便在参加会议 你也可以使用它们</c>

00:03:06.386 --> 00:03:09.356 align:middle
<c.magenta>且应用中的Apple Pay提供了</c>

00:03:09.423 --> 00:03:10.924 align:middle
<c.magenta>一流的商业体验</c>

00:03:11.391 --> 00:03:13.126 align:middle
<c.magenta>这些应用真的非常突出</c>

00:03:14.394 --> 00:03:19.066 align:middle
<c.magenta>现在已经有非常多的应用</c>
<c.magenta>采用了Apple Pay</c>

00:03:19.533 --> 00:03:24.071 align:middle
<c.magenta>它们在世界范围内得到了使用</c>
<c.magenta>在中国 英国以及美国</c>

00:03:25.038 --> 00:03:28.041 align:middle
<c.magenta>这些应用有着良好的发展</c>

00:03:28.175 --> 00:03:31.278 align:middle
<c.magenta>它们看上去有着更高的转化率</c>

00:03:31.612 --> 00:03:32.946 align:middle
<c.magenta>那些使用Apple Pay的用户</c>

00:03:33.013 --> 00:03:35.382 align:middle
<c.magenta>有着更高的消费倾向</c>

00:03:36.216 --> 00:03:38.585 align:middle
<c.magenta>并且再次消费的概率也更高</c>

00:03:39.186 --> 00:03:42.356 align:middle
<c.magenta>在消费之外 他们也会花费更多的时间</c>

00:03:42.422 --> 00:03:43.590 align:middle
<c.magenta>在这些应用上</c>

00:03:44.591 --> 00:03:46.260 align:middle
<c.magenta>最后 这些用户会感到更加快乐</c>

00:03:47.094 --> 00:03:50.163 align:middle
<c.magenta>Apple Pay用户满意度最高的</c>

00:03:50.364 --> 00:03:51.932 align:middle
<c.magenta>支付手段之一</c>

00:03:52.833 --> 00:03:54.968 align:middle
<c.magenta>它非常好用</c>
<c.magenta>所以用户喜欢它</c>

00:03:56.503 --> 00:04:00.908 align:middle
<c.magenta>Apple Pay在应用中表现优秀</c>
<c.magenta>但我觉得应该需要注意的是</c>

00:03:56.503 --> 00:04:00.908 align:middle
<c.magenta>Apple Pay在应用中表现优秀</c>
<c.magenta>但我觉得应该需要注意的是</c>

00:04:02.442 --> 00:04:04.211 align:middle
<c.magenta>大量的电子商务</c>

00:04:04.478 --> 00:04:07.414 align:middle
<c.magenta>没有发生在应用当中</c>

00:04:08.248 --> 00:04:09.950 align:middle
<c.magenta>应用是很好的</c>
<c.magenta>我喜欢各种应用</c>

00:04:10.217 --> 00:04:13.353 align:middle
<c.magenta>但是部分人仍然会在网页上进行支付</c>

00:04:14.454 --> 00:04:17.291 align:middle
<c.magenta>绝大部分情况下 在网页上进行的支付</c>
<c.magenta>是非常缓慢的</c>

00:04:17.357 --> 00:04:18.992 align:middle
<c.magenta>是很繁琐的</c>
<c.magenta>并且也不透明</c>

00:04:19.059 --> 00:04:21.827 align:middle
<c.magenta>每一个商户的付款流程都不一样</c>

00:04:21.894 --> 00:04:23.664 align:middle
<c.magenta>同样 每个网站付款流程也不一样</c>

00:04:25.232 --> 00:04:27.067 align:middle
<c.magenta>现在我们正在尝试解决这个问题</c>

00:04:27.134 --> 00:04:32.039 align:middle
<c.magenta>我们正通过向更多的场景以及更多的人</c>
<c.magenta>引入Apple Pay来解决这问题</c>

00:04:33.607 --> 00:04:35.576 align:middle
<c.magenta>我们称之为</c>
<c.magenta>Apple Pay Everywhere</c>

00:04:35.943 --> 00:04:38.478 align:middle
<c.magenta>我们现在主要在三个地方</c>
<c.magenta>引入Apple Pay</c>

00:04:39.479 --> 00:04:40.714 align:middle
<c.magenta>第一是WatchKit</c>

00:04:40.881 --> 00:04:42.983 align:middle
<c.magenta>你可能在昨天的主题中已经见过了</c>

00:04:43.050 --> 00:04:46.053 align:middle
<c.magenta>且Kevin已提到过把Apple Pay</c>
<c.magenta>引入到WatchKit的应用中</c>

00:04:46.520 --> 00:04:49.623 align:middle
<c.magenta>当然我们也会在所有的新扩展中</c>
<c.magenta>引入Apple Pay</c>

00:04:49.690 --> 00:04:53.227 align:middle
<c.magenta>就像你看过的那些：</c>
<c.magenta>SiriKit地图以及信息</c>

00:04:54.061 --> 00:04:58.198 align:middle
<c.magenta>但最大的场景</c>
<c.magenta>也就是你们今天来这的理由</c>

00:04:58.265 --> 00:05:00.767 align:middle
<c.magenta>是网络和Safari</c>

00:04:58.265 --> 00:05:00.767 align:middle
<c.magenta>是网络和Safari</c>

00:05:02.102 --> 00:05:04.638 align:middle
<c.magenta>我们稍后会讨论</c>
<c.magenta>WatchKit以及扩展</c>

00:05:04.705 --> 00:05:06.139 align:middle
<c.magenta>那将是下个会议的主题</c>

00:05:06.273 --> 00:05:08.675 align:middle
<c.magenta>若你喜欢我的嗓音</c>
<c.magenta>待会继续留在这里就好了</c>

00:05:09.276 --> 00:05:11.912 align:middle
<c.magenta>现在让我们关于Safari</c>

00:05:12.713 --> 00:05:15.282 align:middle
<c.magenta>让我们关注在网页上</c>
<c.magenta>使用Apple Pay</c>

00:05:16.850 --> 00:05:20.888 align:middle
<c.magenta>前面我已经谈论了</c>
<c.magenta>当今的电子商务有多么糟糕</c>

00:05:22.422 --> 00:05:24.391 align:middle
<c.magenta>然而非常多的商品都是通过网页销售的</c>

00:05:24.858 --> 00:05:27.828 align:middle
<c.magenta>但是支付流程却很冗长</c>
<c.magenta>它们太复杂了</c>

00:05:27.928 --> 00:05:29.129 align:middle
<c.magenta>以致于很难使用</c>

00:05:29.196 --> 00:05:31.598 align:middle
<c.magenta>手机上这个问题更严重</c>

00:05:32.232 --> 00:05:35.536 align:middle
<c.magenta>因为屏幕更小</c>
<c.magenta>但是繁琐的流程并没有减少</c>

00:05:36.937 --> 00:05:40.007 align:middle
<c.magenta>用户会希望在网页上</c>
<c.magenta>有着与应用一样的体验</c>

00:05:40.107 --> 00:05:41.341 align:middle
<c.magenta>使用起来非常简便</c>

00:05:41.408 --> 00:05:43.477 align:middle
<c.magenta>并且在安全与隐私方面也没有区别</c>

00:05:43.577 --> 00:05:46.013 align:middle
<c.magenta>有多少人不得不去办理一张新的卡片</c>

00:05:46.079 --> 00:05:48.549 align:middle
<c.magenta>因为一封邮件告诉你</c>
<c.magenta>你曾经在上面买过东西的网站</c>

00:05:48.615 --> 00:05:50.384 align:middle
<c.magenta>早在三年前就已经被黑掉了</c>

00:05:50.651 --> 00:05:51.718 align:middle
<c.magenta>我就有过这种经历</c>

00:05:52.653 --> 00:05:54.888 align:middle
<c.magenta>然而Apple Pay</c>
<c.magenta>可避免这种事情发生</c>

00:05:55.756 --> 00:05:57.758 align:middle
<c.magenta>且通过网页上使用</c>
<c.magenta>Apple Pay功能</c>

00:05:57.824 --> 00:06:00.093 align:middle
<c.magenta>已可支持任何</c>
<c.magenta>带Apple Pay的设备</c>

00:05:57.824 --> 00:06:00.093 align:middle
<c.magenta>已可支持任何</c>
<c.magenta>带Apple Pay的设备</c>

00:06:01.028 --> 00:06:03.197 align:middle
<c.magenta>也就是iPhone与iPad</c>

00:06:03.864 --> 00:06:08.869 align:middle
<c.magenta>并可通过Safari或者</c>
<c.magenta>SafariViewController来使用它</c>

00:06:09.036 --> 00:06:13.073 align:middle
<c.magenta>它与现有的Apple Pay体验</c>
<c.magenta>是一样的只不过形式是通过网页而已</c>

00:06:13.273 --> 00:06:16.109 align:middle
<c.magenta>同样的UI界面</c>
<c.magenta>同样的使用方式</c>

00:06:16.376 --> 00:06:18.312 align:middle
<c.magenta>若你熟悉应用中的Apple Pay</c>

00:06:18.378 --> 00:06:19.513 align:middle
<c.magenta>你会感觉有熟悉的感觉</c>

00:06:21.715 --> 00:06:23.317 align:middle
<c.magenta>但是需要注意的是</c>

00:06:24.251 --> 00:06:26.086 align:middle
<c.magenta>这些设备并没有包括台式机</c>

00:06:27.221 --> 00:06:29.957 align:middle
<c.magenta>现在在一些国家 比如中国</c>
<c.magenta>手机电子商务</c>

00:06:30.023 --> 00:06:31.425 align:middle
<c.magenta>已是主流的电子商务方式了</c>

00:06:31.491 --> 00:06:34.761 align:middle
<c.magenta>但是在美国</c>
<c.magenta>大部分人还是习惯于</c>

00:06:34.828 --> 00:06:36.163 align:middle
<c.magenta>通过台式电脑来买东西</c>

00:06:36.230 --> 00:06:39.533 align:middle
<c.magenta>你可能是通过Mac电脑</c>
<c.magenta>购买了 WWDC 门票</c>

00:06:40.501 --> 00:06:43.537 align:middle
<c.magenta>我们认为Apple Pay</c>
<c.magenta>应该可以在任何地方使用</c>

00:06:45.506 --> 00:06:49.142 align:middle
<c.magenta>我们在Mac OS Sierra</c>
<c.magenta>中引入Apple Pay</c>

00:06:50.310 --> 00:06:53.046 align:middle
<c.magenta>你们可在Mac电脑上</c>
<c.magenta>通过Apple Pay支付了</c>

00:06:53.347 --> 00:06:55.849 align:middle
<c.magenta>并且具有同样的安全性</c>

00:06:56.216 --> 00:06:59.052 align:middle
<c.magenta>与在你的iPhone或者Apple Watch</c>
<c.magenta>使用Apple Pay的情况相比话</c>

00:06:59.319 --> 00:07:02.823 align:middle
<c.magenta>你可以简单的触摸一下</c>
<c.magenta>就可以进行授权了</c>

00:06:59.319 --> 00:07:02.823 align:middle
<c.magenta>你可以简单的触摸一下</c>
<c.magenta>就可以进行授权了</c>

00:07:03.524 --> 00:07:06.460 align:middle
<c.magenta>这样用起来非常的简单与直接</c>

00:07:06.727 --> 00:07:09.463 align:middle
<c.magenta>它支持在任何使用Handoff</c>
<c.magenta>的Mac上使用</c>

00:07:09.696 --> 00:07:10.964 align:middle
<c.magenta>并且操作系统需要是</c>
<c.magenta>Mac OS Sierra</c>

00:07:11.198 --> 00:07:14.601 align:middle
<c.magenta>这对于四年内销售的</c>
<c.magenta>Mac电脑都不是问题</c>

00:07:15.302 --> 00:07:16.937 align:middle
<c.magenta>Safari浏览器是</c>
<c.magenta>完全支持Apple Pay的</c>

00:07:17.738 --> 00:07:20.107 align:middle
<c.magenta>你可以在手机上通过授权来进行支付</c>

00:07:20.374 --> 00:07:21.808 align:middle
<c.magenta>在Apple Watch也是一样</c>

00:07:22.342 --> 00:07:26.346 align:middle
<c.magenta>因为Mac OS上</c>
<c.magenta>使用Apple Pay是非常快速的</c>

00:07:26.547 --> 00:07:29.183 align:middle
<c.magenta>可能有人之前没有看过我们昨天的演示</c>

00:07:29.249 --> 00:07:30.651 align:middle
<c.magenta>现在我来展示另外一个演示</c>

00:07:30.951 --> 00:07:32.486 align:middle
<c.magenta>不用担心</c>
<c.magenta>这次演示会很快</c>

00:07:33.420 --> 00:07:34.588 align:middle
<c.magenta>让我们转到这里来</c>

00:07:38.025 --> 00:07:40.928 align:middle
<c.magenta>在左边 我访问了一个网站</c>

00:07:41.361 --> 00:07:43.764 align:middle
<c.magenta>在右边是一部iPhone手机</c>

00:07:43.830 --> 00:07:47.367 align:middle
<c.magenta>现在Craig</c>
<c.magenta>通过网络预定了一些门票</c>

00:07:47.434 --> 00:07:48.869 align:middle
<c.magenta>好在周四去观看海底总动员</c>

00:07:48.969 --> 00:07:53.173 align:middle
<c.magenta>让我修改一下日期 改到周五</c>
<c.magenta>我们会和他一起去</c>

00:07:53.440 --> 00:07:56.543 align:middle
<c.magenta>我会和十个工程师一起去</c>
<c.magenta>他们是我的同事</c>

00:07:57.344 --> 00:07:58.879 align:middle
<c.magenta>好 向Craig打招呼</c>

00:07:59.847 --> 00:08:01.982 align:middle
<c.magenta>好了 让我来点击下</c>
<c.magenta>Apple Pay来进行支付</c>

00:07:59.847 --> 00:08:01.982 align:middle
<c.magenta>好了 让我来点击下</c>
<c.magenta>Apple Pay来进行支付</c>

00:08:02.115 --> 00:08:04.318 align:middle
<c.magenta>这一切都是即时发生的</c>

00:08:04.718 --> 00:08:06.553 align:middle
<c.magenta>让我们来再做一次</c>
<c.magenta>这次我会取消它</c>

00:08:06.620 --> 00:08:09.656 align:middle
<c.magenta>可以看到 当我取消了之后</c>
<c.magenta>在我的手机上也自动的取消了</c>

00:08:10.824 --> 00:08:12.326 align:middle
<c.magenta>当我点击Apple Pay</c>
<c.magenta>支付按钮的时候</c>

00:08:13.927 --> 00:08:15.028 align:middle
<c.magenta>一切都是立刻发生的</c>

00:08:15.095 --> 00:08:16.697 align:middle
<c.magenta>它立刻出现了</c>

00:08:16.997 --> 00:08:18.765 align:middle
<c.magenta>然后在我的手机上</c>
<c.magenta>进行了Touch ID的匹配</c>

00:08:23.170 --> 00:08:24.204 align:middle
<c.magenta>这样就完成了</c>

00:08:24.271 --> 00:08:25.405 align:middle
<c.magenta>几秒内完成了整个支付</c>

00:08:25.639 --> 00:08:27.641 align:middle
<c.magenta>在这两个设备之间反应都是即时的</c>

00:08:27.708 --> 00:08:30.644 align:middle
<c.magenta>然后我获得了一个消息</c>
<c.magenta>告知我完成了一次支付</c>

00:08:30.878 --> 00:08:35.182 align:middle
<c.magenta>在Mac OS上使用</c>
<c.magenta>Apple Pay就这么简单和快速</c>

00:08:35.349 --> 00:08:36.650 align:middle
<c.magenta>这个过程真的非常快速</c>

00:08:40.486 --> 00:08:43.023 align:middle
<c.magenta>希望我说服了你们</c>
<c.magenta>Apple Pay是那么优秀</c>

00:08:43.490 --> 00:08:46.860 align:middle
<c.magenta>让我们讲述一下在网页上</c>
<c.magenta>集成Apple Pay的细节</c>

00:08:47.561 --> 00:08:49.963 align:middle
<c.magenta>在我们讨论网页API之前</c>

00:08:50.030 --> 00:08:51.565 align:middle
<c.magenta>让我们来简单看一下</c>
<c.magenta>Apple Pay的基本知识</c>

00:08:51.632 --> 00:08:54.668 align:middle
<c.magenta>因为很多人还没将Apple Pay</c>
<c.magenta>集成到应用之中的经历</c>

00:08:54.735 --> 00:08:56.537 align:middle
<c.magenta>可能有人是一个纯粹的网页端开发者</c>

00:08:58.105 --> 00:09:01.642 align:middle
<c.magenta>Apple Pay提供</c>
<c.magenta>具有唯一性的支付token给你</c>

00:08:58.105 --> 00:09:01.642 align:middle
<c.magenta>Apple Pay提供</c>
<c.magenta>具有唯一性的支付token给你</c>

00:09:03.177 --> 00:09:06.747 align:middle
<c.magenta>你将这个token发送给网银平台</c>
<c.magenta>比如Stripe</c>

00:09:06.914 --> 00:09:09.016 align:middle
<c.magenta>比如Braintree</c>
<c.magenta>还有Chase Paymentech</c>

00:09:10.217 --> 00:09:13.053 align:middle
<c.magenta>对于一次交易来说</c>
<c.magenta>token是唯一的</c>

00:09:13.153 --> 00:09:14.588 align:middle
<c.magenta>该token只能使用一次</c>

00:09:14.721 --> 00:09:16.323 align:middle
<c.magenta>若需多次交易</c>
<c.magenta>同样需请求相应数量token</c>

00:09:16.990 --> 00:09:20.260 align:middle
<c.magenta>无论你在应用或者</c>
<c.magenta>网页上使用Apple Pay</c>

00:09:20.327 --> 00:09:22.896 align:middle
<c.magenta>t对商家来说token都是唯一的</c>

00:09:23.030 --> 00:09:24.031 align:middle
<c.magenta>token经过加密</c>

00:09:24.431 --> 00:09:27.034 align:middle
<c.magenta>即便token被盗取了</c>

00:09:27.367 --> 00:09:31.071 align:middle
<c.magenta>比如用户处于</c>
<c.magenta>一个不安全的Wifi连接的时候</c>

00:09:31.305 --> 00:09:34.174 align:middle
<c.magenta>这个token仍然是安全的</c>

00:09:34.274 --> 00:09:37.744 align:middle
<c.magenta>因为它使用了商户的证书</c>
<c.magenta>以及商户的标识符进行了加密的编码</c>

00:09:40.080 --> 00:09:41.481 align:middle
<c.magenta>商户的标识符</c>

00:09:41.548 --> 00:09:44.518 align:middle
<c.magenta>以及商户的证书能够代表你是一个商户</c>

00:09:45.385 --> 00:09:48.255 align:middle
<c.magenta>它们比较像标准的反向域名解析</c>

00:09:48.322 --> 00:09:51.124 align:middle
<c.magenta>如果你是一个iOS开发者</c>
<c.magenta>你会非常熟悉这种格式</c>

00:09:51.792 --> 00:09:54.294 align:middle
<c.magenta>它们是通过我们的开发者中心生成的</c>

00:09:55.028 --> 00:09:56.330 align:middle
<c.magenta>并且是唯一的</c>

00:09:56.430 --> 00:09:58.932 align:middle
<c.magenta>因为只有你能够解码这些tokens</c>

00:10:00.334 --> 00:10:02.736 align:middle
<c.magenta>只有你才能读取</c>
<c.magenta>用户Apple Pay的token</c>

00:10:04.471 --> 00:10:08.575 align:middle
<c.magenta>让我们来看一下</c>
<c.magenta>在实际的应用中是什么样的工作流程</c>

00:10:09.409 --> 00:10:10.611 align:middle line:1
<c.magenta>在一个iOS的应用中</c>

00:10:11.545 --> 00:10:13.847 align:middle line:1
<c.magenta>当Apple Pay按钮点击后</c>
<c.magenta>就开始了用Apple Pay的支付</c>

00:10:15.816 --> 00:10:18.018 align:middle line:1
<c.magenta>当点击了Apple Pay按钮之后</c>

00:10:19.086 --> 00:10:21.321 align:middle line:1
<c.magenta>iOS系统允许了这次支付</c>

00:10:21.488 --> 00:10:23.490 align:middle line:1
<c.magenta>然后出现了Apple Pay</c>
<c.magenta>表单页面</c>

00:10:24.491 --> 00:10:27.060 align:middle line:1
<c.magenta>然后用户使用</c>
<c.magenta>Touch ID或者密码</c>

00:10:27.561 --> 00:10:31.331 align:middle line:1
<c.magenta>这样支付信息会通过手机的</c>
<c.magenta>安全信息单元芯片产生</c>

00:10:31.465 --> 00:10:34.001 align:middle line:1
<c.magenta>这些芯片专门为</c>
<c.magenta>Apple Pay打造</c>

00:10:34.101 --> 00:10:35.636 align:middle line:1
<c.magenta>能够安全持有你的银行卡信息</c>

00:10:37.070 --> 00:10:40.607 align:middle line:1
<c.magenta>然后你的手机会做什么呢</c>

00:10:41.175 --> 00:10:44.378 align:middle line:1
<c.magenta>它会把数据发送给苹果的服务器</c>

00:10:44.478 --> 00:10:45.779 align:middle line:1
<c.magenta>服务端重新包装这些数据</c>
<c.magenta>该处理过程为Rewrap</c>

00:10:46.046 --> 00:10:49.049 align:middle line:1
<c.magenta>也就到时候对于商户来说</c>
<c.magenta>这些数据是再次加密过的</c>

00:10:49.616 --> 00:10:51.051 align:middle line:1
<c.magenta>该处理过程不会显示在手机</c>

00:10:52.319 --> 00:10:56.156 align:middle line:1
<c.magenta>当应用获取再次加密的支付数据的时候</c>
<c.magenta>它同时可以进行一个回调操作</c>

00:10:56.256 --> 00:10:59.826 align:middle line:1
<c.magenta>然后你就可以连接商户的服务器</c>

00:11:00.627 --> 00:11:04.198 align:middle line:1
<c.magenta>或者网银支付的服务器</c>

00:11:04.598 --> 00:11:07.000 align:middle line:1
<c.magenta>只要交易完成了 表单就会关闭</c>

00:11:09.570 --> 00:11:11.538 align:middle line:1
<c.magenta>在网页上使用</c>
<c.magenta>Apple Pay与此非常类似</c>

00:11:11.872 --> 00:11:13.407 align:middle line:1
<c.magenta>稍有几处不同</c>

00:11:13.473 --> 00:11:16.410 align:middle line:1
<c.magenta>发生在与验证商户有关的地方</c>

00:11:16.510 --> 00:11:18.478 align:middle line:1
<c.magenta>因为在iOS中应用都是</c>
<c.magenta>从App Store上获取的</c>

00:11:18.579 --> 00:11:19.913 align:middle line:1
<c.magenta>它们是已签名二进制文件</c>

00:11:20.380 --> 00:11:23.617 align:middle line:1
<c.magenta>在我们继续讨论这些之前</c>
<c.magenta>先让我们来看一下</c>

00:11:23.750 --> 00:11:24.751 align:middle line:1
<c.magenta>Apple Pay的一些要求</c>

00:11:25.953 --> 00:11:29.690 align:middle
<c.magenta>任何网站都可使用Apple Pay</c>

00:11:30.524 --> 00:11:33.093 align:middle
<c.magenta>前提是需要拥有一个苹果开发者帐号</c>

00:11:34.561 --> 00:11:37.364 align:middle
<c.magenta>并且站点需要支持HTTPS</c>

00:11:39.499 --> 00:11:42.836 align:middle
<c.magenta>最后 站点需要遵守</c>
<c.magenta>Apple Pay的指导方针</c>

00:11:43.003 --> 00:11:44.705 align:middle
<c.magenta>这些指导方针都非常的明确</c>

00:11:44.838 --> 00:11:46.874 align:middle
<c.magenta>大多数的网银平台都有着相关的条款</c>

00:11:47.007 --> 00:11:49.142 align:middle
<c.magenta>关于那些商品可进行出售</c>
<c.magenta>那些商品禁止出售</c>

00:11:51.678 --> 00:11:55.282 align:middle
<c.magenta>现在已经有一些电子商务平台</c>

00:11:55.449 --> 00:11:56.450 align:middle
<c.magenta>已支持Apple Pay</c>

00:11:57.751 --> 00:12:00.120 align:middle
<c.magenta>我们还将会谈到</c>
<c.magenta>一些具体的电子商务平台</c>

00:11:57.751 --> 00:12:00.120 align:middle
<c.magenta>我们还将会谈到</c>
<c.magenta>一些具体的电子商务平台</c>

00:12:00.821 --> 00:12:02.789 align:middle
<c.magenta>的网银支付处理</c>

00:12:02.856 --> 00:12:04.791 align:middle
<c.magenta>如果你已经加入了某个电子商务平台</c>

00:12:04.858 --> 00:12:06.360 align:middle
<c.magenta>你就不需要一个开发者帐户了</c>

00:12:06.527 --> 00:12:07.995 align:middle
<c.magenta>它可以帮你处理这些</c>

00:12:10.130 --> 00:12:13.300 align:middle
<c.magenta>假设你的站点符合所有的要求</c>

00:12:14.368 --> 00:12:18.038 align:middle
<c.magenta>那么为了使用Apple Pay</c>
<c.magenta>首先需要为你的站点注册</c>

00:12:19.840 --> 00:12:21.742 align:middle
<c.magenta>为你的站点注册是非常简单的</c>

00:12:21.808 --> 00:12:25.479 align:middle
<c.magenta>你只需要在开发者中心</c>
<c.magenta>创建一个商户标识符以及证书</c>

00:12:27.214 --> 00:12:29.583 align:middle
<c.magenta>然后注册你的域名</c>

00:12:29.883 --> 00:12:31.318 align:middle
<c.magenta>并且让它与商户标识符对应</c>

00:12:31.518 --> 00:12:33.554 align:middle
<c.magenta>域名需要是全称</c>

00:12:33.620 --> 00:12:36.857 align:middle
<c.magenta>比如store.apple.com</c>

00:12:37.291 --> 00:12:39.493 align:middle
<c.magenta>你想在哪站点支付</c>
<c.magenta>就需要填写相应的域名</c>

00:12:40.294 --> 00:12:43.397 align:middle
<c.magenta>当你通过域名注册之后</c>
<c.magenta>我们会前往该域名进行验证</c>

00:12:44.665 --> 00:12:46.700 align:middle
<c.magenta>然后你会获得一个证书</c>

00:12:46.767 --> 00:12:48.969 align:middle
<c.magenta>一个苹果公司发行的TLS证书</c>

00:12:49.036 --> 00:12:52.105 align:middle
<c.magenta>我们称之为Session证书</c>
<c.magenta>我需要重新说一下</c>

00:12:52.172 --> 00:12:55.542 align:middle
<c.magenta>在注册Apple Pay中</c>
<c.magenta>使用了三种信息</c>

00:12:55.609 --> 00:12:58.679 align:middle
<c.magenta>商户表识符以及商户证书</c>

00:12:58.745 --> 00:13:00.347 align:middle
<c.magenta>通过这两项</c>
<c.magenta>证明我们商户的身份</c>

00:12:58.745 --> 00:13:00.347 align:middle
<c.magenta>通过这两项</c>
<c.magenta>证明我们商户的身份</c>

00:13:00.914 --> 00:13:03.016 align:middle
<c.magenta>然后还有Apple Pay的</c>
<c.magenta>Session证书</c>

00:13:03.083 --> 00:13:04.718 align:middle
<c.magenta>代表了我们的域名</c>

00:13:05.853 --> 00:13:08.522 align:middle
<c.magenta>在开发者中心注册Apple Pay</c>
<c.magenta>非常简单和直接</c>

00:13:08.589 --> 00:13:11.558 align:middle
<c.magenta>应该现在就已经可以注册了</c>
<c.magenta>就像这样做</c>

00:13:11.825 --> 00:13:12.960 align:middle
<c.magenta>首先添加一个域名</c>

00:13:13.393 --> 00:13:15.696 align:middle
<c.magenta>然后我们会检查这个域名上</c>

00:13:15.762 --> 00:13:17.931 align:middle
<c.magenta>是否有我们要求放置的文件</c>

00:13:18.265 --> 00:13:19.099 align:middle
<c.magenta>这样就可以了</c>

00:13:21.668 --> 00:13:24.338 align:middle
<c.magenta>来看一下它为什么更适合使用</c>

00:13:26.840 --> 00:13:28.876 align:middle line:1
<c.magenta>让我们来看看在网页上使用</c>
<c.magenta>Apple Pay的流程</c>

00:13:29.109 --> 00:13:31.712 align:middle line:1
<c.magenta>就像在应用中</c>
<c.magenta>使用Apple Pay一样</c>

00:13:32.179 --> 00:13:36.316 align:middle line:1
<c.magenta>首先需要点击进行</c>
<c.magenta>Apple Pay支付的按钮</c>

00:13:38.218 --> 00:13:39.820 align:middle line:1
<c.magenta>在网页上有一个关键的地方不同</c>

00:13:40.254 --> 00:13:42.256 align:middle line:1
<c.magenta>当你创建了一个支付请求的时候</c>

00:13:42.689 --> 00:13:45.659 align:middle line:1
<c.magenta>也就是通知我们</c>
<c.magenta>你想对什么收费</c>

00:13:46.793 --> 00:13:48.695 align:middle line:1
<c.magenta>然后有一些额外的处理</c>

00:13:48.762 --> 00:13:52.099 align:middle line:1
<c.magenta>需要进行一次验证</c>
<c.magenta>你创建了一个商户的session</c>

00:13:53.033 --> 00:13:55.702 align:middle line:1
<c.magenta>然后从你的网页服务器</c>
<c.magenta>发送到了Apple服务器</c>

00:13:57.304 --> 00:13:59.840 align:middle line:1
<c.magenta>当Apple服务器有响应时</c>

00:13:59.907 --> 00:14:01.275 align:middle line:1
<c.magenta>你再将这个支付请求</c>
<c.magenta>发送给Apple服务器</c>

00:13:59.907 --> 00:14:01.275 align:middle line:1
<c.magenta>你再将这个支付请求</c>
<c.magenta>发送给Apple服务器</c>

00:14:04.311 --> 00:14:05.512 align:middle line:1
<c.magenta>这就是唯一的区别了</c>

00:14:05.579 --> 00:14:08.081 align:middle line:1
<c.magenta>这是与在应用中</c>
<c.magenta>进行Apple Pay相比</c>

00:14:08.615 --> 00:14:10.317 align:middle line:1
<c.magenta>在网页中进行Apple Pay</c>
<c.magenta>的唯一的区别了</c>

00:14:10.617 --> 00:14:12.252 align:middle line:1
<c.magenta>商户有效性验证</c>

00:14:13.887 --> 00:14:16.023 align:middle
<c.magenta>让我们看下商户验证的细节</c>

00:14:16.123 --> 00:14:17.791 align:middle
<c.magenta>让我们来谈下为什么我们要这么做</c>

00:14:21.929 --> 00:14:24.998 align:middle
<c.magenta>我在一分钟前提过</c>

00:14:25.165 --> 00:14:27.568 align:middle
<c.magenta>那就是网页与应用之间有一些不同之处</c>

00:14:28.202 --> 00:14:32.039 align:middle
<c.magenta>在iOS应用中</c>

00:14:32.105 --> 00:14:35.075 align:middle
<c.magenta>类似Apple Pay或</c>
<c.magenta>位置安全性被签署授权所保护着</c>

00:14:35.209 --> 00:14:37.177 align:middle
<c.magenta>如果你对此不是很熟悉</c>

00:14:37.244 --> 00:14:40.380 align:middle
<c.magenta>签署授权就是 App Store中</c>
<c.magenta>你应用的二进制文件部分签名信息</c>

00:14:40.647 --> 00:14:44.184 align:middle
<c.magenta>签署授权同时保护着用户和开发者</c>

00:14:44.585 --> 00:14:46.854 align:middle
<c.magenta>以及Apple Pay中的商户</c>

00:14:47.387 --> 00:14:49.456 align:middle
<c.magenta>我们需要注意的是</c>
<c.magenta>在网页上并不存在app store</c>

00:14:49.523 --> 00:14:51.124 align:middle
<c.magenta>所以我们并没有这些签署授权</c>

00:14:51.225 --> 00:14:53.694 align:middle
<c.magenta>我们使用了一个商户验证的处理</c>
<c.magenta>用替代签署授权</c>

00:14:54.661 --> 00:14:58.232 align:middle
<c.magenta>它保护了用户</c>
<c.magenta>也同时保护了像你一样的商户</c>

00:14:58.332 --> 00:15:00.534 align:middle
<c.magenta>举例来说</c>
<c.magenta>如果你的网站被攻破了</c>

00:14:58.332 --> 00:15:00.534 align:middle
<c.magenta>举例来说</c>
<c.magenta>如果你的网站被攻破了</c>

00:15:00.601 --> 00:15:02.669 align:middle
<c.magenta>你可方便停掉</c>
<c.magenta>该站点Apple Pay</c>

00:15:03.937 --> 00:15:06.573 align:middle
<c.magenta>商户验证非常的简单和直接</c>

00:15:06.640 --> 00:15:07.841 align:middle
<c.magenta>它并不复杂</c>

00:15:08.141 --> 00:15:10.711 align:middle
<c.magenta>你拿到一个Apple Pay</c>
<c.magenta>服务器的URL</c>

00:15:11.879 --> 00:15:13.947 align:middle
<c.magenta>这个URL是Safari提供的</c>

00:15:16.250 --> 00:15:18.285 align:middle
<c.magenta>你让你的网页服务器使用这个URL</c>

00:15:19.386 --> 00:15:21.488 align:middle
<c.magenta>在请求商户的session中会用到</c>

00:15:22.689 --> 00:15:25.125 align:middle
<c.magenta>现在开始请求商户的session</c>

00:15:25.425 --> 00:15:28.228 align:middle line:1
<c.magenta>你需简单提供一TLS证书</c>
<c.magenta>这证书是我们之前为网站域名得到的</c>

00:15:28.362 --> 00:15:29.763 align:middle line:1
<c.magenta>这是个有挑战的回应</c>

00:15:30.831 --> 00:15:33.166 align:middle line:1
<c.magenta>如果这个证书看上去很好</c>
<c.magenta>是有效的</c>

00:15:33.300 --> 00:15:35.102 align:middle line:1
<c.magenta>并且它与这个域名匹配</c>

00:15:35.502 --> 00:15:37.371 align:middle line:1
<c.magenta>就是你提交支付请求网站对应的域名</c>

00:15:37.538 --> 00:15:38.739 align:middle line:1
<c.magenta>我们会收到一个session</c>

00:15:41.942 --> 00:15:43.610 align:middle line:1
<c.magenta>这个session中的内容无法获得</c>

00:15:43.710 --> 00:15:45.479 align:middle
<c.magenta>你们不需要关注它的内容</c>

00:15:45.612 --> 00:15:47.648 align:middle
<c.magenta>它是一个具有唯一性的token</c>

00:15:47.714 --> 00:15:49.216 align:middle
<c.magenta>代表了一次Apple Pay的请求</c>

00:15:50.250 --> 00:15:52.452 align:middle
<c.magenta>它被用来确认</c>
<c.magenta>你的网站依然是安全的</c>

00:15:52.786 --> 00:15:56.156 align:middle
<c.magenta>每一次的Apple Pay</c>
<c.magenta>你都需要请求一次session</c>

00:15:56.390 --> 00:15:58.125 align:middle
<c.magenta>但是这种请求的开销比较少</c>

00:15:58.292 --> 00:15:59.793 align:middle
<c.magenta>且这过程不会占用太多的时间</c>

00:16:00.727 --> 00:16:02.763 align:middle
<c.magenta>在你会通过你的网页服务器来请求它</c>

00:16:02.963 --> 00:16:05.098 align:middle
<c.magenta>你并不是从你的用户那里来获得它</c>

00:16:07.534 --> 00:16:09.870 align:middle
<c.magenta>对于商户效验</c>
<c.magenta>我有一些建议</c>

00:16:10.404 --> 00:16:13.440 align:middle
<c.magenta>首先 让客户端发出</c>
<c.magenta>获得session的请求</c>

00:16:13.507 --> 00:16:16.009 align:middle
<c.magenta>因为请求速度可能会有比较大的差别</c>

00:16:16.076 --> 00:16:17.244 align:middle
<c.magenta>取决于用户所在的国家</c>

00:16:17.377 --> 00:16:19.246 align:middle
<c.magenta>Apple Pay有很多</c>
<c.magenta>服务器部署在世界各地</c>

00:16:19.379 --> 00:16:21.548 align:middle
<c.magenta>我们会使用</c>

00:16:21.648 --> 00:16:23.217 align:middle
<c.magenta>离用户当前位置最近的服务器</c>

00:16:23.483 --> 00:16:25.886 align:middle
<c.magenta>对于有些人来说</c>

00:16:25.953 --> 00:16:29.523 align:middle
<c.magenta>需要预先知道这些服务器的IP地址</c>

00:16:29.590 --> 00:16:30.991 align:middle
<c.magenta>用来让连接通过防火墙</c>

00:16:31.058 --> 00:16:32.292 align:middle
<c.magenta>我们会提供一份列表</c>

00:16:32.459 --> 00:16:35.095 align:middle
<c.magenta>放置在developmentalapple.com上</c>
<c.magenta>这样你们就能看到了</c>

00:16:36.530 --> 00:16:38.932 align:middle
<c.magenta>你应该只请求一次session</c>

00:16:38.999 --> 00:16:39.967 align:middle
<c.magenta>当用户点击Apple Pay按钮时</c>

00:16:40.033 --> 00:16:42.169 align:middle
<c.magenta>别在加载页面时就请求</c>
<c.magenta>那样是没有必要的</c>

00:16:42.236 --> 00:16:44.471 align:middle
<c.magenta>只需在用户点击了相应按钮后</c>
<c.magenta>才去请求session</c>

00:16:44.538 --> 00:16:47.875 align:middle
<c.magenta>当请求session时</c>
<c.magenta>我们会展示Apple Pay表单</c>

00:16:48.275 --> 00:16:50.577 align:middle
<c.magenta>用户会觉得这种情况是即时出现的</c>

00:16:50.711 --> 00:16:52.479 align:middle
<c.magenta>当他们点击了</c>
<c.magenta>Apple Pay按钮后</c>

00:16:52.546 --> 00:16:55.048 align:middle
<c.magenta>他们会看到这个表单</c>
<c.magenta>我们也会让它处于加载状态</c>

00:16:55.182 --> 00:16:56.717 align:middle
<c.magenta>直到效验完成</c>

00:16:57.184 --> 00:16:59.253 align:middle
<c.magenta>在下个部分</c>
<c.magenta>你们会看这些如何工作</c>

00:16:59.319 --> 00:17:00.621 align:middle
<c.magenta>即在我们讲述</c>
<c.magenta>JavaScript API时</c>

00:16:59.319 --> 00:17:00.621 align:middle
<c.magenta>即在我们讲述</c>
<c.magenta>JavaScript API时</c>

00:17:02.089 --> 00:17:04.925 align:middle
<c.magenta>最后一个建议 别在客户端</c>
<c.magenta>生成一个商户的session</c>

00:17:05.592 --> 00:17:08.428 align:middle
<c.magenta>这是因为你需要</c>
<c.magenta>提供一个session证书</c>

00:17:08.529 --> 00:17:10.430 align:middle
<c.magenta>而这个证书与你的域名对应</c>

00:17:10.497 --> 00:17:12.799 align:middle
<c.magenta>你是不想把这证书</c>
<c.magenta>也嵌入到你的网页页面中的</c>

00:17:12.900 --> 00:17:14.902 align:middle
<c.magenta>将这个证书保密是很重要的</c>

00:17:15.502 --> 00:17:18.105 align:middle
<c.magenta>因此你会在网页服务端来进行这种验证</c>

00:17:19.705 --> 00:17:21.375 align:middle
<c.magenta>好吧 让我们来概述一下</c>

00:17:22.342 --> 00:17:23.410 align:middle
<c.magenta>我们先需建立个网站</c>

00:17:23.477 --> 00:17:26.813 align:middle
<c.magenta>我们需要保证我们的网站</c>
<c.magenta>遵守Apple的要求</c>

00:17:27.580 --> 00:17:30.484 align:middle
<c.magenta>我们创建了虚拟的标识符</c>
<c.magenta>以及商户证书</c>

00:17:31.118 --> 00:17:32.586 align:middle
<c.magenta>我们将它与我们的域名相对应</c>

00:17:34.621 --> 00:17:36.356 align:middle
<c.magenta>然后我们了解到了如何进行验证</c>

00:17:36.423 --> 00:17:40.027 align:middle
<c.magenta>如何为每一个Apple Pay</c>
<c.magenta>支付进行效验</c>

00:17:42.629 --> 00:17:45.165 align:middle line:1
<c.magenta>所以说这样覆盖了部分同样的流程</c>

00:17:46.834 --> 00:17:47.968 align:middle line:1
<c.magenta>这个部分是什么？</c>

00:17:49.069 --> 00:17:53.874 align:middle line:1
<c.magenta>就是我说过的与应用中</c>
<c.magenta>使用Apple Pay相一致的部分</c>

00:17:54.875 --> 00:17:56.310 align:middle line:1
<c.magenta>但显然它们是不同的API</c>

00:17:56.376 --> 00:17:59.646 align:middle line:1
<c.magenta>因为我们无法在服务端调用Swift</c>

00:18:00.514 --> 00:18:01.882 align:middle line:1
<c.magenta>所以接下来我们会谈论到</c>

00:18:01.982 --> 00:18:05.152 align:middle
<c.magenta>如何用JavaScript API</c>
<c.magenta>来支持这个新特性</c>

00:18:05.485 --> 00:18:07.354 align:middle
<c.magenta>下面请Anders来进行介绍</c>

00:18:07.454 --> 00:18:09.523 align:middle
<c.magenta>他是WebKit团队中的一员</c>

00:18:09.656 --> 00:18:10.657 align:middle
<c.magenta>Anders</c>

00:18:19.633 --> 00:18:20.667 align:middle
<c.magenta>谢谢 Nick</c>

00:18:21.668 --> 00:18:23.904 align:middle
<c.magenta>今天在这里</c>
<c.magenta>我非常的兴奋</c>

00:18:24.004 --> 00:18:28.008 align:middle
<c.magenta>我会告诉大家使用Apple Pay</c>
<c.magenta>JavaScript API多简单</c>

00:18:31.745 --> 00:18:35.349 align:middle
<c.magenta>Nick已提到过Apple Pay</c>
<c.magenta>JavaScript API</c>

00:18:35.482 --> 00:18:39.586 align:middle
<c.magenta>已可以在iOS 10的Safari中</c>

00:18:39.720 --> 00:18:41.388 align:middle
<c.magenta>和那些通过SafariView</c>
<c.magenta>Controller的应用中使用</c>

00:18:42.623 --> 00:18:47.327 align:middle
<c.magenta>现通过Mac OS Sierra系统</c>
<c.magenta>可让你在Mac的safari中使用Apple Pay</c>

00:18:48.028 --> 00:18:51.899 align:middle
<c.magenta>同时需要使用Apple</c>
<c.magenta>Watch或者iPhone</c>

00:18:51.999 --> 00:18:53.667 align:middle
<c.magenta>来进行实际的授权</c>

00:18:55.669 --> 00:18:57.671 align:middle
<c.magenta>这些API非常的简单</c>

00:18:57.871 --> 00:19:00.908 align:middle
<c.magenta>它有一个单一的入口</c>
<c.magenta>叫做ApplePaySession</c>

00:18:57.871 --> 00:19:00.908 align:middle
<c.magenta>它有一个单一的入口</c>
<c.magenta>叫做ApplePaySession</c>

00:19:01.408 --> 00:19:06.079 align:middle
<c.magenta>它受到了PassKit API影响</c>
<c.magenta>只是将场景切换到了应用中使用Apple Pay下</c>

00:19:06.580 --> 00:19:10.651 align:middle
<c.magenta>如果你熟悉PassKit API</c>
<c.magenta>那么你会发现两者很类似</c>

00:19:12.953 --> 00:19:16.857 align:middle
<c.magenta>在我们进行深入的了解之前</c>

00:19:16.924 --> 00:19:18.325 align:middle
<c.magenta>我需要介绍一个朋友先</c>

00:19:19.626 --> 00:19:23.430 align:middle
<c.magenta>她经营了一个商店</c>

00:19:24.064 --> 00:19:25.799 align:middle
<c.magenta>售卖高端的衣服</c>

00:19:27.134 --> 00:19:28.235 align:middle
<c.magenta>这些衣服是给狗穿的</c>

00:19:29.803 --> 00:19:33.240 align:middle
<c.magenta>在几个月之前</c>
<c.magenta>她运行了一个网站</c>

00:19:33.307 --> 00:19:35.209 align:middle
<c.magenta>在上面可以买衣服</c>

00:19:35.275 --> 00:19:37.544 align:middle
<c.magenta>你可以在网上进行支付</c>

00:19:37.611 --> 00:19:39.179 align:middle
<c.magenta>然后店家就会发货了</c>

00:19:40.280 --> 00:19:44.985 align:middle
<c.magenta>但是不幸的是</c>
<c.magenta>现在这个生意有个困境</c>

00:19:48.488 --> 00:19:51.258 align:middle
<c.magenta>有很多人访问这个网站</c>

00:19:51.458 --> 00:19:54.461 align:middle
<c.magenta>但是却没有多少订单</c>

00:19:54.895 --> 00:19:57.297 align:middle
<c.magenta>让我们来看下这个网站</c>

00:19:57.431 --> 00:19:58.832 align:middle
<c.magenta>找一下原因</c>

00:20:02.002 --> 00:20:03.837 align:middle
<c.magenta>这就是我们的网站了</c>

00:20:04.137 --> 00:20:07.975 align:middle
<c.magenta>比如我们想买一条可爱的围巾</c>

00:20:09.042 --> 00:20:13.447 align:middle
<c.magenta>首先将它添加到购物车里面</c>

00:20:15.849 --> 00:20:17.251 align:middle
<c.magenta>然后我需要去付款</c>

00:20:19.152 --> 00:20:20.721 align:middle
<c.magenta>这时候打开付款的页面</c>

00:20:20.854 --> 00:20:22.990 align:middle
<c.magenta>输入收货地址</c>

00:20:25.425 --> 00:20:27.294 align:middle
<c.magenta>这时候到信用卡这一栏了</c>

00:20:27.394 --> 00:20:30.297 align:middle
<c.magenta>输入信用卡号以及账单地址</c>

00:20:32.032 --> 00:20:37.137 align:middle line:1
<c.magenta>然后我就可以提交订单</c>
<c.magenta>然后我的围巾也就会被运送了</c>

00:20:38.739 --> 00:20:41.808 align:middle
<c.magenta>让我们看一下应该如何使用</c>
<c.magenta>Apple Pay API</c>

00:20:42.009 --> 00:20:44.978 align:middle
<c.magenta>让这个流程变得更加简单合理</c>

00:20:46.313 --> 00:20:50.217 align:middle
<c.magenta>举例来说</c>
<c.magenta>如果我们为购物车增加一个</c>

00:20:50.517 --> 00:20:54.555 align:middle
<c.magenta>Apple Pay的按钮</c>

00:20:54.855 --> 00:20:58.559 align:middle
<c.magenta>那样在产品页面就可以下单了</c>

00:20:59.993 --> 00:21:03.564 align:middle
<c.magenta>现在我们想增加这个按钮</c>

00:20:59.993 --> 00:21:03.564 align:middle
<c.magenta>现在我们想增加这个按钮</c>

00:21:03.664 --> 00:21:06.033 align:middle
<c.magenta>但仅限那些能够使用</c>
<c.magenta>Apple Pay的用户</c>

00:21:07.367 --> 00:21:08.569 align:middle
<c.magenta>为了做成那样</c>

00:21:08.735 --> 00:21:12.406 align:middle
<c.magenta>我们可以使用函数</c>
<c.magenta>ApplePaySession.canMakePayments</c>

00:21:13.340 --> 00:21:15.342 align:middle
<c.magenta>这是一个用起来非常简便的函数</c>

00:21:15.475 --> 00:21:17.244 align:middle
<c.magenta>在代码中</c>
<c.magenta>它看起来是这样的</c>

00:21:17.644 --> 00:21:20.948 align:middle
<c.magenta>注意 我检查了当前的</c>
<c.magenta>window.ApplePaySession</c>

00:21:21.048 --> 00:21:25.052 align:middle
<c.magenta>在使用之前</c>
<c.magenta>需要进行这样的检查</c>

00:21:25.252 --> 00:21:29.857 align:middle
<c.magenta>我不是检查WebKit或者</c>
<c.magenta>Safari的版本</c>

00:21:29.957 --> 00:21:32.492 align:middle
<c.magenta>我是在检查</c>
<c.magenta>window.ApplePaySession对象是否存在</c>

00:21:33.327 --> 00:21:35.028 align:middle
<c.magenta>如果它存在的话</c>
<c.magenta>我就会调用它</c>

00:21:35.195 --> 00:21:38.232 align:middle
<c.magenta>它会返回一个Boolean</c>
<c.magenta>然后我会检查这个值</c>

00:21:38.565 --> 00:21:42.536 align:middle
<c.magenta>如果返回true</c>
<c.magenta>我就调用showApplePayButtons</c>

00:21:43.203 --> 00:21:44.404 align:middle
<c.magenta>这样显示出相应的按钮</c>

00:21:46.306 --> 00:21:47.674 align:middle
<c.magenta>值得注意的是</c>

00:21:47.741 --> 00:21:51.011 align:middle
<c.magenta>window.ApplePaySession</c>
<c.magenta>只会告诉你</c>

00:21:51.078 --> 00:21:52.513 align:middle
<c.magenta>这设备是否支持Apple Pay</c>

00:21:52.946 --> 00:21:55.849 align:middle
<c.magenta>如果你使用的</c>
<c.magenta>是iPhone或者iPad</c>

00:21:55.983 --> 00:21:58.252 align:middle
<c.magenta>它会返回是否存在一个安全部件的结果</c>

00:21:58.685 --> 00:22:00.187 align:middle
<c.magenta>如果你在Mac上使用</c>

00:21:58.685 --> 00:22:00.187 align:middle
<c.magenta>如果你在Mac上使用</c>

00:22:00.320 --> 00:22:03.590 align:middle
<c.magenta>它会告诉你</c>

00:22:03.857 --> 00:22:05.392 align:middle
<c.magenta>是否存在一个iPhone或者</c>
<c.magenta>Apple Watch能为这次交易授权</c>

00:22:06.426 --> 00:22:09.663 align:middle
<c.magenta>它不会告诉你用户是否已经</c>
<c.magenta>为Apple Pay添加过银行卡</c>

00:22:10.364 --> 00:22:13.767 align:middle
<c.magenta>如果需要检查这一点的话</c>

00:22:13.867 --> 00:22:15.135 align:middle
<c.magenta>我们可以使用</c>

00:22:15.202 --> 00:22:17.571 align:middle
<c.magenta>ApplePaySession.canMakePayments</c>
<c.magenta>WithActiveCard</c>

00:22:18.739 --> 00:22:22.476 align:middle
<c.magenta>你需要传递你的商户标识符给这个函数</c>

00:22:23.010 --> 00:22:27.648 align:middle
<c.magenta>然后它会向Apple Pay</c>
<c.magenta>服务器验证</c>

00:22:27.748 --> 00:22:29.983 align:middle
<c.magenta>这个商户标识符是否正确</c>

00:22:30.450 --> 00:22:33.687 align:middle
<c.magenta>这个函数自身的属性会关联这个域名</c>

00:22:33.854 --> 00:22:35.255 align:middle
<c.magenta>因为你从这个域名发送请求</c>

00:22:36.423 --> 00:22:40.594 align:middle
<c.magenta>鉴于此 它是异步执行的并且返回一个</c>
<c.magenta>JavaScript promise</c>

00:22:41.528 --> 00:22:44.364 align:middle
<c.magenta>如你不知道一个JavaScript</c>
<c.magenta>promise是什么</c>

00:22:44.531 --> 00:22:47.167 align:middle
<c.magenta>你可以把它当成一个功能更强的</c>

00:22:47.267 --> 00:22:49.837 align:middle
<c.magenta>回调处理程序</c>

00:22:52.639 --> 00:22:56.109 align:middle
<c.magenta>你使用这个函数的时候还有一些限制</c>

00:22:56.210 --> 00:23:00.280 align:middle
<c.magenta>你只能在一些情况下才能使用</c>
<c.magenta>如支付流程默认用Apple Pay</c>

00:22:56.210 --> 00:23:00.280 align:middle
<c.magenta>你只能在一些情况下才能使用</c>
<c.magenta>如支付流程默认用Apple Pay</c>

00:23:00.848 --> 00:23:04.318 align:middle
<c.magenta>或者你想在产品页面上</c>
<c.magenta>就添加一个产品页面按钮</c>

00:23:04.518 --> 00:23:07.221 align:middle
<c.magenta>在我们的情况中</c>
<c.magenta>我们想添加一Apple Pay按钮</c>

00:23:07.321 --> 00:23:10.057 align:middle
<c.magenta>放在我们的产品页面上</c>
<c.magenta>所以我们可以使用这个函数</c>

00:23:10.290 --> 00:23:13.794 align:middle
<c.magenta>另外我们可能会使用</c>
<c.magenta>ApplePaySession.canMakePayments</c>

00:23:15.629 --> 00:23:17.598 align:middle
<c.magenta>我们在这里使用了这个函数</c>

00:23:18.098 --> 00:23:21.768 align:middle
<c.magenta>我又一次的检查了Apple Pay session</c>
<c.magenta>对象是否存在</c>

00:23:22.603 --> 00:23:25.539 align:middle
<c.magenta>然后调用canMakePayments</c>
<c.magenta>WithActiveCard</c>

00:23:25.772 --> 00:23:27.708 align:middle
<c.magenta>我输入了我的商户标识符</c>

00:23:28.175 --> 00:23:34.214 align:middle
<c.magenta>然后我使用了这个promise</c>
<c.magenta>当promise成功后就会执行相应的功能</c>

00:23:34.381 --> 00:23:37.217 align:middle
<c.magenta>在这个例子中promise成功后</c>
<c.magenta>会得到一个BOOL值</c>

00:23:37.551 --> 00:23:40.754 align:middle
<c.magenta>我在promise中的代码就会执行</c>

00:23:40.821 --> 00:23:44.625 align:middle
<c.magenta>如果canMakePayments返回true</c>
<c.magenta>那么就会展示ApplePay按钮</c>

00:23:47.094 --> 00:23:51.198 align:middle
<c.magenta>现在我们就能看到每一个产品下面</c>
<c.magenta>都有一个优美的按钮了</c>

00:23:51.532 --> 00:23:54.268 align:middle
<c.magenta>下一步就是弹出支付表单</c>

00:23:54.501 --> 00:23:56.303 align:middle
<c.magenta>当用户点击了这些按钮的时候</c>

00:23:57.971 --> 00:23:59.506 align:middle
<c.magenta>为了做成这样</c>

00:23:59.573 --> 00:24:02.843 align:middle
<c.magenta>我们需要创建一个新的ApplePaySession</c>
<c.magenta>JavaScript对象</c>

00:23:59.573 --> 00:24:02.843 align:middle
<c.magenta>我们需要创建一个新的ApplePaySession</c>
<c.magenta>JavaScript对象</c>

00:24:03.810 --> 00:24:07.214 align:middle
<c.magenta>ApplePaySession</c>
<c.magenta>构造器有两个参数</c>

00:24:07.614 --> 00:24:10.284 align:middle
<c.magenta>一个是API版本号</c>

00:24:10.918 --> 00:24:12.319 align:middle
<c.magenta>还有一个是我们自定义的</c>

00:24:12.452 --> 00:24:15.255 align:middle
<c.magenta>从而让我们可以扩展</c>
<c.magenta>ApplePaySession API</c>

00:24:15.522 --> 00:24:19.359 align:middle
<c.magenta>这样可以向下兼容而不影响当前的用户</c>

00:24:21.128 --> 00:24:25.866 align:middle
<c.magenta>这当前的API的版本号是1</c>
<c.magenta>所以就一直保持1</c>

00:24:27.868 --> 00:24:31.371 align:middle
<c.magenta>将支付请求当成</c>
<c.magenta>第二个参数传入这个请求</c>

00:24:31.738 --> 00:24:35.943 align:middle
<c.magenta>如果你较熟悉PassKit API</c>

00:24:36.009 --> 00:24:37.644 align:middle
<c.magenta>你会发现这个JavaScript和</c>
<c.magenta>PKPaymentRequest一样</c>

00:24:38.412 --> 00:24:41.281 align:middle
<c.magenta>它会拿到所有必要的信息</c>

00:24:41.348 --> 00:24:44.885 align:middle
<c.magenta>来在表单中展示</c>
<c.magenta>比如货币类型 国家</c>

00:24:44.952 --> 00:24:48.455 align:middle
<c.magenta>如何支付以及总金额</c>

00:24:49.690 --> 00:24:53.894 align:middle
<c.magenta>还有一些可选项</c>
<c.magenta>比如收货地址</c>

00:24:53.961 --> 00:24:55.395 align:middle
<c.magenta>可能会被要求</c>

00:24:56.430 --> 00:24:59.366 align:middle
<c.magenta>然后你就获得了新的</c>
<c.magenta>ApplePaySession对象</c>

00:24:59.499 --> 00:25:02.336 align:middle
<c.magenta>你只需调用Begin命令</c>
<c.magenta>然后展示表单</c>

00:24:59.499 --> 00:25:02.336 align:middle
<c.magenta>你只需调用Begin命令</c>
<c.magenta>然后展示表单</c>

00:25:04.438 --> 00:25:06.440 align:middle
<c.magenta>就像这样的JavaScript代码</c>

00:25:06.874 --> 00:25:10.010 align:middle
<c.magenta>首先我们声明一个</c>
<c.magenta>paymentRequest对象</c>

00:25:10.644 --> 00:25:13.780 align:middle
<c.magenta>然后指明了货币码和国家码</c>

00:25:14.781 --> 00:25:21.288 align:middle
<c.magenta>这里我指明了总金额和支持的卡片种类</c>

00:25:21.421 --> 00:25:23.490 align:middle
<c.magenta>还有商户的经营范围</c>

00:25:23.991 --> 00:25:28.829 align:middle
<c.magenta>最后我指明了需要一个完整的邮编</c>

00:25:28.962 --> 00:25:30.764 align:middle line:1
<c.magenta>处于发货的考虑</c>

00:25:32.432 --> 00:25:35.002 align:middle line:1
<c.magenta>就我创建了</c>
<c.magenta>新的ApplePaySession</c>

00:25:35.169 --> 00:25:37.404 align:middle line:1
<c.magenta>我传入了商户号的参数</c>
<c.magenta>这里是1</c>

00:25:37.604 --> 00:25:39.173 align:middle line:1
<c.magenta>还有支付请求</c>

00:25:39.540 --> 00:25:42.442 align:middle line:1
<c.magenta>在得到返回结果之后</c>
<c.magenta>我仍然会再次调用sessions</c>

00:25:45.445 --> 00:25:49.650 align:middle
<c.magenta>现在使用任何支付的API</c>

00:25:49.783 --> 00:25:51.952 align:middle
<c.magenta>我们都去要确保所有的细节是正确的</c>

00:25:52.286 --> 00:25:54.588 align:middle
<c.magenta>正因为如此</c>

00:25:57.090 --> 00:26:01.862 align:middle
<c.magenta>在我们展示表单之前</c>
<c.magenta>我们需要进行一系列的验证</c>

00:25:57.090 --> 00:26:01.862 align:middle
<c.magenta>在我们展示表单之前</c>
<c.magenta>我们需要进行一系列的验证</c>

00:26:02.663 --> 00:26:05.265 align:middle
<c.magenta>如果任何一步出现错误</c>

00:26:05.999 --> 00:26:09.336 align:middle
<c.magenta>我们会停止 然后抛出一个</c>
<c.magenta>JavaScript的异常</c>

00:26:10.838 --> 00:26:13.707 align:middle
<c.magenta>正由于此 创建一个</c>
<c.magenta>Apple Pay session</c>

00:26:13.774 --> 00:26:15.542 align:middle
<c.magenta>可能会抛出一个</c>
<c.magenta>JavaScript异常</c>

00:26:15.976 --> 00:26:19.012 align:middle
<c.magenta>举例来说</c>
<c.magenta>如果你在一个不安全的页面进行调用</c>

00:26:19.446 --> 00:26:22.783 align:middle
<c.magenta>比如这个页面不是基于HTTPS的</c>

00:26:22.850 --> 00:26:25.886 align:middle
<c.magenta>没有使用最好的编码协议</c>

00:26:26.987 --> 00:26:30.791 align:middle
<c.magenta>实际上每个Apple Pay</c>
<c.magenta>session API</c>

00:26:30.858 --> 00:26:33.327 align:middle
<c.magenta>都会抛出异常</c>

00:26:33.393 --> 00:26:35.028 align:middle
<c.magenta>如在一个不安全页面上进行调用</c>

00:26:37.364 --> 00:26:40.100 align:middle
<c.magenta>创建Apple Pay</c>
<c.magenta>session也会发生异常</c>

00:26:40.167 --> 00:26:42.669 align:middle
<c.magenta>在你没有传入一个有效的</c>
<c.magenta>支付请求的时候</c>

00:26:43.103 --> 00:26:46.840 align:middle
<c.magenta>举例来说</c>
<c.magenta>你没有指定一个支持的网络列表</c>

00:26:47.207 --> 00:26:51.345 align:middle
<c.magenta>或者总金额是负的</c>

00:26:51.678 --> 00:26:56.250 align:middle
<c.magenta>或者输入了什么错误的数据</c>
<c.magenta>我们无法识别</c>

00:26:56.583 --> 00:26:58.051 align:middle
<c.magenta>这样都会抛出异常</c>

00:27:00.420 --> 00:27:05.025 align:middle
<c.magenta>此外 调用Begin也可能抛出异常</c>

00:27:05.092 --> 00:27:09.363 align:middle
<c.magenta>若你不是在一个点击事件处理中调用它</c>
<c.magenta>举例来说</c>

00:27:09.863 --> 00:27:12.199 align:middle
<c.magenta>我们不会允许展示表单</c>

00:27:12.566 --> 00:27:15.169 align:middle
<c.magenta>除非用户明确的</c>

00:27:15.235 --> 00:27:17.804 align:middle
<c.magenta>点击了按钮</c>

00:27:19.339 --> 00:27:23.143 align:middle
<c.magenta>如果已经存在了表单了</c>
<c.magenta>然后我们又试图去调用Begin</c>

00:27:23.243 --> 00:27:25.012 align:middle
<c.magenta>我们也会获得</c>
<c.magenta>JavaScript异常</c>

00:27:25.612 --> 00:27:28.348 align:middle
<c.magenta>因为我们只允许</c>
<c.magenta>同时只能出现一个表单</c>

00:27:29.583 --> 00:27:33.153 align:middle
<c.magenta>如果你看到了这些错误的话</c>

00:27:33.587 --> 00:27:37.357 align:middle
<c.magenta>你可以使用网页检查器的错误控制台</c>

00:27:37.758 --> 00:27:40.694 align:middle
<c.magenta>来查看错误原因的细节</c>

00:27:42.529 --> 00:27:47.634 align:middle
<c.magenta>如果一切都正常</c>

00:27:49.369 --> 00:27:50.504 align:middle
<c.magenta>并且所有步骤也正确</c>

00:27:50.737 --> 00:27:52.439 align:middle
<c.magenta>那么就会显示这个表单</c>

00:27:54.575 --> 00:27:57.878 align:middle
<c.magenta>但是需要注意</c>
<c.magenta>你现在还没有完成支付</c>

00:27:58.011 --> 00:28:00.380 align:middle
<c.magenta>我们看到这里还在加载</c>

00:27:58.011 --> 00:28:00.380 align:middle
<c.magenta>我们看到这里还在加载</c>

00:28:00.814 --> 00:28:03.917 align:middle
<c.magenta>因为还没有完成商户的效验</c>

00:28:04.017 --> 00:28:05.419 align:middle
<c.magenta>Nick之前提到过这一点</c>

00:28:06.520 --> 00:28:09.790 align:middle
<c.magenta>所以在表单出现后</c>

00:28:10.324 --> 00:28:12.826 align:middle
<c.magenta>我们会立即发送</c>
<c.magenta>一个验证商户的DOM事件</c>

00:28:12.926 --> 00:28:14.661 align:middle
<c.magenta>向ApplePaySession</c>
<c.magenta>对象发送</c>

00:28:15.863 --> 00:28:18.832 align:middle
<c.magenta>这个DOM事件有一个属性</c>
<c.magenta>validationURL</c>

00:28:19.199 --> 00:28:22.369 align:middle
<c.magenta>你需要让你的服务器</c>
<c.magenta>能够访问这个URL</c>

00:28:22.469 --> 00:28:25.939 align:middle
<c.magenta>然后加载它来获得商户session</c>

00:28:27.307 --> 00:28:29.843 align:middle
<c.magenta>然后当你的服务器获得</c>
<c.magenta>merchantsession对象后</c>

00:28:29.977 --> 00:28:34.014 align:middle
<c.magenta>你需要调用</c>
<c.magenta>completeMerchantValidation</c>

00:28:34.248 --> 00:28:36.550 align:middle
<c.magenta>来通过这次验证</c>
<c.magenta>然后就可以继续了</c>

00:28:37.584 --> 00:28:40.587 align:middle
<c.magenta>一次商户验证事件处理就像这样</c>

00:28:42.322 --> 00:28:44.825 align:middle
<c.magenta>这里我调用了这个</c>
<c.magenta>performValidation方法</c>

00:28:44.925 --> 00:28:45.959 align:middle
<c.magenta>它是我自己定义的</c>

00:28:46.093 --> 00:28:49.263 align:middle
<c.magenta>它返回一个promise</c>
<c.magenta>这个promise</c>

00:28:49.396 --> 00:28:51.098 align:middle
<c.magenta>来获得商户的session</c>

00:28:51.732 --> 00:28:53.300 align:middle
<c.magenta>所以当promise成功后</c>

00:28:53.567 --> 00:28:55.936 align:middle
<c.magenta>我会调用</c>
<c.magenta>completeMerchantValidation</c>

00:28:56.136 --> 00:28:57.804 align:middle
<c.magenta>传入了商户session的参数</c>

00:28:57.938 --> 00:28:59.840 align:middle
<c.magenta>这就是你在商户验证中所做的</c>

00:29:01.742 --> 00:29:04.578 align:middle
<c.magenta>现在 我们的商户验证就完成了</c>

00:29:04.778 --> 00:29:07.614 align:middle
<c.magenta>用户可以用手机或者</c>
<c.magenta>Apple Watch</c>

00:29:07.714 --> 00:29:09.082 align:middle
<c.magenta>对这次支付授权</c>

00:29:09.316 --> 00:29:12.352 align:middle
<c.magenta>当这次支付获得授权之后</c>

00:29:12.452 --> 00:29:16.957 align:middle
<c.magenta>我们会向Apple Pay session对象</c>
<c.magenta>发送一个支付授权通过的DOM事件</c>

00:29:18.425 --> 00:29:20.894 align:middle
<c.magenta>这个DOM事件包含了一个支付属性</c>

00:29:21.228 --> 00:29:24.398 align:middle
<c.magenta>这个属性含有所有必需的支付信息</c>

00:29:24.898 --> 00:29:27.734 align:middle
<c.magenta>它有着诸东西如收货地址</c>

00:29:28.168 --> 00:29:32.673 align:middle
<c.magenta>以及其他一些在这次支付会用到的信息</c>

00:29:33.207 --> 00:29:36.343 align:middle
<c.magenta>然后它还有加密过的支付token</c>

00:29:36.577 --> 00:29:38.745 align:middle
<c.magenta>网银平台会用到这个token</c>

00:29:39.880 --> 00:29:44.618 align:middle
<c.magenta>一旦你向网银平台发送了token</c>
<c.magenta>意味着这次支付就已经处理完毕了</c>

00:29:45.385 --> 00:29:48.155 align:middle
<c.magenta>获得网银平台的反馈数据后调用</c>
<c.magenta>completePayment方法</c>

00:29:48.288 --> 00:29:51.892 align:middle
<c.magenta>这个方法同时会让表单在界面上消失</c>
<c.magenta>就像这样</c>

00:29:53.260 --> 00:29:56.029 align:middle
<c.magenta>这里我们就会有一个授权后的事情处理</c>

00:29:56.997 --> 00:29:58.498 align:middle
<c.magenta>我调用</c>
<c.magenta>sendPaymentToken</c>

00:29:58.599 --> 00:30:00.033 align:middle
<c.magenta>我将token传入了</c>

00:29:58.599 --> 00:30:00.033 align:middle
<c.magenta>我将token传入了</c>

00:30:00.467 --> 00:30:04.304 align:middle
<c.magenta>这样就会返回一个promise</c>

00:30:04.771 --> 00:30:08.809 align:middle
<c.magenta>会通过一个BOOL值来代表</c>

00:30:08.876 --> 00:30:10.711 align:middle
<c.magenta>你的支付成功还是失败</c>

00:30:11.178 --> 00:30:13.614 align:middle
<c.magenta>如果成功的话</c>

00:30:13.714 --> 00:30:16.250 align:middle
<c.magenta>我会将状态设置为</c>
<c.magenta>ApplePaySession.STATUS_SUCCESS</c>

00:30:17.150 --> 00:30:20.320 align:middle
<c.magenta>如果失败了</c>
<c.magenta>假定这个支付没有完成</c>

00:30:20.521 --> 00:30:23.724 align:middle
<c.magenta>那么将状态设置为</c>
<c.magenta>ApplePaySession.STATUS_FAILURE</c>

00:30:24.958 --> 00:30:26.827 align:middle
<c.magenta> 然后我会调用</c>
<c.magenta>completePayment</c>

00:30:26.994 --> 00:30:30.163 align:middle
<c.magenta>我传递了status参数</c>
<c.magenta>它会关闭sheet</c>

00:30:30.631 --> 00:30:32.599 align:middle
<c.magenta>然后我再调用</c>
<c.magenta>showConfirmation</c>

00:30:32.666 --> 00:30:35.669 align:middle
<c.magenta>这样会弹出一个美观的订单确认的页面</c>

00:30:36.303 --> 00:30:40.274 align:middle
<c.magenta>调用completePayment</c>
<c.magenta>传入成功的状态码</c>

00:30:40.641 --> 00:30:43.310 align:middle
<c.magenta>你会看一个好看的确认的标记</c>
<c.magenta>并且表单会从界面上消失</c>

00:30:44.878 --> 00:30:48.148 align:middle
<c.magenta>好了 现在让我们来看一下演示</c>

00:30:48.515 --> 00:30:50.517 align:middle
<c.magenta>来看一下如何办到这些</c>

00:30:56.924 --> 00:30:57.991 align:middle
<c.magenta>我们开始了</c>

00:30:59.359 --> 00:31:02.729 align:middle
<c.magenta>首先 我们进入了这个网站</c>

00:30:59.359 --> 00:31:02.729 align:middle
<c.magenta>首先 我们进入了这个网站</c>

00:31:04.431 --> 00:31:07.568 align:middle
<c.magenta>同时让我们看一下源代码</c>

00:31:09.536 --> 00:31:13.040 align:middle
<c.magenta>在我们加入JavaScript之前</c>
<c.magenta>关注一下这些</c>

00:31:13.173 --> 00:31:16.577 align:middle
<c.magenta>这里我加了两个触摸用的图标</c>

00:31:17.110 --> 00:31:20.547 align:middle
<c.magenta>举例来说在Safari</c>
<c.magenta>Favorites视图中会用到</c>

00:31:20.614 --> 00:31:24.952 align:middle
<c.magenta>它们也可以在Apple Pay</c>
<c.magenta>授权的表单中使用</c>

00:31:25.018 --> 00:31:26.320 align:middle
<c.magenta>我们稍后会看到</c>

00:31:27.487 --> 00:31:30.157 align:middle
<c.magenta>这里我列举了所有的产品</c>

00:31:30.290 --> 00:31:33.560 align:middle
<c.magenta>之前我们已经为它们</c>
<c.magenta>增加了Apple Pay按钮</c>

00:31:33.894 --> 00:31:36.830 align:middle
<c.magenta>我也可以通过CSS来让它们是否显示</c>

00:31:37.297 --> 00:31:38.665 align:middle
<c.magenta>让我们来看一下</c>

00:31:40.667 --> 00:31:41.668 align:middle
<c.magenta>这是我的CSS文件</c>

00:31:41.735 --> 00:31:44.004 align:middle
<c.magenta>这里是关于Apple Pay</c>
<c.magenta>按钮的声明</c>

00:31:44.338 --> 00:31:47.407 align:middle
<c.magenta>这里我设置让它们不显示</c>

00:31:47.674 --> 00:31:49.977 align:middle
<c.magenta>对于它的图片</c>

00:31:50.077 --> 00:31:53.680 align:middle
<c.magenta>我使用了WebKit-named-image特效</c>

00:31:53.780 --> 00:31:56.183 align:middle
<c.magenta>这样我们可以使用系统自带的</c>
<c.magenta>Apple Pay的Logo</c>

00:31:56.316 --> 00:31:58.452 align:middle
<c.magenta>你并不需在你的服务器上放置这张图片</c>

00:31:59.686 --> 00:32:03.690 align:middle
<c.magenta>好了 现在我们需要增加一些代码</c>

00:31:59.686 --> 00:32:03.690 align:middle
<c.magenta>好了 现在我们需要增加一些代码</c>

00:32:03.790 --> 00:32:07.694 align:middle
<c.magenta>让设备支持Apple Pay情况下</c>
<c.magenta>显示Apple Pay按钮</c>

00:32:09.096 --> 00:32:11.632 align:middle
<c.magenta>这里我已经写过一些同样的代码了</c>

00:32:11.698 --> 00:32:15.369 align:middle
<c.magenta>我为DOMContentLoaded事件</c>
<c.magenta>创建了一个EventListener</c>

00:32:15.636 --> 00:32:16.803 align:middle
<c.magenta>这个事件会被执行</c>

00:32:16.904 --> 00:32:19.039 align:middle
<c.magenta>当主页被加载的时候</c>

00:32:19.439 --> 00:32:22.943 align:middle
<c.magenta>但是在任何图片加载之前</c>

00:32:23.010 --> 00:32:24.645 align:middle
<c.magenta>所以这个地方适合放置这些代码</c>

00:32:24.778 --> 00:32:27.214 align:middle
<c.magenta>让我们来添加一些代码来完成这个功能</c>

00:32:27.848 --> 00:32:31.485 align:middle
<c.magenta>我们又检查了ApplePaySession是否存在</c>

00:32:31.652 --> 00:32:34.054 align:middle
<c.magenta>然后我调用了</c>
<c.magenta>canMakePaymentsWithActiveCard</c>

00:32:34.454 --> 00:32:37.925 align:middle
<c.magenta>并且在我的promise函数中</c>
<c.magenta>我检查了返回的值</c>

00:32:38.025 --> 00:32:40.527 align:middle
<c.magenta>若返回true</c>
<c.magenta>调用showApplePayButton</c>

00:32:40.961 --> 00:32:44.765 align:middle
<c.magenta>现在让我们保存后再回到这里</c>
<c.magenta>然后我们开始加载</c>

00:32:44.865 --> 00:32:46.867 align:middle
<c.magenta>现在我们就获得了</c>
<c.magenta>Apple Pay按钮</c>

00:32:48.135 --> 00:32:52.639 align:middle
<c.magenta>下一个步骤是</c>
<c.magenta>点击按钮的时候 弹出sheet</c>

00:32:52.706 --> 00:32:55.776 align:middle
<c.magenta>我已经写了一个applePayButtonClicked函数</c>

00:32:56.176 --> 00:32:59.880 align:middle
<c.magenta>在用户点击按钮的时候会执行</c>

00:33:00.514 --> 00:33:04.718 align:middle
<c.magenta>所以我们想在这里让用户点击按钮之后</c>
<c.magenta>就显示表单</c>

00:33:05.352 --> 00:33:08.589 align:middle
<c.magenta>所以我又声明了</c>
<c.magenta>paymentRequest对象</c>

00:33:08.922 --> 00:33:12.025 align:middle
<c.magenta>这里的金额 我直接硬编码了</c>
<c.magenta>这毕竟只是个demo</c>

00:33:12.159 --> 00:33:15.629 align:middle
<c.magenta>但是在实际的场景中</c>
<c.magenta>这个数据应该从别的地方获取</c>

00:33:16.330 --> 00:33:19.099 align:middle
<c.magenta>我创建了一个新的</c>
<c.magenta>ApplePaySession对象</c>

00:33:19.233 --> 00:33:20.367 align:middle
<c.magenta>然后调用Begin</c>

00:33:20.567 --> 00:33:24.538 align:middle
<c.magenta>让我们保存后重新加载</c>
<c.magenta>并且展示出表单</c>

00:33:28.175 --> 00:33:31.211 align:middle
<c.magenta>可以看到表单并没有显示</c>

00:33:31.345 --> 00:33:35.048 align:middle
<c.magenta>让我们打开错误控制台</c>
<c.magenta>来找一下原因</c>

00:33:37.551 --> 00:33:38.485 align:middle
<c.magenta>好了 控制台指出</c>

00:33:38.585 --> 00:33:41.555 align:middle
<c.magenta>“supportednetwork”</c>
<c.magenta>并不是一个合法的属性名称</c>

00:33:41.622 --> 00:33:44.358 align:middle
<c.magenta>看起来这里是</c>
<c.magenta>我拼错了"supported"</c>

00:33:44.691 --> 00:33:47.094 align:middle
<c.magenta>所以让我们回头解决掉这个问题</c>

00:33:49.897 --> 00:33:50.998 align:middle
<c.magenta>然后重新加载</c>

00:33:52.666 --> 00:33:54.301 align:middle
<c.magenta>现在表单就可以展示出来了</c>

00:33:54.568 --> 00:33:57.171 align:middle
<c.magenta>但是我还不能确认这次支付</c>

00:33:57.337 --> 00:33:59.573 align:middle
<c.magenta>因为还没有进行商户的验证</c>

00:33:59.840 --> 00:34:01.308 align:middle
<c.magenta>所以让我们来进行这个步骤</c>

00:33:59.840 --> 00:34:01.308 align:middle
<c.magenta>所以让我们来进行这个步骤</c>

00:34:03.610 --> 00:34:06.547 align:middle
<c.magenta>我想加入</c>
<c.magenta>validateMerchant事情处理</c>

00:34:06.613 --> 00:34:09.550 align:middle
<c.magenta>我会在这里创建了</c>
<c.magenta>session后再加入</c>

00:34:09.683 --> 00:34:11.351 align:middle
<c.magenta>但是我们会先调用Begin</c>

00:34:11.752 --> 00:34:14.154 align:middle
<c.magenta>再一次的</c>
<c.magenta>调用performValidation</c>

00:34:14.554 --> 00:34:18.091 align:middle
<c.magenta>当这个promise获得了</c>
<c.magenta>处理结果的时候</c>

00:34:18.358 --> 00:34:21.828 align:middle
<c.magenta>它会调用completeMerchantValidation</c>
<c.magenta>我会传入商户的session</c>

00:34:22.228 --> 00:34:28.068 align:middle
<c.magenta>然后我就能够确认支付了</c>

00:34:28.668 --> 00:34:30.637 align:middle
<c.magenta>现在我们还需要做最后一件事情</c>

00:34:30.737 --> 00:34:33.206 align:middle
<c.magenta>那就是添加我们的支付授权代码</c>

00:34:34.608 --> 00:34:40.647 align:middle
<c.magenta>我们会向服务器发送支付token</c>

00:34:40.880 --> 00:34:42.716 align:middle
<c.magenta>并且完成这次支付</c>

00:34:42.815 --> 00:34:45.752 align:middle
<c.magenta>如果我们成功了</c>
<c.magenta>我会将状态设为SUCCESS</c>

00:34:46.186 --> 00:34:47.788 align:middle
<c.magenta>否则我将它设为FAILURE</c>

00:34:48.121 --> 00:34:51.257 align:middle
<c.magenta>回调completePayment</c>
<c.magenta>及showConfirmation</c>

00:34:51.658 --> 00:34:56.563 align:middle
<c.magenta>现在我想使用QuickTime</c>

00:34:56.663 --> 00:35:00.434 align:middle
<c.magenta>让我们来看一下</c>
<c.magenta>在真实手机上的表现效果</c>

00:34:56.663 --> 00:35:00.434 align:middle
<c.magenta>让我们来看一下</c>
<c.magenta>在真实手机上的表现效果</c>

00:35:00.968 --> 00:35:03.937 align:middle
<c.magenta>让我们重新加载</c>
<c.magenta>我点击了支付按钮</c>

00:35:05.038 --> 00:35:06.306 align:middle
<c.magenta>现在我就可以确认了</c>

00:35:06.406 --> 00:35:09.510 align:middle
<c.magenta>就像你们看到的那样</c>
<c.magenta>我还能看到这个网站的图标</c>

00:35:09.610 --> 00:35:12.179 align:middle
<c.magenta>那是因为我添加了链接图标的属性</c>

00:35:12.579 --> 00:35:16.116 align:middle
<c.magenta>现在我们可以进行支付了</c>
<c.magenta>然后完成支付</c>

00:35:16.550 --> 00:35:18.485 align:middle
<c.magenta>商家会安排发货了</c>

00:35:28.328 --> 00:35:32.099 align:middle
<c.magenta>所以为网页添加Apple Pay</c>
<c.magenta>是非常简单的</c>

00:35:32.633 --> 00:35:35.836 align:middle
<c.magenta>我相信如果那样做的话</c>

00:35:36.303 --> 00:35:39.373 align:middle
<c.magenta>Canine服饰会在狗狗中流行</c>

00:35:40.474 --> 00:35:41.775 align:middle
<c.magenta>该让Nick回到台上了</c>

00:35:47.147 --> 00:35:50.017 align:middle
<c.magenta>大家都知道Anders</c>
<c.magenta>他是WebKit团队中的那位</c>

00:35:50.083 --> 00:35:53.453 align:middle
<c.magenta>跟狗天天在一起</c>
<c.magenta>并且应该被丢进狗屋的人</c>

00:35:54.087 --> 00:35:55.155 align:middle
<c.magenta>好了 让我们继续</c>

00:35:55.689 --> 00:35:56.990 align:middle
<c.magenta>给我一根骨头吧</c>

00:35:59.226 --> 00:36:00.894 align:middle
<c.magenta>我去当软件工程师太浪费了</c>

00:35:59.226 --> 00:36:00.894 align:middle
<c.magenta>我去当软件工程师太浪费了</c>

00:36:00.961 --> 00:36:01.929 align:middle
<c.magenta>好了</c>

00:36:01.995 --> 00:36:08.435 align:middle
<c.magenta>我们已经看到了如何在网页中</c>
<c.magenta>支持Apple Pay</c>

00:36:08.569 --> 00:36:11.605 align:middle
<c.magenta>让我们来讨论一些可能对你们来说</c>
<c.magenta>是比较重要的事情</c>

00:36:11.705 --> 00:36:13.240 align:middle
<c.magenta>那就是你们如何获得付款</c>

00:36:13.307 --> 00:36:15.375 align:middle
<c.magenta>从Apple Pay中获得付款</c>

00:36:16.777 --> 00:36:21.882 align:middle
<c.magenta>Anders讲述了</c>
<c.magenta>获得支付数据的过程</c>

00:36:23.283 --> 00:36:24.518 align:middle line:1
<c.magenta>后面会发生什么</c>

00:36:25.652 --> 00:36:29.323 align:middle line:1
<c.magenta>因为拥有一个支付token</c>
<c.magenta>你现在有两个选择</c>

00:36:31.024 --> 00:36:34.895 align:middle
<c.magenta>第一个是自己对这个</c>
<c.magenta>token进行解码</c>

00:36:35.128 --> 00:36:36.797 align:middle
<c.magenta>通过你自己的服务器</c>

00:36:38.131 --> 00:36:40.601 align:middle
<c.magenta>这是较好的选择</c>
<c.magenta>对你已使用了Apple Pay</c>

00:36:40.701 --> 00:36:42.836 align:middle
<c.magenta>或者你有一个非常大型的电子商务后台</c>

00:36:42.903 --> 00:36:45.072 align:middle
<c.magenta>你会熟悉其中加密算法</c>

00:36:45.138 --> 00:36:47.007 align:middle
<c.magenta>在我们的开发者网站上有相关的文档</c>

00:36:47.474 --> 00:36:49.877 align:middle
<c.magenta>另外一个选择是</c>

00:36:49.977 --> 00:36:52.379 align:middle
<c.magenta>将这些加密的支付数据</c>

00:36:52.579 --> 00:36:56.383 align:middle
<c.magenta>发送到网银平台</c>
<c.magenta>然后它们会帮你解码这些支付数据</c>

00:36:56.483 --> 00:36:58.952 align:middle
<c.magenta>前提是你将密匙提供给了它们</c>

00:37:00.554 --> 00:37:01.922 align:middle
<c.magenta>这是一个比较方便的选择</c>

00:37:02.022 --> 00:37:06.326 align:middle
<c.magenta>非常多的网银平台</c>
<c.magenta>提供了应用内的SDK</c>

00:37:06.527 --> 00:37:08.629 align:middle
<c.magenta>我们非常相信这些平台</c>

00:37:08.729 --> 00:37:12.065 align:middle
<c.magenta>也会提供类似的基于</c>
<c.magenta>JavaScript的SDK</c>

00:37:12.132 --> 00:37:14.635 align:middle
<c.magenta>让你们可以直接集成到网站中</c>

00:37:15.903 --> 00:37:17.771 align:middle
<c.magenta>实际上在欧美</c>

00:37:18.038 --> 00:37:21.875 align:middle
<c.magenta>现在超过40家网银平台</c>
<c.magenta>支持Apple Pay</c>

00:37:21.942 --> 00:37:23.877 align:middle
<c.magenta>名单太多了</c>
<c.magenta>所以就不一一列举了</c>

00:37:24.144 --> 00:37:26.914 align:middle
<c.magenta>全部名单列表可在</c>
<c.magenta>developer.apple.com上找到</c>

00:37:27.948 --> 00:37:30.984 align:middle
<c.magenta>就像我说的那样 许多网银平台</c>
<c.magenta>现在提供了应用内的SDK</c>

00:37:31.051 --> 00:37:34.188 align:middle
<c.magenta>将来它们也会提供网页的SDK</c>

00:37:36.356 --> 00:37:39.059 align:middle
<c.magenta>这里我想强调一下</c>
<c.magenta>一些新的网银平台</c>

00:37:39.126 --> 00:37:41.762 align:middle
<c.magenta>大家都知道</c>
<c.magenta>Apple Pay在中国可以使用了</c>

00:37:41.828 --> 00:37:44.364 align:middle
<c.magenta>这项功能在中国也同样好用</c>

00:37:44.431 --> 00:37:45.532 align:middle
<c.magenta>像在欧洲或美国那样</c>

00:37:45.666 --> 00:37:49.436 align:middle
<c.magenta>在中国有四家网银平台</c>
<c.magenta>支持Apple Pay</c>

00:37:49.503 --> 00:37:53.774 align:middle
<c.magenta>它们是中国银联  连连支付</c>
<c.magenta>首信易支付以及易宝支付</c>

00:37:53.974 --> 00:37:56.243 align:middle
<c.magenta>若你在亚洲转发应用内</c>
<c.magenta>或者网页的请求</c>

00:37:56.310 --> 00:37:58.779 align:middle
<c.magenta>你同样能获得良好的支持</c>

00:38:00.380 --> 00:38:04.651 align:middle
<c.magenta>就像我前面提到过的电子商务平台</c>

00:38:05.252 --> 00:38:08.021 align:middle
<c.magenta>很多站点并没有独立的电子商务系统</c>

00:38:08.088 --> 00:38:11.859 align:middle
<c.magenta>它们使用着电子商务平台提供的服务</c>

00:38:12.259 --> 00:38:15.896 align:middle
<c.magenta>我们现已与很多电子商务平台进行合作</c>

00:38:16.330 --> 00:38:18.365 align:middle
<c.magenta>我们主要有三个电子平台合作方</c>

00:38:18.732 --> 00:38:22.269 align:middle line:1
<c.magenta>它们是Demandware IBM</c>
<c.magenta>以及Shopify</c>

00:38:22.703 --> 00:38:24.905 align:middle line:1
<c.magenta>如果你没有使用这三家中的一个</c>

00:38:25.172 --> 00:38:27.741 align:middle line:1
<c.magenta>那么你在使用Apple Pay时</c>

00:38:27.808 --> 00:38:30.043 align:middle line:1
<c.magenta>在使用Apple Pay的时候</c>

00:38:30.110 --> 00:38:31.578 align:middle line:1
<c.magenta>需要一个开发者账号</c>

00:38:32.246 --> 00:38:34.815 align:middle line:1
<c.magenta>使用这些平台对你来说会更方便</c>

00:38:34.882 --> 00:38:38.852 align:middle line:1
<c.magenta>它们会处理与Apple Pay</c>
<c.magenta>深度集成的事情</c>

00:38:43.090 --> 00:38:45.893 align:middle line:1
<c.magenta>现在你可能会想去试一试了</c>

00:38:45.959 --> 00:38:47.027 align:middle line:1
<c.magenta>我希望你们都那么想</c>

00:38:47.728 --> 00:38:50.197 align:middle line:1
<c.magenta>我想多谈一些关于测试的事情</c>

00:38:51.265 --> 00:38:53.734 align:middle line:1
<c.magenta>测试你的网站:</c>

00:38:53.901 --> 00:38:55.636 align:middle line:1
<c.magenta>我们来介绍一个新的测试环境</c>

00:38:55.702 --> 00:38:58.272 align:middle line:1
<c.magenta>它为Apple Pay打造名叫</c>
<c.magenta>Apple Pay Sandbox</c>

00:38:58.839 --> 00:39:00.340 align:middle line:1
<c.magenta>这是一种新的测试方式</c>

00:38:58.839 --> 00:39:00.340 align:middle line:1
<c.magenta>这是一种新的测试方式</c>

00:39:00.607 --> 00:39:04.978 align:middle line:1
<c.magenta>在这个测试环境下</c>
<c.magenta>默认网页就是支付Apple Pay</c>

00:39:05.612 --> 00:39:07.281 align:middle line:1
<c.magenta>如果你想获得更多信息的话</c>

00:39:07.347 --> 00:39:09.249 align:middle line:1
<c.magenta>这个会议我们没有时间</c>
<c.magenta>来谈论这个问题</c>

00:39:09.483 --> 00:39:11.852 align:middle line:1
<c.magenta>但是在下个会议我们会谈到</c>

00:39:11.952 --> 00:39:13.654 align:middle line:1
<c.magenta>我们会为大家讲述Sandbox</c>

00:39:13.754 --> 00:39:16.390 align:middle line:1
<c.magenta>如果访问我们的网站</c>
<c.magenta>developer.apple.com</c>

00:39:16.623 --> 00:39:19.726 align:middle line:1
<c.magenta>那里会有Apple Pay</c>
<c.magenta>Sandbox相关的更多的信息</c>

00:39:19.793 --> 00:39:21.929 align:middle line:1
<c.magenta>作为一个开始</c>
<c.magenta>你将会能够</c>

00:39:22.029 --> 00:39:23.397 align:middle line:1
<c.magenta>测试网页上进行Apple Pay</c>

00:39:23.497 --> 00:39:25.499 align:middle line:1
<c.magenta>然后我们就可以将Apple Pay</c>
<c.magenta>在生产环境上部署了</c>

00:39:25.566 --> 00:39:29.636 align:middle
<c.magenta>我们即将发布iOS X</c>
<c.magenta>以及Mac OS Sierra</c>

00:39:36.577 --> 00:39:39.580 align:middle
<c.magenta>所以当你们开始测试</c>
<c.magenta>Apple Pay的时候</c>

00:39:39.646 --> 00:39:43.383 align:middle
<c.magenta>请给我们一些反馈来帮助我们解决错误</c>

00:39:43.650 --> 00:39:46.720 align:middle
<c.magenta>我们非常愿意听到你们反馈问题</c>

00:39:46.787 --> 00:39:48.255 align:middle
<c.magenta>及其它你们所见到的事情</c>

00:39:48.355 --> 00:39:51.225 align:middle
<c.magenta>如果你们愿意表示祝贺之类的话</c>
<c.magenta>我们也非常愿意听到</c>

00:39:52.626 --> 00:39:56.730 align:middle
<c.magenta>好吧 让我们看看最后一个部分</c>

00:39:57.764 --> 00:39:59.333 align:middle
<c.magenta>Apple Pay的设计</c>

00:39:59.933 --> 00:40:03.537 align:middle
<c.magenta>如何为网站建立一个能收到欢迎的体验</c>

00:39:59.933 --> 00:40:03.537 align:middle
<c.magenta>如何为网站建立一个能收到欢迎的体验</c>

00:40:03.937 --> 00:40:06.707 align:middle
<c.magenta>这方面也同样的适用于应用</c>

00:40:09.343 --> 00:40:12.012 align:middle
<c.magenta>在最开始的部分</c>
<c.magenta>我提到了一点</c>

00:40:12.613 --> 00:40:14.047 align:middle
<c.magenta>那就是Apple Pay三个原则：</c>

00:40:14.681 --> 00:40:18.452 align:middle
<c.magenta>它们是简单 安全 以及私密</c>

00:40:20.187 --> 00:40:21.855 align:middle
<c.magenta>你的设计需要能体现哪些</c>

00:40:22.422 --> 00:40:23.557 align:middle
<c.magenta>而不是设计的太复杂</c>

00:40:23.690 --> 00:40:25.659 align:middle
<c.magenta>Apple Pay不能设计得</c>
<c.magenta>使用起来太复杂</c>

00:40:27.027 --> 00:40:29.563 align:middle
<c.magenta>Apple Pay也有三个主要阶段</c>

00:40:29.997 --> 00:40:31.498 align:middle
<c.magenta>它们是预支付阶段</c>

00:40:31.965 --> 00:40:34.568 align:middle
<c.magenta>在这一阶段</c>
<c.magenta>你还没有看到Apple Pay表单</c>

00:40:34.635 --> 00:40:38.071 align:middle
<c.magenta>这种体验发生在</c>
<c.magenta>Apple Pay表单出现之前</c>

00:40:39.206 --> 00:40:42.176 align:middle
<c.magenta>然后是支付过程</c>
<c.magenta>实际的支付使用</c>

00:40:42.242 --> 00:40:44.912 align:middle
<c.magenta>这时候表单已经出现了</c>

00:40:45.112 --> 00:40:47.214 align:middle
<c.magenta>你可以定制那个界面</c>
<c.magenta>你还需要做什么呢</c>

00:40:47.281 --> 00:40:48.115 align:middle
<c.magenta>让我们来看看</c>

00:40:49.249 --> 00:40:50.817 align:middle
<c.magenta>然后还有发送支付的过程</c>

00:40:51.585 --> 00:40:54.555 align:middle
<c.magenta>那是表单消失后的体验</c>

00:40:55.355 --> 00:40:57.591 align:middle
<c.magenta>让我们来完整的看一下这三种阶段</c>

00:40:57.658 --> 00:41:02.729 align:middle
<c.magenta>然后讨论一下你如何设计</c>
<c.magenta>Apple Pay的各个阶段</c>

00:40:57.658 --> 00:41:02.729 align:middle
<c.magenta>然后讨论一下你如何设计</c>
<c.magenta>Apple Pay的各个阶段</c>

00:41:05.132 --> 00:41:07.734 align:middle
<c.magenta>预支付开始于用户点击了</c>
<c.magenta>Apple Pay按钮</c>

00:41:08.535 --> 00:41:10.871 align:middle
<c.magenta>在Cocoa Touch中也有</c>
<c.magenta>同样的Apple Pay按钮</c>

00:41:10.938 --> 00:41:13.340 align:middle
<c.magenta>就像我刚才展示的那样</c>

00:41:13.407 --> 00:41:16.910 align:middle
<c.magenta>你也可在Cocoa</c>
<c.magenta>Touch中使用它</c>

00:41:16.977 --> 00:41:19.079 align:middle
<c.magenta>这种按钮有很多种风格</c>

00:41:19.580 --> 00:41:20.948 align:middle
<c.magenta>这里有很多种</c>

00:41:21.348 --> 00:41:24.818 align:middle
<c.magenta>Anders展示了使用CSS来改变</c>
<c.magenta>但是需要重申的是</c>

00:41:25.953 --> 00:41:29.256 align:middle
<c.magenta>我们提供了WebKit-image-named的属性</c>
<c.magenta>你们可以使用它</c>

00:41:29.623 --> 00:41:31.024 align:middle
<c.magenta>你可以获得一个Apple Pay的logo</c>

00:41:31.892 --> 00:41:33.894 align:middle
<c.magenta>就可在网页的按钮上使用了logo了</c>

00:41:35.696 --> 00:41:37.664 align:middle
<c.magenta>有些可以改</c>
<c.magenta>而有些不能改</c>

00:41:37.731 --> 00:41:39.132 align:middle
<c.magenta>使用Apple Pay时</c>

00:41:40.300 --> 00:41:41.969 align:middle
<c.magenta>使用内建的资源</c>

00:41:43.337 --> 00:41:45.205 align:middle
<c.magenta>即使我们修改了logo</c>
<c.magenta>你们也没必要知道</c>

00:41:45.272 --> 00:41:47.040 align:middle
<c.magenta>你可能想确保你logo是最新的</c>

00:41:47.541 --> 00:41:50.544 align:middle
<c.magenta>并且放置到任何用户想进行购买的地方</c>

00:41:50.844 --> 00:41:51.912 align:middle
<c.magenta>不用隐藏它</c>

00:41:51.979 --> 00:41:54.248 align:middle
<c.magenta>不要让用户对支付感到困难</c>

00:41:54.381 --> 00:41:56.416 align:middle
<c.magenta>但是支付操作却很简便</c>

00:41:57.484 --> 00:41:58.852 align:middle
<c.magenta>还有一些最好不要做的建议</c>

00:41:59.453 --> 00:42:03.590 align:middle
<c.magenta>不要修改按钮的外观或者它的行为</c>

00:41:59.453 --> 00:42:03.590 align:middle
<c.magenta>不要修改按钮的外观或者它的行为</c>

00:42:04.157 --> 00:42:06.527 align:middle
<c.magenta>对于用户来说</c>

00:42:06.593 --> 00:42:08.762 align:middle
<c.magenta>他们点击了Apple Pay按钮</c>
<c.magenta>就让他们看到Apple Pay表单</c>

00:42:08.829 --> 00:42:10.664 align:middle
<c.magenta>我们希望有这样的体验</c>

00:42:11.198 --> 00:42:12.966 align:middle
<c.magenta>同样不要让这个按钮无效</c>

00:42:13.033 --> 00:42:17.404 align:middle
<c.magenta>苹果的标准规定</c>
<c.magenta>你不能让这个无效</c>

00:42:17.504 --> 00:42:20.707 align:middle
<c.magenta>你必须于其它的支付方式同等的对待它</c>

00:42:23.343 --> 00:42:25.445 align:middle
<c.magenta>让我们讨论一下什么地方</c>
<c.magenta>可以放置这个按钮</c>

00:42:26.613 --> 00:42:28.549 align:middle
<c.magenta> Anders的演示已向你们展示了</c>

00:42:28.649 --> 00:42:31.685 align:middle
<c.magenta>再开始支付流程之前就放置好这个按钮</c>

00:42:32.786 --> 00:42:35.656 align:middle
<c.magenta>在产品的界面放置这个按钮</c>
<c.magenta>可以增加用户的支付转化率</c>

00:42:35.722 --> 00:42:38.625 align:middle
<c.magenta>我们从应用中看到了支持Apple</c>
<c.magenta>Pay后会带来良好的数据</c>

00:42:38.725 --> 00:42:41.128 align:middle
<c.magenta>表明了支付转换率的上升</c>

00:42:41.195 --> 00:42:44.097 align:middle
<c.magenta>他们只是在产品的界面放置这个按钮</c>
<c.magenta>就能产生这种结果</c>

00:42:44.998 --> 00:42:48.702 align:middle
<c.magenta>同样明显 你可将它放到常规的</c>
<c.magenta>支付流程以及购物车中</c>

00:42:49.336 --> 00:42:50.537 align:middle
<c.magenta>让我们来看一些例子</c>

00:42:50.704 --> 00:42:54.942 align:middle
<c.magenta>我们将Apple Pay API</c>
<c.magenta>向一些网站开放了</c>

00:42:55.008 --> 00:42:57.177 align:middle
<c.magenta>并且要求它们遵守一些设计</c>

00:42:57.711 --> 00:42:59.513 align:middle
<c.magenta>和使用Apple Pay的经验</c>

00:43:00.547 --> 00:43:02.182 align:middle
<c.magenta>其中一个是StubHub</c>

00:43:03.450 --> 00:43:06.787 align:middle
<c.magenta>现在StubHub决定</c>
<c.magenta>将Apple Pay按钮</c>

00:43:06.887 --> 00:43:08.121 align:middle
<c.magenta>放置在订单流程当中</c>

00:43:08.255 --> 00:43:10.023 align:middle
<c.magenta>你选择你需要的门票</c>

00:43:10.123 --> 00:43:11.859 align:middle
<c.magenta>然后使用Apple Pay</c>

00:43:12.893 --> 00:43:14.862 align:middle
<c.magenta>你也可以将Apple Pay提前</c>

00:43:14.928 --> 00:43:17.397 align:middle
<c.magenta>你可在快速支付的时候</c>
<c.magenta>就使用Apple Pay</c>

00:43:17.464 --> 00:43:19.333 align:middle
<c.magenta>Warby Parker就这么做</c>

00:43:20.100 --> 00:43:22.069 align:middle
<c.magenta>在你选择了一个产品之后</c>

00:43:22.603 --> 00:43:23.670 align:middle
<c.magenta>你会看到两个选项</c>

00:43:23.737 --> 00:43:26.607 align:middle
<c.magenta>W可以将它加入购物车</c>
<c.magenta>然后继续选购</c>

00:43:27.007 --> 00:43:29.676 align:middle
<c.magenta>或者直接通过</c>
<c.magenta>Apple Pay来购买</c>

00:43:31.879 --> 00:43:33.413 align:middle
<c.magenta>最后你可将Apple Pay按钮</c>

00:43:33.480 --> 00:43:34.982 align:middle
<c.magenta>直接放到产品的页面</c>

00:43:35.482 --> 00:43:37.451 align:middle
<c.magenta>Lululemon是这么做的</c>

00:43:37.718 --> 00:43:40.587 align:middle
<c.magenta>这里在产品页面就有一个按钮</c>

00:43:40.721 --> 00:43:42.689 align:middle
<c.magenta>让我们在iPad上看一下</c>

00:43:43.590 --> 00:43:45.359 align:middle
<c.magenta>你同样能看到</c>
<c.magenta>添加商品到购物车</c>

00:43:45.425 --> 00:43:48.829 align:middle
<c.magenta>如果我想像平常那样创建一个购物车</c>
<c.magenta>我可以做到</c>

00:43:48.896 --> 00:43:51.064 align:middle
<c.magenta>或者我可以直接购买它们</c>

00:43:53.567 --> 00:43:56.870 align:middle
<c.magenta>有一点在产品页面得到了增强</c>

00:43:57.004 --> 00:43:59.206 align:middle
<c.magenta>那就是允许未注册直接支付</c>

00:43:59.773 --> 00:44:03.076 align:middle
<c.magenta>要求注册是一个非常主要的用户门槛</c>

00:43:59.773 --> 00:44:03.076 align:middle
<c.magenta>要求注册是一个非常主要的用户门槛</c>

00:44:03.143 --> 00:44:04.711 align:middle
<c.magenta>我不知道你们如何看待</c>

00:44:04.811 --> 00:44:07.614 align:middle
<c.magenta>但是我不会去一个</c>
<c.magenta>我不知道的网站购买东西</c>

00:44:07.681 --> 00:44:09.917 align:middle
<c.magenta>前提是它要求我进行注册</c>

00:44:11.285 --> 00:44:14.021 align:middle
<c.magenta>所以Apple Pay能帮助</c>
<c.magenta>减少抑制消费的情况</c>

00:44:14.087 --> 00:44:17.024 align:middle
<c.magenta>通过让未注册用户的</c>
<c.magenta>支付流程变得非常简单</c>

00:44:18.158 --> 00:44:21.161 align:middle
<c.magenta>同时 你可以选择利用</c>

00:44:21.228 --> 00:44:25.232 align:middle
<c.magenta>Apple Pay表单中的信息</c>
<c.magenta>在用户购买后为他创建一个账户</c>

00:44:25.866 --> 00:44:28.669 align:middle
<c.magenta>我会来为大家在支付后的部分</c>
<c.magenta>来展示这一点</c>

00:44:30.871 --> 00:44:33.707 align:middle
<c.magenta>让我们来关注一下实际支付过程</c>
<c.magenta>Apple Pay表单</c>

00:44:35.409 --> 00:44:38.712 align:middle
<c.magenta>Apple Pay表单</c>
<c.magenta>为商户提供了灵活的支付流程</c>

00:44:38.812 --> 00:44:40.414 align:middle
<c.magenta>这是高度定制化的</c>

00:44:40.681 --> 00:44:44.785 align:middle
<c.magenta>但是它同样为用户提供了</c>
<c.magenta>一种持续性的使用经验</c>

00:44:45.319 --> 00:44:48.222 align:middle
<c.magenta>你可以决定显示出哪些信息</c>

00:44:48.288 --> 00:44:50.991 align:middle
<c.magenta>但是用户总是有着自己的期望</c>

00:44:53.093 --> 00:44:54.761 align:middle
<c.magenta>这里是Apple Pay表单的例子</c>

00:44:54.895 --> 00:44:56.830 align:middle
<c.magenta>我使用的是Mac OS sheet</c>

00:44:57.197 --> 00:45:00.334 align:middle
<c.magenta>但是在iOS上 条目也是一样的</c>

00:44:57.197 --> 00:45:00.334 align:middle
<c.magenta>但是在iOS上 条目也是一样的</c>

00:45:00.467 --> 00:45:04.204 align:middle
<c.magenta>若你在SafariiPhone</c>
<c.magenta>iPad的网页上进行支付</c>

00:45:05.272 --> 00:45:08.342 align:middle
<c.magenta>第一个条目是选择银行卡</c>

00:45:08.509 --> 00:45:11.111 align:middle
<c.magenta>账单地址也经常第一个被选</c>

00:45:11.211 --> 00:45:12.946 align:middle
<c.magenta>尽管账单地址不是必需的</c>

00:45:13.046 --> 00:45:14.615 align:middle
<c.magenta>在处理支付流程的过程中</c>

00:45:16.383 --> 00:45:17.918 align:middle
<c.magenta>第二个条目是收货地址</c>

00:45:19.219 --> 00:45:21.688 align:middle
<c.magenta>这个是你必须从用户那里获得的信息</c>

00:45:23.223 --> 00:45:27.661 align:middle
<c.magenta>你可请求银行卡信息 收货地址</c>
<c.magenta>若有需要 你还可以请求联系地址</c>

00:45:27.995 --> 00:45:31.598 align:middle
<c.magenta>你可以指明收货地址的方式</c>

00:45:32.299 --> 00:45:33.600 align:middle
<c.magenta>你可以改变那些术语</c>

00:45:33.700 --> 00:45:37.304 align:middle
<c.magenta>若你不想用“shipping”</c>
<c.magenta>你可用“delivery”或“pickup”</c>

00:45:37.905 --> 00:45:41.074 align:middle
<c.magenta>这对于拼车应用或者</c>
<c.magenta>外卖服务来说非常好</c>

00:45:44.444 --> 00:45:46.914 align:middle
<c.magenta>现在你可以列出快递费用的列表了</c>

00:45:47.314 --> 00:45:50.851 align:middle
<c.magenta>你可以用列表来描述它们</c>
<c.magenta>我们马上会讲到这一点</c>

00:45:52.619 --> 00:45:54.288 align:middle
<c.magenta>但是当你收集了这些信息之后</c>

00:45:54.421 --> 00:45:56.657 align:middle
<c.magenta>请确保你有一个清晰的保密协议</c>

00:45:56.823 --> 00:45:59.459 align:middle
<c.magenta>如果你在应用中使用了</c>
<c.magenta>Apple Pay</c>

00:45:59.526 --> 00:46:00.827 align:middle
<c.magenta>当你将应用上传App Store时</c>
<c.magenta>会被要求提供保密协议</c>

00:45:59.526 --> 00:46:00.827 align:middle
<c.magenta>当你将应用上传App Store时</c>
<c.magenta>会被要求提供保密协议</c>

00:46:00.928 --> 00:46:04.131 align:middle
<c.magenta>现在你是在为网页做设计</c>

00:46:04.231 --> 00:46:06.099 align:middle
<c.magenta>很明显没那样的方式来提供保密协议</c>

00:46:06.200 --> 00:46:09.236 align:middle
<c.magenta>所以我们要求你提供一个保密协议</c>

00:46:09.303 --> 00:46:11.939 align:middle
<c.magenta>放在你的网站上</c>

00:46:12.005 --> 00:46:13.340 align:middle
<c.magenta>且表明你如何使用这些信息</c>

00:46:15.776 --> 00:46:17.644 align:middle
<c.magenta>现在既然你们能使用寄送方式了</c>

00:46:18.612 --> 00:46:20.380 align:middle
<c.magenta>就是选择邮寄之类的</c>

00:46:21.481 --> 00:46:24.718 align:middle
<c.magenta>就像选择地址那样</c>
<c.magenta>这也是可以定制的</c>

00:46:25.652 --> 00:46:27.487 align:middle
<c.magenta>用户可以从一个列表中选择</c>

00:46:27.921 --> 00:46:30.724 align:middle
<c.magenta>如果地址更新的话</c>
<c.magenta>这些方式也应该会更新</c>

00:46:30.891 --> 00:46:33.794 align:middle
<c.magenta>比如在你已经选择了</c>
<c.magenta>送到纽约的快递方式的时候</c>

00:46:33.894 --> 00:46:35.262 align:middle
<c.magenta>你可以很容易的想到这一点</c>

00:46:36.496 --> 00:46:39.666 align:middle
<c.magenta>这些方式也可以是免费的</c>
<c.magenta>如果你愿意的话</c>

00:46:40.200 --> 00:46:41.468 align:middle
<c.magenta>就像收货地址那样</c>

00:46:41.602 --> 00:46:44.037 align:middle
<c.magenta>收货人的姓名也可以按你的要求改变</c>

00:46:47.541 --> 00:46:50.344 align:middle
<c.magenta>尽管你会要求住址</c>
<c.magenta>邮件地址 手机号码</c>

00:46:50.477 --> 00:46:52.312 align:middle
<c.magenta>在同一个属性中</c>

00:46:52.813 --> 00:46:54.615 align:middle
<c.magenta>但是在表单中 它们是分开的</c>

00:46:55.249 --> 00:46:56.783 align:middle
<c.magenta>这里是联系信息的条目</c>

00:46:56.850 --> 00:46:59.520 align:middle
<c.magenta>是用来填写信息</c>
<c.magenta>而不是填写邮政编码之类的</c>

00:46:59.820 --> 00:47:01.788 align:middle
<c.magenta>我们现在支持收集手机号</c>

00:46:59.820 --> 00:47:01.788 align:middle
<c.magenta>我们现在支持收集手机号</c>

00:47:02.089 --> 00:47:03.957 align:middle
<c.magenta>我们也支持收集邮件地址</c>

00:47:04.091 --> 00:47:06.126 align:middle
<c.magenta>如果你没有要求一个送货地址</c>

00:47:06.193 --> 00:47:08.529 align:middle
<c.magenta>我们会允许你获得用户的名字</c>

00:47:08.695 --> 00:47:12.266 align:middle
<c.magenta>这对于拼车的应用或者网站会非常有用</c>

00:47:12.366 --> 00:47:14.101 align:middle
<c.magenta>及那些想获得姓名的应用或者网站</c>

00:47:14.168 --> 00:47:15.836 align:middle
<c.magenta>但是却不需要用户的送货地址</c>

00:47:18.639 --> 00:47:21.975 align:middle
<c.magenta>现在到了最重要的一个填写区域</c>
<c.magenta>它就是摘要信息</c>

00:47:22.709 --> 00:47:25.412 align:middle
<c.magenta>用户获得的金额会高亮</c>

00:47:25.512 --> 00:47:27.147 align:middle
<c.magenta>抱歉 是用户支付的金额</c>

00:47:28.182 --> 00:47:30.017 align:middle
<c.magenta>并且你可以使用这个摘要</c>

00:47:30.250 --> 00:47:33.020 align:middle
<c.magenta>来简洁的表明支付的用途</c>

00:47:33.320 --> 00:47:36.290 align:middle
<c.magenta>比如小记 快递费 折扣</c>

00:47:36.790 --> 00:47:39.960 align:middle
<c.magenta>这里并不是一个条目列表</c>

00:47:40.060 --> 00:47:41.862 align:middle
<c.magenta>它并不是一个销售账单</c>

00:47:42.963 --> 00:47:44.665 align:middle
<c.magenta>所以你需要让它很简洁</c>

00:47:45.766 --> 00:47:48.502 align:middle
<c.magenta>当然也需要清晰明白的表明你的收费</c>

00:47:49.236 --> 00:47:52.072 align:middle
<c.magenta>确保显示的总金额</c>

00:47:52.139 --> 00:47:54.074 align:middle
<c.magenta>与用户即将要扣除的金额保持一致</c>

00:47:55.175 --> 00:47:57.344 align:middle
<c.magenta>那就是说 这些情况下</c>

00:47:57.411 --> 00:47:59.980 align:middle
<c.magenta>你并不需要知道付出多少钱</c>

00:48:00.581 --> 00:48:02.349 align:middle
<c.magenta>有时候你不知道最终会支付多少钱</c>

00:48:02.716 --> 00:48:04.952 align:middle
<c.magenta>比如酒店预订会出现这种情况</c>
<c.magenta>它们是开放性的</c>

00:48:05.185 --> 00:48:07.688 align:middle
<c.magenta>租车或者的士服务也是如此</c>

00:48:08.589 --> 00:48:10.824 align:middle
<c.magenta>这时候你可以</c>
<c.magenta>使用pending的条目类型</c>

00:48:10.891 --> 00:48:12.826 align:middle
<c.magenta>在摘要信息中表明这一点</c>

00:48:14.661 --> 00:48:16.763 align:middle
<c.magenta>所以需要注意  保持透明的计费</c>

00:48:17.297 --> 00:48:19.366 align:middle
<c.magenta>为何我一直提到“作清晰预估”</c>

00:48:19.733 --> 00:48:22.603 align:middle
<c.magenta>你可以在刚才的演示中看到</c>

00:48:22.669 --> 00:48:25.739 align:middle
<c.magenta>在通过Apple Pay付款后</c>
<c.magenta>通常你会看到一个通知</c>

00:48:25.873 --> 00:48:28.308 align:middle
<c.magenta>这个通知来自银行并且告知金额的变化</c>

00:48:28.408 --> 00:48:29.843 align:middle
<c.magenta>所以你想确保那个金额</c>

00:48:29.910 --> 00:48:32.913 align:middle
<c.magenta>与表单上显示的相匹配</c>

00:48:32.980 --> 00:48:34.348 align:middle
<c.magenta>至少尽力让两者保持一致</c>

00:48:34.414 --> 00:48:35.415 align:middle
<c.magenta>你不需知道总费用时</c>

00:48:37.251 --> 00:48:40.254 align:middle
<c.magenta>摘要条目也支持免费或者折扣</c>

00:48:40.921 --> 00:48:42.489 align:middle
<c.magenta>条目上可以标记为免费</c>

00:48:42.956 --> 00:48:46.126 align:middle
<c.magenta>摘要条目可以是负数</c>
<c.magenta>但是总金额不能为负数</c>

00:48:46.226 --> 00:48:48.662 align:middle
<c.magenta>总金额必须是一个正数</c>

00:48:48.729 --> 00:48:50.030 align:middle
<c.magenta>但是在那之前</c>

00:48:50.163 --> 00:48:52.799 align:middle
<c.magenta>如果你想指出哪个地方有折扣</c>
<c.magenta>都是可以的</c>

00:48:55.135 --> 00:48:58.672 align:middle
<c.magenta>这里是另外一个Mac OS表单</c>

00:49:00.340 --> 00:49:03.043 align:middle
<c.magenta>这里是一个条目</c>
<c.magenta>告诉你在什么设备上确认</c>

00:49:04.278 --> 00:49:08.849 align:middle
<c.magenta>这让我想起了Anders讨论</c>
<c.magenta>网站图标的观点</c>

00:49:09.216 --> 00:49:13.020 align:middle
<c.magenta>这是一个在iPhone的表单</c>
<c.magenta>而此时你在你的Mac上进行着支付</c>

00:49:13.353 --> 00:49:15.222 align:middle
<c.magenta>在这里你不能定制任何东西</c>

00:49:15.322 --> 00:49:17.424 align:middle
<c.magenta>我们会告知你银行卡</c>
<c.magenta>但是你无法改变</c>

00:49:17.491 --> 00:49:18.825 align:middle
<c.magenta>你需要在Mac上改变它</c>

00:49:19.193 --> 00:49:20.594 align:middle
<c.magenta>顺便的说一下</c>

00:49:20.661 --> 00:49:22.763 align:middle
<c.magenta>若在Mac上改变任何选项</c>
<c.magenta>价格都会更新</c>

00:49:22.896 --> 00:49:25.699 align:middle
<c.magenta>如果你改变了邮寄方式而使得费用增加</c>

00:49:25.799 --> 00:49:27.201 align:middle
<c.magenta>我们会直接进行同步</c>

00:49:28.569 --> 00:49:31.972 align:middle
<c.magenta>但是网站的图标是从你的网站上下载的</c>

00:49:32.105 --> 00:49:34.408 align:middle
<c.magenta>你可以通过很多种方式来指定</c>

00:49:35.709 --> 00:49:39.980 align:middle
<c.magenta>它使用了Apple Touch</c>
<c.magenta>的图标</c>

00:49:40.047 --> 00:49:44.518 align:middle
<c.magenta>为了使用Apple Pay</c>
<c.magenta>你需提供180和120像素大小</c>

00:49:45.018 --> 00:49:49.089 align:middle
<c.magenta>最简单的方式是提供一个链接</c>

00:49:49.756 --> 00:49:54.094 align:middle
<c.magenta>但是你也可以设定是域名的根目录</c>

00:49:55.395 --> 00:49:57.164 align:middle
<c.magenta>选择适合你的方式吧</c>

00:49:58.398 --> 00:50:00.467 align:middle
<c.magenta>我还想谈谈一些别的事情</c>

00:49:58.398 --> 00:50:00.467 align:middle
<c.magenta>我还想谈谈一些别的事情</c>

00:50:00.567 --> 00:50:02.002 align:middle
<c.magenta>那就是关于标记语言</c>

00:50:02.302 --> 00:50:05.072 align:middle
<c.magenta>你们当中很多人应该使用过标记语言</c>

00:50:05.138 --> 00:50:07.975 align:middle
<c.magenta>用来在你们页面上指明产品类型</c>

00:50:08.075 --> 00:50:10.110 align:middle
<c.magenta>那样可以被搜索排名所统计</c>

00:50:10.310 --> 00:50:13.013 align:middle
<c.magenta>我们同样的有一个产品类型排名</c>

00:50:13.113 --> 00:50:14.882 align:middle
<c.magenta>在iOS的Spotlight中</c>

00:50:15.549 --> 00:50:17.518 align:middle
<c.magenta>你也可指明你的站点</c>
<c.magenta>使用了Apple Pay</c>

00:50:17.584 --> 00:50:19.386 align:middle
<c.magenta>只要你使用了合适的标记语言</c>

00:50:19.453 --> 00:50:22.923 align:middle
<c.magenta>我们觉得那样会更有利</c>
<c.magenta>比如说对于搜索引擎</c>

00:50:22.990 --> 00:50:25.225 align:middle
<c.magenta>及想知哪些地方</c>
<c.magenta>正用Apple Pay的人</c>

00:50:25.292 --> 00:50:26.927 align:middle
<c.magenta>若你想这样做</c>
<c.magenta>也会对你更加有利</c>

00:50:28.996 --> 00:50:32.699 align:middle
<c.magenta>现在让我们来看最后一个部分</c>
<c.magenta>确认支付</c>

00:50:34.535 --> 00:50:37.237 align:middle
<c.magenta>在你的确认信息中</c>
<c.magenta>你想反映出合适的状态</c>

00:50:37.304 --> 00:50:38.405 align:middle
<c.magenta>放置到Apple Pay表单中</c>

00:50:39.706 --> 00:50:43.110 align:middle
<c.magenta>比如说 失败的时候</c>
<c.magenta>就不要显示一个成功的页面了</c>

00:50:43.177 --> 00:50:44.178 align:middle
<c.magenta>那样是非常愚蠢的</c>

00:50:44.545 --> 00:50:47.881 align:middle
<c.magenta>同时你可以利用</c>
<c.magenta>Apple Pay收集的信息</c>

00:50:47.948 --> 00:50:50.384 align:middle
<c.magenta>来为用户提供一个新的账户</c>
<c.magenta>我前面有提到过</c>

00:50:50.450 --> 00:50:53.387 align:middle
<c.magenta>我想展示Lululemon的例子</c>

00:50:54.154 --> 00:50:55.189 align:middle
<c.magenta>这里就是例子了</c>

00:50:55.255 --> 00:50:57.324 align:middle
<c.magenta>当你已经做了一次支付后</c>

00:50:57.624 --> 00:50:59.092 align:middle
<c.magenta>你获得了一个确认信息的页面</c>

00:50:59.259 --> 00:51:03.931 align:middle
<c.magenta>然后你创建了一个账户</c>

00:50:59.259 --> 00:51:03.931 align:middle
<c.magenta>然后你创建了一个账户</c>

00:51:03.997 --> 00:51:05.699 align:middle
<c.magenta>预置了从Apple Pay中</c>
<c.magenta>获得的邮件信息</c>

00:51:05.766 --> 00:51:08.235 align:middle
<c.magenta>所以同样的我也可以自己创建一个账户</c>

00:51:08.302 --> 00:51:10.404 align:middle
<c.magenta>我也可以将账户关联起来</c>

00:51:10.470 --> 00:51:11.672 align:middle
<c.magenta>这样做是非常容易的</c>

00:51:13.874 --> 00:51:16.476 align:middle
<c.magenta>好了 我们今天讲了很多内容</c>

00:51:17.544 --> 00:51:18.412 align:middle
<c.magenta>我们主要覆盖了哪些呢</c>

00:51:19.346 --> 00:51:21.315 align:middle
<c.magenta>我们讲述了网页上</c>
<c.magenta>Apply Pay的商户验证</c>

00:51:21.381 --> 00:51:25.052 align:middle
<c.magenta>我们学习了Apple Pay</c>
<c.magenta>在网页和应用的不同之处</c>

00:51:25.786 --> 00:51:30.157 align:middle
<c.magenta>Anders为我们讲述了Apple Pay session</c>
<c.magenta>以及JavaScript API</c>

00:51:31.592 --> 00:51:35.362 align:middle
<c.magenta>然后我们还谈到了设计者</c>
<c.magenta>如何利用Apple Pay优势</c>

00:51:36.296 --> 00:51:39.466 align:middle
<c.magenta>我们现对网页上使用Apple</c>
<c.magenta>Pay已经有了很多了解</c>

00:51:39.867 --> 00:51:43.070 align:middle
<c.magenta>你可以在这里获得</c>
<c.magenta>我们的开发页面以及网站</c>

00:51:43.670 --> 00:51:45.439 align:middle
<c.magenta>以及相关的会议</c>

00:51:46.039 --> 00:51:47.774 align:middle
<c.magenta>首先 不用去其它地方</c>

00:51:47.908 --> 00:51:49.476 align:middle
<c.magenta>留在这里</c>
<c.magenta>不要离开</c>

00:51:49.543 --> 00:51:53.380 align:middle
<c.magenta>我在三点钟会回来讲述Wallet</c>
<c.magenta>与Apple Pay中新的内容</c>

00:51:53.447 --> 00:51:57.851 align:middle
<c.magenta>我们会讲述Sandbox</c>
<c.magenta>WatchKit以及扩展</c>

00:51:57.918 --> 00:51:59.620 align:middle
<c.magenta>以及其它一些新的事物</c>

00:51:59.686 --> 00:52:03.123 align:middle
<c.magenta>这些在Wallet and Apple Pay中</c>
<c.magenta>发生并且与银行以及零售商有关</c>

00:51:59.686 --> 00:52:03.123 align:middle
<c.magenta>这些在Wallet and Apple Pay中</c>
<c.magenta>发生并且与银行以及零售商有关</c>

00:52:03.257 --> 00:52:06.260 align:middle
<c.magenta>这里还有一个会议</c>
<c.magenta>是针对网页开发者的：</c>

00:52:06.326 --> 00:52:08.595 align:middle
<c.magenta>在你的应用中优化网页内容</c>

00:52:08.729 --> 00:52:10.230 align:middle
<c.magenta>该会议将在周五4:00开始</c>

00:52:10.831 --> 00:52:12.199 align:middle
<c.magenta>我们已经讲完了</c>

00:52:12.266 --> 00:52:14.668 align:middle
<c.magenta>欢迎各位前来</c>

00:52:14.935 --> 00:52:17.137 align:middle
<c.magenta>我已迫不及待想看到大家</c>
<c.magenta>支持网页上使用Apple Pay了</c>

00:52:17.204 --> 00:52:19.273 align:middle
<c.magenta>谢谢</c>
<c.magenta>希望大家在 WWDC 度过好时光</c>
