WEBVTT

00:00:19.419 --> 00:00:23.257
<c.magenta>SpriteKit的新特性</c>

00:00:35.736 --> 00:00:36.603
<c.magenta>各位大家好</c>

00:00:36.870 --> 00:00:38.772
<c.magenta>欢迎来到</c>
<c.magenta>“SpriteKit的新特性”</c>

00:00:38.972 --> 00:00:42.609
<c.magenta>我叫Ross</c>
<c.magenta>我是Apple游戏技术组的工程师</c>

00:00:42.676 --> 00:00:44.244
<c.magenta>我非常激动能向你们展示</c>

00:00:44.311 --> 00:00:45.979
<c.magenta>去年我们工作的进展</c>

00:00:51.285 --> 00:00:52.686
<c.magenta>在开始讲</c>

00:00:52.753 --> 00:00:54.688
<c.magenta>引进的新功能之前</c>

00:00:54.755 --> 00:00:56.890
<c.magenta>我想先快速回顾一下</c>
<c.magenta>SpriteKit是什么</c>

00:00:56.957 --> 00:00:58.659
<c.magenta>对于不太熟悉它的人</c>

00:01:01.261 --> 00:01:04.230
<c.magenta>那么 SpriteKit是给</c>
<c.magenta>2D游戏的图像框架</c>

00:01:04.730 --> 00:01:07.234
<c.magenta>它设计为高度灵活和易用</c>

00:01:07.301 --> 00:01:10.137
<c.magenta>同时提供优良性能</c>

00:01:10.204 --> 00:01:11.905
<c.magenta>所以 有极少的技术屏障</c>

00:01:11.972 --> 00:01:14.474
<c.magenta>置于你和你想制作的伟大游戏之间</c>

00:01:15.909 --> 00:01:20.647
<c.magenta>它为我们所有平台支持</c>
<c.magenta>包括iOS、macOS、tvOS</c>

00:01:20.981 --> 00:01:24.184
<c.magenta>而且今年我们可以自豪的说</c>
<c.magenta>它也能在watchOS上运行了</c>

00:01:25.819 --> 00:01:27.921
<c.magenta>任何应用 我知道 是不是很棒？</c>

00:01:31.325 --> 00:01:33.594
<c.magenta>任何用SpriteKit的应用</c>
<c.magenta>相当于自动用了</c>

00:01:33.660 --> 00:01:35.295
<c.magenta>现有的最新框架</c>

00:01:35.362 --> 00:01:37.397
<c.magenta>不需要任何重构和重新部署</c>

00:01:37.464 --> 00:01:38.799
<c.magenta>你们就可一直与时俱进了</c>

00:01:39.132 --> 00:01:41.835
<c.magenta>它和Swift自然集合</c>
<c.magenta>所以你能使用</c>

00:01:41.902 --> 00:01:44.171
<c.magenta>所有这个新语言的好功能</c>

00:01:46.740 --> 00:01:48.775
<c.magenta>但框架仅是</c>
<c.magenta>整个SpriteKit的一半</c>

00:01:49.309 --> 00:01:52.079
<c.magenta>另一半是Xcode集成即时编辑器</c>

00:01:52.145 --> 00:01:54.982
<c.magenta>可以让你直接在编辑器里预览场景</c>

00:01:55.048 --> 00:01:56.917
<c.magenta>视觉上展示出来</c>

00:01:57.718 --> 00:01:59.720
<c.magenta>它提供基于时间线的动画</c>

00:01:59.786 --> 00:02:01.522
<c.magenta>让你给游戏注入生命</c>

00:01:59.786 --> 00:02:01.522
<c.magenta>让你给游戏注入生命</c>

00:02:01.588 --> 00:02:03.457
<c.magenta>通过我们强健的粒子编辑器</c>

00:02:04.591 --> 00:02:06.193
<c.magenta>它完全集成于资源目录</c>

00:02:06.260 --> 00:02:09.128
<c.magenta>所以你可以利用功能如应用瘦身和</c>

00:02:09.196 --> 00:02:11.765
<c.magenta>按需加载资源 不用饱受折磨</c>

00:02:12.432 --> 00:02:14.101
<c.magenta>今年我们要引进图块地图编辑</c>

00:02:14.168 --> 00:02:15.602
<c.magenta>和GameplayKit集成</c>

00:02:15.669 --> 00:02:17.304
<c.magenta>这两功能我们过会儿都会讲一些</c>

00:02:18.639 --> 00:02:21.008
<c.magenta>最后 SpriteKit完全</c>
<c.magenta>由Metal框架支持</c>

00:02:21.074 --> 00:02:22.676
<c.magenta>在所有支持其的设备上</c>

00:02:23.510 --> 00:02:25.712
<c.magenta>所以你们能够自动得到它高性能福利</c>

00:02:25.779 --> 00:02:27.648
<c.magenta>不需要额外做什么</c>

00:02:29.850 --> 00:02:31.919
<c.magenta>今年我们继续引进新功能</c>

00:02:31.985 --> 00:02:35.489
<c.magenta>让在Apple平台上开发好游戏</c>
<c.magenta>比何时都简单</c>

00:02:36.056 --> 00:02:38.225
<c.magenta>所以不用多说什么</c>
<c.magenta>让我们直接开始讲新进展</c>

00:02:39.893 --> 00:02:41.795
<c.magenta>一般像这种演讲呢</c>

00:02:41.862 --> 00:02:43.530
<c.magenta>我们会把工具之类的东西放在最后</c>

00:02:43.597 --> 00:02:45.499
<c.magenta>但是今天我们会把这些提前一些</c>

00:02:46.099 --> 00:02:48.368
<c.magenta>因为编辑器至关重要</c>

00:02:48.435 --> 00:02:50.571
<c.magenta>对应用SpriteKit来说</c>

00:02:50.871 --> 00:02:52.806
<c.magenta>而且今年有些非常令人激动的新内容</c>

00:02:52.873 --> 00:02:55.809
<c.magenta>从场景大纲视图开始</c>

00:02:57.144 --> 00:02:59.913
<c.magenta>知道场景里有什么</c>
<c.magenta>对象之间的关系</c>

00:02:59.980 --> 00:03:02.449
<c.magenta>对有效场景管理极为重要</c>

00:02:59.980 --> 00:03:02.449
<c.magenta>对有效场景管理极为重要</c>

00:03:03.350 --> 00:03:05.819
<c.magenta>Xcode 7中</c>
<c.magenta>完全通过Jump Bar完成</c>

00:03:06.486 --> 00:03:09.022
<c.magenta>Jump Bar设计了用来定位文件</c>

00:03:09.089 --> 00:03:11.758
<c.magenta>从工作空间更简单</c>
<c.magenta>但是当你在SpriteKit</c>

00:03:11.825 --> 00:03:14.494
<c.magenta>层级里包含所有节点</c>

00:03:15.195 --> 00:03:17.197
<c.magenta>帮助定位所有这些节点</c>

00:03:17.264 --> 00:03:19.600
<c.magenta>如果这样就好了 能看到整个层级</c>

00:03:19.666 --> 00:03:20.767
<c.magenta>同时看到</c>

00:03:22.369 --> 00:03:26.106
<c.magenta>所以现在在Xcode 8你可以</c>
<c.magenta>用新的场景大纲视图</c>

00:03:26.807 --> 00:03:29.309
<c.magenta>这是一个新面板</c>
<c.magenta>允许你看到场景中所有节点</c>

00:03:29.376 --> 00:03:32.246
<c.magenta>和节点间亲子关系</c>
<c.magenta>同时看到</c>

00:03:33.213 --> 00:03:34.715
<c.magenta>还能选择节点</c>

00:03:34.781 --> 00:03:38.252
<c.magenta>重命名、删除场景中的节点</c>

00:03:39.586 --> 00:03:42.489
<c.magenta>你还能改变节点间亲子关系</c>

00:03:42.556 --> 00:03:43.857
<c.magenta>通过拖拽它们</c>

00:03:43.924 --> 00:03:47.594
<c.magenta>很像重新整理keynote幻灯片</c>

00:03:49.463 --> 00:03:52.466
<c.magenta>把一个子节点放在</c>
<c.magenta>另一个节点下成为子节点</c>

00:03:52.733 --> 00:03:55.035
<c.magenta>把节点放在另一个节点下</c>
<c.magenta>成为那个节点的子节点</c>

00:03:55.335 --> 00:03:58.639
<c.magenta>或者把一个子节点</c>
<c.magenta>拖出父节点脱离亲子关系</c>

00:04:00.307 --> 00:04:03.110
<c.magenta>还能锁定 隐藏节点</c>

00:04:03.777 --> 00:04:07.080
<c.magenta>锁定节点就不能在</c>
<c.magenta>场景视图中更改、选择</c>

00:04:07.147 --> 00:04:09.616
<c.magenta>这让你在场景中定位简单</c>

00:04:09.683 --> 00:04:12.986
<c.magenta>当你有很多笔记</c>
<c.magenta>场景可能变得杂乱纠结</c>

00:04:13.787 --> 00:04:14.888
<c.magenta>隐藏也一样</c>

00:04:14.955 --> 00:04:17.690
<c.magenta>有很多大的对象时很方便</c>

00:04:17.757 --> 00:04:20.527
<c.magenta>有时你会想能控制一些</c>
<c.magenta>大的对象后面的节点</c>

00:04:21.528 --> 00:04:24.097
<c.magenta>所以所有功能让场景大纲视图很有用</c>

00:04:24.164 --> 00:04:27.434
<c.magenta>管理场景很方便</c>

00:04:29.536 --> 00:04:31.238
<c.magenta>所以接下来我想讲讲我们怎样整合</c>

00:04:31.305 --> 00:04:33.974
<c.magenta>GameplayKit进</c>
<c.magenta>SpriteKit编辑器</c>

00:04:35.175 --> 00:04:37.110
<c.magenta>去年我们引入GameplayKit</c>

00:04:37.177 --> 00:04:39.713
<c.magenta>一个全新的框架</c>
<c.magenta>提供即用解决方案</c>

00:04:39.780 --> 00:04:42.416
<c.magenta>给创造游戏时常见问题</c>

00:04:43.217 --> 00:04:45.118
<c.magenta>去年包含的新功能之一</c>

00:04:45.853 --> 00:04:48.589
<c.magenta>是实体和组件</c>
<c.magenta>这是一个设计模式 重点在</c>

00:04:48.655 --> 00:04:50.490
<c.magenta>模块化和可重用性</c>

00:04:51.391 --> 00:04:53.694
<c.magenta>组件封装行为</c>

00:04:54.394 --> 00:05:01.034
<c.magenta>指定组件到对象</c>
<c.magenta>或者指定实体到对象来改变对象行为</c>

00:04:54.394 --> 00:05:01.034
<c.magenta>指定组件到对象</c>
<c.magenta>或者指定实体到对象来改变对象行为</c>

00:05:02.669 --> 00:05:04.838
<c.magenta>你可以这样做不写任何代码</c>

00:05:04.905 --> 00:05:06.306
<c.magenta>给每个场景中的对象</c>

00:05:07.241 --> 00:05:09.109
<c.magenta>我们不打算讲太多细节</c>

00:05:09.176 --> 00:05:12.913
<c.magenta>这些如何工作</c>
<c.magenta>但这么想很有用 把组件</c>

00:05:12.980 --> 00:05:16.416
<c.magenta>看成代码积木</c>
<c.magenta>你可以用不同方式组装</c>

00:05:16.483 --> 00:05:18.719
<c.magenta>来创造有不同行为的对象</c>

00:05:20.354 --> 00:05:23.090
<c.magenta>常见有一个组件代表体力值</c>

00:05:23.156 --> 00:05:24.825
<c.magenta>给可以被伤害的对象</c>

00:05:25.425 --> 00:05:27.761
<c.magenta>或者一个有物理数据的组件</c>

00:05:27.828 --> 00:05:29.730
<c.magenta>给可以互相撞击的对象</c>

00:05:29.930 --> 00:05:35.602
<c.magenta>一个组件允许对象由玩家输入操控</c>

00:05:37.538 --> 00:05:38.739
<c.magenta>组件非常强大</c>

00:05:38.805 --> 00:05:41.842
<c.magenta>允许你操控对象行为</c>

00:05:44.111 --> 00:05:45.979
<c.magenta>现在把实体和组件带进</c>

00:05:46.046 --> 00:05:47.347
<c.magenta>SpriteKit编辑器中</c>

00:05:48.248 --> 00:05:51.385
<c.magenta>你可以指定创建的组件直接到节点</c>

00:05:51.451 --> 00:05:52.886
<c.magenta>在场景中的节点</c>

00:05:52.953 --> 00:05:55.722
<c.magenta>从调试器中新出的实体与组件面板</c>

00:05:56.523 --> 00:05:58.225
<c.magenta>另外 可以选择显示属性</c>

00:05:58.292 --> 00:05:59.893
<c.magenta>在自定义组件中</c>

00:06:00.327 --> 00:06:03.830
<c.magenta>于是属性会出现在编辑器上</c>
<c.magenta>你便可以微调每个节点</c>

00:06:04.998 --> 00:06:08.001
<c.magenta>最好的部分是</c>
<c.magenta>若你已在用GameplayKit</c>

00:06:08.068 --> 00:06:10.604
<c.magenta>实体与组件了</c>
<c.magenta>我们会为您完成所有那些繁重工作</c>

00:06:10.671 --> 00:06:13.307
<c.magenta>你只要从编辑器直接构成对象</c>

00:06:16.109 --> 00:06:19.279
<c.magenta>另一个GameplayKit引进的</c>
<c.magenta>强大的功能是路径寻找</c>

00:06:19.680 --> 00:06:24.184
<c.magenta>路径寻找是从A点到B点寻找最佳路径</c>

00:06:24.251 --> 00:06:27.521
<c.magenta>通过操控所谓的导航图像</c>

00:06:28.622 --> 00:06:33.660
<c.magenta>导航图像是通过链接</c>
<c.magenta>结合起来的节点组合</c>

00:06:34.428 --> 00:06:38.131
<c.magenta>它们描述了对象如何在场景中移动</c>

00:06:38.198 --> 00:06:39.933
<c.magenta>不会撞到任何障碍物</c>

00:06:42.169 --> 00:06:45.105
<c.magenta>现在加入导航图像</c>
<c.magenta>进SpriteKit编辑器</c>

00:06:45.172 --> 00:06:48.008
<c.magenta>那么你可在场景中创建并直接编辑它们</c>

00:06:48.542 --> 00:06:50.410
<c.magenta>你可以加入 删除导航图像中的节点</c>

00:06:50.477 --> 00:06:53.480
<c.magenta>或在编辑器中点击来建立连接</c>

00:06:54.515 --> 00:06:56.884
<c.magenta>利用图像创造相应代码</c>

00:06:57.718 --> 00:06:59.753
<c.magenta>这种创建图像的方式能更快速 简单</c>

00:06:59.820 --> 00:07:01.922
<c.magenta>地定义实体在场景中移动</c>

00:06:59.820 --> 00:07:01.922
<c.magenta>地定义实体在场景中移动</c>

00:07:01.989 --> 00:07:03.590
<c.magenta>让路径寻找轻而易举</c>

00:07:05.659 --> 00:07:07.394
<c.magenta>那么现在讲讲一个特性 帮助你</c>

00:07:07.461 --> 00:07:09.329
<c.magenta>我知道 是不是特别棒</c>

00:07:13.200 --> 00:07:14.468
<c.magenta>那么现在讲讲一个特性</c>

00:07:14.535 --> 00:07:16.570
<c.magenta>帮助你最大化提高游戏性能</c>

00:07:16.637 --> 00:07:18.205
<c.magenta>每秒显示帧数性能表</c>

00:07:19.840 --> 00:07:22.176
<c.magenta>也许你用过Xcode 7的</c>
<c.magenta>每秒显示帧数报告</c>

00:07:22.743 --> 00:07:23.744
<c.magenta>当你运行应用</c>

00:07:23.810 --> 00:07:26.313
<c.magenta>会提供一个实时性能数据</c>

00:07:26.380 --> 00:07:31.185
<c.magenta>包括帧速率</c>
<c.magenta>图形处理器利用率</c>

00:07:33.053 --> 00:07:34.521
<c.magenta>和CPU/GPU帧时</c>

00:07:35.422 --> 00:07:37.424
<c.magenta>这对分析性能很有用</c>

00:07:37.491 --> 00:07:39.359
<c.magenta>但有更高粒度会更好</c>

00:07:43.897 --> 00:07:47.167
<c.magenta>现在在Xcode 8</c>
<c.magenta>你还能看到时间线历史</c>

00:07:47.234 --> 00:07:51.772
<c.magenta>有SpriteKit应用时间</c>
<c.magenta>CPU和GPU帧时</c>

00:07:52.539 --> 00:07:55.209
<c.magenta>另外它和CPU时间脱离 所以你能</c>

00:07:55.275 --> 00:07:57.477
<c.magenta>看到花了多久 渲染</c>

00:07:57.544 --> 00:08:01.982
<c.magenta>运行刷新循环</c>
<c.magenta>评估物理时间和闲置时间</c>

00:07:57.544 --> 00:08:01.982
<c.magenta>运行刷新循环</c>
<c.magenta>评估物理时间和闲置时间</c>

00:08:02.816 --> 00:08:05.385
<c.magenta>这个信息极有用 用来决定</c>

00:08:05.452 --> 00:08:07.921
<c.magenta>你需要关注提高哪方面</c>

00:08:08.822 --> 00:08:12.159
<c.magenta>每秒显示帧数性能表是设计来提高</c>

00:08:12.226 --> 00:08:14.094
<c.magenta>游戏在移动平台上的表现</c>

00:08:14.161 --> 00:08:17.698
<c.magenta>它在iOS和</c>
<c.magenta>watchOS应用上都有</c>

00:08:20.968 --> 00:08:23.370
<c.magenta>那么我们讲了一些编辑器的新增功能</c>

00:08:23.437 --> 00:08:25.472
<c.magenta>现在换挡 来讲讲</c>

00:08:25.539 --> 00:08:27.407
<c.magenta>一项新功能 出现在编辑器和</c>

00:08:27.474 --> 00:08:29.476
<c.magenta>框架中 图块地图</c>

00:08:31.512 --> 00:08:34.014
<c.magenta>对不熟悉图块地图讲一下</c>

00:08:34.313 --> 00:08:36.817
<c.magenta>这是网格平均分布的图像</c>

00:08:37.751 --> 00:08:39.285
<c.magenta>用来拼构场景</c>

00:08:39.352 --> 00:08:42.655
<c.magenta>从一个叫做图块的 小而重复的图像</c>
<c.magenta>的集合</c>

00:08:44.124 --> 00:08:47.227
<c.magenta>把图块看做是</c>
<c.magenta>图块地图看作是拼图</c>

00:08:47.294 --> 00:08:49.396
<c.magenta>图块看做每片拼图</c>

00:08:49.930 --> 00:08:52.533
<c.magenta>每片看上去没什么</c>
<c.magenta>但放在一块儿</c>

00:08:52.599 --> 00:08:55.602
<c.magenta>可以创造丰富细节的大场景</c>

00:08:57.204 --> 00:08:58.872
<c.magenta>那么在细细讨论功能之前</c>

00:08:58.939 --> 00:09:01.742
<c.magenta>先讲如何使用</c>

00:08:58.939 --> 00:09:01.742
<c.magenta>先讲如何使用</c>

00:09:02.776 --> 00:09:04.578
<c.magenta>从小的重复图片建造场景</c>

00:09:04.645 --> 00:09:06.146
<c.magenta>在创造游戏时很常见</c>

00:09:07.648 --> 00:09:09.583
<c.magenta>没有图块地图</c>
<c.magenta>如果你想办到</c>

00:09:09.650 --> 00:09:13.921
<c.magenta>就要手动放每一个图像</c>

00:09:16.190 --> 00:09:17.491
<c.magenta>也完全可以</c>

00:09:18.225 --> 00:09:21.929
<c.magenta>用小图像集合能保持记忆负担低</c>

00:09:22.896 --> 00:09:24.531
<c.magenta>也能重新整理来修改</c>

00:09:24.598 --> 00:09:25.866
<c.magenta>场景外形</c>

00:09:26.366 --> 00:09:27.835
<c.magenta>可是 复制粘贴</c>

00:09:27.901 --> 00:09:30.437
<c.magenta>和手动排列每一个图像</c>

00:09:30.504 --> 00:09:32.506
<c.magenta>非常费时乏味</c>

00:09:33.373 --> 00:09:36.076
<c.magenta>常常导致场景被凌乱地放满节点</c>

00:09:36.143 --> 00:09:38.645
<c.magenta>马上变得很难管理</c>

00:09:40.347 --> 00:09:42.482
<c.magenta>所以相反你能用大</c>

00:09:42.549 --> 00:09:45.986
<c.magenta>有很多细节的图像</c>

00:09:46.053 --> 00:09:49.022
<c.magenta>去年发布的示例游戏DemoBots</c>
<c.magenta>用了这个方法</c>

00:09:49.857 --> 00:09:52.492
<c.magenta>所以场景中用大图像很快捷</c>

00:09:52.559 --> 00:09:56.363
<c.magenta>也能让场景不再杂乱</c>

00:09:56.930 --> 00:09:58.332
<c.magenta>如果你想改变外形</c>

00:09:58.398 --> 00:10:00.934
<c.magenta>就需要修改资源目录</c>

00:09:58.398 --> 00:10:00.934
<c.magenta>就需要修改资源目录</c>

00:10:01.902 --> 00:10:04.304
<c.magenta>另外 大图像耗费更多容量</c>

00:10:04.671 --> 00:10:06.640
<c.magenta>如果你想在游戏中有更多变化</c>

00:10:06.707 --> 00:10:08.842
<c.magenta>需要更多大容量资源</c>

00:10:08.909 --> 00:10:11.578
<c.magenta>就会更加剧容量过载</c>

00:10:13.280 --> 00:10:16.183
<c.magenta>所以图块地图同时给你</c>
<c.magenta>两个问题的解决方案</c>

00:10:16.650 --> 00:10:17.718
<c.magenta>它们易管理</c>

00:10:17.784 --> 00:10:20.087
<c.magenta>而且因为每个图块地图只是场景中</c>
<c.magenta>一个节点</c>

00:10:20.521 --> 00:10:21.922
<c.magenta>可以快速修改</c>

00:10:22.189 --> 00:10:27.060
<c.magenta>比如想改这里的沙图块为水</c>

00:10:27.261 --> 00:10:30.664
<c.magenta>我只要告诉图块地图改类型就好了</c>

00:10:31.965 --> 00:10:35.836
<c.magenta>用小图块集合</c>
<c.magenta>图块地图可以构造大的、</c>

00:10:35.903 --> 00:10:38.672
<c.magenta>有细节的场景</c>
<c.magenta>最低限度的容量负担</c>

00:10:40.507 --> 00:10:43.243
<c.magenta>图块地图对很多不同游戏和</c>
<c.magenta>艺术风格也很有利</c>

00:10:43.544 --> 00:10:46.346
<c.magenta>你可以用来做自顶向下的RPG</c>

00:10:46.747 --> 00:10:50.417
<c.magenta>横向卷轴游戏</c>
<c.magenta>等距城市建造游戏</c>

00:10:51.552 --> 00:10:53.020
<c.magenta>六角形桌上游戏</c>

00:10:53.086 --> 00:10:55.289
<c.magenta>图块地图非常灵活</c>

00:10:56.857 --> 00:10:59.326
<c.magenta>所以你会发现图块地图非常可视化</c>

00:10:59.393 --> 00:11:01.428
<c.magenta>不用告诉你它们怎么工作</c>

00:10:59.393 --> 00:11:01.428
<c.magenta>不用告诉你它们怎么工作</c>

00:11:01.495 --> 00:11:03.564
<c.magenta>我们直接进入演示部分给你看</c>

00:11:03.630 --> 00:11:05.632
<c.magenta>现在我们在SpriteKit编辑器</c>

00:11:05.699 --> 00:11:08.235
<c.magenta>场景中已经有了图块地图</c>

00:11:09.403 --> 00:11:11.104
<c.magenta>先选择它</c>

00:11:11.605 --> 00:11:13.874
<c.magenta>最快编辑图块地图的方式</c>

00:11:13.941 --> 00:11:15.576
<c.magenta>只是双击它</c>

00:11:16.343 --> 00:11:19.079
<c.magenta>显示新的图块编辑栏</c>

00:11:19.146 --> 00:11:20.414
<c.magenta>在这儿屏幕上方</c>

00:11:21.215 --> 00:11:25.219
<c.magenta>默认选择笔刷工具</c>

00:11:25.485 --> 00:11:27.754
<c.magenta>可以在图块地图上涂色</c>

00:11:28.121 --> 00:11:31.091
<c.magenta>涂色 只要点击</c>

00:11:31.625 --> 00:11:34.595
<c.magenta>就开始放置图块在地图上了</c>

00:11:36.830 --> 00:11:39.266
<c.magenta>如果你想改放置了的图块的类型</c>

00:11:39.666 --> 00:11:43.770
<c.magenta>只要点击这里的 选择图块 按钮</c>

00:11:44.037 --> 00:11:47.207
<c.magenta>就会显示所有可以放置的图块类型</c>

00:11:48.141 --> 00:11:53.680
<c.magenta>在这儿放边图块和角图块</c>

00:11:55.182 --> 00:11:56.984
<c.magenta>在放一些边图块</c>

00:11:57.050 --> 00:11:58.952
<c.magenta>你会发现很简单 放图块</c>

00:11:59.019 --> 00:12:01.121
<c.magenta>这样拼凑场景</c>

00:11:59.019 --> 00:12:01.121
<c.magenta>这样拼凑场景</c>

00:12:01.755 --> 00:12:03.891
<c.magenta>但是一个个放图像</c>

00:12:03.957 --> 00:12:05.559
<c.magenta>还是有点重复乏味</c>

00:12:05.859 --> 00:12:08.061
<c.magenta>那么展示一个更好的办法</c>

00:12:09.530 --> 00:12:14.368
<c.magenta>先放一片新图块地图在场景中</c>

00:12:20.607 --> 00:12:23.243
<c.magenta>默认下图块地图有个功能</c>

00:12:24.678 --> 00:12:27.915
<c.magenta>在调试器可用叫 允许自动绘制地图</c>

00:12:30.851 --> 00:12:33.453
<c.magenta>这个功能做的是开始编辑地图时</c>

00:12:33.520 --> 00:12:34.888
<c.magenta>选择图块</c>

00:12:34.955 --> 00:12:37.391
<c.magenta>可以看到不是放置单个图块</c>

00:12:37.457 --> 00:12:39.793
<c.magenta>而是一组组图块</c>

00:12:39.860 --> 00:12:43.430
<c.magenta>整理成不同地貌类型 草 土 石 水</c>

00:12:43.830 --> 00:12:45.232
<c.magenta>选择一个</c>

00:12:45.766 --> 00:12:47.734
<c.magenta>现在放一块图块地图时</c>

00:12:47.801 --> 00:12:50.304
<c.magenta>点击放置中心图块</c>

00:12:50.370 --> 00:12:52.773
<c.magenta>同时自动放下所有边图块</c>

00:12:53.807 --> 00:12:57.010
<c.magenta>对快速简单创建场景很棒</c>

00:12:57.077 --> 00:13:00.681
<c.magenta>不用放每个边图块角图块</c>

00:12:57.077 --> 00:13:00.681
<c.magenta>不用放每个边图块角图块</c>

00:13:00.747 --> 00:13:03.050
<c.magenta>只要画 它会自动生成</c>

00:13:03.717 --> 00:13:05.686
<c.magenta>每个我们需要的图块 不用我们</c>

00:13:05.752 --> 00:13:08.755
<c.magenta>费多余的时间</c>

00:13:08.822 --> 00:13:11.358
<c.magenta>这让画图块特别快</c>

00:13:17.831 --> 00:13:20.834
<c.magenta>现在看看图块集合怎么被放在一块</c>

00:13:21.835 --> 00:13:24.538
<c.magenta>图块集合到达各自的SKS文件</c>

00:13:24.972 --> 00:13:28.175
<c.magenta>你可以在这儿看到</c>
<c.magenta>游戏带有的不同类型</c>

00:13:28.242 --> 00:13:30.043
<c.magenta>比如草 泥土 石头 水</c>

00:13:30.410 --> 00:13:32.412
<c.magenta>你可以看到它们排列好了</c>

00:13:33.680 --> 00:13:35.582
<c.magenta>能让你看到图块应该怎样放在一块儿</c>

00:13:35.649 --> 00:13:39.253
<c.magenta>这里放个新的图块组</c>

00:13:42.556 --> 00:13:47.027
<c.magenta>我们只要构建对自动绘制地图有用的</c>
<c.magenta>新图块组</c>

00:13:47.094 --> 00:13:50.264
<c.magenta>通过拖拽想用的符合相应位置的图块</c>

00:13:50.330 --> 00:13:52.199
<c.magenta>这里有显示轮廓表示</c>

00:13:52.266 --> 00:13:54.134
<c.magenta>大概图块长什么样</c>

00:13:54.735 --> 00:13:59.973
<c.magenta>只要把图块从现用的浏览器拖到这儿</c>

00:14:01.074 --> 00:14:02.876
<c.magenta>只要拖放进去</c>

00:14:03.510 --> 00:14:08.148
<c.magenta>就能快速简单设立新图块组</c>

00:14:17.357 --> 00:14:19.560
<c.magenta>让我们命名它</c>

00:14:21.461 --> 00:14:23.130
<c.magenta>叫它花园</c>

00:14:25.032 --> 00:14:25.866
<c.magenta>就好了</c>

00:14:26.667 --> 00:14:28.035
<c.magenta>现在进入场景</c>

00:14:29.036 --> 00:14:30.470
<c.magenta>创建一个图块地图</c>

00:14:32.239 --> 00:14:33.440
<c.magenta>开始编辑它</c>

00:14:34.875 --> 00:14:38.011
<c.magenta>看到花园图块组已经在这儿了</c>

00:14:38.278 --> 00:14:40.614
<c.magenta>只要抓住它放进去</c>

00:14:40.814 --> 00:14:43.483
<c.magenta>所以你会发现设立新图块组多么简单</c>

00:14:43.550 --> 00:14:45.385
<c.magenta>而且已经可以自动绘制地图.</c>

00:14:45.452 --> 00:14:46.920
<c.magenta>不用做任何其他的</c>

00:14:48.055 --> 00:14:51.091
<c.magenta>但是还有一些可以对图块组做的</c>

00:14:51.859 --> 00:14:54.528
<c.magenta>那么回到图块</c>
<c.magenta>到另一个图块集合</c>

00:14:54.595 --> 00:14:55.929
<c.magenta>这个我之前做好的</c>

00:14:56.330 --> 00:14:58.131
<c.magenta>乍一眼看上去一样</c>

00:14:58.832 --> 00:15:02.302
<c.magenta>但当我点击其中一块单一图块</c>

00:14:58.832 --> 00:15:02.302
<c.magenta>但当我点击其中一块单一图块</c>

00:15:02.369 --> 00:15:05.772
<c.magenta>会看到这里有每个图块的很多可用变种</c>

00:15:06.206 --> 00:15:11.278
<c.magenta>每个不同位置的图块都一样</c>

00:15:13.380 --> 00:15:15.849
<c.magenta>所以当我们画图块来组成图块地图时</c>

00:15:16.216 --> 00:15:19.219
<c.magenta>它会随机选择图块其中一个变种</c>

00:15:19.386 --> 00:15:21.655
<c.magenta>所以图块地图可以有很多变化</c>

00:15:21.722 --> 00:15:26.527
<c.magenta>另外可以指定样式中不同重量</c>
<c.magenta>一些变量</c>

00:15:26.994 --> 00:15:31.665
<c.magenta>这里 红花放置重量为3</c>

00:15:33.534 --> 00:15:36.270
<c.magenta>白花放置重量为2</c>

00:15:39.239 --> 00:15:41.308
<c.magenta>蓝花放置重量为1</c>

00:15:42.476 --> 00:15:43.911
<c.magenta>所以红花非常常见</c>

00:15:43.977 --> 00:15:47.247
<c.magenta>相比白花 更比蓝花常见</c>

00:15:47.648 --> 00:15:49.183
<c.magenta>现在回到场景.</c>

00:15:50.617 --> 00:15:52.085
<c.magenta>创建另一个图块地图</c>

00:15:54.988 --> 00:15:57.057
<c.magenta>指定刚刚设好的先进图块组到这里</c>

00:16:00.460 --> 00:16:03.096
<c.magenta>现在刷这些图块</c>

00:16:03.163 --> 00:16:05.299
<c.magenta>可以看到变种出现</c>

00:16:07.901 --> 00:16:09.703
<c.magenta>所以你们可以看到图块组非常灵活</c>

00:16:09.770 --> 00:16:11.505
<c.magenta>可以画出不同的样子</c>

00:16:11.572 --> 00:16:14.741
<c.magenta>不用费很多力 很有用</c>

00:16:16.310 --> 00:16:19.580
<c.magenta>还可以做的关于图块地图的是图层</c>

00:16:20.047 --> 00:16:22.349
<c.magenta>在左边的图块地图里</c>

00:16:22.416 --> 00:16:25.319
<c.magenta>看上去只有一个图块地图</c>

00:16:27.721 --> 00:16:29.189
<c.magenta>但当我抓起它的时候</c>

00:16:29.489 --> 00:16:32.392
<c.magenta>你会看到实际上有2层在各自上面</c>

00:16:36.997 --> 00:16:39.466
<c.magenta>我们可以把一个图层放在另一个上</c>

00:16:39.533 --> 00:16:40.968
<c.magenta>来让它看上去好像</c>

00:16:41.034 --> 00:16:45.072
<c.magenta>有很多多样的图块图块资源</c>

00:16:45.138 --> 00:16:48.242
<c.magenta>看上去这些资源设计用来</c>

00:16:48.308 --> 00:16:51.845
<c.magenta>过渡成草图块</c>

00:16:52.145 --> 00:16:54.314
<c.magenta>所以有草在边缘</c>

00:16:54.381 --> 00:16:56.149
<c.magenta>把这个图层移过来</c>

00:16:57.017 --> 00:17:01.154
<c.magenta>它们自然过渡到草</c>

00:16:57.017 --> 00:17:01.154
<c.magenta>它们自然过渡到草</c>

00:17:02.089 --> 00:17:05.157
<c.magenta>移到土上也是一样效果</c>

00:17:05.224 --> 00:17:09.162
<c.magenta>像是过渡到土</c>

00:17:10.196 --> 00:17:12.965
<c.magenta>这让你从图像库中获得很多额外用处</c>

00:17:13.032 --> 00:17:16.670
<c.magenta>如果让它们在边缘过渡成透明</c>

00:17:16.737 --> 00:17:18.405
<c.magenta>可以堆叠在一起 然后</c>

00:17:18.704 --> 00:17:20.374
<c.magenta>不管怎么样你可以伪装 让你</c>

00:17:20.440 --> 00:17:24.178
<c.magenta>从已有资源多出很多用处</c>

00:17:25.512 --> 00:17:30.050
<c.magenta>另外图块集合能做的是可以做动画</c>

00:17:30.784 --> 00:17:34.588
<c.magenta>这是一个有些草和水的不错的图块集合</c>

00:17:34.655 --> 00:17:35.923
<c.magenta>点击 动画按钮</c>

00:17:36.490 --> 00:17:40.294
<c.magenta>如果仔细看会看到岸线</c>

00:17:40.360 --> 00:17:43.230
<c.magenta>在水图块上在起伏波动</c>

00:17:45.032 --> 00:17:49.102
<c.magenta>看看这组地图的图块集合</c>

00:17:50.838 --> 00:17:51.872
<c.magenta>设置水图块</c>

00:17:51.939 --> 00:17:55.242
<c.magenta>直接从图块集合编辑器中预览动画</c>

00:17:57.945 --> 00:18:00.814
<c.magenta>选择其中一个变体</c>
<c.magenta>会看到</c>

00:17:57.945 --> 00:18:00.814
<c.magenta>选择其中一个变体</c>
<c.magenta>会看到</c>

00:18:00.881 --> 00:18:03.984
<c.magenta>一列所有动画中的帧</c>

00:18:04.051 --> 00:18:06.453
<c.magenta>给动画设个每帧时间</c>

00:18:06.520 --> 00:18:08.822
<c.magenta>基本跟如何添加动画效果给</c>

00:18:08.889 --> 00:18:10.424
<c.magenta>材质应用一样</c>

00:18:10.791 --> 00:18:12.693
<c.magenta>设置动画效果就这么简单</c>

00:18:12.993 --> 00:18:15.495
<c.magenta>给场景注入生机的好办法</c>

00:18:16.830 --> 00:18:21.635
<c.magenta>除了在图块上逐帧展示动画效果外</c>

00:18:22.870 --> 00:18:25.172
<c.magenta>还能给图块地图本身添加</c>

00:18:25.906 --> 00:18:27.875
<c.magenta>图块地图就是SK节点</c>

00:18:27.941 --> 00:18:31.144
<c.magenta>所以SK节点能做的它都能</c>

00:18:31.512 --> 00:18:33.347
<c.magenta>当然可以拖来拖去</c>

00:18:34.982 --> 00:18:36.350
<c.magenta>缩放它们</c>

00:18:37.751 --> 00:18:39.086
<c.magenta>旋转它们</c>

00:18:39.987 --> 00:18:42.055
<c.magenta>注意可以编辑图块地图</c>

00:18:42.122 --> 00:18:43.957
<c.magenta>当它们看上去这样时</c>
<c.magenta>尽管有点奇怪</c>

00:18:44.024 --> 00:18:46.727
<c.magenta>当它们呈这样奇怪角度的时候</c>
<c.magenta>还是可以</c>

00:18:49.696 --> 00:18:52.933
<c.magenta>因为SK节点</c>
<c.magenta>图块地图也只是节点</c>

00:18:52.999 --> 00:18:54.701
<c.magenta>可以在上面加事件</c>

00:18:55.269 --> 00:18:58.405
<c.magenta>这里我已经在图块地图加了很多事件</c>

00:18:58.472 --> 00:19:00.240
<c.magenta>通过缩放和旋转</c>

00:18:58.472 --> 00:19:00.240
<c.magenta>通过缩放和旋转</c>

00:19:00.574 --> 00:19:01.975
<c.magenta>把它动起来</c>

00:19:02.042 --> 00:19:05.245
<c.magenta>可以看到能 移动 缩放 旋转</c>

00:19:06.013 --> 00:19:07.214
<c.magenta>然后把它放回去</c>

00:19:09.183 --> 00:19:12.019
<c.magenta>所以有很多方式给图块地图加动画</c>

00:19:12.085 --> 00:19:13.353
<c.magenta>非常有用</c>

00:19:13.687 --> 00:19:18.258
<c.magenta>事实上 可以利用图层化和动画</c>

00:19:18.325 --> 00:19:19.960
<c.magenta>来创造些有趣的效果</c>

00:19:21.828 --> 00:19:22.896
<c.magenta>在这个场景</c>

00:19:23.263 --> 00:19:26.533
<c.magenta>这里图块地图中有三个不同的图层</c>

00:19:27.334 --> 00:19:28.769
<c.magenta>还不想做这个</c>

00:19:29.203 --> 00:19:33.507
<c.magenta>如果把照相机放这儿</c>
<c.magenta>点击动画</c>

00:19:34.241 --> 00:19:38.011
<c.magenta>仅仅在以不同速率移动图块地图的图层</c>

00:19:38.078 --> 00:19:41.481
<c.magenta>呈现深度的效果</c>

00:19:41.548 --> 00:19:43.817
<c.magenta>这个效果叫做视差滚动</c>

00:19:43.884 --> 00:19:48.121
<c.magenta>我在做的只是移动前景图层</c>

00:19:48.188 --> 00:19:51.758
<c.magenta>以一种速度</c>
<c.magenta>中景一半速度</c>

00:19:51.825 --> 00:19:54.127
<c.magenta>背景又一半速度</c>

00:19:54.628 --> 00:19:57.898
<c.magenta>这完成了我们想要的效果</c>
<c.magenta>非常惊人</c>

00:19:59.366 --> 00:20:04.571
<c.magenta>图块地图不仅支持简单的正方形图块</c>

00:19:59.366 --> 00:20:04.571
<c.magenta>图块地图不仅支持简单的正方形图块</c>

00:20:04.905 --> 00:20:07.207
<c.magenta>还支持六角形图块</c>

00:20:07.574 --> 00:20:09.076
<c.magenta>等距立体图块</c>

00:20:09.142 --> 00:20:11.879
<c.magenta>所以外貌有很大弹性</c>

00:20:11.945 --> 00:20:13.947
<c.magenta>来帮助你做成你的游戏</c>

00:20:17.951 --> 00:20:20.921
<c.magenta>说到这儿 马上看看游戏示例</c>

00:20:26.426 --> 00:20:28.829
<c.magenta>这是一个我做的小平台</c>

00:20:30.898 --> 00:20:32.199
<c.magenta>一个跑来跑去的小人</c>

00:20:32.266 --> 00:20:34.668
<c.magenta>你会发现有视差滚动</c>

00:20:34.735 --> 00:20:36.103
<c.magenta>在背景</c>

00:20:36.403 --> 00:20:40.040
<c.magenta>你会注意到这里我在撞击图块</c>

00:20:40.874 --> 00:20:43.343
<c.magenta>我做到这个效果</c>

00:20:44.411 --> 00:20:46.747
<c.magenta>通过利用自定义用户数据</c>

00:20:46.813 --> 00:20:49.216
<c.magenta>放在每个图块</c>

00:20:50.918 --> 00:20:53.020
<c.magenta>向你们展示 在图块集合中</c>

00:20:57.758 --> 00:20:59.226
<c.magenta>选择一个变体</c>

00:20:59.293 --> 00:21:01.161
<c.magenta>这里有一些用户数据</c>

00:20:59.293 --> 00:21:01.161
<c.magenta>这里有一些用户数据</c>

00:21:02.396 --> 00:21:06.099
<c.magenta>一个值叫边图块</c>
<c.magenta>是个布尔值 我设为1</c>

00:21:06.733 --> 00:21:09.336
<c.magenta>在代码中 我检查图块地图</c>

00:21:09.403 --> 00:21:13.240
<c.magenta>在这个平台示例中</c>
<c.magenta>找寻所有这些边图块</c>

00:21:13.307 --> 00:21:15.843
<c.magenta>找到一个 建一些物理数据</c>

00:21:15.909 --> 00:21:18.846
<c.magenta>让玩家能和它撞击</c>

00:21:25.118 --> 00:21:27.654
<c.magenta>因为只是在图块地图中</c>

00:21:28.355 --> 00:21:32.392
<c.magenta>比如想跳过这面大墙</c>

00:21:34.127 --> 00:21:36.630
<c.magenta>一旦运行游戏 会发现</c>

00:21:37.698 --> 00:21:40.601
<c.magenta>我这个小人跳的不够高来翻过它</c>

00:21:41.101 --> 00:21:43.504
<c.magenta>他非常想做到因为那儿的红按钮</c>
<c.magenta>看上去非常诱人</c>

00:21:43.570 --> 00:21:45.038
<c.magenta>我很想按那个按钮</c>

00:21:45.906 --> 00:21:50.677
<c.magenta>因为我们只能从图块中生成物理数据</c>

00:21:50.744 --> 00:21:53.280
<c.magenta>和用户数据</c>
<c.magenta>可以做的是到这里</c>

00:21:54.214 --> 00:21:55.749
<c.magenta>擦除这些图块...</c>

00:22:00.487 --> 00:22:01.989
<c.magenta>再打包运行游戏</c>

00:22:03.290 --> 00:22:06.593
<c.magenta>图块不见了 可以移动过去了</c>

00:22:06.660 --> 00:22:08.495
<c.magenta>不用改变代码之类的</c>

00:22:08.562 --> 00:22:10.931
<c.magenta>只要用数据 来源于</c>

00:22:10.998 --> 00:22:13.133
<c.magenta>图块地图来设置图块就行</c>

00:22:13.200 --> 00:22:14.334
<c.magenta>是的 非常简单</c>

00:22:17.738 --> 00:22:19.773
<c.magenta>作为奖励 我可以跳到按钮上</c>

00:22:20.440 --> 00:22:21.375
<c.magenta>耶</c>

00:22:29.016 --> 00:22:32.719
<c.magenta>那么这就是图块地图</c>
<c.magenta>如何在编辑器中工作了</c>

00:22:36.757 --> 00:22:39.526
<c.magenta>展示了如何在编辑器中工作</c>

00:22:39.593 --> 00:22:42.296
<c.magenta>看看框架这边</c>

00:22:43.030 --> 00:22:45.799
<c.magenta>在编辑器中创建图块地图时</c>

00:22:45.866 --> 00:22:48.569
<c.magenta>你不必被这些东西困扰</c>

00:22:48.635 --> 00:22:50.504
<c.magenta>但大概了解它怎样工作挺好的</c>

00:22:51.638 --> 00:22:54.608
<c.magenta>那么图块地图由</c>
<c.magenta>SKTileMapNode类实现</c>

00:22:54.675 --> 00:22:57.477
<c.magenta>像在演示里提到的是SK节点</c>

00:22:57.978 --> 00:23:00.814
<c.magenta>它包含所有放置了的图块的信息</c>

00:22:57.978 --> 00:23:00.814
<c.magenta>它包含所有放置了的图块的信息</c>

00:23:01.582 --> 00:23:04.351
<c.magenta>但要能放置图块 首先需要图块集合</c>

00:23:05.919 --> 00:23:08.422
<c.magenta>图块集合由SKTileSet类定义</c>

00:23:08.755 --> 00:23:10.724
<c.magenta>包含所有可用图块集合</c>

00:23:11.091 --> 00:23:13.927
<c.magenta>另外定义可以包含的那类图块信息</c>

00:23:13.994 --> 00:23:16.496
<c.magenta>可以是一般方形网格图块</c>

00:23:16.563 --> 00:23:19.233
<c.magenta>等边立体图块或者六角形图块</c>

00:23:21.869 --> 00:23:24.304
<c.magenta>图块组由</c>
<c.magenta>SKTileGroup类定义</c>

00:23:25.172 --> 00:23:27.774
<c.magenta>像我们在演示里看到的</c>
<c.magenta>图块组是一组相关图块</c>

00:23:27.841 --> 00:23:30.611
<c.magenta>常见的是地形类别如草或水</c>

00:23:31.478 --> 00:23:34.781
<c.magenta>图块组还规定组内单个图块</c>

00:23:34.848 --> 00:23:36.583
<c.magenta>在地图如何放置</c>

00:23:38.085 --> 00:23:40.921
<c.magenta>规定由SKTileGroupRule类定义</c>

00:23:41.455 --> 00:23:44.057
<c.magenta>它还包含图块变体怎样工作</c>

00:23:44.124 --> 00:23:45.893
<c.magenta>通过描述的图案</c>

00:23:47.761 --> 00:23:51.465
<c.magenta>最后每个图块由SKTileDefinition描述</c>

00:23:51.532 --> 00:23:53.467
<c.magenta>定义了图块外形</c>

00:23:53.934 --> 00:23:57.171
<c.magenta>每个至少有一个图像</c>
<c.magenta>如你在演示中所见</c>

00:23:57.237 --> 00:24:00.741
<c.magenta>图块可以由多幅图像做成动画</c>
<c.magenta>为图块地图带来活力</c>

00:23:57.237 --> 00:24:00.741
<c.magenta>图块可以由多幅图像做成动画</c>
<c.magenta>为图块地图带来活力</c>

00:24:01.475 --> 00:24:04.278
<c.magenta>另外 图块可被翻转和/或旋转</c>

00:24:04.344 --> 00:24:07.381
<c.magenta>让你从已有资源中获得更多</c>

00:24:09.550 --> 00:24:10.984
<c.magenta>快速看一下代码</c>

00:24:11.051 --> 00:24:14.588
<c.magenta>可以看到怎样通过API创建、修改</c>
<c.magenta>图块地图</c>

00:24:15.389 --> 00:24:18.091
<c.magenta>第一步先要得到想用的图块集合</c>

00:24:18.158 --> 00:24:20.360
<c.magenta>你可以用编程的方式创建</c>

00:24:20.427 --> 00:24:22.963
<c.magenta>但过程非常复杂</c>
<c.magenta>所以我们高度推荐</c>

00:24:23.030 --> 00:24:25.465
<c.magenta>用图块集合编辑器创建</c>

00:24:27.034 --> 00:24:28.669
<c.magenta>要拿一个你已经做好的很简单</c>

00:24:29.203 --> 00:24:31.171
<c.magenta>只要调用这个方便的初始化方式</c>

00:24:31.238 --> 00:24:33.373
<c.magenta>用你想命名的图块集合名字</c>

00:24:35.442 --> 00:24:37.244
<c.magenta>然后 创建新的图块地图</c>

00:24:37.311 --> 00:24:40.080
<c.magenta>只要提供要用的图块集合</c>

00:24:40.314 --> 00:24:42.316
<c.magenta>地图中排和列的数量</c>

00:24:42.983 --> 00:24:44.551
<c.magenta>和每个图块的大小</c>

00:24:46.386 --> 00:24:48.088
<c.magenta>如果要开始放图块在地图中</c>

00:24:48.155 --> 00:24:49.590
<c.magenta>需要一个图块组</c>

00:24:49.823 --> 00:24:53.060
<c.magenta>就拿第一个在图块集合中定义的图块</c>

00:24:55.395 --> 00:24:58.498
<c.magenta>有了要放的图块地图图块组</c>

00:24:58.899 --> 00:25:01.034
<c.magenta>可以开始放单个图块了</c>

00:24:58.899 --> 00:25:01.034
<c.magenta>可以开始放单个图块了</c>

00:25:02.069 --> 00:25:05.506
<c.magenta>这里把图块组放到第4列</c>
<c.magenta>第7排的图块上</c>

00:25:07.574 --> 00:25:10.244
<c.magenta>也可以一下操控整个地图</c>

00:25:10.310 --> 00:25:12.980
<c.magenta>这里用图块组填充地图上每个图块</c>

00:25:15.482 --> 00:25:18.819
<c.magenta>若你用SpriteKit编辑器</c>
<c.magenta>创造修改图块地图</c>

00:25:18.886 --> 00:25:21.488
<c.magenta>你也许不会用到任何刚刚讲的API</c>

00:25:22.089 --> 00:25:25.325
<c.magenta>但除非你的图块地图是全静止的背景</c>

00:25:25.392 --> 00:25:27.361
<c.magenta>否则你也许想询问它们</c>

00:25:27.828 --> 00:25:29.796
<c.magenta>有很多你可以做</c>

00:25:30.464 --> 00:25:34.268
<c.magenta>比如说 当玩家移动过某个特定图块</c>
<c.magenta>时 你想检测到</c>

00:25:34.334 --> 00:25:37.704
<c.magenta>并且引入一些自定义用户数据到</c>
<c.magenta>图块定义上</c>

00:25:39.506 --> 00:25:43.143
<c.magenta>你可以做到这些</c>
<c.magenta>首先转换玩家位置</c>

00:25:43.343 --> 00:25:45.345
<c.magenta>成参考于图块地图画面的位置</c>

00:25:47.481 --> 00:25:49.983
<c.magenta>然后 可以用我这里划出的方法</c>

00:25:50.050 --> 00:25:53.053
<c.magenta>来得到有该位置图块的排数和列数</c>

00:25:55.088 --> 00:25:59.193
<c.magenta>接下来 问那个排数列数存在的</c>
<c.magenta>图块的定义</c>

00:26:01.228 --> 00:26:03.830
<c.magenta>最后 既然已经得到了图块的定义</c>

00:26:04.198 --> 00:26:06.400
<c.magenta>你可以把用户数据加入那个自定义值</c>

00:26:06.466 --> 00:26:07.801
<c.magenta>你感兴趣的</c>

00:26:07.868 --> 00:26:10.370
<c.magenta>然后在那则数据信息上加入</c>
<c.magenta>你想要的行为</c>

00:26:10.804 --> 00:26:12.372
<c.magenta>刚刚做的演示中</c>

00:26:12.439 --> 00:26:15.008
<c.magenta>我们做的非常相似 那就是</c>
<c.magenta>检测当玩家</c>

00:26:15.843 --> 00:26:17.110
<c.magenta>跳到大红按钮上</c>

00:26:18.011 --> 00:26:21.181
<c.magenta>当他们跳过一个带有</c>
<c.magenta>按钮自定义用户数据属性 的图块时</c>

00:26:21.248 --> 00:26:22.616
<c.magenta>我们点燃了烟花</c>

00:26:24.985 --> 00:26:26.420
<c.magenta>这些有很多需要理解</c>

00:26:26.486 --> 00:26:29.590
<c.magenta>所以快速回顾一下图块地图提供的</c>
<c.magenta>新功能</c>

00:26:31.191 --> 00:26:34.661
<c.magenta>通过从一个小 重复的图像集合</c>
<c.magenta>创建场景</c>

00:26:34.728 --> 00:26:37.364
<c.magenta>图块地图让你从艺术资源中获得更多</c>

00:26:38.165 --> 00:26:40.367
<c.magenta>总的来说 你会需要更少的资源</c>

00:26:40.434 --> 00:26:43.303
<c.magenta>还会有好处能减少容量负担</c>

00:26:44.071 --> 00:26:47.241
<c.magenta>它们支持动画</c>
<c.magenta>以动态图块图像的形式</c>

00:26:47.307 --> 00:26:49.009
<c.magenta>和节点上事件的形式</c>

00:26:51.078 --> 00:26:53.347
<c.magenta>图块地图设计用来堆叠在彼此上</c>

00:26:53.413 --> 00:26:56.083
<c.magenta>更增加了图像资源的多功能性</c>

00:26:56.149 --> 00:26:58.418
<c.magenta>使效果如视差滚动成为可能</c>

00:26:59.453 --> 00:27:01.588
<c.magenta>它们还非常灵活</c>
<c.magenta>很好针对不同</c>

00:26:59.453 --> 00:27:01.588
<c.magenta>它们还非常灵活</c>
<c.magenta>很好针对不同</c>

00:27:01.655 --> 00:27:04.057
<c.magenta>美术风格和游戏类型</c>

00:27:06.660 --> 00:27:09.062
<c.magenta>大的图块地图自动分为</c>

00:27:09.129 --> 00:27:13.300
<c.magenta>小块 而且只有当前可见的部分</c>
<c.magenta>会画出来</c>

00:27:13.901 --> 00:27:16.170
<c.magenta>这提供了巨大性能提升</c>

00:27:16.236 --> 00:27:19.873
<c.magenta>另外 如果所有图块地图用的图像</c>

00:27:19.940 --> 00:27:22.209
<c.magenta>在同一个资源目录</c>
<c.magenta>Sprite Atlas</c>

00:27:22.543 --> 00:27:25.379
<c.magenta>每块会收集所有的图块在一起</c>

00:27:25.445 --> 00:27:27.181
<c.magenta>用一个画画命令渲染出来</c>

00:27:28.215 --> 00:27:30.150
<c.magenta>图块地图还有不同口味</c>

00:27:30.417 --> 00:27:34.254
<c.magenta>标准正方形网格 等边立体图块</c>
<c.magenta>和六角形图块</c>

00:27:36.623 --> 00:27:39.826
<c.magenta>工具这边 编辑图块地图方便简单</c>

00:27:40.394 --> 00:27:42.696
<c.magenta>只要点击来放置图块在地图上</c>

00:27:43.130 --> 00:27:45.399
<c.magenta>自动绘制地图为您完成</c>
<c.magenta>所有那些繁重工作</c>

00:27:45.699 --> 00:27:49.136
<c.magenta>你不需要单个放置每个边和角图块</c>

00:27:50.137 --> 00:27:53.106
<c.magenta>当然你可以关掉这个功能来</c>
<c.magenta>手动做这些细节部分</c>

00:27:53.740 --> 00:27:57.177
<c.magenta>最后 创建新图块集合非常快</c>

00:27:57.711 --> 00:27:59.947
<c.magenta>只要拖放想用的图像</c>

00:28:00.013 --> 00:28:02.616
<c.magenta>进相应的图块集合编辑器里的位置</c>

00:28:02.783 --> 00:28:03.951
<c.magenta>就可以了</c>

00:28:05.419 --> 00:28:06.920
<c.magenta>所以这些是图块集合的部分</c>

00:28:07.554 --> 00:28:09.556
<c.magenta>我要邀请同事</c>
<c.magenta>Clement来跟你们讲</c>

00:28:09.623 --> 00:28:11.959
<c.magenta>今年其他特别棒的新特性</c>

00:28:20.968 --> 00:28:21.935
<c.magenta>谢谢 Ross</c>

00:28:23.637 --> 00:28:25.239
<c.magenta>好的 这是些好东西是不是</c>

00:28:27.007 --> 00:28:28.909
<c.magenta>你们好 我是Clement</c>

00:28:29.176 --> 00:28:32.212
<c.magenta>我是Apple游戏技术组的</c>
<c.magenta>软件工程师</c>

00:28:32.779 --> 00:28:34.581
<c.magenta>你猜怎么着？</c>

00:28:34.648 --> 00:28:35.782
<c.magenta>我们其实还有很多可说</c>

00:28:35.849 --> 00:28:37.551
<c.magenta>看看SpriteKit还有何新特性</c>

00:28:38.352 --> 00:28:40.687
<c.magenta>第一个是弯曲变形</c>

00:28:43.123 --> 00:28:47.094
<c.magenta>现在在Sprite有很多变形方式</c>

00:28:47.327 --> 00:28:50.597
<c.magenta>可以缩放来让东西变大变小</c>

00:28:51.532 --> 00:28:56.069
<c.magenta>旋转来沿着轴转动</c>

00:28:57.738 --> 00:29:01.375
<c.magenta>如果像亲历亲为</c>
<c.magenta>还可以写个自定义着色器</c>

00:28:57.738 --> 00:29:01.375
<c.magenta>如果像亲历亲为</c>
<c.magenta>还可以写个自定义着色器</c>

00:29:03.510 --> 00:29:06.113
<c.magenta>比如这里看到的这个低分辨率着色器</c>

00:29:10.150 --> 00:29:13.220
<c.magenta>今年很高兴宣布一种新的变形</c>

00:29:13.287 --> 00:29:14.588
<c.magenta>叫做弯曲变形</c>

00:29:15.122 --> 00:29:16.890
<c.magenta>弯曲变形让你定义</c>

00:29:16.957 --> 00:29:19.326
<c.magenta>自定制的扭曲度 用点的度数</c>

00:29:20.127 --> 00:29:24.031
<c.magenta>比如拿一个2x2的网格</c>

00:29:24.097 --> 00:29:27.134
<c.magenta>有8个点</c>
<c.magenta>你看到的绿色的</c>

00:29:27.201 --> 00:29:29.970
<c.magenta>是源位置</c>
<c.magenta>也叫参考位置</c>

00:29:30.737 --> 00:29:34.074
<c.magenta>然后得到这里第二个网格</c>
<c.magenta>但它意味着一次变形</c>

00:29:34.374 --> 00:29:36.610
<c.magenta>所以 这是我定义的位置</c>

00:29:36.677 --> 00:29:39.680
<c.magenta>我移动了点来创建一次变形</c>

00:29:40.581 --> 00:29:43.483
<c.magenta>如果我把这个方法用到之前展示的</c>
<c.magenta>宇宙飞船上</c>

00:29:43.550 --> 00:29:44.585
<c.magenta>就得到这个</c>

00:29:48.255 --> 00:29:51.491
<c.magenta>得到一个不错 平滑的宇宙飞船变形</c>

00:29:51.992 --> 00:29:54.328
<c.magenta>这个变形根据位移</c>

00:29:54.394 --> 00:29:56.230
<c.magenta>于源位置和终点位置</c>

00:29:57.598 --> 00:29:59.900
<c.magenta>让我展示一些例子</c>

00:29:59.967 --> 00:30:01.168
<c.magenta>用弯曲变形</c>

00:29:59.967 --> 00:30:01.168
<c.magenta>用弯曲变形</c>

00:30:01.535 --> 00:30:05.672
<c.magenta>第一个例子是挤压效果</c>

00:30:05.739 --> 00:30:08.976
<c.magenta>现在我做的是把点向中间移动</c>

00:30:09.042 --> 00:30:10.711
<c.magenta>来创建一个不错的挤压效果</c>

00:30:12.312 --> 00:30:14.047
<c.magenta>接下来 拉伸效果</c>

00:30:14.114 --> 00:30:17.718
<c.magenta>拉飞船的突出的尖端</c>
<c.magenta>让它从右到左摆动</c>

00:30:18.185 --> 00:30:19.653
<c.magenta>它看上去有点好笑</c>

00:30:20.888 --> 00:30:23.790
<c.magenta>接下来重要的东西是关键帧动画</c>

00:30:25.058 --> 00:30:27.461
<c.magenta>在2D游戏中 往往如果艺术家</c>

00:30:27.528 --> 00:30:30.063
<c.magenta>为动画要做静止帧</c>

00:30:30.631 --> 00:30:31.732
<c.magenta>会花很长过程</c>

00:30:31.798 --> 00:30:34.868
<c.magenta>尤其如果你要好几次反复做新设计</c>

00:30:35.402 --> 00:30:36.803
<c.magenta>弯曲变形</c>

00:30:36.870 --> 00:30:39.806
<c.magenta>让做动画跟到处移动点那么简单</c>

00:30:40.174 --> 00:30:43.810
<c.magenta>如果有复杂的情况</c>
<c.magenta>像关键帧动画</c>

00:30:43.877 --> 00:30:45.245
<c.magenta>你可以提供几个度数</c>

00:30:45.512 --> 00:30:47.481
<c.magenta>所有一下子就做好了</c>

00:30:47.548 --> 00:30:49.149
<c.magenta>不再需要静止帧了</c>

00:30:51.018 --> 00:30:53.187
<c.magenta>现在让我给你们解释基本概念</c>

00:30:53.253 --> 00:30:54.955
<c.magenta>弯曲变形的背后</c>

00:30:56.056 --> 00:30:58.325
<c.magenta>又来了 假设这里有个2x2网格</c>

00:30:58.392 --> 00:31:03.697
<c.magenta>在网格分布中</c>
<c.magenta>一组有标号的点从0到8</c>

00:30:58.392 --> 00:31:03.697
<c.magenta>在网格分布中</c>
<c.magenta>一组有标号的点从0到8</c>

00:31:05.165 --> 00:31:07.034
<c.magenta>这个点 这个点 抱歉 这个网格</c>

00:31:07.100 --> 00:31:10.571
<c.magenta>和其中的单元格是有很多三角形的</c>
<c.magenta>四方格</c>

00:31:11.371 --> 00:31:13.574
<c.magenta>从电脑图像角度来说</c>

00:31:13.640 --> 00:31:16.610
<c.magenta>这里有一列顶点要变</c>

00:31:17.110 --> 00:31:20.314
<c.magenta>材质坐标也一样</c>

00:31:21.014 --> 00:31:23.984
<c.magenta>然后只要设置GPU插值</c>

00:31:25.686 --> 00:31:27.788
<c.magenta>这就好了</c>
<c.magenta>我们可以先停在这儿</c>

00:31:27.955 --> 00:31:31.291
<c.magenta>但一开始如果我用3D emoji</c>
<c.magenta>猫emoji会怎样</c>

00:31:31.358 --> 00:31:34.461
<c.magenta>我限制它为1个四方格</c>
<c.magenta>也就是1x1网格</c>

00:31:35.162 --> 00:31:36.964
<c.magenta>那么来吧 给我看看变形</c>

00:31:37.831 --> 00:31:39.032
<c.magenta>好 做吧</c>

00:31:40.901 --> 00:31:42.936
<c.magenta>恩 这看上去不太对</c>

00:31:43.470 --> 00:31:46.707
<c.magenta>原因是我们只是在移动一个点</c>

00:31:46.773 --> 00:31:48.742
<c.magenta>所以只有一个三角形在扭曲</c>

00:31:49.109 --> 00:31:50.878
<c.magenta>那么 我们能怎么办呢</c>

00:31:51.245 --> 00:31:54.581
<c.magenta>我们把网格更密实</c>
<c.magenta>上载更多四方格</c>

00:31:54.982 --> 00:31:56.383
<c.magenta>但是这就有点乏味了</c>

00:31:56.450 --> 00:31:58.252
<c.magenta>因为有更多点要操控</c>

00:31:58.585 --> 00:32:00.554
<c.magenta>尤其因为Sprite很大</c>

00:31:58.585 --> 00:32:00.554
<c.magenta>尤其因为Sprite很大</c>

00:32:00.821 --> 00:32:03.690
<c.magenta>几乎就像是必须 你知道的</c>
<c.magenta>到处移动像素是不是</c>

00:32:04.791 --> 00:32:08.095
<c.magenta>所以不是的 正如你猜到的</c>
<c.magenta>我们有个小技巧</c>

00:32:08.428 --> 00:32:10.030
<c.magenta>SpriteKit中要这么做</c>

00:32:10.697 --> 00:32:12.199
<c.magenta>再一次 2x2网格</c>

00:32:13.133 --> 00:32:15.469
<c.magenta>你只要操作8点</c>

00:32:15.769 --> 00:32:18.138
<c.magenta>当你在移动点来变形时</c>

00:32:18.205 --> 00:32:19.306
<c.magenta>发生了这些</c>

00:32:24.645 --> 00:32:25.512
<c.magenta>那么好了</c>

00:32:26.246 --> 00:32:28.749
<c.magenta>所以我们帮你做了自动四方格细分</c>

00:32:29.449 --> 00:32:31.852
<c.magenta>这很棒因为给了你权衡</c>

00:32:31.919 --> 00:32:33.987
<c.magenta>在高强度细节</c>

00:32:34.054 --> 00:32:36.757
<c.magenta>和尽量少的四方格之间</c>
<c.magenta>使用变形</c>

00:32:37.558 --> 00:32:39.626
<c.magenta>再说一次 你只要操控8个点</c>

00:32:39.693 --> 00:32:42.296
<c.magenta>这里 当我移动左上角的点时</c>

00:32:42.496 --> 00:32:46.200
<c.magenta>会看到我拖得有点远</c>
<c.magenta>所以变形程度有点高</c>

00:32:46.466 --> 00:32:47.935
<c.magenta>那么做细分</c>

00:32:48.268 --> 00:32:50.504
<c.magenta>在右下角</c>
<c.magenta>有点微变形</c>

00:32:50.571 --> 00:32:52.506
<c.magenta>所以我们只细分了两次</c>

00:32:53.941 --> 00:32:56.610
<c.magenta>因为想给你更多控制</c>

00:32:56.677 --> 00:32:59.813
<c.magenta>事实上我们允许你指定最大数目的细分</c>

00:33:00.247 --> 00:33:02.416
<c.magenta>如果我拿之前的宇宙飞船</c>

00:33:02.482 --> 00:33:04.651
<c.magenta>像那样扭曲一点儿</c>

00:33:05.052 --> 00:33:06.653
<c.magenta>你会看到一些变形 抱歉</c>

00:33:06.720 --> 00:33:09.489
<c.magenta>一些走样出现</c>
<c.magenta>比如这个在底部的隆起</c>

00:33:09.957 --> 00:33:13.093
<c.magenta>所以 如果我只细分一次</c>
<c.magenta>你会看到走样</c>

00:33:13.460 --> 00:33:15.162
<c.magenta>如果我设为4 比如说</c>

00:33:15.495 --> 00:33:17.231
<c.magenta>就明显看不到那些走样了</c>

00:33:17.297 --> 00:33:20.133
<c.magenta>宇宙飞船底部呈现平滑的线</c>

00:33:20.934 --> 00:33:22.603
<c.magenta>所以这对你来说很棒</c>

00:33:22.669 --> 00:33:26.206
<c.magenta>如果你想细调视觉效果和/或表现</c>

00:33:26.273 --> 00:33:28.008
<c.magenta>因为当然 四方格越少</c>

00:33:28.075 --> 00:33:30.143
<c.magenta>表现越好</c>

00:33:31.245 --> 00:33:33.447
<c.magenta>好了 这个不错</c>
<c.magenta>但怎样在Swift里做到</c>

00:33:33.814 --> 00:33:35.115
<c.magenta>好 第一件事</c>

00:33:35.282 --> 00:33:36.850
<c.magenta>记住我们这是网格分布</c>

00:33:36.917 --> 00:33:39.353
<c.magenta>所以 8个点从0标到8</c>

00:33:39.753 --> 00:33:42.189
<c.magenta>我要提供一列源位置</c>

00:33:42.256 --> 00:33:44.791
<c.magenta>一列目标位置</c>
<c.magenta>都是2位浮点数</c>

00:33:45.459 --> 00:33:47.828
<c.magenta>我可以创建我的弯曲几何网格</c>

00:33:47.895 --> 00:33:50.898
<c.magenta>通过提供排数、列数、目标位置</c>

00:33:50.964 --> 00:33:53.967
<c.magenta>源位置</c>
<c.magenta>然后保存进Sprite</c>

00:33:54.768 --> 00:33:56.069
<c.magenta>然后就扭曲变形了</c>

00:33:56.136 --> 00:33:58.972
<c.magenta>可选的你可以设置细分度</c>

00:33:59.039 --> 00:34:01.475
<c.magenta>设为任何你要的</c>
<c.magenta>默认为2</c>

00:33:59.039 --> 00:34:01.475
<c.magenta>设为任何你要的</c>
<c.magenta>默认为2</c>

00:34:03.277 --> 00:34:07.314
<c.magenta>因为这是SpriteKit</c>
<c.magenta>我有一堆新SKAction可用</c>

00:34:07.648 --> 00:34:09.516
<c.magenta>所以 变形简单到</c>

00:34:09.583 --> 00:34:13.487
<c.magenta>只要说SKActionWarp到</c>
<c.magenta>然后提供网格和时间</c>

00:34:14.221 --> 00:34:18.091
<c.magenta>或者 如果你想要复杂点</c>
<c.magenta>比如关键帧动画</c>

00:34:18.158 --> 00:34:20.726
<c.magenta>可以提供一列网格和一列时间</c>

00:34:21.527 --> 00:34:22.462
<c.magenta>好的</c>

00:34:22.529 --> 00:34:26.800
<c.magenta>那么好 让我给你快速演示</c>
<c.magenta>弯曲变形如何运作</c>

00:34:36.043 --> 00:34:36.976
<c.magenta>好的</c>

00:34:37.244 --> 00:34:39.646
<c.magenta>我要用跟Ross一样的演示项目了</c>

00:34:40.246 --> 00:34:41.281
<c.magenta>但这次</c>

00:34:42.616 --> 00:34:46.786
<c.magenta>我要用左边因为那儿才是好东西</c>

00:34:47.788 --> 00:34:50.791
<c.magenta>好的 小人在这儿</c>
<c.magenta>去稍微探索一点</c>

00:34:51.123 --> 00:34:52.693
<c.magenta>哇 看那儿</c>

00:34:53.427 --> 00:34:56.129
<c.magenta>好的 这里有2组动画</c>

00:34:56.429 --> 00:34:59.433
<c.magenta>一个让树从左到右摆动</c>

00:34:59.800 --> 00:35:02.269
<c.magenta>另一个让蘑菇挤压 你懂的</c>

00:34:59.800 --> 00:35:02.269
<c.magenta>另一个让蘑菇挤压 你懂的</c>

00:35:02.336 --> 00:35:03.837
<c.magenta>从大到小</c>

00:35:04.204 --> 00:35:07.541
<c.magenta>我们还加入一些随机性让东西</c>
<c.magenta>在不同时间旋转</c>

00:35:08.075 --> 00:35:10.911
<c.magenta>这就让你的场景非常生动有趣</c>

00:35:11.545 --> 00:35:13.247
<c.magenta>好让我们继续探索</c>

00:35:13.680 --> 00:35:16.116
<c.magenta>好看看这个</c>
<c.magenta>这儿有个人</c>

00:35:16.617 --> 00:35:18.752
<c.magenta>好 在横版游戏中</c>
<c.magenta>说“你好”的最佳的方式是？</c>

00:35:18.819 --> 00:35:20.254
<c.magenta>我觉得跳到它们上 是吗？</c>

00:35:21.522 --> 00:35:22.389
<c.magenta>就这么走吧</c>

00:35:23.190 --> 00:35:25.259
<c.magenta>我做的是 当跳到这个人上时</c>

00:35:25.325 --> 00:35:27.327
<c.magenta>碰撞身体和物理身体</c>

00:35:27.628 --> 00:35:30.364
<c.magenta>我就运行SKAction让它挤压</c>
<c.magenta>你知道的</c>

00:35:30.964 --> 00:35:32.366
<c.magenta>好的 非常棒</c>

00:35:33.600 --> 00:35:34.935
<c.magenta>让我们回到幻灯片</c>

00:35:39.006 --> 00:35:40.974
<c.magenta>所以弯曲变形非常强大</c>

00:35:41.041 --> 00:35:43.810
<c.magenta>给游戏中带来广阔的可能性</c>

00:35:43.877 --> 00:35:46.280
<c.magenta>所以我非常希望你能用它们</c>
<c.magenta>并且喜欢用它们</c>

00:35:47.214 --> 00:35:50.817
<c.magenta>接下来讲讲自定义着色的</c>
<c.magenta>每个节点的特性</c>

00:35:53.086 --> 00:35:55.455
<c.magenta>着色器很棒</c>
<c.magenta>我非常喜欢</c>

00:35:56.056 --> 00:36:00.294
<c.magenta>有个最佳办法给你的游戏</c>
<c.magenta>做精确数码外形</c>

00:35:56.056 --> 00:36:00.294
<c.magenta>有个最佳办法给你的游戏</c>
<c.magenta>做精确数码外形</c>

00:36:00.994 --> 00:36:03.830
<c.magenta>在SpriteKit</c>
<c.magenta>我们开始就支持自定义着色器</c>

00:36:03.897 --> 00:36:07.167
<c.magenta>用SKShader类</c>
<c.magenta>它基本上是个片段着色器</c>

00:36:07.234 --> 00:36:08.869
<c.magenta>用在节点上</c>

00:36:10.370 --> 00:36:13.740
<c.magenta>它自带一些内置符号 比如时间</c>

00:36:13.807 --> 00:36:16.210
<c.magenta>材质 材质坐标 还有很多</c>

00:36:16.844 --> 00:36:21.481
<c.magenta>如果有什么特别需求 你也可以在</c>
<c.magenta>SKUniform上特定</c>

00:36:21.548 --> 00:36:24.251
<c.magenta>给你特殊的变量</c>

00:36:25.285 --> 00:36:27.855
<c.magenta>好 要不我们用着色器打包游戏怎么样</c>

00:36:27.921 --> 00:36:29.523
<c.magenta>好 我真的很喜欢横版游戏</c>

00:36:29.590 --> 00:36:32.359
<c.magenta>要不来一些横版游戏</c>
<c.magenta>好就这样 挺好的</c>

00:36:32.793 --> 00:36:37.297
<c.magenta>好 我想要一些可爱的</c>
<c.magenta>要不然来一只...兔子</c>

00:36:37.364 --> 00:36:40.300
<c.magenta>好的 太棒了</c>
<c.magenta>我很喜欢这家伙 它很可爱是不是</c>

00:36:40.767 --> 00:36:43.737
<c.magenta>你猜怎么着 我准备给这游戏</c>
<c.magenta>取名暗黑兔子</c>

00:36:43.937 --> 00:36:48.108
<c.magenta>让我们放些坏蛋和长钉和危险</c>
<c.magenta>像这样</c>

00:36:48.175 --> 00:36:49.376
<c.magenta>好 这样好些</c>

00:36:50.210 --> 00:36:52.646
<c.magenta>不幸的是我们的兔子要被撞到好几次</c>

00:36:53.313 --> 00:36:55.549
<c.magenta>因为我不想让我的游戏变太难</c>

00:36:55.616 --> 00:36:58.652
<c.magenta>我要有一个帮助系统和健康条</c>
<c.magenta>像这样</c>

00:36:59.119 --> 00:37:01.688
<c.magenta>猜怎么着</c>
<c.magenta>健康条会是着色器</c>

00:36:59.119 --> 00:37:01.688
<c.magenta>猜怎么着</c>
<c.magenta>健康条会是着色器</c>

00:37:03.090 --> 00:37:04.958
<c.magenta>你猜到它会出现了对吧？好的</c>

00:37:05.592 --> 00:37:09.796
<c.magenta>所以 在SpriteKit怎样</c>
<c.magenta>做一个血条呢？</c>

00:37:10.097 --> 00:37:12.466
<c.magenta>为血条加一个Sprite</c>

00:37:12.733 --> 00:37:16.570
<c.magenta>用着色器控制视觉效果</c>
<c.magenta>比如闪烁的样式 颜色</c>

00:37:16.937 --> 00:37:18.038
<c.magenta>和填充度</c>

00:37:18.105 --> 00:37:21.909
<c.magenta>这里兔子只有一半生命了</c>
<c.magenta>所以只填充一半</c>

00:37:22.509 --> 00:37:25.646
<c.magenta>控制这些视效</c>
<c.magenta>我有个一致值叫health</c>

00:37:25.913 --> 00:37:27.781
<c.magenta>它会是个浮动值</c>

00:37:27.848 --> 00:37:31.385
<c.magenta>从1满血到0几乎丧命</c>

00:37:33.453 --> 00:37:35.289
<c.magenta>好 但因为游戏往往更有趣</c>

00:37:35.355 --> 00:37:37.925
<c.magenta>当你有多个玩家时</c>
<c.magenta>放些家伙在这儿</c>

00:37:37.991 --> 00:37:39.493
<c.magenta>可以有最多三个玩家</c>

00:37:39.726 --> 00:37:41.094
<c.magenta>这意味着任何时候</c>

00:37:41.161 --> 00:37:44.131
<c.magenta>可以有一些满血的 一些半条命的</c>

00:37:44.198 --> 00:37:46.433
<c.magenta>和一些几乎没命的</c>

00:37:47.301 --> 00:37:49.603
<c.magenta>好 SpriteKit比较简单</c>

00:37:49.670 --> 00:37:52.372
<c.magenta>我有Sprite 着色器 一致值</c>

00:37:52.873 --> 00:37:54.875
<c.magenta>但现在怎样把它</c>

00:37:54.942 --> 00:37:56.310
<c.magenta>变成多玩家呢？</c>

00:37:56.710 --> 00:37:58.145
<c.magenta>好我必须做这个</c>

00:37:59.012 --> 00:38:02.382
<c.magenta>我必须赋值着色器</c>
<c.magenta>但这完全没道理是不是？</c>

00:37:59.012 --> 00:38:02.382
<c.magenta>我必须赋值着色器</c>
<c.magenta>但这完全没道理是不是？</c>

00:38:02.449 --> 00:38:04.484
<c.magenta>为什么必须做这个？</c>
<c.magenta>这太糟了</c>

00:38:04.885 --> 00:38:07.354
<c.magenta>这很糟因为</c>
<c.magenta>这是同一个着色器啊是不是？</c>

00:38:07.421 --> 00:38:09.156
<c.magenta>这会打破批处理机制的</c>

00:38:09.223 --> 00:38:10.457
<c.magenta>意味着调用多次</c>

00:38:11.058 --> 00:38:12.259
<c.magenta>这太复杂了是不是？</c>

00:38:12.326 --> 00:38:14.027
<c.magenta>好 如果你要用别的办法做到这个</c>

00:38:14.728 --> 00:38:19.399
<c.magenta>我只要一个着色器</c>
<c.magenta>为Sprite间共用</c>

00:38:20.167 --> 00:38:22.970
<c.magenta>而且 从今年开始</c>
<c.magenta>你只要...</c>

00:38:25.205 --> 00:38:26.306
<c.magenta>使用特性</c>

00:38:27.007 --> 00:38:29.676
<c.magenta>用自定义特性</c>
<c.magenta>你只要创建一个特性</c>

00:38:29.743 --> 00:38:32.846
<c.magenta>把它依附于着色器</c>
<c.magenta>然后直接设置值</c>

00:38:32.913 --> 00:38:34.081
<c.magenta>在节点本身上</c>

00:38:34.314 --> 00:38:36.717
<c.magenta>这里我有个自定义特性名健康值</c>

00:38:37.317 --> 00:38:39.686
<c.magenta>我在Sprite上设置健康值</c>

00:38:39.887 --> 00:38:40.787
<c.magenta>非常简单</c>

00:38:42.523 --> 00:38:44.124
<c.magenta>Swift里看上去是这样的</c>

00:38:44.191 --> 00:38:46.727
<c.magenta>用SKAttribute类创建特性</c>

00:38:46.894 --> 00:38:49.763
<c.magenta>给它名字 这里是健康值</c>
<c.magenta>类型 浮点数</c>

00:38:50.430 --> 00:38:51.765
<c.magenta>依附于着色器</c>

00:38:52.032 --> 00:38:54.234
<c.magenta>因为我的着色器只有一个特性</c>

00:38:54.301 --> 00:38:55.903
<c.magenta>我给它一列的单一特性</c>

00:38:56.403 --> 00:38:59.139
<c.magenta>最后直接设置Sprite的值</c>

00:38:59.439 --> 00:39:03.544
<c.magenta>这里玩家一只剩下0.2％生命</c>

00:38:59.439 --> 00:39:03.544
<c.magenta>这里玩家一只剩下0.2％生命</c>

00:39:03.610 --> 00:39:07.714
<c.magenta>所以我在给健康值特性设置值</c>

00:39:08.749 --> 00:39:10.350
<c.magenta>所以这非常简单方便</c>

00:39:10.417 --> 00:39:13.353
<c.magenta>若你在处理每个节点的自定义和着色器</c>

00:39:14.888 --> 00:39:15.756
<c.magenta>好了</c>

00:39:16.523 --> 00:39:19.526
<c.magenta>现在讲讲特定于平台的内容</c>

00:39:19.593 --> 00:39:22.362
<c.magenta>第一个Apple TV上的焦点交互</c>

00:39:23.964 --> 00:39:26.934
<c.magenta>对于已经给Apple TV</c>
<c.magenta>做过应用的人来说</c>

00:39:27.000 --> 00:39:29.102
<c.magenta>你们已经明白焦点交互是什么了</c>

00:39:29.169 --> 00:39:32.105
<c.magenta>但对于没有做过的</c>
<c.magenta>让我回顾去年发生了什么</c>

00:39:32.940 --> 00:39:36.176
<c.magenta>去年我们介绍新Apple TV</c>

00:39:36.710 --> 00:39:38.779
<c.magenta>tvOS和些新的用户界面</c>

00:39:38.846 --> 00:39:41.181
<c.magenta>还有Siri Remote和</c>
<c.magenta>其触摸板</c>

00:39:42.149 --> 00:39:44.685
<c.magenta>最主要不同之一在iPhone和</c>

00:39:44.751 --> 00:39:46.887
<c.magenta>Apple TV之间是交互方式</c>

00:39:47.621 --> 00:39:49.890
<c.magenta>在iPhone上 用户可以直接交互</c>

00:39:49.957 --> 00:39:51.592
<c.magenta>通过在手机上用触摸屏幕</c>

00:39:52.159 --> 00:39:53.627
<c.magenta>而在Apple TV上</c>

00:39:54.094 --> 00:39:58.432
<c.magenta>用户永远有遥控器在手介于</c>
<c.magenta>他和界面之间</c>

00:39:58.866 --> 00:40:01.869
<c.magenta>我们称这种交互为焦点交互模型</c>

00:39:58.866 --> 00:40:01.869
<c.magenta>我们称这种交互为焦点交互模型</c>

00:40:02.369 --> 00:40:05.239
<c.magenta>让我展示当我移动光标时会发生什么</c>

00:40:05.305 --> 00:40:08.742
<c.magenta>在Apple TV主菜单上集中</c>

00:40:16.083 --> 00:40:18.919
<c.magenta>像你看到的 一次只能集中一个元素</c>

00:40:18.986 --> 00:40:21.655
<c.magenta>而且滚动调试成自适应</c>

00:40:21.922 --> 00:40:23.924
<c.magenta>对指尖反应很好</c>

00:40:24.925 --> 00:40:27.094
<c.magenta>事实上这非常重要</c>

00:40:27.160 --> 00:40:29.129
<c.magenta>很重要的是在构建系统</c>

00:40:29.196 --> 00:40:31.865
<c.magenta>和框架时在脑内用焦点交互</c>

00:40:32.232 --> 00:40:35.002
<c.magenta>意味着如果正好要用UIKit做应用</c>

00:40:35.302 --> 00:40:38.071
<c.magenta>不用重建焦点交互模型了</c>

00:40:38.505 --> 00:40:40.841
<c.magenta>你只要摊开视图</c>

00:40:41.074 --> 00:40:43.277
<c.magenta>说哪些是可聚焦的 就好了</c>

00:40:44.545 --> 00:40:45.679
<c.magenta>很易用</c>

00:40:45.746 --> 00:40:48.382
<c.magenta>提供了一致的用户体验 不管你在</c>

00:40:48.448 --> 00:40:51.151
<c.magenta>Apple TV主菜单还是在应用内</c>

00:40:52.052 --> 00:40:54.988
<c.magenta>加分的是</c>
<c.magenta>我们还支持Siri Remote</c>

00:40:55.055 --> 00:40:58.225
<c.magenta>游戏控制器和很多Bluetooth</c>
<c.magenta>控制器和很多很多其他的</c>

00:40:59.026 --> 00:41:01.428
<c.magenta>若你想了解更多Apple TV上</c>
<c.magenta>的焦点交互</c>

00:40:59.026 --> 00:41:01.428
<c.magenta>若你想了解更多Apple TV上</c>
<c.magenta>的焦点交互</c>

00:41:01.495 --> 00:41:02.763
<c.magenta>这周有个演讲</c>

00:41:02.829 --> 00:41:04.665
<c.magenta>你会在网上发现很多资源</c>

00:41:05.999 --> 00:41:07.401
<c.magenta>好 那么大新闻是</c>

00:41:07.467 --> 00:41:10.137
<c.magenta>SpriteKit支持焦点交互</c>

00:41:10.704 --> 00:41:12.372
<c.magenta>是 这很棒</c>
<c.magenta>是的 谢谢</c>

00:41:16.343 --> 00:41:17.377
<c.magenta>这很棒</c>

00:41:17.444 --> 00:41:20.447
<c.magenta>对于游戏中任何用户界面</c>
<c.magenta>比如游戏菜单</c>

00:41:20.814 --> 00:41:23.183
<c.magenta>或者子建造工具在游戏中 用聚焦</c>

00:41:23.283 --> 00:41:26.753
<c.magenta>比如象棋游戏</c>
<c.magenta>或者很多其他的</c>

00:41:28.322 --> 00:41:31.792
<c.magenta>好事是它还简单了很多</c>

00:41:32.359 --> 00:41:33.794
<c.magenta>这里看到的DemoBot</c>

00:41:33.861 --> 00:41:35.596
<c.magenta>去年一段示例代码</c>

00:41:35.963 --> 00:41:38.732
<c.magenta>以前给iOS和macOS用</c>

00:41:38.799 --> 00:41:42.636
<c.magenta>我们做了个给tvOS</c>
<c.magenta>感觉好多了</c>

00:41:42.703 --> 00:41:45.906
<c.magenta>移除那些用作交互和定位的代码后</c>

00:41:45.973 --> 00:41:47.674
<c.magenta>感觉干净多了 简单多了</c>

00:41:48.642 --> 00:41:50.744
<c.magenta>说到DemoBot 看看怎样</c>

00:41:50.811 --> 00:41:53.180
<c.magenta>创建这个菜单 用SpriteKit</c>

00:41:53.247 --> 00:41:54.448
<c.magenta>和焦点交互</c>

00:41:56.216 --> 00:41:57.417
<c.magenta>第一件事你要知道的是</c>

00:41:57.484 --> 00:42:00.787
<c.magenta>UIKit引入新协议</c>
<c.magenta>叫做UIFocusItem</c>

00:41:57.484 --> 00:42:00.787
<c.magenta>UIKit引入新协议</c>
<c.magenta>叫做UIFocusItem</c>

00:42:00.854 --> 00:42:02.990
<c.magenta>遵照UIFocusEnvironment</c>

00:42:03.190 --> 00:42:06.360
<c.magenta>它延伸焦点系统到没有视图的条目</c>

00:42:06.927 --> 00:42:07.995
<c.magenta>像你猜到的</c>

00:42:08.061 --> 00:42:10.964
<c.magenta>现在SKNode也遵照了</c>

00:42:12.065 --> 00:42:15.435
<c.magenta>第一件事要做的是做一个子类</c>

00:42:15.502 --> 00:42:18.205
<c.magenta>这里对于菜单元素 要用一些长方形</c>

00:42:18.272 --> 00:42:19.806
<c.magenta>我要用SKSpriteNode</c>

00:42:19.873 --> 00:42:21.475
<c.magenta>第一 做个子类</c>

00:42:21.875 --> 00:42:25.379
<c.magenta>第二 重写canBecomeFocused方法</c>

00:42:25.445 --> 00:42:27.314
<c.magenta>返回真 这样节点就变成可聚焦了</c>

00:42:29.516 --> 00:42:32.753
<c.magenta>接下来 获取节点到聚焦系统</c>

00:42:32.819 --> 00:42:36.390
<c.magenta>要做这个 只需设置</c>
<c.magenta>isUserInteractionEnabled为真</c>

00:42:37.558 --> 00:42:38.759
<c.magenta>最后一件事</c>

00:42:39.026 --> 00:42:41.728
<c.magenta>重写didUpdateFocus（in context:函数</c>

00:42:41.795 --> 00:42:44.231
<c.magenta>这会给你在焦点更新时给你更新</c>

00:42:44.298 --> 00:42:45.866
<c.magenta>所以 只需要重写这些在视图</c>

00:42:45.933 --> 00:42:48.869
<c.magenta>场景和任何在应用中说得通该改的节点</c>

00:42:49.469 --> 00:42:52.606
<c.magenta>所以这里上下文对象给我</c>
<c.magenta>下一个焦点条目</c>

00:42:52.673 --> 00:42:55.342
<c.magenta>前一个焦点条目</c>
<c.magenta>这个情况下我要找</c>

00:42:55.409 --> 00:42:58.478
<c.magenta>一个菜单元素</c>
<c.magenta>如果按这个</c>

00:42:58.545 --> 00:43:00.047
<c.magenta>就要运行些SKAction</c>

00:42:58.545 --> 00:43:00.047
<c.magenta>就要运行些SKAction</c>

00:43:01.181 --> 00:43:02.716
<c.magenta>这就是事件看上去怎样的</c>

00:43:02.783 --> 00:43:05.419
<c.magenta>如果我玩完游戏</c>
<c.magenta>会出现这个菜单</c>

00:43:05.485 --> 00:43:07.187
<c.magenta>我只要用Siri Remote</c>

00:43:07.521 --> 00:43:10.224
<c.magenta>滚动下来</c>
<c.magenta>或者用游戏遥控器也一样可以用</c>

00:43:10.290 --> 00:43:13.861
<c.magenta>我和在Apple TV主菜单时</c>
<c.magenta>有相同使用感受</c>

00:43:14.261 --> 00:43:16.330
<c.magenta>再说一次 非常简单 非常强大</c>

00:43:16.396 --> 00:43:18.298
<c.magenta>非常推荐你用这个</c>

00:43:20.367 --> 00:43:22.369
<c.magenta>好的 一件大事</c>

00:43:22.970 --> 00:43:24.438
<c.magenta>Apple Watch上的</c>
<c.magenta>SpriteKit</c>

00:43:24.505 --> 00:43:26.940
<c.magenta>如你所见 给watchOS 3.0</c>

00:43:27.007 --> 00:43:29.309
<c.magenta>我们为Apple Watch</c>
<c.magenta>带来一些框架</c>

00:43:30.010 --> 00:43:31.812
<c.magenta>是的 SpriteKit可用</c>

00:43:32.279 --> 00:43:35.249
<c.magenta>这意味着现在你能做些很多交互的应用</c>

00:43:35.315 --> 00:43:38.185
<c.magenta>用这个高性能2D图像平台</c>

00:43:38.485 --> 00:43:40.420
<c.magenta>当然我们带了所有你爱的东西</c>

00:43:40.487 --> 00:43:43.357
<c.magenta>比如粒子 动画 物理 事件</c>

00:43:43.757 --> 00:43:46.660
<c.magenta>所有编辑器都兼容</c>
<c.magenta>所以你能使用场景编辑器.</c>

00:43:46.727 --> 00:43:48.195
<c.magenta>你能使用粒子编辑器</c>

00:43:48.762 --> 00:43:51.231
<c.magenta>有所有的编辑工具 比如新的性能表</c>

00:43:51.298 --> 00:43:52.533
<c.magenta>Ross刚刚讲的</c>

00:43:53.033 --> 00:43:54.368
<c.magenta>所有这些都能工作</c>

00:43:55.402 --> 00:43:58.172
<c.magenta>所以一个典型的SpriteKit</c>
<c.magenta>游戏看上去这样</c>

00:43:58.505 --> 00:44:02.643
<c.magenta>有一个SKView</c>
<c.magenta>包含SKScene</c>

00:43:58.505 --> 00:44:02.643
<c.magenta>有一个SKView</c>
<c.magenta>包含SKScene</c>

00:44:03.243 --> 00:44:05.179
<c.magenta>SKScene自己包含多个节点</c>

00:44:06.246 --> 00:44:09.082
<c.magenta>比如SKSprite节点</c>
<c.magenta>SKShapeNode各种</c>

00:44:10.184 --> 00:44:13.420
<c.magenta>然而Apple Watch上</c>
<c.magenta>没有视图指示</c>

00:44:13.487 --> 00:44:16.690
<c.magenta>你通过WatchKit界面展示内容</c>

00:44:16.757 --> 00:44:18.992
<c.magenta>这就是主要区别</c>

00:44:19.326 --> 00:44:20.994
<c.magenta>替代使用SKView</c>

00:44:21.061 --> 00:44:24.498
<c.magenta>我将使用WKInterfaceSKScene</c>

00:44:24.898 --> 00:44:26.233
<c.magenta>大概就这些</c>

00:44:27.034 --> 00:44:30.504
<c.magenta>好看看我们怎样从iOS上现存游戏</c>

00:44:30.737 --> 00:44:33.373
<c.magenta>到让它支持watchOS</c>

00:44:34.141 --> 00:44:37.077
<c.magenta>这里有些代码</c>
<c.magenta>一些iOS上游戏的示例代码</c>

00:44:37.344 --> 00:44:38.879
<c.magenta>好 非常典型 有视图</c>

00:44:38.946 --> 00:44:41.148
<c.magenta>我要设置场景和各种</c>

00:44:41.381 --> 00:44:42.216
<c.magenta>好的</c>

00:44:42.282 --> 00:44:46.486
<c.magenta>我现在要做的是点击文件 新的 目标</c>

00:44:47.621 --> 00:44:48.822
<c.magenta>选择要的模板</c>

00:44:48.889 --> 00:44:53.827
<c.magenta>这里我用了游戏应用模板给我的目标</c>

00:44:54.261 --> 00:44:55.262
<c.magenta>点击 下一个</c>

00:44:55.429 --> 00:44:58.165
<c.magenta>给它最棒的名字 我要命名它</c>
<c.magenta>为Apple Watch Game</c>

00:44:59.399 --> 00:45:00.634
<c.magenta>再点击 下一个</c>

00:44:59.399 --> 00:45:00.634
<c.magenta>再点击 下一个</c>

00:45:00.968 --> 00:45:02.936
<c.magenta>就完了</c>
<c.magenta>不 真的 就完了</c>

00:45:03.504 --> 00:45:05.205
<c.magenta>Xcode会创建所有你需文件</c>

00:45:05.272 --> 00:45:09.176
<c.magenta>比如Storyboard</c>
<c.magenta>和界面控制器</c>

00:45:09.643 --> 00:45:11.178
<c.magenta>若你看storyboard</c>

00:45:11.245 --> 00:45:13.280
<c.magenta>我们已经接通了一切</c>

00:45:13.680 --> 00:45:18.752
<c.magenta>所以 这个已经连接到了接口</c>
<c.magenta>正如你在顶端看到的</c>

00:45:19.486 --> 00:45:20.621
<c.magenta>你准备好了</c>

00:45:20.687 --> 00:45:22.890
<c.magenta>有WKInterfaceScene</c>

00:45:23.390 --> 00:45:25.792
<c.magenta>还有和之前一样的东西</c>

00:45:25.859 --> 00:45:27.060
<c.magenta>所以 非常简单</c>

00:45:29.463 --> 00:45:33.667
<c.magenta>好了 解决些</c>
<c.magenta>Apple Watch上的兼容问题</c>

00:45:34.067 --> 00:45:36.103
<c.magenta>Apple Watch上</c>
<c.magenta>没有SKAudioNode</c>

00:45:36.170 --> 00:45:40.174
<c.magenta>但当然你还可用SKAction中</c>
<c.magenta>playSoundFileNamed事件播放声音</c>

00:45:40.908 --> 00:45:42.843
<c.magenta>没有SKVideoNode</c>

00:45:43.076 --> 00:45:45.345
<c.magenta>但可以用</c>
<c.magenta>WKInterfaceMovie</c>

00:45:46.079 --> 00:45:49.616
<c.magenta>最后如果要用CI滤镜做特效</c>

00:45:50.017 --> 00:45:52.386
<c.magenta>还是可以做 但需用SKShader</c>

00:45:53.954 --> 00:45:58.225
<c.magenta>我们对你能用SpriteKit在</c>
<c.magenta>Apple Watch上大伸拳脚很激动</c>

00:45:58.292 --> 00:46:00.727
<c.magenta>这将让它变得更交互</c>

00:45:58.292 --> 00:46:00.727
<c.magenta>这将让它变得更交互</c>

00:46:00.794 --> 00:46:02.429
<c.magenta>在该平台上更多好玩的应用</c>

00:46:05.566 --> 00:46:06.433
<c.magenta>好的</c>

00:46:07.501 --> 00:46:08.335
<c.magenta>谢谢</c>

00:46:12.539 --> 00:46:14.308
<c.magenta>因为我们有了更多平台</c>

00:46:14.374 --> 00:46:17.544
<c.magenta>让我讲些SpriteKit上的</c>
<c.magenta>最佳实践</c>

00:46:18.545 --> 00:46:20.180
<c.magenta>第一个是资源目录</c>

00:46:20.514 --> 00:46:22.916
<c.magenta>用资源目录</c>
<c.magenta>它很棒</c>

00:46:22.983 --> 00:46:24.484
<c.magenta>它和SpriteKit合作无间</c>

00:46:24.551 --> 00:46:26.687
<c.magenta>给你的游戏提供了很多酷功能</c>

00:46:26.753 --> 00:46:28.722
<c.magenta>来让一切变得简单快捷</c>

00:46:29.156 --> 00:46:31.124
<c.magenta>第一个是Sprite Atlas</c>

00:46:31.725 --> 00:46:33.994
<c.magenta>在资源目录 你可以做一个材质图谱</c>

00:46:34.061 --> 00:46:37.264
<c.magenta>作为给图块地图优化的基础</c>

00:46:37.331 --> 00:46:40.367
<c.magenta>在这里有多件材质合成一个大的</c>

00:46:40.701 --> 00:46:43.837
<c.magenta>减少绘制调用到最低</c>

00:46:45.072 --> 00:46:47.441
<c.magenta>接下来我们支持多种尺寸像</c>

00:46:47.508 --> 00:46:50.677
<c.magenta>1x 2x 3x</c>
<c.magenta>对多平台很有用</c>

00:46:50.744 --> 00:46:52.846
<c.magenta>像是iPad、iPhone、</c>
<c.magenta>watchOS</c>

00:46:53.747 --> 00:46:56.183
<c.magenta>你不需要做什么限定 比如</c>

00:46:56.250 --> 00:46:57.518
<c.magenta>是那个平台还是这个</c>

00:46:57.584 --> 00:47:00.153
<c.magenta>不 你只要调用这个材质就完了</c>

00:46:57.584 --> 00:47:00.153
<c.magenta>不 你只要调用这个材质就完了</c>

00:47:00.220 --> 00:47:01.288
<c.magenta>我们完成其他的</c>

00:47:02.556 --> 00:47:05.692
<c.magenta>我们支持按需加载资源</c>
<c.magenta>这是tvOS的基础</c>

00:47:07.094 --> 00:47:10.297
<c.magenta>最后我们做应用程序切片</c>
<c.magenta>意味着如果你有资源</c>

00:47:10.364 --> 00:47:13.133
<c.magenta>特定于某个平台</c>
<c.magenta>我们只会用这个</c>

00:47:13.200 --> 00:47:14.902
<c.magenta>给这个捆绑 然后编译它们</c>

00:47:14.968 --> 00:47:17.404
<c.magenta>为尽量小的运行时间二进制</c>

00:47:17.771 --> 00:47:22.042
<c.magenta>这给你很小的资料夹</c>
<c.magenta>和在App Store上很小下载</c>

00:47:23.010 --> 00:47:25.112
<c.magenta>所以是的 资源目录很棒 用它吧</c>

00:47:26.880 --> 00:47:29.249
<c.magenta>接下来 关于性能和电池生命</c>

00:47:29.850 --> 00:47:34.154
<c.magenta>所以 今年SpriteKit</c>
<c.magenta>巨大改变是我们不总渲染</c>

00:47:34.521 --> 00:47:37.057
<c.magenta>现在 我们只有在场景脏时渲染</c>

00:47:37.224 --> 00:47:39.726
<c.magenta>也就是如果发生变化</c>
<c.magenta>会发布绘制调用</c>

00:47:39.793 --> 00:47:42.362
<c.magenta>但如果没改变</c>
<c.magenta>就不会做任何事</c>

00:47:42.763 --> 00:47:46.700
<c.magenta>如果你在用任何登记工具</c>
<c.magenta>比如性能表</c>

00:47:47.067 --> 00:47:48.702
<c.magenta>你会看到指针纹丝不动</c>

00:47:48.769 --> 00:47:49.736
<c.magenta>这实际上是件好事</c>

00:47:49.803 --> 00:47:52.339
<c.magenta>因为这意味着没有在渲染什么新的</c>

00:47:53.507 --> 00:47:55.175
<c.magenta>如果你需要控制画面权重</c>

00:47:55.242 --> 00:47:57.511
<c.magenta>有几个办法做到</c>

00:47:58.045 --> 00:48:00.848
<c.magenta>第一个是SKView偏好帧速率属性</c>

00:47:58.045 --> 00:48:00.848
<c.magenta>第一个是SKView偏好帧速率属性</c>

00:48:01.915 --> 00:48:04.852
<c.magenta>任何时候你只要设置画面速率到</c>
<c.magenta>你要的就可</c>

00:48:04.918 --> 00:48:06.787
<c.magenta>非常方便</c>

00:48:06.854 --> 00:48:10.123
<c.magenta>如果是菜单 只需要非常低的帧速率</c>

00:48:10.457 --> 00:48:12.826
<c.magenta>当回到游戏 可以调回到60</c>

00:48:12.893 --> 00:48:15.829
<c.magenta>或者30帧率根据性能需求</c>

00:48:17.030 --> 00:48:18.665
<c.magenta>第二点有点进阶</c>

00:48:18.866 --> 00:48:20.601
<c.magenta>是SKViewDelegate协议</c>

00:48:20.667 --> 00:48:23.203
<c.magenta>提供你thisShouldRenderAtTime方法</c>

00:48:23.270 --> 00:48:25.405
<c.magenta>用游戏的绝对时间</c>

00:48:25.739 --> 00:48:27.708
<c.magenta>所以这个方法任何时候可被调用</c>

00:48:27.774 --> 00:48:30.043
<c.magenta>你可以根据时间决定是否</c>

00:48:30.110 --> 00:48:31.445
<c.magenta>要渲染这个画面</c>

00:48:31.778 --> 00:48:33.514
<c.magenta>所以这给你非常细致的控制</c>

00:48:33.580 --> 00:48:34.948
<c.magenta>对你的游戏的渲染</c>

00:48:36.550 --> 00:48:38.051
<c.magenta>好的 就这些了</c>

00:48:38.485 --> 00:48:41.221
<c.magenta>SpriteKit有哪些新特性？</c>
<c.magenta>今年有很多</c>

00:48:41.622 --> 00:48:43.891
<c.magenta>第一个是场景大纲视图</c>

00:48:43.957 --> 00:48:46.593
<c.magenta>让你从Xcode操控场景图像</c>

00:48:47.794 --> 00:48:49.196
<c.magenta>GameplayKit集成</c>

00:48:49.263 --> 00:48:53.600
<c.magenta>若你已用GameplayKit组件</c>
<c.magenta>现在只要用Xcode直接设置节点</c>

00:48:54.701 --> 00:48:57.704
<c.magenta>每秒帧数高性能表给你实时分解</c>

00:48:57.771 --> 00:49:00.274
<c.magenta>场景的性能</c>
<c.magenta>非常 非常有用</c>

00:48:57.771 --> 00:49:00.274
<c.magenta>场景的性能</c>
<c.magenta>非常 非常有用</c>

00:49:01.575 --> 00:49:04.845
<c.magenta>复杂但高性能的图块地图</c>

00:49:06.580 --> 00:49:08.415
<c.magenta>弯曲变形给你的游戏带来更多乐趣</c>

00:49:08.482 --> 00:49:11.251
<c.magenta>只要用网格栅格点创建复杂动画</c>

00:49:13.287 --> 00:49:15.122
<c.magenta>每个节点特性来自定义着色器</c>

00:49:15.189 --> 00:49:19.459
<c.magenta>如果你要自定义节点 构建着色器</c>
<c.magenta>很方便</c>

00:49:20.460 --> 00:49:24.798
<c.magenta>当然还有Apple TV上焦点交互</c>
<c.magenta>和Apple Watch上SpriteKit</c>

00:49:24.898 --> 00:49:26.533
<c.magenta>是今年的重头戏</c>

00:49:27.968 --> 00:49:29.069
<c.magenta>如果想了解更多</c>

00:49:29.136 --> 00:49:31.638
<c.magenta>可以到developer.apple.com 网站</c>

00:49:32.506 --> 00:49:34.641
<c.magenta>今年有很多关于游戏的演讲</c>

00:49:34.708 --> 00:49:35.976
<c.magenta>但大部分已经讲完了</c>

00:49:36.043 --> 00:49:39.179
<c.magenta>你还是可以在我早些时候放的网站</c>
<c.magenta>上看到它们</c>

00:49:39.980 --> 00:49:42.282
<c.magenta>明天可以去“Game Center</c>
<c.magenta>新特性”的演讲</c>

00:49:42.349 --> 00:49:44.484
<c.magenta>还有Apple Watch上</c>
<c.magenta>的游戏技术</c>

00:49:44.551 --> 00:49:47.454
<c.magenta>如果你想学到更多关于这些平台和框架</c>

00:49:48.522 --> 00:49:49.389
<c.magenta>好了</c>
