WEBVTT

00:00:19.553 --> 00:00:23.757 align:middle
<c.magenta>IOS PHOTOGRAPHY的新特性</c>

00:00:23.824 --> 00:00:24.725 align:middle
<c.magenta>早上好</c>

00:00:25.592 --> 00:00:27.895 align:middle
<c.magenta>早上好各位</c>
<c.magenta>欢迎来到501会话</c>

00:00:28.462 --> 00:00:29.530 align:middle
<c.magenta>我是Brad Ford</c>

00:00:29.596 --> 00:00:33.300 align:middle
<c.magenta>我在Apple的Core Media和</c>
<c.magenta>AV Foundation Capture团队工作</c>

00:00:34.835 --> 00:00:37.271 align:middle
<c.magenta>本次会议全是关于iOS相机的</c>

00:00:37.337 --> 00:00:38.872 align:middle
<c.magenta>希望你们现在都已经知道了</c>

00:00:38.939 --> 00:00:41.475 align:middle
<c.magenta>这是世界上最流行的相机</c>

00:00:41.575 --> 00:00:43.610 align:middle
<c.magenta>本次会议也是关于摄影的</c>

00:00:44.244 --> 00:00:46.079 align:middle
<c.magenta>如果你开发一个摄影的应用</c>

00:00:46.280 --> 00:00:49.016 align:middle
<c.magenta>或是正考虑开发一个摄影应用</c>

00:00:49.216 --> 00:00:51.351 align:middle
<c.magenta>那么这对你来说是个不错的OS</c>

00:00:51.418 --> 00:00:54.655 align:middle
<c.magenta>我觉得你和iOS 10</c>
<c.magenta>很快就能交上朋友</c>

00:00:55.589 --> 00:00:58.158 align:middle
<c.magenta>今天我们将把注意力集中到</c>
<c.magenta>AV Foundation框架</c>

00:00:58.225 --> 00:01:02.529 align:middle
<c.magenta>它是我们最底层</c>
<c.magenta>并且最强大的访问相机的框架</c>

00:00:58.225 --> 00:01:02.529 align:middle
<c.magenta>它是我们最底层</c>
<c.magenta>并且最强大的访问相机的框架</c>

00:01:02.996 --> 00:01:05.098 align:middle
<c.magenta>AV Foundation</c>
<c.magenta>有着广度和深度</c>

00:01:05.532 --> 00:01:07.367 align:middle
<c.magenta>如果你是iOS拍照的新手</c>

00:01:07.434 --> 00:01:12.472 align:middle
<c.magenta>我邀请你看下列过去</c>
<c.magenta>WWDC 的相机主题演讲视频</c>

00:01:13.073 --> 00:01:15.342 align:middle
<c.magenta>它们会给你听今天的</c>
<c.magenta>演讲打下良好的基础</c>

00:01:15.409 --> 00:01:17.644 align:middle
<c.magenta>另外 你可以看到我优雅地老去</c>

00:01:19.880 --> 00:01:22.349 align:middle
<c.magenta>在接下来的58分钟里</c>
<c.magenta>我们将要进行这些</c>

00:01:22.883 --> 00:01:26.086 align:middle
<c.magenta>我会展示全新的</c>
<c.magenta>AVCaptureOutput</c>

00:01:26.153 --> 00:01:28.155 align:middle
<c.magenta>用来捕捉拍摄内容</c>

00:01:28.655 --> 00:01:30.924 align:middle
<c.magenta>然后我们会关注四个特性</c>

00:01:31.558 --> 00:01:34.094 align:middle
<c.magenta>我们会关注Live Photos</c>

00:01:34.161 --> 00:01:36.263 align:middle
<c.magenta>你们将学会如何用</c>
<c.magenta>你的应用拍摄Live Photos</c>

00:01:36.330 --> 00:01:38.232 align:middle
<c.magenta>就如Apple的相机应用一样</c>

00:01:38.832 --> 00:01:41.168 align:middle
<c.magenta>你们将学会如何拍摄</c>
<c.magenta>原生RAW格式图片</c>

00:01:41.235 --> 00:01:45.239 align:middle
<c.magenta>并将它们保存为DNG文件</c>
<c.magenta>其在iOS上首次出现</c>

00:01:46.073 --> 00:01:48.742 align:middle
<c.magenta>你们将学到如何获得预览或者缩略图</c>

00:01:48.809 --> 00:01:52.613 align:middle
<c.magenta>为你的常规图片拍摄</c>
<c.magenta>以获得一个更具响应性的UI</c>

00:01:53.714 --> 00:01:58.218 align:middle
<c.magenta>最后 你会学到如何用</c>
<c.magenta>宽色域拍摄漂亮的栩栩如生的照片</c>

00:01:58.886 --> 00:01:59.786 align:middle
<c.magenta>让我们现在开始吧</c>

00:02:00.487 --> 00:02:03.924 align:middle
<c.magenta>我们先快速回顾一下</c>
<c.magenta>AV Foundation的捕获类是怎么工作的</c>

00:02:04.191 --> 00:02:07.628 align:middle line:1
<c.magenta>我们拍照的宇宙中心</c>
<c.magenta>是AVCaptureSession</c>

00:02:08.027 --> 00:02:10.864 align:middle line:1
<c.magenta>你告诉这个对象开始或结束运行</c>

00:02:11.398 --> 00:02:14.368 align:middle line:1
<c.magenta>它需要一些输入</c>
<c.magenta>来使其可以干些有用的事</c>

00:02:14.701 --> 00:02:17.137 align:middle line:1
<c.magenta>像是相机或是麦克风这类输入</c>

00:02:17.437 --> 00:02:19.606 align:middle line:1
<c.magenta>它们给会话提供了数据</c>

00:02:19.673 --> 00:02:22.075 align:middle line:1
<c.magenta>它也需要输出来接收数据</c>

00:02:22.409 --> 00:02:25.679 align:middle line:1
<c.magenta>比如一个StillImageOutput</c>
<c.magenta>可以捕捉静态的图像</c>

00:02:25.979 --> 00:02:29.650 align:middle line:1
<c.magenta>或是一个QuickTimeMovieFileOutput</c>
<c.magenta>可以用来录制Quicktime影片</c>

00:02:30.083 --> 00:02:31.351 align:middle line:1
<c.magenta>还有connections</c>

00:02:31.418 --> 00:02:36.490 align:middle line:1
<c.magenta>它们被作为AVCaptureConnections</c>
<c.magenta>在API中所呈现</c>

00:02:36.790 --> 00:02:38.592 align:middle line:1
<c.magenta>这是我们的对象概览图</c>

00:02:38.659 --> 00:02:41.061 align:middle line:1
<c.magenta>你们该看出来我们如何</c>
<c.magenta>把所有东西整合到一起</c>

00:02:41.995 --> 00:02:44.998 align:middle line:1
<c.magenta>所有我刚提到的这些特性</c>
<c.magenta>都与拍摄静态图片有关</c>

00:02:45.065 --> 00:02:49.837 align:middle line:1
<c.magenta>所以你可能预计今天会花很长时间</c>
<c.magenta>在AVCaptureStillImageOutput上</c>

00:02:50.737 --> 00:02:51.572 align:middle line:1
<c.magenta>但是你错了</c>

00:02:53.440 --> 00:02:56.510 align:middle line:1
<c.magenta>今天介绍iOS 10中</c>
<c.magenta>全新的CaptureOutput</c>

00:02:56.577 --> 00:02:58.979 align:middle line:1
<c.magenta>它叫做AVCapturePhotoOutput</c>

00:02:59.279 --> 00:03:03.417 align:middle
<c.magenta>值得强调的是现如今我们的照片</c>
<c.magenta>可不止是静态的图片</c>

00:02:59.279 --> 00:03:03.417 align:middle
<c.magenta>值得强调的是现如今我们的照片</c>
<c.magenta>可不止是静态的图片</c>

00:03:04.484 --> 00:03:10.157 align:middle
<c.magenta>AVCapturePhotoOutput解决了</c>
<c.magenta>AVStillImageOutput的设计难题</c>

00:03:10.224 --> 00:03:11.725 align:middle
<c.magenta>从四个主要方面</c>

00:03:12.392 --> 00:03:14.895 align:middle
<c.magenta>它以一个函数式的编程模型为主要特色</c>

00:03:15.095 --> 00:03:18.532 align:middle
<c.magenta>它对于可变和不可变的</c>
<c.magenta>数据间有明确的划分</c>

00:03:19.399 --> 00:03:23.637 align:middle
<c.magenta>我们将照片设置信息封装到</c>
<c.magenta>一个特有的对象作用到其自身</c>

00:03:24.571 --> 00:03:29.176 align:middle
<c.magenta>PhotoOutput可追踪照片</c>
<c.magenta>从请求到完成的全过程</c>

00:03:29.510 --> 00:03:32.212 align:middle
<c.magenta>通过一个回调的代理式接口</c>

00:03:32.779 --> 00:03:34.348 align:middle
<c.magenta>最后 它解决了</c>

00:03:34.414 --> 00:03:37.885 align:middle
<c.magenta>你在早先拍摄阶段不确定的图片设置</c>

00:03:38.151 --> 00:03:40.053 align:middle
<c.magenta>因此你知道你会得到什么</c>

00:03:40.320 --> 00:03:42.923 align:middle line:1
<c.magenta>让我们再多讲一些最后一个特性</c>

00:03:44.224 --> 00:03:46.560 align:middle line:1
<c.magenta>AVCapturePhotoOutput</c>
<c.magenta>看起来是这样的</c>

00:03:46.627 --> 00:03:49.730 align:middle line:1
<c.magenta>即便有着诸多的新特性</c>
<c.magenta>它仍是个简洁的接口</c>

00:03:49.830 --> 00:03:52.900 align:middle line:1
<c.magenta>甚至比AVCaptureStill</c>
<c.magenta>ImageOutput还要小</c>

00:03:52.966 --> 00:03:55.235 align:middle line:1
<c.magenta>它有一个只读属性的小集合</c>

00:03:55.502 --> 00:03:58.138 align:middle line:1
<c.magenta>来告诉你是否支持一个特性</c>

00:03:58.205 --> 00:04:00.974 align:middle line:1
<c.magenta>像是</c>
<c.magenta>isLivePhotoCaptureSupported</c>

00:03:58.205 --> 00:04:00.974 align:middle line:1
<c.magenta>像是</c>
<c.magenta>isLivePhotoCaptureSupported</c>

00:04:01.341 --> 00:04:04.945 align:middle line:1
<c.magenta>它有一个更小的可写属性的集合</c>
<c.magenta>让你可以参与进来</c>

00:04:05.012 --> 00:04:07.581 align:middle line:1
<c.magenta>当某个特性被支持时</c>

00:04:08.015 --> 00:04:11.418 align:middle line:1
<c.magenta>有些拍摄特性会</c>
<c.magenta>影响拍摄渲染管道的建立</c>

00:04:11.485 --> 00:04:13.720 align:middle line:1
<c.magenta>所以你们要提前指明它们</c>

00:04:14.054 --> 00:04:16.456 align:middle line:1
<c.magenta>其中一个是</c>
<c.magenta>isHighResolutionCapture</c>

00:04:16.523 --> 00:04:18.926 align:middle line:1
<c.magenta>如果你想拍摄高分辨率的照片</c>

00:04:18.992 --> 00:04:23.497 align:middle line:1
<c.magenta>像是在iPhone 6s上</c>
<c.magenta>五百万像素的自拍</c>

00:04:23.997 --> 00:04:26.733 align:middle line:1
<c.magenta>你得先采用这个特性</c>

00:04:26.800 --> 00:04:28.969 align:middle
<c.magenta>在调用AVCapture session的</c>
<c.magenta>startRunning之前</c>

00:04:29.469 --> 00:04:34.274 align:middle line:1
<c.magenta>最后 你可以调用一个简单的方法</c>
<c.magenta>来开始拍摄照片</c>

00:04:34.975 --> 00:04:36.243 align:middle line:1
<c.magenta>仅仅一个动词</c>

00:04:36.844 --> 00:04:40.747 align:middle line:1
<c.magenta>你可能会问</c>
<c.magenta>所有那些相片生成状态怎么办</c>

00:04:41.615 --> 00:04:43.183 align:middle line:1
<c.magenta>我怎么请求闪光灯拍摄</c>

00:04:43.250 --> 00:04:44.718 align:middle line:1
<c.magenta>我怎么获得BGRA</c>

00:04:44.785 --> 00:04:46.587 align:middle line:1
<c.magenta>我怎么获得静态图片防抖</c>

00:04:47.387 --> 00:04:49.223 align:middle
<c.magenta>这些还有一些其他特性都被移动到</c>

00:04:49.289 --> 00:04:52.459 align:middle
<c.magenta>一个叫做AVCapturePhoto</c>
<c.magenta>Settings的新对象中</c>

00:04:52.960 --> 00:04:54.695 align:middle
<c.magenta>这个对象包含所有这些设置</c>

00:04:54.761 --> 00:04:57.931 align:middle
<c.magenta>关于拍摄一张照片的请求</c>

00:04:58.498 --> 00:05:01.535 align:middle
<c.magenta>把它想成是个列表项可供选择</c>

00:04:58.498 --> 00:05:01.535 align:middle
<c.magenta>把它想成是个列表项可供选择</c>

00:05:01.602 --> 00:05:04.972 align:middle
<c.magenta>像是当你在Apple线上</c>
<c.magenta>商店买Mac的时候</c>

00:05:05.339 --> 00:05:07.975 align:middle
<c.magenta>你在网上表格里填上所有你想要的特性</c>

00:05:08.041 --> 00:05:10.110 align:middle
<c.magenta>然后点击提交订单按钮</c>

00:05:10.644 --> 00:05:13.480 align:middle
<c.magenta>提交订单就像是调用</c>
<c.magenta>capturePhoto</c>

00:05:13.747 --> 00:05:17.150 align:middle
<c.magenta>将AVCapturePhotoSettings</c>
<c.magenta>作为你所传的第一个参数</c>

00:05:17.784 --> 00:05:19.419 align:middle
<c.magenta>当你在网上下单时</c>

00:05:19.553 --> 00:05:23.323 align:middle line:1
<c.magenta>商店需要你的电邮地址</c>
<c.magenta>来和你沟通订单的信息</c>

00:05:24.358 --> 00:05:30.163 align:middle line:1
<c.magenta>在AVCapturePhotoOutput世界</c>
<c.magenta>你所提供的电邮地址就是遵从</c>

00:05:30.230 --> 00:05:33.834 align:middle line:1
<c.magenta>AVCapturePhotoCapture</c>
<c.magenta>Delegate协议的对象</c>

00:05:34.001 --> 00:05:38.338 align:middle line:1
<c.magenta>这个delegate会被回调</c>
<c.magenta>作为和你的拍照发生相关的事件</c>

00:05:38.972 --> 00:05:42.276 align:middle line:1
<c.magenta>这个对象是传给</c>
<c.magenta>CapturePhoto第二个参数</c>

00:05:43.610 --> 00:05:46.446 align:middle
<c.magenta>那么AVCapturePhotoSettings</c>
<c.magenta>有什么好处呢</c>

00:05:46.513 --> 00:05:48.315 align:middle
<c.magenta>首先 它们是原子性的</c>

00:05:48.849 --> 00:05:51.752 align:middle
<c.magenta>所有设置都被封装到一个单一对象</c>

00:05:52.019 --> 00:05:54.988 align:middle
<c.magenta>所有的设置都不可能会不同步</c>

00:05:55.489 --> 00:05:58.458 align:middle
<c.magenta>因为它们不是</c>
<c.magenta>AVCapturePhotoOutput的属性</c>

00:05:58.659 --> 00:06:00.827 align:middle
<c.magenta>而是每一设置相关的对象</c>

00:05:58.659 --> 00:06:00.827 align:middle
<c.magenta>而是每一设置相关的对象</c>

00:06:01.361 --> 00:06:02.196 align:middle
<c.magenta>它们是独一无二的</c>

00:06:02.563 --> 00:06:05.966 align:middle
<c.magenta>每个照片设置实例都有唯一的ID属性</c>

00:06:06.300 --> 00:06:09.136 align:middle
<c.magenta>你只允许使用一个照片设置一次</c>

00:06:09.369 --> 00:06:10.337 align:middle
<c.magenta>并且不能再用</c>

00:06:10.404 --> 00:06:15.008 align:middle
<c.magenta>因此你每次拍照请求</c>
<c.magenta>将收到正好一组结果</c>

00:06:17.010 --> 00:06:21.014 align:middle
<c.magenta>在附加一组设置请求拍照后</c>
<c.magenta>你可以坚持不变动</c>

00:06:21.081 --> 00:06:23.684 align:middle
<c.magenta>并验证它们返回给你的结果</c>

00:06:23.750 --> 00:06:27.354 align:middle
<c.magenta>就有点像做了一个</c>
<c.magenta>你在线订单表格的备份</c>

00:06:28.655 --> 00:06:30.824 align:middle
<c.magenta>那么相片委托有什么好处呢</c>

00:06:31.725 --> 00:06:33.427 align:middle
<c.magenta>它是一个单一的回调函数集合</c>

00:06:33.493 --> 00:06:35.896 align:middle
<c.magenta>而且又是随着每个照片设置而变</c>

00:06:36.697 --> 00:06:38.065 align:middle
<c.magenta>序列是被记录下来的</c>

00:06:38.131 --> 00:06:40.067 align:middle
<c.magenta>你可以明确知道你将获得哪个回调函数</c>

00:06:40.133 --> 00:06:41.768 align:middle
<c.magenta>何时 以什么顺序</c>

00:06:42.402 --> 00:06:45.372 align:middle
<c.magenta>并且它是个用来解决不确定设置的手段</c>

00:06:45.772 --> 00:06:48.242 align:middle
<c.magenta>我想这点我得再多解释一点</c>

00:06:48.809 --> 00:06:52.913 align:middle
<c.magenta>假如说你的应用在时间轴上的</c>
<c.magenta>这个位置请求照片</c>

00:06:54.314 --> 00:06:56.950 align:middle
<c.magenta>你指明照片设置是带有自动闪光灯</c>

00:06:57.117 --> 00:06:59.453 align:middle
<c.magenta>和自动静态图片防抖</c>

00:06:59.553 --> 00:07:01.922 align:middle
<c.magenta>我把“静止图像稳定”缩写成SIS</c>

00:06:59.553 --> 00:07:01.922 align:middle
<c.magenta>我把“静止图像稳定”缩写成SIS</c>

00:07:01.989 --> 00:07:03.490 align:middle
<c.magenta>以便能在幻灯片上显示的更好</c>

00:07:04.091 --> 00:07:07.861 align:middle
<c.magenta>你告诉PhotoOutput</c>
<c.magenta>我想使用闪光灯或者SIS</c>

00:07:07.928 --> 00:07:10.898 align:middle
<c.magenta>但是只在你需要的时候</c>
<c.magenta>还有它们适合于当前场景的时候</c>

00:07:11.865 --> 00:07:14.301 align:middle
<c.magenta>很快你提出了请求</c>

00:07:14.368 --> 00:07:17.037 align:middle
<c.magenta>PhotoOutput</c>
<c.magenta>会调用你委托的第一个回调函数</c>

00:07:17.104 --> 00:07:20.374 align:middle
<c.magenta>也就是willBeginCapture</c>
<c.magenta>ForResolvedSettings</c>

00:07:20.440 --> 00:07:23.310 align:middle
<c.magenta>这个回调函数永远都是第一个被调用</c>

00:07:23.644 --> 00:07:26.180 align:middle
<c.magenta>它就有点像是</c>
<c.magenta>你从Apple收到的礼节性邮件</c>

00:07:26.246 --> 00:07:28.081 align:middle
<c.magenta>告诉你我们已经收到了你的订单</c>

00:07:28.515 --> 00:07:29.983 align:middle
<c.magenta>我们会发送给你什么</c>

00:07:30.384 --> 00:07:32.286 align:middle
<c.magenta>这个回调函数传给你一个实例</c>

00:07:32.352 --> 00:07:36.890 align:middle
<c.magenta>实例是一个新对象的 叫做</c>
<c.magenta>AVCapturePhotoResolvedSettings</c>

00:07:37.491 --> 00:07:39.893 align:middle
<c.magenta>它就像你填写的照片设置</c>

00:07:39.960 --> 00:07:41.695 align:middle
<c.magenta>不同的是所有问题都解决了</c>

00:07:42.563 --> 00:07:44.298 align:middle
<c.magenta>它们有着相同的唯一ID</c>

00:07:44.598 --> 00:07:47.734 align:middle
<c.magenta>你未确定和决定的版本</c>
<c.magenta>共享一个唯一ID</c>

00:07:47.801 --> 00:07:49.169 align:middle
<c.magenta>以便你将它们一起比较</c>

00:07:49.469 --> 00:07:52.406 align:middle
<c.magenta>它也告诉你照片的输出</c>
<c.magenta>为你挑出了什么特性</c>

00:07:52.773 --> 00:07:55.809 align:middle
<c.magenta>注意 在这个例子中</c>
<c.magenta>闪光灯被设定为开</c>

00:07:56.176 --> 00:07:57.911 align:middle
<c.magenta>SIS被设定为关</c>

00:07:58.078 --> 00:08:01.281 align:middle
<c.magenta>我们现在很明显是处在极度弱光环境</c>
<c.magenta>像是这个会议室</c>

00:07:58.078 --> 00:08:01.281 align:middle
<c.magenta>我们现在很明显是处在极度弱光环境</c>
<c.magenta>像是这个会议室</c>

00:08:01.448 --> 00:08:04.852 align:middle
<c.magenta>接下来的回调函数是</c>
<c.magenta>willCapturePhotoForResolvedSettings</c>

00:08:04.918 --> 00:08:07.454 align:middle
<c.magenta>它是正好在拍照片的时候被送到</c>

00:08:07.654 --> 00:08:10.390 align:middle
<c.magenta>或是当虚拟相机快门正在闭合</c>

00:08:10.724 --> 00:08:12.459 align:middle
<c.magenta>并且播放了快门声的时候</c>

00:08:12.759 --> 00:08:15.229 align:middle
<c.magenta>如果你想播放一个快门动画效果</c>

00:08:15.295 --> 00:08:16.930 align:middle
<c.magenta>那么这正是时候</c>

00:08:17.865 --> 00:08:21.702 align:middle
<c.magenta>接下来马上就是</c>
<c.magenta>didCapturePhotoForResolvedSettings</c>

00:08:21.768 --> 00:08:24.571 align:middle
<c.magenta>就在图像被完全曝光呈现出来</c>

00:08:24.638 --> 00:08:26.340 align:middle
<c.magenta>而且虚拟快门开启之后</c>

00:08:27.474 --> 00:08:30.978 align:middle
<c.magenta>然后你要等一下因为图像正在被处理</c>

00:08:31.044 --> 00:08:33.080 align:middle
<c.magenta>加上所有你要求的特性</c>

00:08:33.413 --> 00:08:35.048 align:middle
<c.magenta>当照片最后处理完成时</c>

00:08:35.115 --> 00:08:38.150 align:middle
<c.magenta>你获得didProcessing</c>
<c.magenta>PhotoSampleBuffer这个回调函数</c>

00:08:38.217 --> 00:08:41.188 align:middle
<c.magenta>还有你一直在等的</c>
<c.magenta>ImageSampleBuffer</c>

00:08:41.255 --> 00:08:44.024 align:middle
<c.magenta>耶 就像是崭新的</c>
<c.magenta>Mac送到了你的门口</c>

00:08:44.725 --> 00:08:49.496 align:middle
<c.magenta>最后 你获得的回调函数是</c>
<c.magenta>didFinishCaptureForResolvedSettings</c>

00:08:49.563 --> 00:08:51.865 align:middle
<c.magenta>它肯定是最后被送达的</c>

00:08:52.332 --> 00:08:55.536 align:middle
<c.magenta>它就像是你收到的</c>
<c.magenta>来自Apple的回访邮件</c>

00:08:55.602 --> 00:08:57.171 align:middle
<c.magenta>告诉你所有包裹已经送到了</c>

00:08:57.237 --> 00:08:58.906 align:middle
<c.magenta>与你打交道非常愉快 完毕</c>

00:08:59.740 --> 00:09:02.876 align:middle
<c.magenta>现在是你清理图片生成</c>
<c.magenta>中间阶段存储的好时机</c>

00:08:59.740 --> 00:09:02.876 align:middle
<c.magenta>现在是你清理图片生成</c>
<c.magenta>中间阶段存储的好时机</c>

00:09:04.478 --> 00:09:06.980 align:middle
<c.magenta>让我们详细讨论下那些委托</c>

00:09:07.514 --> 00:09:10.551 align:middle
<c.magenta>回调函数会追踪一个单一拍照请求</c>

00:09:11.451 --> 00:09:14.888 align:middle
<c.magenta>照片输出会保留一个</c>
<c.magenta>对你委托的弱引用</c>

00:09:14.955 --> 00:09:17.191 align:middle
<c.magenta>所以它不会一直给你保留那个对象</c>

00:09:17.691 --> 00:09:20.127 align:middle
<c.magenta>记着在你的代码里给它保留一个强引用</c>

00:09:20.794 --> 00:09:24.031 align:middle
<c.magenta>所有在这个协议里的回调函数</c>
<c.magenta>都被标为可选的</c>

00:09:24.331 --> 00:09:26.400 align:middle
<c.magenta>但其中有些在runtime</c>
<c.magenta>会变为必需</c>

00:09:26.466 --> 00:09:28.101 align:middle
<c.magenta>这取决于你的照片设置</c>

00:09:28.168 --> 00:09:31.438 align:middle
<c.magenta>例如 当你正拍一个压缩的跑步图片时</c>

00:09:31.505 --> 00:09:34.975 align:middle
<c.magenta>你的委托需要在你获得</c>
<c.magenta>照片的时候就实现一个回调函数</c>

00:09:35.242 --> 00:09:37.344 align:middle
<c.magenta>否则 我们就会无处送达它</c>

00:09:37.945 --> 00:09:42.082 align:middle
<c.magenta>此规则在AVCapturePhotoOutput.h</c>
<c.magenta>头文件中就明确写出了</c>

00:09:43.183 --> 00:09:46.854 align:middle
<c.magenta>所有回调函数都会传一个</c>
<c.magenta>ResolvedPhotoSettings对象的实例</c>

00:09:46.920 --> 00:09:49.523 align:middle
<c.magenta>就是我告诉你们的那个</c>
<c.magenta>因此你总会知道你将要得到什么</c>

00:09:49.590 --> 00:09:50.858 align:middle
<c.magenta>或是你刚刚得到了什么</c>

00:09:54.161 --> 00:09:55.062 align:middle
<c.magenta>说到设置</c>

00:09:55.128 --> 00:09:57.698 align:middle
<c.magenta>我们来看段代码 它展示了</c>
<c.magenta>如何初始化照片拍摄</c>

00:09:57.764 --> 00:10:00.767 align:middle
<c.magenta>利用AVCapturePhotoSettings</c>
<c.magenta>的诸多特性</c>

00:09:57.764 --> 00:10:00.767 align:middle
<c.magenta>利用AVCapturePhotoSettings</c>
<c.magenta>的诸多特性</c>

00:10:01.134 --> 00:10:03.904 align:middle
<c.magenta>首先第一个</c>
<c.magenta>takeHighResolutionPhoto</c>

00:10:04.204 --> 00:10:07.307 align:middle
<c.magenta>如我前面所说</c>
<c.magenta>iPhone 6s的前置摄像头</c>

00:10:07.374 --> 00:10:11.245 align:middle
<c.magenta>支持五百万像素的高分辨率自拍</c>

00:10:11.311 --> 00:10:13.514 align:middle
<c.magenta>但是它不能支持</c>
<c.magenta>五百万像素的连续流畅拍照</c>

00:10:13.580 --> 00:10:15.816 align:middle
<c.magenta>它只支持单个高像素的定格照</c>

00:10:16.416 --> 00:10:19.186 align:middle
<c.magenta>所以你必须创建</c>
<c.magenta>一个PhotoSettings对象</c>

00:10:19.386 --> 00:10:23.257 align:middle
<c.magenta>并设置启用</c>
<c.magenta>HighResolutionPhotoCaptureEnabled</c>

00:10:23.490 --> 00:10:29.062 align:middle
<c.magenta>这样你就生成了带有参数的结构体</c>
<c.magenta>AVCapturePhotoSettings</c>

00:10:29.563 --> 00:10:32.933 align:middle
<c.magenta>它默认将输出格式设为JPEG</c>

00:10:32.999 --> 00:10:35.536 align:middle
<c.magenta>并启用了静态图像防抖</c>

00:10:36.370 --> 00:10:39.173 align:middle
<c.magenta>然后我将isHighResolution</c>
<c.magenta>PhotoEnabled设为真</c>

00:10:39.239 --> 00:10:40.874 align:middle
<c.magenta>并调用CapturePhoto</c>

00:10:41.542 --> 00:10:44.711 align:middle
<c.magenta>在第二个例子</c>
<c.magenta>takeFlashPhoto中</c>

00:10:45.512 --> 00:10:48.882 align:middle
<c.magenta>注意flashMode</c>
<c.magenta>现在是settings对象的一个属性了</c>

00:10:48.949 --> 00:10:51.084 align:middle
<c.magenta>如果你过去用过</c>
<c.magenta>StillImageOutput</c>

00:10:51.151 --> 00:10:54.521 align:middle
<c.magenta>你就会知道Flash原来是</c>
<c.magenta>AVCaptureDevice的一部分</c>

00:10:54.588 --> 00:10:56.356 align:middle
<c.magenta>所以这会产生问题</c>
<c.magenta>就是你需要访问</c>

00:10:56.423 --> 00:10:58.859 align:middle
<c.magenta>两个不同的对象来设置settings</c>

00:10:58.992 --> 00:11:01.695 align:middle
<c.magenta>现在它是单独一个对象的一部分了</c>

00:10:58.992 --> 00:11:01.695 align:middle
<c.magenta>现在它是单独一个对象的一部分了</c>

00:11:02.062 --> 00:11:02.930 align:middle
<c.magenta>太棒了</c>

00:11:03.664 --> 00:11:08.135 align:middle
<c.magenta>最后一个例子用了一个挺复杂的</c>
<c.magenta>AVCapturePhotoSettings的结构体</c>

00:11:08.202 --> 00:11:11.905 align:middle
<c.magenta>这回我们要传递我们想要的输出格式</c>

00:11:11.972 --> 00:11:14.541 align:middle
<c.magenta>在这里</c>
<c.magenta>我们想要非压缩的BGRA格式</c>

00:11:14.908 --> 00:11:17.811 align:middle
<c.magenta>我们要建立</c>
<c.magenta>一个CV像素缓存属性的字典</c>

00:11:18.312 --> 00:11:22.683 align:middle
<c.magenta>然后将其作为</c>
<c.magenta>AVCapturePhotoSettings的参数传递</c>

00:11:23.083 --> 00:11:23.984 align:middle
<c.magenta>这样就行了</c>

00:11:24.418 --> 00:11:26.286 align:middle
<c.magenta>当你调用capturePhoto时</c>

00:11:26.520 --> 00:11:28.689 align:middle
<c.magenta>AVCapturePhotoOutput</c>
<c.magenta>会验证你的设置</c>

00:11:28.755 --> 00:11:30.924 align:middle
<c.magenta>来确保你不是在请求一些荒唐的东西</c>

00:11:30.991 --> 00:11:33.293 align:middle
<c.magenta>它将保证自治性</c>

00:11:33.360 --> 00:11:36.630 align:middle
<c.magenta>也将确保你所请求的东西真的被支持</c>

00:11:36.697 --> 00:11:38.599 align:middle
<c.magenta>如果不被支持 它会抛出一个异常</c>

00:11:40.400 --> 00:11:43.937 align:middle
<c.magenta>Result设置</c>
<c.magenta>如你所想是完全不能变动的</c>

00:11:44.304 --> 00:11:45.906 align:middle
<c.magenta>所有属性都是只读的</c>

00:11:46.006 --> 00:11:47.741 align:middle
<c.magenta>它们仅供你参考用</c>

00:11:47.808 --> 00:11:50.477 align:middle
<c.magenta>而且这是函数式编程不可变的部分</c>

00:11:51.011 --> 00:11:52.980 align:middle
<c.magenta>它有一个唯一ID来让你和</c>

00:11:53.046 --> 00:11:55.315 align:middle
<c.magenta>你的未设置的</c>
<c.magenta>settings对象作比较</c>

00:11:55.616 --> 00:11:56.617 align:middle
<c.magenta>这是个不错的特性</c>

00:11:56.683 --> 00:12:00.120 align:middle
<c.magenta>它让你在没得到你的照片前</c>
<c.magenta>就知道照片的尺寸</c>

00:11:56.683 --> 00:12:00.120 align:middle
<c.magenta>它让你在没得到你的照片前</c>
<c.magenta>就知道照片的尺寸</c>

00:12:00.521 --> 00:12:04.525 align:middle
<c.magenta>所以你能提前计划 做一些分配</c>
<c.magenta>或是其他你需要做的事</c>

00:12:05.659 --> 00:12:08.462 align:middle
<c.magenta>它会告诉你flash</c>
<c.magenta>被设为on还是off</c>

00:12:08.762 --> 00:12:10.898 align:middle
<c.magenta>静态图片防抖是被设为on还是off</c>

00:12:12.432 --> 00:12:14.501 align:middle
<c.magenta>它也支持包围曝光拍摄</c>

00:12:14.735 --> 00:12:18.272 align:middle
<c.magenta>这是一种你请求</c>
<c.magenta>多张图片时的特殊拍摄手法</c>

00:12:18.405 --> 00:12:20.474 align:middle
<c.magenta>有时候伴随着不同的曝光值</c>

00:12:20.807 --> 00:12:25.179 align:middle
<c.magenta>例如 可能是这么来做的</c>
<c.magenta>如果你想将多张曝光图片合并在一起</c>

00:12:25.245 --> 00:12:28.148 align:middle
<c.magenta>来生成像是HDR这样的效果</c>

00:12:28.615 --> 00:12:32.853 align:middle
<c.magenta>我在2014年的508会议上</c>
<c.magenta>讲了很多关于这类拍摄的问题</c>

00:12:33.554 --> 00:12:35.522 align:middle
<c.magenta>去看下那个视频来回想一下</c>

00:12:36.256 --> 00:12:43.030 align:middle
<c.magenta>在AVCaptureStillImageOutput中</c>
<c.magenta>我们支持自动包围曝光和定制包围曝光</c>

00:12:43.797 --> 00:12:46.400 align:middle
<c.magenta>而请求包围曝光的新方法是</c>

00:12:46.667 --> 00:12:50.871 align:middle
<c.magenta>初始化一个</c>
<c.magenta>AVCapturePhotoBracketSettings</c>

00:12:51.004 --> 00:12:53.073 align:middle
<c.magenta>它像是照片设置但它是一个子类</c>

00:12:53.140 --> 00:12:54.741 align:middle
<c.magenta>它有你额外所需的东西</c>

00:12:54.808 --> 00:12:56.410 align:middle
<c.magenta>用来完成包围曝光拍摄</c>

00:12:57.277 --> 00:13:01.215 align:middle
<c.magenta>当你想创建一个包围曝光时</c>
<c.magenta>你要声明一个数组</c>

00:12:57.277 --> 00:13:01.215 align:middle
<c.magenta>当你想创建一个包围曝光时</c>
<c.magenta>你要声明一个数组</c>

00:13:01.281 --> 00:13:03.417 align:middle
<c.magenta>数组是AVCaptureBracketed</c>
<c.magenta>StillImageSettings的</c>

00:13:03.483 --> 00:13:07.554 align:middle
<c.magenta>这是个从AVCaptureStillImageOutput</c>
<c.magenta>时代就有的对象</c>

00:13:08.222 --> 00:13:10.224 align:middle
<c.magenta>你给每个曝光表明其中一个值</c>

00:13:10.290 --> 00:13:14.895 align:middle
<c.magenta>例如 -2EV +2EV 0EV</c>

00:13:15.495 --> 00:13:18.899 align:middle
<c.magenta>如果你是用iPhone 6s</c>
<c.magenta>或者6s Plus</c>

00:13:18.966 --> 00:13:21.702 align:middle
<c.magenta>你可以选择启用镜头防抖</c>

00:13:21.768 --> 00:13:24.538 align:middle
<c.magenta>利用isLensStabilizationEnabled属性</c>

00:13:25.339 --> 00:13:27.574 align:middle
<c.magenta>请你回忆下我之前幻灯片</c>
<c.magenta>展示给你们的时间轴</c>

00:13:27.641 --> 00:13:32.279 align:middle
<c.magenta>照片被传到didFinishProcessing</c>
<c.magenta>PhotoSampleBuffer回调函数</c>

00:13:32.412 --> 00:13:35.082 align:middle
<c.magenta>当你请求三张图片的包围曝光时</c>

00:13:35.315 --> 00:13:37.217 align:middle
<c.magenta>该回调函数会被调用三次</c>

00:13:37.284 --> 00:13:38.385 align:middle
<c.magenta>每张图片一次</c>

00:13:38.719 --> 00:13:42.856 align:middle
<c.magenta>第五个参数告诉你是哪个包围曝光设置</c>

00:13:42.923 --> 00:13:45.826 align:middle
<c.magenta>在这个图片请求中与之协同的</c>

00:13:46.860 --> 00:13:50.430 align:middle
<c.magenta>我们很喜欢新的</c>
<c.magenta>AVCapturePhotoOutput</c>

00:13:50.564 --> 00:13:52.633 align:middle
<c.magenta>所以我们想让你马上就用它</c>

00:13:52.900 --> 00:13:57.004 align:middle
<c.magenta>因此我们在iOS10中不赞成使用</c>
<c.magenta>AVCaptureStillImageOutput</c>

00:13:57.070 --> 00:14:00.440 align:middle
<c.magenta>和其他所有AVCaptureDevice中</c>
<c.magenta>闪光灯相关的属性</c>

00:13:57.070 --> 00:14:00.440 align:middle
<c.magenta>和其他所有AVCaptureDevice中</c>
<c.magenta>闪光灯相关的属性</c>

00:14:00.741 --> 00:14:03.243 align:middle
<c.magenta>这才是你应该用的</c>

00:14:04.211 --> 00:14:07.748 align:middle
<c.magenta>如我所说</c>
<c.magenta>闪光灯拍摄的一部分被打包到</c>

00:14:07.814 --> 00:14:11.518 align:middle
<c.magenta>相片设置中</c>
<c.magenta>它是一个更好的程序接口</c>

00:14:11.885 --> 00:14:13.153 align:middle
<c.magenta>尽快的使用它吧</c>

00:14:14.655 --> 00:14:16.089 align:middle
<c.magenta>最后一项是</c>

00:14:16.957 --> 00:14:19.560 align:middle
<c.magenta>在我们在说下面之前说下photo的好处</c>

00:14:20.494 --> 00:14:22.196 align:middle
<c.magenta>它们使书签功能更容易</c>

00:14:22.863 --> 00:14:24.498 align:middle
<c.magenta>即时的设置设定</c>

00:14:25.265 --> 00:14:26.800 align:middle
<c.magenta>有把握的请求追踪</c>

00:14:27.267 --> 00:14:28.769 align:middle
<c.magenta>它对Apple来说也有益处</c>

00:14:28.836 --> 00:14:32.439 align:middle
<c.magenta>因为它对我们来说</c>
<c.magenta>像是个可扩展的回调函数调色板</c>

00:14:32.506 --> 00:14:35.209 align:middle
<c.magenta>我们可以在将来加入</c>
<c.magenta>新的方法并回调给你</c>

00:14:35.642 --> 00:14:38.846 align:middle
<c.magenta>最后一点对于</c>
<c.magenta>接下来我要说的特性很重要</c>

00:14:38.912 --> 00:14:40.981 align:middle line:1
<c.magenta>我要说的就是Live Photos</c>

00:14:41.815 --> 00:14:46.820 align:middle line:1
<c.magenta>Apple.com上有关于何谓</c>
<c.magenta>Live Photos好的宣传广告</c>

00:14:46.887 --> 00:14:50.457 align:middle
<c.magenta>静态照片捕捉到的是瞬间凝结的记忆</c>

00:14:50.924 --> 00:14:52.993 align:middle
<c.magenta>而有了Live Photos</c>
<c.magenta>你能将这些瞬间变成</c>

00:14:53.060 --> 00:14:55.529 align:middle
<c.magenta>令人难忘 鲜活生动的回忆</c>

00:14:56.730 --> 00:14:58.498 align:middle
<c.magenta>Live Photos的美妙之处在于</c>

00:14:58.565 --> 00:15:02.002 align:middle
<c.magenta>它们会珍藏你留存于</c>
<c.magenta>记忆深处的美好瞬间</c>

00:14:58.565 --> 00:15:02.002 align:middle
<c.magenta>它们会珍藏你留存于</c>
<c.magenta>记忆深处的美好瞬间</c>

00:15:02.736 --> 00:15:06.240 align:middle
<c.magenta>在这张照片里</c>
<c.magenta>这是张不错的静态照片</c>

00:15:07.007 --> 00:15:10.544 align:middle
<c.magenta>巨大恶心的沙蟹</c>
<c.magenta>这是我外甥从沙滩上挖出来的</c>

00:15:10.611 --> 00:15:11.445 align:middle
<c.magenta>一张不错的照片</c>

00:15:11.512 --> 00:15:13.080 align:middle
<c.magenta>如果我3D touch它</c>

00:15:17.084 --> 00:15:19.520 align:middle
<c.magenta>好了 现在我想起来了</c>
<c.magenta>那天太冷了</c>

00:15:19.586 --> 00:15:21.989 align:middle
<c.magenta>他从来没到过海边</c>
<c.magenta>他的嘴唇都冻青了</c>

00:15:22.055 --> 00:15:24.091 align:middle
<c.magenta>他在海水里时间太长</c>
<c.magenta>手都一直在发抖</c>

00:15:24.324 --> 00:15:26.793 align:middle
<c.magenta>我还在开始时候听到我哥哥的声音</c>

00:15:26.994 --> 00:15:29.396 align:middle
<c.magenta>所有这些都帮我进行了回忆</c>

00:15:29.630 --> 00:15:32.999 align:middle
<c.magenta>因为我更多的感官被唤醒了</c>

00:15:33.901 --> 00:15:35.903 align:middle
<c.magenta>人们发现了各种新的方式</c>

00:15:35.969 --> 00:15:38.272 align:middle
<c.magenta>把Live Photos</c>
<c.magenta>当做艺术创作的媒介使用</c>

00:15:38.672 --> 00:15:40.941 align:middle
<c.magenta>这张是一个旋转的自拍</c>

00:15:41.441 --> 00:15:44.311 align:middle line:1
<c.magenta>我们的相机产品团队</c>
<c.magenta>把它叫做甜甜圈自拍</c>

00:15:46.513 --> 00:15:48.415 align:middle
<c.magenta>要完成它可是相当有难度的</c>

00:15:48.916 --> 00:15:52.986 align:middle
<c.magenta>有张用Live Photo拍的</c>
<c.magenta>正在旋转的转椅也很流行</c>

00:15:53.253 --> 00:15:54.087 align:middle
<c.magenta>看看那张吧</c>

00:15:54.922 --> 00:15:57.791 align:middle
<c.magenta>我是个展现惊喜的</c>
<c.magenta>live photo的大粉丝</c>

00:15:58.158 --> 00:16:00.093 align:middle
<c.magenta>不幸的是 我们孩子们也是</c>

00:15:58.158 --> 00:16:00.093 align:middle
<c.magenta>不幸的是 我们孩子们也是</c>

00:16:06.366 --> 00:16:08.535 align:middle
<c.magenta>一个三秒的窗口实在太有诱惑力了</c>

00:16:08.602 --> 00:16:10.704 align:middle
<c.magenta>对于我这么一个天生的</c>
<c.magenta>吓人照片爱好者来说</c>

00:16:11.471 --> 00:16:15.342 align:middle
<c.magenta>Live Photos是从</c>
<c.magenta>Apple设计工作室思考体验中诞生</c>

00:16:15.409 --> 00:16:16.410 align:middle
<c.magenta>其诞生的前提是</c>

00:16:16.810 --> 00:16:18.712 align:middle
<c.magenta>即便我们现在有了这么多好的屏幕</c>

00:16:18.779 --> 00:16:20.614 align:middle
<c.magenta>来分享和观看内容</c>

00:16:21.048 --> 00:16:25.118 align:middle
<c.magenta>照片体验已经保持静态有150年了</c>

00:16:25.652 --> 00:16:28.655 align:middle
<c.magenta>我们划过屏幕浏览的那些JPEG文件</c>
<c.magenta>只不过就是数字版本的</c>

00:16:28.722 --> 00:16:32.159 align:middle
<c.magenta>那些我们留存在鞋盒中相纸的化学药剂</c>

00:16:32.559 --> 00:16:35.229 align:middle
<c.magenta>而它仍然是</c>
<c.magenta>人们保存他们回忆的主要方式</c>

00:16:35.295 --> 00:16:37.531 align:middle
<c.magenta>所以难道我们不能做得更好么</c>

00:16:38.265 --> 00:16:40.434 align:middle
<c.magenta>经过了很多的试验和原型体验</c>

00:16:40.501 --> 00:16:43.136 align:middle
<c.magenta>我们得出了这个新的媒体体验</c>

00:16:43.704 --> 00:16:44.805 align:middle
<c.magenta>一个时刻或是一个记忆</c>

00:16:45.005 --> 00:16:48.075 align:middle
<c.magenta>首先最重要的是它还是一张静态照片</c>

00:16:48.442 --> 00:16:50.711 align:middle
<c.magenta>它仍然和以前照片的质量一样好</c>

00:16:50.777 --> 00:16:54.281 align:middle
<c.magenta>它是一张1200万像素全分辨率的</c>
<c.magenta>静态JPEG图片</c>

00:16:54.581 --> 00:16:57.751 align:middle
<c.magenta>它与非LIve Photos</c>
<c.magenta>有着相同的质量</c>

00:16:57.818 --> 00:16:59.386 align:middle
<c.magenta>让我再强调一遍</c>

00:16:59.920 --> 00:17:04.090 align:middle
<c.magenta>Live Photos有Apple</c>
<c.magenta>非Live Photos的一切优点</c>

00:16:59.920 --> 00:17:04.090 align:middle
<c.magenta>Live Photos有Apple</c>
<c.magenta>非Live Photos的一切优点</c>

00:17:04.223 --> 00:17:07.194 align:middle
<c.magenta>所以你把它打开没有牺牲任何东西</c>

00:17:08.962 --> 00:17:11.932 align:middle
<c.magenta>另一个很棒的点子是平滑拍摄</c>

00:17:12.398 --> 00:17:14.300 align:middle
<c.magenta>这意味着你不需要学习任何新的东西</c>

00:17:14.434 --> 00:17:16.569 align:middle
<c.magenta>你就如你原来一样拍摄照片就可以</c>

00:17:17.104 --> 00:17:20.273 align:middle
<c.magenta>还是那样 定景 按快门</c>

00:17:20.607 --> 00:17:22.209 align:middle
<c.magenta>不用考虑别的</c>

00:17:23.777 --> 00:17:25.679 align:middle
<c.magenta>一张Live Photo</c>
<c.magenta>同样也是一段记忆</c>

00:17:26.012 --> 00:17:28.615 align:middle
<c.magenta>它能比静态图片调动更多感觉</c>

00:17:28.682 --> 00:17:30.417 align:middle
<c.magenta>它可以帮你唤起回忆</c>

00:17:31.451 --> 00:17:34.588 align:middle
<c.magenta>所以它就像是一部短电影 3秒的电影</c>

00:17:34.655 --> 00:17:38.725 align:middle
<c.magenta>1.5秒是静态图之前发生的事</c>
<c.magenta>1.5秒是之后的</c>

00:17:39.326 --> 00:17:43.797 align:middle
<c.magenta>我们能以</c>
<c.magenta>屏幕分辨率或者1080p拍摄它</c>

00:17:45.566 --> 00:17:47.134 align:middle
<c.magenta>而且它包含音频</c>

00:17:48.468 --> 00:17:50.871 align:middle
<c.magenta>我们还在持续改进它的设计</c>

00:17:51.271 --> 00:17:55.876 align:middle
<c.magenta>iOS9.1中我们加入挺棒的特性</c>
<c.magenta>自动裁剪Live Photos</c>

00:17:55.943 --> 00:17:59.279 align:middle
<c.magenta>以防你你冲着你的鞋子</c>
<c.magenta>或者口袋做出挥动的动作</c>

00:17:59.513 --> 00:18:01.648 align:middle
<c.magenta>我们会自动裁掉这些</c>
<c.magenta>去除掉</c>

00:17:59.513 --> 00:18:01.648 align:middle
<c.magenta>我们会自动裁掉这些</c>
<c.magenta>去除掉</c>

00:18:01.715 --> 00:18:03.317 align:middle
<c.magenta>你不想在影片中看到的部分</c>

00:18:03.851 --> 00:18:05.853 align:middle
<c.magenta>在iOS 10中</c>
<c.magenta>我们加入新特性让它变得更好</c>

00:18:05.953 --> 00:18:08.989 align:middle
<c.magenta>现在所有的Live Photo</c>
<c.magenta>影片都是防抖的了</c>

00:18:10.190 --> 00:18:13.493 align:middle
<c.magenta>另一个iOS10的新特性是</c>
<c.magenta>拍摄时可以播放音乐</c>

00:18:13.560 --> 00:18:14.995 align:middle
<c.magenta>如果你正在放音乐</c>

00:18:17.598 --> 00:18:19.233 align:middle
<c.magenta>是啊 这个特性不错</c>

00:18:19.299 --> 00:18:20.200 align:middle
<c.magenta>我也挺喜欢的</c>

00:18:21.902 --> 00:18:24.571 align:middle
<c.magenta>为了让它成为一个时刻也是一段记忆</c>

00:18:24.705 --> 00:18:27.040 align:middle
<c.magenta>如你所料的</c>
<c.magenta>Live Photo有两部分组成</c>

00:18:27.107 --> 00:18:29.142 align:middle
<c.magenta>JPEG及</c>
<c.magenta>QuickTime电影文件</c>

00:18:29.510 --> 00:18:33.380 align:middle
<c.magenta>这两部分共享一个通用的</c>
<c.magenta>UUID以此来连系它们</c>

00:18:33.780 --> 00:18:35.516 align:middle
<c.magenta>JPEG文件的UUID被存储在</c>

00:18:35.582 --> 00:18:37.684 align:middle
<c.magenta>Apple Maker Note里</c>

00:18:38.418 --> 00:18:40.354 align:middle
<c.magenta>影片资源 也就是我说的</c>

00:18:40.420 --> 00:18:43.223 align:middle
<c.magenta>通常三秒长 有视频轨</c>

00:18:43.290 --> 00:18:46.560 align:middle
<c.magenta>大概是1080p</c>
<c.magenta>有着3比1的宽高比</c>

00:18:47.194 --> 00:18:50.597 align:middle
<c.magenta>它包含一个带有示例的定时元轨道</c>

00:18:50.664 --> 00:18:53.667 align:middle
<c.magenta>就相当于是对应静态图片的时间</c>

00:18:53.901 --> 00:18:55.269 align:middle
<c.magenta>在影片的时间轴上</c>

00:18:55.636 --> 00:18:58.071 align:middle
<c.magenta>它还包含了一些上层影片的元数据</c>

00:18:58.138 --> 00:19:00.507 align:middle
<c.magenta>可以用来与JPEG的元数据来配对</c>

00:18:58.138 --> 00:19:00.507 align:middle
<c.magenta>可以用来与JPEG的元数据来配对</c>

00:19:00.741 --> 00:19:03.677 align:middle
<c.magenta>这叫做QuickTime内容识别器</c>

00:19:04.077 --> 00:19:06.313 align:middle
<c.magenta>它的值是一个UUID风格的流</c>

00:19:08.248 --> 00:19:10.651 align:middle
<c.magenta>需要怎样</c>
<c.magenta>才能拍摄Live Photos呢</c>

00:19:11.418 --> 00:19:12.853 align:middle
<c.magenta>在AVCapturePhotoOutput里</c>

00:19:12.920 --> 00:19:17.224 align:middle
<c.magenta>有一个属性叫</c>
<c.magenta>isLivePhotoCaptureSupported</c>

00:19:17.291 --> 00:19:18.325 align:middle
<c.magenta>你得确保它被支持</c>

00:19:18.392 --> 00:19:19.993 align:middle
<c.magenta>它不是在所有设备上都被支持的</c>

00:19:20.494 --> 00:19:24.598 align:middle
<c.magenta>目前它只支持</c>
<c.magenta>AVCaptureSessionPresetPhoto</c>

00:19:25.666 --> 00:19:30.704 align:middle
<c.magenta>你要使用AVCapturePhotoOutput</c>
<c.magenta>.isLivePhotoCaptureEnabled</c>

00:19:30.771 --> 00:19:31.738 align:middle
<c.magenta>将其设为真</c>

00:19:32.239 --> 00:19:35.509 align:middle
<c.magenta>你需要在你开始运行会话之前启用它</c>

00:19:35.576 --> 00:19:38.812 align:middle
<c.magenta>否则会造成会话破坏性的重新配置</c>

00:19:38.879 --> 00:19:39.947 align:middle
<c.magenta>你绝对想避免这麻烦</c>

00:19:40.881 --> 00:19:44.618 align:middle
<c.magenta>如果你在你的Live Photo</c>
<c.magenta>影片中播放音频</c>

00:19:44.685 --> 00:19:47.721 align:middle
<c.magenta>你要为麦克风添加一个</c>
<c.magenta>AVCaptureDeviceInput</c>

00:19:48.121 --> 00:19:49.556 align:middle
<c.magenta>这很重要 不要忘了</c>

00:19:50.457 --> 00:19:53.560 align:middle
<c.magenta>而且不支持同时录制</c>

00:19:53.627 --> 00:19:56.997 align:middle
<c.magenta>使用AVCaptureMovieOutput</c>
<c.magenta>录制的常规电影</c>

00:19:57.064 --> 00:19:58.866 align:middle
<c.magenta>和Live Photos</c>

00:19:59.166 --> 00:20:02.903 align:middle
<c.magenta>因此如果在会话的拓扑图上</c>
<c.magenta>有一个影片文件输出</c>

00:19:59.166 --> 00:20:02.903 align:middle
<c.magenta>因此如果在会话的拓扑图上</c>
<c.magenta>有一个影片文件输出</c>

00:20:02.970 --> 00:20:04.838 align:middle
<c.magenta>它会使Live Photo拍摄禁用</c>

00:20:06.139 --> 00:20:08.809 align:middle
<c.magenta>可按通常方式配置</c>
<c.magenta>LivePhotoCapture</c>

00:20:09.209 --> 00:20:11.712 align:middle
<c.magenta>它有默认的结构体</c>

00:20:12.112 --> 00:20:17.084 align:middle
<c.magenta>不过你要额外声明一个</c>
<c.magenta>LivePhotoMovieFileURL</c>

00:20:17.384 --> 00:20:20.220 align:middle
<c.magenta>在这里我们会写入影片</c>

00:20:20.287 --> 00:20:23.457 align:middle
<c.magenta>并且它必须在你的沙盒内</c>
<c.magenta>你还得能访问它</c>

00:20:24.324 --> 00:20:28.295 align:middle
<c.magenta>你不需要声明任何的</c>
<c.magenta>livePhotoMovieMetadata</c>

00:20:28.362 --> 00:20:29.630 align:middle
<c.magenta>但是如果你想的话也可以</c>

00:20:30.097 --> 00:20:33.867 align:middle
<c.magenta>在此我举个使用</c>
<c.magenta>author元数据的例子</c>

00:20:33.934 --> 00:20:35.636 align:middle
<c.magenta>我把自己设为author</c>

00:20:35.702 --> 00:20:37.804 align:middle
<c.magenta>以便全世界都知道这是我的影片</c>

00:20:37.871 --> 00:20:42.309 align:middle
<c.magenta>你也可以加些有趣的东西</c>
<c.magenta>像是往你的影片里加入GPS标签</c>

00:20:42.876 --> 00:20:45.612 align:middle
<c.magenta>让我们谈谈跟</c>
<c.magenta>Live Photo有关的委托方法</c>

00:20:45.879 --> 00:20:48.115 align:middle
<c.magenta>如我之前所说的</c>
<c.magenta>我们有个可扩展的调色板</c>

00:20:48.182 --> 00:20:50.117 align:middle
<c.magenta>关于委托回调函数的</c>
<c.magenta>我们将会用到它</c>

00:20:50.851 --> 00:20:54.021 align:middle
<c.magenta>当拍摄Live Photo时</c>
<c.magenta>你的第一个回调函数让你知道</c>

00:20:54.087 --> 00:20:55.989 align:middle
<c.magenta>有一个Live Photo</c>
<c.magenta>将会被录制</c>

00:20:56.056 --> 00:20:58.659 align:middle
<c.magenta>借由告诉你影片定好的尺寸</c>

00:20:58.725 --> 00:21:01.261 align:middle
<c.magenta>看到了吗 你不仅调整了照片的尺寸</c>

00:20:58.725 --> 00:21:01.261 align:middle
<c.magenta>看到了吗 你不仅调整了照片的尺寸</c>

00:21:01.328 --> 00:21:03.931 align:middle
<c.magenta>你还知道了Live Photo</c>
<c.magenta>的尺寸会是多大</c>

00:21:04.331 --> 00:21:05.999 align:middle
<c.magenta>你收到了预期的回调函数</c>

00:21:06.066 --> 00:21:10.237 align:middle
<c.magenta>还包含了一张和以前一样</c>
<c.magenta>会保存在内存中的JPEG文件</c>

00:21:10.304 --> 00:21:11.905 align:middle
<c.magenta>不过我们会给你一些新的东西</c>

00:21:12.840 --> 00:21:15.776 align:middle
<c.magenta>一个Live Photo影片</c>
<c.magenta>实际就是三秒的影片</c>

00:21:15.843 --> 00:21:17.611 align:middle
<c.magenta>在其正中间夹着一张静态图片</c>

00:21:17.978 --> 00:21:22.216 align:middle
<c.magenta>这意味着在你的拍摄请求</c>
<c.magenta>发出的最多1.5秒内</c>

00:21:22.416 --> 00:21:24.151 align:middle
<c.magenta>你将会收到一个新的回调函数</c>

00:21:24.218 --> 00:21:25.619 align:middle
<c.magenta>而该回调函数有个古怪名字</c>

00:21:25.886 --> 00:21:31.458 align:middle
<c.magenta>叫didFinishRecordingLivePhotoMovie</c>
<c.magenta>ForEventualFileAtURL.</c>

00:21:31.692 --> 00:21:32.726 align:middle
<c.magenta>试试分析下语法吧</c>

00:21:33.427 --> 00:21:38.031 align:middle
<c.magenta>它的意思是文件还没被写好</c>
<c.magenta>但是已经采好样了</c>

00:21:38.098 --> 00:21:40.100 align:middle
<c.magenta>为这部影片</c>

00:21:40.234 --> 00:21:44.571 align:middle
<c.magenta>换句话说</c>
<c.magenta>若UI中有Live Photo标记</c>

00:21:44.805 --> 00:21:46.907 align:middle
<c.magenta>现在最好把它去掉了</c>

00:21:46.974 --> 00:21:48.942 align:middle
<c.magenta>让人们知道不用再举着相机不动了</c>

00:21:49.443 --> 00:21:52.346 align:middle
<c.magenta>现在最好把</c>
<c.magenta>Live Photo标记去掉</c>

00:21:53.113 --> 00:21:57.384 align:middle
<c.magenta>很快地 影片文件就会被写入完成</c>

00:21:57.551 --> 00:22:01.688 align:middle
<c.magenta>然后你会得到didFinishProcessing</c>
<c.magenta>LivePhotoToMovieFileAtURL.</c>

00:21:57.551 --> 00:22:01.688 align:middle
<c.magenta>然后你会得到didFinishProcessing</c>
<c.magenta>LivePhotoToMovieFileAtURL.</c>

00:22:01.889 --> 00:22:04.424 align:middle
<c.magenta>如果你制作Live Photos</c>
<c.magenta>那这是必需的回调函数</c>

00:22:04.858 --> 00:22:06.760 align:middle
<c.magenta>现在你可以欣赏影片了</c>

00:22:07.895 --> 00:22:10.631 align:middle
<c.magenta>最后你竖个大拇指吧 都完成了</c>

00:22:11.265 --> 00:22:13.967 align:middle
<c.magenta>我们所有该做的都做完了</c>

00:22:14.501 --> 00:22:16.937 align:middle
<c.magenta>要注意的是拍摄</c>
<c.magenta>Live Photo的JPEG部分</c>

00:22:17.004 --> 00:22:19.940 align:middle
<c.magenta>和拍摄静态照片是一样的</c>

00:22:20.007 --> 00:22:22.709 align:middle
<c.magenta>它作为样例缓存保存在内存中</c>

00:22:23.043 --> 00:22:25.679 align:middle
<c.magenta>利用didFinishProcessingPhoto</c>
<c.magenta>SampleBuffer这个回调函数</c>

00:22:25.746 --> 00:22:26.747 align:middle
<c.magenta>如我们已见过的方式</c>

00:22:27.381 --> 00:22:30.851 align:middle
<c.magenta>如果你想把它写到硬盘上</c>
<c.magenta>那可是个琐碎的活</c>

00:22:31.652 --> 00:22:34.087 align:middle
<c.magenta>我们在AVCapturePhotoOutput里</c>
<c.magenta>有一个类方法</c>

00:22:34.154 --> 00:22:38.325 align:middle
<c.magenta>用来把JPEG重写成Data文件</c>
<c.magenta>D是大写的</c>

00:22:38.759 --> 00:22:41.929 align:middle
<c.magenta>这个方法很适合将</c>
<c.magenta>JPEG文件写入硬盘中</c>

00:22:42.296 --> 00:22:43.931 align:middle
<c.magenta>你可以在这里的action看到</c>

00:22:44.431 --> 00:22:49.002 align:middle
<c.magenta>我先跳过第二个参数</c>
<c.magenta>也就是previewPhotoSampleBuffer</c>

00:22:49.069 --> 00:22:50.604 align:middle
<c.magenta>我们一会儿再讲它</c>

00:22:52.105 --> 00:22:55.676 align:middle
<c.magenta>在此我有个做</c>
<c.magenta>Live Photo的建议</c>

00:22:56.076 --> 00:22:58.645 align:middle
<c.magenta>拍摄Live Photo是</c>
<c.magenta>某一类拍摄的例子</c>

00:22:58.712 --> 00:23:00.380 align:middle
<c.magenta>也就是传递多种资源的拍摄</c>

00:22:58.712 --> 00:23:00.380 align:middle
<c.magenta>也就是传递多种资源的拍摄</c>

00:23:00.447 --> 00:23:03.450 align:middle
<c.magenta>这有点像分单购物</c>

00:23:03.517 --> 00:23:06.486 align:middle
<c.magenta>比如你使用一个订单购买电脑</c>
<c.magenta>和使用另外一个订单购买适配器</c>

00:23:07.554 --> 00:23:10.858 align:middle
<c.magenta>所以我们发现当传递多种资源时</c>
<c.magenta>我们可以很便捷的</c>

00:23:10.924 --> 00:23:12.793 align:middle
<c.magenta>我们所写的测试应用中进行测试</c>

00:23:13.126 --> 00:23:18.198 align:middle
<c.magenta>来实例化一个新的</c>
<c.magenta>AVCapturePhotoDelegate对象</c>

00:23:18.265 --> 00:23:21.301 align:middle
<c.magenta>为当前场景的每个照片请求</c>

00:23:21.869 --> 00:23:24.438 align:middle
<c.magenta>接下来在这个对象里</c>
<c.magenta>你可以汇集</c>

00:23:24.505 --> 00:23:25.506 align:middle
<c.magenta>所有你得到的东西</c>

00:23:25.572 --> 00:23:28.876 align:middle
<c.magenta>面向这个请求的样本缓冲影片等等</c>

00:23:28.942 --> 00:23:31.545 align:middle
<c.magenta>然后有个方便的地方来处理这个对象</c>

00:23:31.612 --> 00:23:34.081 align:middle
<c.magenta>即thumbs up回调函数</c>
<c.magenta>标志着我们完成了</c>

00:23:34.381 --> 00:23:35.816 align:middle
<c.magenta>这是一个有用的小提示</c>

00:23:37.251 --> 00:23:38.886 align:middle
<c.magenta>在你的资源被写入硬盘时</c>

00:23:38.952 --> 00:23:41.455 align:middle
<c.magenta>你还需要做几个步骤</c>

00:23:41.788 --> 00:23:43.857 align:middle
<c.magenta>来获取完全的动态图片体验</c>

00:23:43.924 --> 00:23:46.560 align:middle
<c.magenta>尽管视频部分是</c>
<c.magenta>标准的QuickTime影片</c>

00:23:46.827 --> 00:23:48.695 align:middle
<c.magenta>但那并不意味着它可被从头到尾播放</c>

00:23:48.762 --> 00:23:51.131 align:middle
<c.magenta>像是用一个AVPlayer</c>
<c.magenta>播放普通电影那样</c>

00:23:51.431 --> 00:23:53.534 align:middle
<c.magenta>这里有一个可以回放它的小窍门</c>

00:23:53.800 --> 00:23:58.372 align:middle
<c.magenta>它应该可以在照片的</c>
<c.magenta>动态图像时间缓入缓出</c>

00:23:58.438 --> 00:24:01.175 align:middle
<c.magenta>当你在这些资源间滑动的时候</c>

00:23:58.438 --> 00:24:01.175 align:middle
<c.magenta>当你在这些资源间滑动的时候</c>

00:24:01.241 --> 00:24:03.744 align:middle
<c.magenta>它们会在photos应用里</c>
<c.magenta>有些许移动</c>

00:24:04.144 --> 00:24:06.446 align:middle
<c.magenta>为获得完全的</c>
<c.magenta>Live Photo回放体验</c>

00:24:06.513 --> 00:24:09.516 align:middle
<c.magenta>你需要使用photos和</c>
<c.magenta>photos UI框架</c>

00:24:09.883 --> 00:24:12.085 align:middle
<c.magenta>还有与Live Photo相关的类</c>

00:24:12.419 --> 00:24:15.656 align:middle
<c.magenta>用来将你的RAW资源摄取到照片库中</c>

00:24:15.889 --> 00:24:18.859 align:middle
<c.magenta>并恰当的播放它们 例如</c>
<c.magenta>通过LivePhotoView</c>

00:24:20.127 --> 00:24:21.461 align:middle
<c.magenta>且iOS 10中新提供了</c>

00:24:21.528 --> 00:24:26.366 align:middle
<c.magenta>photos框架可以让你就像编辑</c>
<c.magenta>静态照片来编辑Live Photo</c>

00:24:26.733 --> 00:24:27.768 align:middle
<c.magenta>这是个很棒的消息</c>

00:24:28.068 --> 00:24:29.102 align:middle
<c.magenta>我想做一下演示</c>

00:24:36.343 --> 00:24:40.113 align:middle
<c.magenta>在此我们有一些示例代码</c>
<c.magenta>令人尊敬的AVCam</c>

00:24:40.180 --> 00:24:41.815 align:middle
<c.magenta>得有五年没有被用过了</c>

00:24:42.449 --> 00:24:44.551 align:middle
<c.magenta>但我们现在又重新装扮它</c>

00:24:44.618 --> 00:24:47.521 align:middle
<c.magenta>以便它有特定的照片模式和影片模式</c>

00:24:47.855 --> 00:24:50.591 align:middle
<c.magenta>这是因为只能在照片模式</c>
<c.magenta>使用Live Photos</c>

00:24:50.991 --> 00:24:52.926 align:middle
<c.magenta>你要注意的是在顶部有标记告诉你</c>

00:24:52.993 --> 00:24:55.062 align:middle
<c.magenta>Live Photo模式是开还是关</c>

00:24:56.029 --> 00:24:57.531 align:middle
<c.magenta>你还可以切换摄像头</c>

00:24:57.798 --> 00:24:59.933 align:middle
<c.magenta>我会试着做下那个很难的甜甜圈自拍</c>

00:25:00.000 --> 00:25:01.502 align:middle
<c.magenta>让我们来看看我做的成不成功</c>

00:25:01.835 --> 00:25:07.574 align:middle
<c.magenta>你要做的就是开始</c>
<c.magenta>在中间拍一下 然后结束</c>

00:25:07.908 --> 00:25:10.844 align:middle
<c.magenta>注意看当我在自拍的时候</c>
<c.magenta>是有一个live标记出现的</c>

00:25:10.911 --> 00:25:13.881 align:middle
<c.magenta>而这就是在运用</c>
<c.magenta>我之前跟你说的回调函数</c>

00:25:15.282 --> 00:25:18.118 align:middle
<c.magenta>好了 现在它被写入了照片库</c>

00:25:18.685 --> 00:25:20.888 align:middle
<c.magenta>然后 在中间的某处拍一下</c>

00:25:21.221 --> 00:25:22.122 align:middle
<c.magenta>不错吧</c>

00:25:22.389 --> 00:25:24.258 align:middle
<c.magenta>但这还不是我们所能做的全部</c>

00:25:24.391 --> 00:25:26.760 align:middle
<c.magenta>在iOS 9中</c>
<c.magenta>当你想编辑Live Photo时</c>

00:25:26.827 --> 00:25:28.529 align:middle
<c.magenta>你会丢失其中的影片部分</c>

00:25:28.762 --> 00:25:32.533 align:middle
<c.magenta>但是现在你既可以在photos应用</c>
<c.magenta>中本地编辑</c>

00:25:32.866 --> 00:25:35.269 align:middle line:1
<c.magenta>也可以使用应用内你所提供的代码</c>

00:25:35.536 --> 00:25:38.272 align:middle line:1
<c.magenta>比如这个叫做</c>
<c.magenta>LivePhotoEditor的小例子</c>

00:25:38.872 --> 00:25:42.109 align:middle line:1
<c.magenta>它在我所包含的照片编辑扩展应用中</c>

00:25:42.910 --> 00:25:45.879 align:middle
<c.magenta>我可以加上简单的滤镜</c>
<c.magenta>或是裁剪这部影片</c>

00:25:46.513 --> 00:25:49.616 align:middle
<c.magenta>通过它来加上有色滤镜非常的简单</c>

00:25:49.816 --> 00:25:51.451 align:middle
<c.magenta>值得注意的是它并没有丢失影片</c>

00:25:51.518 --> 00:25:52.519 align:middle
<c.magenta>我还可以播放它</c>

00:25:52.586 --> 00:25:54.721 align:middle
<c.magenta>然后 在中间的某处拍一下</c>

00:25:54.788 --> 00:25:56.757 align:middle
<c.magenta>棒极了</c>
<c.magenta>你可以编辑Live Photos了</c>

00:26:03.730 --> 00:26:05.966 align:middle
<c.magenta>好的 现在说回AVCam</c>

00:26:06.033 --> 00:26:09.169 align:middle
<c.magenta>就如我所说的</c>
<c.magenta>它有单独的视频和照片录制模式</c>

00:26:09.236 --> 00:26:10.804 align:middle
<c.magenta>所以你能获得最棒的照片体验</c>

00:26:10.871 --> 00:26:12.873 align:middle
<c.magenta>你可以获得最棒的影片制作体验</c>

00:26:13.273 --> 00:26:15.375 align:middle
<c.magenta>而且它展示了恰当的live标记技术</c>

00:26:15.442 --> 00:26:16.577 align:middle
<c.magenta>就如我谈到的</c>

00:26:16.643 --> 00:26:19.313 align:middle
<c.magenta>它也向你展示了如何将其写入到资源库</c>

00:26:19.613 --> 00:26:21.582 align:middle
<c.magenta>该示例代码现在已经可见了</c>

00:26:21.648 --> 00:26:24.284 align:middle
<c.magenta>你会在我们会话的页面上找到它</c>

00:26:25.252 --> 00:26:26.553 align:middle
<c.magenta>它甚至都被Swift化了</c>

00:26:26.920 --> 00:26:29.056 align:middle
<c.magenta>如果你想了解更多关于</c>
<c.magenta>Live Photo编辑的内容</c>

00:26:29.122 --> 00:26:32.092 align:middle
<c.magenta>请在周四上午11点参加505会话</c>

00:26:32.459 --> 00:26:33.527 align:middle
<c.magenta>你会听到其内容</c>

00:26:35.128 --> 00:26:39.132 align:middle
<c.magenta>我们还支持了一个叫做</c>
<c.magenta>LivePhotoCaptureSuspension的特性</c>

00:26:39.333 --> 00:26:42.603 align:middle
<c.magenta>在这个小例子里展示了</c>
<c.magenta>它什么时候会有用</c>

00:26:43.036 --> 00:26:45.038 align:middle
<c.magenta>假如说你有一个拍照的app</c>

00:26:45.105 --> 00:26:47.641 align:middle
<c.magenta>能发出烦人的雾角的声音</c>

00:26:48.842 --> 00:26:50.244 align:middle
<c.magenta>就跟着我想象该例子的场景</c>

00:26:51.178 --> 00:26:52.145 align:middle
<c.magenta>它会拍照</c>

00:26:52.379 --> 00:26:53.947 align:middle
<c.magenta>发出烦人的雾角声</c>

00:26:54.248 --> 00:26:55.682 align:middle
<c.magenta>现在假如说在时间轴上</c>

00:26:55.749 --> 00:26:57.718 align:middle
<c.magenta>你的用户在此拍了张Live Photo</c>

00:26:58.418 --> 00:27:01.922 align:middle
<c.magenta>然后他们在这里发出了烦人的雾角声</c>

00:26:58.418 --> 00:27:01.922 align:middle
<c.magenta>然后他们在这里发出了烦人的雾角声</c>

00:27:02.756 --> 00:27:06.293 align:middle
<c.magenta>接下来在声音放完后又在此</c>
<c.magenta>拍了另一张Live Photo</c>

00:27:07.728 --> 00:27:09.329 align:middle
<c.magenta>这就会产生一个问题</c>

00:27:09.396 --> 00:27:14.168 align:middle
<c.magenta>因为两张照片的影片部分与</c>

00:27:14.334 --> 00:27:16.069 align:middle
<c.magenta>烦人的雾角声重叠了</c>

00:27:16.570 --> 00:27:19.106 align:middle
<c.magenta>你这下同时毁了</c>
<c.magenta>两部Live Photos影片</c>

00:27:19.473 --> 00:27:21.975 align:middle
<c.magenta>你会在一张照片里听到雾角声的结尾</c>

00:27:22.042 --> 00:27:24.011 align:middle
<c.magenta>而在另一张听到雾角声的开头</c>

00:27:25.012 --> 00:27:27.281 align:middle
<c.magenta>这可不太好 因此为了应对这个问题</c>

00:27:27.681 --> 00:27:31.585 align:middle line:1
<c.magenta>你可以将</c>
<c.magenta>isLivePhotoCaptureSuspended设为真</c>

00:27:31.652 --> 00:27:33.520 align:middle line:1
<c.magenta>就在你要放烦人的雾角声之前</c>

00:27:34.154 --> 00:27:37.090 align:middle line:1
<c.magenta>这会使得任何在处理过程中的</c>
<c.magenta>Live Photos</c>

00:27:37.291 --> 00:27:39.893 align:middle line:1
<c.magenta>被强行裁减到该点</c>

00:27:40.327 --> 00:27:41.395 align:middle line:1
<c.magenta>你可以同样如此处理</c>

00:27:41.461 --> 00:27:44.298 align:middle line:1
<c.magenta>把isLivePhotoCaptureSuspended</c>
<c.magenta>设为假</c>

00:27:44.364 --> 00:27:48.368 align:middle line:1
<c.magenta>这会使结尾处有一个清楚的中断</c>

00:27:48.435 --> 00:27:51.104 align:middle line:1
<c.magenta>以便没有任何早于该点的内容</c>

00:27:51.572 --> 00:27:53.740 align:middle line:1
<c.magenta>会在你取消暂停的时候</c>
<c.magenta>出现在你的影片中</c>

00:27:53.841 --> 00:27:54.908 align:middle
<c.magenta>一个不错的小特性</c>

00:27:56.577 --> 00:27:57.678 align:middle
<c.magenta>让我们谈谈设备支持</c>

00:27:57.744 --> 00:28:00.013 align:middle
<c.magenta>我们应该让什么设备</c>
<c.magenta>支持LivePhoto拍摄呢</c>

00:27:57.744 --> 00:28:00.013 align:middle
<c.magenta>我们应该让什么设备</c>
<c.magenta>支持LivePhoto拍摄呢</c>

00:28:00.414 --> 00:28:03.684 align:middle
<c.magenta>我们在所有近年的iOS设备上支持它</c>

00:28:03.750 --> 00:28:07.487 align:middle
<c.magenta>有个简单的方法来记忆就是</c>
<c.magenta>所有具有1200万像素摄像头</c>

00:28:07.654 --> 00:28:09.389 align:middle
<c.magenta>设备都会支持Live Photos</c>

00:28:11.825 --> 00:28:14.494 align:middle
<c.magenta>接下来进入我们今天的下一个</c>
<c.magenta>重要特性介绍</c>

00:28:14.561 --> 00:28:16.029 align:middle
<c.magenta>那就是RAW相片拍摄</c>

00:28:18.599 --> 00:28:20.934 align:middle
<c.magenta>为了解释什么是RAW图像</c>

00:28:21.001 --> 00:28:25.172 align:middle
<c.magenta>我得先高度概述一下</c>
<c.magenta>CMOS传感器是如何工作的</c>

00:28:26.006 --> 00:28:31.144 align:middle line:1
<c.magenta>CMOS传感器会采集光中的光子</c>
<c.magenta>通过二维阵列的传感器</c>

00:28:32.079 --> 00:28:35.349 align:middle line:1
<c.magenta>数组的上层叫做颜色过滤阵列</c>

00:28:36.049 --> 00:28:38.252 align:middle line:1
<c.magenta>当光线透过上层时</c>

00:28:38.485 --> 00:28:40.587 align:middle line:1
<c.magenta>它只允许一种颜色通过</c>

00:28:40.654 --> 00:28:43.690 align:middle line:1
<c.magenta>红 绿 蓝 其一</c>
<c.magenta>依照Bayer模式</c>

00:28:44.358 --> 00:28:46.793 align:middle line:1
<c.magenta>绿色在这个小棋盘上</c>
<c.magenta>是其他两种颜色的两倍多</c>

00:28:46.860 --> 00:28:49.863 align:middle line:1
<c.magenta>因为我们的眼睛</c>
<c.magenta>对于绿色光有着两倍的敏感度</c>

00:28:49.930 --> 00:28:51.398 align:middle line:1
<c.magenta>相比于其他两种颜色来说</c>

00:28:52.165 --> 00:28:54.768 align:middle line:1
<c.magenta>底层被称为传感器阵列</c>

00:28:56.203 --> 00:29:02.976 align:middle
<c.magenta>在RAW文件中实际存储的是强度</c>
<c.magenta>此强度即红 绿 蓝光的数量</c>

00:28:56.203 --> 00:29:02.976 align:middle
<c.magenta>在RAW文件中实际存储的是强度</c>
<c.magenta>此强度即红 绿 蓝光的数量</c>

00:29:03.043 --> 00:29:06.346 align:middle
<c.magenta>穿过传感器</c>
<c.magenta>每个探测器</c>

00:29:06.947 --> 00:29:09.616 align:middle
<c.magenta>也需要被存储在Bayer模式中</c>

00:29:09.683 --> 00:29:13.086 align:middle
<c.magenta>换句话说 就是红 绿 蓝光的排列</c>

00:29:13.453 --> 00:29:15.556 align:middle
<c.magenta>以便之后将其去马赛克化</c>

00:29:16.190 --> 00:29:18.625 align:middle
<c.magenta>你还要存许多其他元数据</c>

00:29:18.692 --> 00:29:20.994 align:middle
<c.magenta>像是颜色信息 曝光信息</c>

00:29:22.663 --> 00:29:24.998 align:middle
<c.magenta>因此RAW转换器工作很繁重</c>

00:29:25.265 --> 00:29:27.835 align:middle
<c.magenta>RAW会提取所有这些东西</c>

00:29:27.901 --> 00:29:29.636 align:middle
<c.magenta>并将其转换为RGB图像</c>

00:29:31.171 --> 00:29:33.207 align:middle
<c.magenta>去马赛克化只不过是冰山一角</c>

00:29:33.273 --> 00:29:37.211 align:middle
<c.magenta>在其被最终呈现在屏幕上之前</c>
<c.magenta>有许多工作需要完成</c>

00:29:38.412 --> 00:29:39.880 align:middle line:1
<c.magenta>如果做个类比的话</c>

00:29:40.180 --> 00:29:45.118 align:middle line:1
<c.magenta>存储RAW文件很大程度上就像是</c>
<c.magenta>存储用来烤蛋糕的原料</c>

00:29:45.552 --> 00:29:48.222 align:middle line:1
<c.magenta>然后你走到哪都得带着这些原料</c>

00:29:49.056 --> 00:29:50.257 align:middle line:1
<c.magenta>这样可太重了</c>

00:29:50.591 --> 00:29:51.525 align:middle line:1
<c.magenta>也太糟糕了</c>

00:29:52.226 --> 00:29:54.761 align:middle line:1
<c.magenta>每次你都要花些时间来烘烤它</c>

00:29:55.562 --> 00:29:56.997 align:middle
<c.magenta>如果你让两个不同的烘焙师</c>

00:29:57.130 --> 00:29:58.932 align:middle
<c.magenta>用相同的原料来烤蛋糕</c>

00:29:58.999 --> 00:30:01.268 align:middle
<c.magenta>你或许会得到口味有些许不同的蛋糕</c>

00:29:58.999 --> 00:30:01.268 align:middle
<c.magenta>你或许会得到口味有些许不同的蛋糕</c>

00:30:02.336 --> 00:30:04.771 align:middle
<c.magenta>但是使用RAW也有一些很大的好处</c>

00:30:05.973 --> 00:30:09.343 align:middle
<c.magenta>首先最重要的是</c>
<c.magenta>你可以灵活掌握烘焙的时间</c>

00:30:09.409 --> 00:30:14.248 align:middle
<c.magenta>你是把原料都在身边</c>
<c.magenta>但你可以来年再做一个更好的蛋糕</c>

00:30:15.716 --> 00:30:21.321 align:middle
<c.magenta>这里不会有像是BGRA或者420</c>
<c.magenta>那样的压缩出现</c>

00:30:21.388 --> 00:30:22.723 align:middle
<c.magenta>你有更多的比特可供操作</c>

00:30:22.923 --> 00:30:28.629 align:middle
<c.magenta>有一个10比特的RAW传感器</c>
<c.magenta>包括在每像素14比特而不是8比特</c>

00:30:30.163 --> 00:30:32.199 align:middle
<c.magenta>另外你有很多的净空间可供编辑</c>

00:30:33.200 --> 00:30:37.838 align:middle
<c.magenta>而且还给予你</c>
<c.magenta>创作空间来做出不同的决定</c>

00:30:37.905 --> 00:30:40.307 align:middle
<c.magenta>其实你就是把烘焙时间往后拖</c>

00:30:41.208 --> 00:30:42.709 align:middle
<c.magenta>那么JPEG又是什么呢</c>

00:30:43.310 --> 00:30:45.345 align:middle
<c.magenta>RAW图像提供了很多优势</c>

00:30:45.412 --> 00:30:47.714 align:middle
<c.magenta>但它们不是最终的存在形式</c>

00:30:48.048 --> 00:30:51.385 align:middle
<c.magenta>重要的是你要清楚你选择RAW时</c>
<c.magenta>是要有所取舍的</c>

00:30:51.852 --> 00:30:54.555 align:middle
<c.magenta>JPEG仍然是一个有吸引力的选项</c>

00:30:55.756 --> 00:31:00.861 align:middle
<c.magenta>JPEG就像是</c>
<c.magenta>专为你烘焙的Apple蛋糕</c>

00:30:55.756 --> 00:31:00.861 align:middle
<c.magenta>JPEG就像是</c>
<c.magenta>专为你烘焙的Apple蛋糕</c>

00:31:01.995 --> 00:31:03.230 align:middle
<c.magenta>这是个不错的蛋糕</c>

00:31:03.297 --> 00:31:05.632 align:middle
<c.magenta>它包含着Apple的所有善意</c>

00:31:07.134 --> 00:31:08.135 align:middle
<c.magenta>快得多的渲染速度</c>

00:31:08.202 --> 00:31:10.437 align:middle
<c.magenta>你就不必再带着这么多原料了</c>

00:31:11.471 --> 00:31:15.475 align:middle
<c.magenta>你还会获得像是防抖那样的好东西</c>

00:31:15.676 --> 00:31:19.379 align:middle
<c.magenta>就如我之前提到的</c>
<c.magenta>我们使用多张图片融合来进行防抖</c>

00:31:19.746 --> 00:31:21.415 align:middle
<c.magenta>你用一单张</c>
<c.magenta>RAW照片是得不到的</c>

00:31:21.481 --> 00:31:23.984 align:middle
<c.magenta>不管它质量多好也不行</c>
<c.magenta>因为我们是要拍</c>

00:31:24.051 --> 00:31:25.986 align:middle
<c.magenta>我觉得就有点像是多层的蛋糕</c>

00:31:26.620 --> 00:31:29.256 align:middle
<c.magenta>所以你用单张的图片是做不到的</c>

00:31:30.123 --> 00:31:32.125 align:middle
<c.magenta>而且你也获得了更小的文件尺寸</c>

00:31:33.460 --> 00:31:36.663 align:middle
<c.magenta>因此所有这些东西使得JPEG</c>
<c.magenta>变成非常有吸引力的替代方案</c>

00:31:36.763 --> 00:31:39.199 align:middle
<c.magenta>你得决定你想要用哪一个</c>

00:31:39.266 --> 00:31:40.367 align:middle
<c.magenta>才对你的应用来说更好</c>

00:31:41.168 --> 00:31:44.071 align:middle
<c.magenta>我们用四个字符的编码</c>
<c.magenta>来识别RAW格式</c>

00:31:44.137 --> 00:31:47.941 align:middle
<c.magenta>如我们在Core Video框架中</c>
<c.magenta>识别普通像素格式那样</c>

00:31:48.342 --> 00:31:51.545 align:middle
<c.magenta>在CVPixelBuffer.h中</c>
<c.magenta>加入了四个新的常量</c>

00:31:51.612 --> 00:31:53.881 align:middle
<c.magenta>用来描述四种不同的Bayer样式</c>

00:31:54.214 --> 00:31:56.149 align:middle
<c.magenta>你会在相机应用中遇到的</c>

00:31:56.416 --> 00:31:57.284 align:middle
<c.magenta>它们被列在这</c>

00:31:57.417 --> 00:31:58.685 align:middle
<c.magenta>它们基本上是描述了</c>

00:31:58.752 --> 00:32:00.487 align:middle
<c.magenta>红 绿 蓝光在棋盘上的顺序</c>

00:31:58.752 --> 00:32:00.487 align:middle
<c.magenta>红 绿 蓝光在棋盘上的顺序</c>

00:32:02.489 --> 00:32:05.425 align:middle
<c.magenta>你怎么用AVCapturePhotoOutput</c>
<c.magenta>来拍摄RAW呢</c>

00:32:05.492 --> 00:32:06.293 align:middle
<c.magenta>其实挺简单的</c>

00:32:07.027 --> 00:32:10.464 align:middle
<c.magenta>RAW仅在使用相片格式时才被支持</c>

00:32:10.531 --> 00:32:13.100 align:middle
<c.magenta>也就是预设的照片</c>
<c.magenta>跟Live Photo一样</c>

00:32:14.034 --> 00:32:16.003 align:middle
<c.magenta>而且它只支持后置摄像头</c>

00:32:17.204 --> 00:32:21.475 align:middle
<c.magenta>我们支持RAW的包围曝光</c>
<c.magenta>所以你可以拍摄包围曝光</c>

00:32:21.542 --> 00:32:23.710 align:middle
<c.magenta>例如 给三张RAW照片</c>

00:32:24.745 --> 00:32:26.146 align:middle
<c.magenta>为了请求一个RAW拍摄</c>

00:32:26.213 --> 00:32:28.549 align:middle
<c.magenta>你要创建一个</c>
<c.magenta>AVCapturePhotoSettings对象</c>

00:32:28.615 --> 00:32:31.151 align:middle
<c.magenta>但是神奇吧</c>
<c.magenta>这里有个不同的结构体</c>

00:32:31.451 --> 00:32:33.687 align:middle
<c.magenta>该结构体接收</c>
<c.magenta>rawPixelFormat</c>

00:32:34.488 --> 00:32:38.725 align:middle
<c.magenta>那你怎么决定应该</c>
<c.magenta>让它生成哪种RAW格式呢</c>

00:32:38.992 --> 00:32:41.628 align:middle
<c.magenta>你可以问下PhotoOutput</c>

00:32:41.695 --> 00:32:45.499 align:middle
<c.magenta>它会告诉你我有RAW相片像素格式</c>

00:32:45.566 --> 00:32:48.101 align:middle
<c.magenta>你可以从中选择一个</c>

00:32:49.603 --> 00:32:52.606 align:middle
<c.magenta>你声明的RAW格式</c>
<c.magenta>必须要被硬件所支持</c>

00:32:53.440 --> 00:32:57.044 align:middle
<c.magenta>还有一个重要的事</c>
<c.magenta>是在这些RAW设置当中</c>

00:32:57.678 --> 00:33:03.851 align:middle
<c.magenta>SIS是没有意义的</c>
<c.magenta>因为这不是一个多图片融合的场景</c>

00:32:57.678 --> 00:33:03.851 align:middle
<c.magenta>SIS是没有意义的</c>
<c.magenta>因为这不是一个多图片融合的场景</c>

00:33:04.151 --> 00:33:07.020 align:middle
<c.magenta>因此autoStillImage</c>
<c.magenta>StabilizationEnabled</c>

00:33:07.087 --> 00:33:09.156 align:middle
<c.magenta>需要被设为no</c>
<c.magenta>否则会抛出异常</c>

00:33:09.656 --> 00:33:11.992 align:middle
<c.magenta>highResolutionPhotoEnabled也是</c>

00:33:12.059 --> 00:33:14.862 align:middle
<c.magenta>毫无意义的</c>
<c.magenta>因为你只是要获得RAW的功能</c>

00:33:15.362 --> 00:33:16.964 align:middle
<c.magenta>所以它也要被设为false</c>

00:33:18.532 --> 00:33:20.868 align:middle
<c.magenta>有一个关于RAW照片的</c>
<c.magenta>单独委托回调函数</c>

00:33:20.934 --> 00:33:25.472 align:middle
<c.magenta>叫做didFinishProcessing</c>
<c.magenta>RAWPhotoSampleBuffer</c>

00:33:25.873 --> 00:33:28.575 align:middle
<c.magenta>你非常才思敏捷的话</c>

00:33:28.675 --> 00:33:31.411 align:middle
<c.magenta>你就会注意到它有着完全相同的参数</c>

00:33:31.512 --> 00:33:35.649 align:middle
<c.magenta>就和你之前获得</c>
<c.magenta>常规照片时的回调函数一样</c>

00:33:35.716 --> 00:33:38.552 align:middle
<c.magenta>didFinishProcessing</c>
<c.magenta>RAWPhotoSampleBuffer这个回调函数</c>

00:33:38.619 --> 00:33:40.287 align:middle
<c.magenta>现在你可能想问</c>

00:33:40.354 --> 00:33:45.292 align:middle
<c.magenta>我们为何还这么麻烦给RAW样本缓冲</c>
<c.magenta>弄一个新的委托回调函数呢</c>

00:33:45.359 --> 00:33:48.328 align:middle
<c.magenta>既然它和另一个有着完全相同的参数</c>

00:33:48.862 --> 00:33:49.997 align:middle
<c.magenta>其实有一个很好的理由</c>

00:33:50.397 --> 00:33:51.965 align:middle
<c.magenta>这个理由就是</c>

00:33:53.400 --> 00:33:56.069 align:middle
<c.magenta>为了支持RAW plus processed图片</c>

00:33:56.236 --> 00:34:00.641 align:middle
<c.magenta>我们支持该种照片</c>
<c.magenta>就像DSLR相机 无反光板相机那样</c>

00:33:56.236 --> 00:34:00.641 align:middle
<c.magenta>我们支持该种照片</c>
<c.magenta>就像DSLR相机 无反光板相机那样</c>

00:34:01.008 --> 00:34:04.878 align:middle
<c.magenta>这是种能让你同时得到RAW和JPEG</c>
<c.magenta>的工作流</c>

00:34:04.978 --> 00:34:06.713 align:middle
<c.magenta>即processed图片的意思</c>

00:34:07.214 --> 00:34:10.918 align:middle
<c.magenta>能同时拍摄RAW和JPEG</c>
<c.magenta>可是相当专业的特性</c>

00:34:12.286 --> 00:34:14.855 align:middle
<c.magenta>你能获得RAW plus processed图片</c>

00:34:14.922 --> 00:34:17.858 align:middle
<c.magenta>它不是必须得是JPEG</c>
<c.magenta>它也能是BGRA 420</c>

00:34:19.025 --> 00:34:21.929 align:middle
<c.magenta>processed图像</c>
<c.magenta>被生成到另一个回调函数</c>

00:34:21.995 --> 00:34:24.864 align:middle
<c.magenta>叫做didFinishProcessingPhoto</c>
<c.magenta>SampleBuffer</c>

00:34:24.965 --> 00:34:28.068 align:middle
<c.magenta>RAW被生成到名字当中带有</c>
<c.magenta>RAW的那个回调函数</c>

00:34:30.137 --> 00:34:33.172 align:middle
<c.magenta>RAW plus processed brackets也被支持</c>

00:34:33.239 --> 00:34:34.608 align:middle
<c.magenta>看看你是不是能想明白</c>

00:34:34.708 --> 00:34:36.243 align:middle
<c.magenta>其实就是</c>
<c.magenta>我要做一个包围曝光</c>

00:34:36.310 --> 00:34:38.178 align:middle
<c.magenta>同时我请求RAW plus JPEG</c>

00:34:38.344 --> 00:34:40.179 align:middle
<c.magenta>所以我做了三次包围曝光</c>

00:34:40.246 --> 00:34:42.583 align:middle
<c.magenta>我会得到三张RAW</c>
<c.magenta>和三张JPEG图片</c>

00:34:44.885 --> 00:34:47.721 align:middle
<c.magenta>但是其并不支持RAW plus</c>
<c.magenta>静态照片防抖</c>

00:34:49.822 --> 00:34:51.925 align:middle
<c.magenta>为了拍摄RAW plus JPEG</c>

00:34:52.292 --> 00:34:56.429 align:middle
<c.magenta>你还得需要另一个叫</c>
<c.magenta>AVCapturePhotoSettings的结构体</c>

00:34:56.830 --> 00:34:59.633 align:middle
<c.magenta>在这个结构体中</c>
<c.magenta>你要声明RAW像素格式</c>

00:34:59.700 --> 00:35:02.135 align:middle
<c.magenta>还有你想要的processed格式</c>

00:34:59.700 --> 00:35:02.135 align:middle
<c.magenta>还有你想要的processed格式</c>

00:35:02.769 --> 00:35:07.774 align:middle
<c.magenta>在此我选择了JPEG和</c>
<c.magenta>RAW作为输出格式</c>

00:35:09.643 --> 00:35:13.914 align:middle
<c.magenta>当你选择JPEGPlusRAW时</c>
<c.magenta>HighResolutionPhotoEnabled</c>

00:35:13.981 --> 00:35:14.882 align:middle
<c.magenta>是有用的</c>

00:35:14.948 --> 00:35:17.150 align:middle
<c.magenta>因为它现在被应用到JPEG上</c>

00:35:19.353 --> 00:35:21.722 align:middle line:1
<c.magenta>让我们讨论下如何存储</c>
<c.magenta>RAW缓冲</c>

00:35:22.189 --> 00:35:25.492 align:middle line:1
<c.magenta>如果你在内存层面跟它们打交道的话</c>
<c.magenta>那它们就不那么有用了</c>

00:35:26.293 --> 00:35:29.763 align:middle line:1
<c.magenta>所以与其介绍</c>
<c.magenta>一个Apple专利的RAW文件格式</c>

00:35:29.830 --> 00:35:31.798 align:middle
<c.magenta>就像许多其他相机供应商做的那样</c>

00:35:32.165 --> 00:35:36.236 align:middle
<c.magenta>不如选使用Adobe的</c>
<c.magenta>数字式负格式来存储</c>

00:35:37.070 --> 00:35:40.908 align:middle
<c.magenta>DNG是一个标准化的方式来</c>
<c.magenta>储存比特和元数据</c>

00:35:41.041 --> 00:35:43.577 align:middle
<c.magenta>它并不是指一种文件格式</c>

00:35:43.911 --> 00:35:47.114 align:middle
<c.magenta>回到我们的烤蛋糕类比</c>

00:35:47.447 --> 00:35:51.351 align:middle
<c.magenta>DNG就像是存原料的盒子</c>

00:35:51.985 --> 00:35:54.288 align:middle line:1
<c.magenta>还是取决于个体的RAW转换器</c>

00:35:54.354 --> 00:35:56.557 align:middle line:1
<c.magenta>来决定怎么解释那些原料</c>

00:35:56.857 --> 00:36:00.794 align:middle line:1
<c.magenta>因此由第三方应用所打开的DNG</c>
<c.magenta>可能看起来不太一样</c>

00:35:56.857 --> 00:36:00.794 align:middle line:1
<c.magenta>因此由第三方应用所打开的DNG</c>
<c.magenta>可能看起来不太一样</c>

00:36:00.861 --> 00:36:02.729 align:middle line:1
<c.magenta>与另一个应用打开的DNG相比</c>

00:36:03.897 --> 00:36:05.732 align:middle
<c.magenta>所以存储DNG是相当琐碎麻烦的</c>

00:36:06.400 --> 00:36:10.337 align:middle
<c.magenta>你要调用一个叫做</c>
<c.magenta>dngPhotoDataRepresentation的类函数</c>

00:36:11.104 --> 00:36:14.074 align:middle
<c.magenta>把你从委托回调函数中</c>
<c.magenta>获得的RAW缓冲传出去</c>

00:36:14.641 --> 00:36:19.546 align:middle
<c.magenta>这会在内存中生成</c>
<c.magenta>一个可被写入文件的Data</c>

00:36:20.480 --> 00:36:24.852 align:middle
<c.magenta>并且这个API会写入很多的</c>
<c.magenta>压缩DNG文件</c>

00:36:24.918 --> 00:36:25.986 align:middle
<c.magenta>来保存空间</c>

00:36:28.689 --> 00:36:30.290 align:middle
<c.magenta>这里该有个演示了</c>

00:36:36.897 --> 00:36:38.465 align:middle
<c.magenta>对于RAW拍摄</c>

00:36:38.532 --> 00:36:42.769 align:middle
<c.magenta>我们更新了另一部分的令人尊敬的代码</c>
<c.magenta>叫做AVCamManual</c>

00:36:43.303 --> 00:36:45.372 align:middle
<c.magenta>我们是2014年发布的</c>

00:36:45.439 --> 00:36:48.575 align:middle
<c.magenta>在我们展示手动控制API时</c>

00:36:48.942 --> 00:36:53.981 align:middle
<c.magenta>它让你选择对焦 曝光 白平衡</c>

00:36:54.314 --> 00:36:57.551 align:middle
<c.magenta>你可以手动或自动控制这些功能</c>

00:36:58.051 --> 00:37:02.055 align:middle
<c.magenta>在左边的HUD里有个新东西</c>

00:36:58.051 --> 00:37:02.055 align:middle
<c.magenta>在左边的HUD里有个新东西</c>

00:37:02.256 --> 00:37:04.625 align:middle
<c.magenta>可以让你选择开或者关RAW</c>

00:37:05.292 --> 00:37:08.795 align:middle
<c.magenta>你可以选择在该应用里拍摄RAW照片</c>

00:37:09.429 --> 00:37:10.864 align:middle
<c.magenta>让我们看看曝光吧</c>

00:37:10.931 --> 00:37:14.101 align:middle
<c.magenta>我看看能不能故意过曝一点</c>

00:37:15.369 --> 00:37:16.603 align:middle
<c.magenta>然后我再拍张照</c>

00:37:18.272 --> 00:37:19.506 align:middle
<c.magenta>现在我要退出这个应用</c>

00:37:20.440 --> 00:37:24.111 align:middle
<c.magenta>我要打开一个叫</c>
<c.magenta>RAWExpose的应用</c>

00:37:24.178 --> 00:37:26.013 align:middle
<c.magenta>这个应用不是</c>
<c.magenta>AV Foundation团队写的</c>

00:37:26.079 --> 00:37:27.648 align:middle
<c.magenta>而是Core Image团队写的</c>

00:37:27.915 --> 00:37:30.651 align:middle
<c.magenta>他们很有风度的把它借给我来做演示</c>

00:37:31.785 --> 00:37:34.021 align:middle
<c.magenta>我们来看下刚刚拍的照片</c>

00:37:34.888 --> 00:37:37.524 align:middle
<c.magenta>这是张RAW照片</c>

00:37:37.591 --> 00:37:39.660 align:middle
<c.magenta>它会读取DNG文件</c>

00:37:40.160 --> 00:37:45.365 align:middle
<c.magenta>我们可以做到用</c>
<c.magenta>JPEG永远都做不到的事</c>

00:37:46.233 --> 00:37:51.638 align:middle
<c.magenta>像是我们可以恢复EV值</c>

00:37:52.072 --> 00:37:53.707 align:middle
<c.magenta>还能调整色温和色调</c>

00:37:53.774 --> 00:37:57.110 align:middle
<c.magenta>所有这些都是在后期完成的</c>
<c.magenta>而且完全可逆</c>

00:37:57.578 --> 00:38:01.782 align:middle
<c.magenta>我也可以看看有或没有</c>
<c.magenta>减少噪点看着是什么样的</c>

00:37:57.578 --> 00:38:01.782 align:middle
<c.magenta>我也可以看看有或没有</c>
<c.magenta>减少噪点看着是什么样的</c>

00:38:02.482 --> 00:38:06.119 align:middle
<c.magenta>这就是编辑RAW的</c>
<c.magenta>新Core image API的部分特性</c>

00:38:06.687 --> 00:38:07.988 align:middle
<c.magenta>我们再回到幻灯片中</c>

00:38:13.994 --> 00:38:17.531 align:middle
<c.magenta>AVCamManual的</c>
<c.magenta>示例代码现在可见了</c>

00:38:17.698 --> 00:38:18.765 align:middle
<c.magenta>你可以找得到</c>

00:38:18.832 --> 00:38:21.735 align:middle
<c.magenta>它和这节课的幻灯片是有关联的</c>

00:38:22.503 --> 00:38:25.706 align:middle
<c.magenta>如果你想学到</c>
<c.magenta>更多关于RAW编辑的内容</c>

00:38:25.772 --> 00:38:29.743 align:middle
<c.magenta>你可以去我刚才提过的同个会话</c>
<c.magenta>505会话</c>

00:38:30.110 --> 00:38:31.345 align:middle
<c.magenta>他们会同时谈到这两点</c>

00:38:31.578 --> 00:38:34.181 align:middle
<c.magenta>第二个部分是通过</c>
<c.magenta>Core Image来处理RAW</c>

00:38:34.248 --> 00:38:35.315 align:middle
<c.magenta>这是个不错的部分</c>

00:38:37.351 --> 00:38:39.419 align:middle
<c.magenta>RAW照片拍摄都被什么设备支持呢</c>

00:38:40.554 --> 00:38:41.722 align:middle
<c.magenta>巧合的是</c>

00:38:41.788 --> 00:38:46.360 align:middle
<c.magenta>和我们Live Photos</c>
<c.magenta>支持的设备一样</c>

00:38:46.827 --> 00:38:50.330 align:middle
<c.magenta>所有具有1200万像素摄像头的设备</c>
<c.magenta>都支持RAW照片拍摄</c>

00:38:51.498 --> 00:38:52.733 align:middle
<c.magenta>我们的下一个话题是</c>

00:38:53.467 --> 00:38:57.538 align:middle
<c.magenta>拍摄预览图像 也就是缩略图</c>

00:38:58.672 --> 00:39:00.641 align:middle
<c.magenta>摄影app通常会拍照</c>

00:38:58.672 --> 00:39:00.641 align:middle
<c.magenta>摄影app通常会拍照</c>

00:39:00.707 --> 00:39:03.410 align:middle
<c.magenta>然后想快速显示预览结果</c>

00:39:03.777 --> 00:39:05.579 align:middle
<c.magenta>像是Apple Zone相机应用</c>

00:39:06.246 --> 00:39:08.715 align:middle
<c.magenta>当照片播放时注意看下左底角</c>

00:39:14.021 --> 00:39:17.090 align:middle line:1
<c.magenta>你一按下快门键</c>

00:39:17.157 --> 00:39:21.495 align:middle line:1
<c.magenta>几乎同时就有一张照片预览</c>
<c.magenta>出现在左底角</c>

00:39:22.062 --> 00:39:24.131 align:middle line:1
<c.magenta>这会令你的用户感到欣慰</c>

00:39:24.198 --> 00:39:25.966 align:middle line:1
<c.magenta>知道他们拍的照片没问题</c>

00:39:27.134 --> 00:39:28.635 align:middle
<c.magenta>这会给他们即时反馈</c>

00:39:29.636 --> 00:39:31.772 align:middle
<c.magenta>有许多的图像处理算法</c>

00:39:31.839 --> 00:39:37.044 align:middle
<c.magenta>像是Core Images CIRectangleDetector</c>
<c.magenta>或是CIQRCodeDetector</c>

00:39:37.110 --> 00:39:40.414 align:middle
<c.magenta>能很好兼容小图像</c>
<c.magenta>或是未压缩的小图像</c>

00:39:40.480 --> 00:39:43.984 align:middle
<c.magenta>它们不需要整张1200万像素的</c>
<c.magenta>JPEG来找到人的脸</c>

00:39:45.619 --> 00:39:50.190 align:middle
<c.magenta>不幸的是 这里有个继承阻抗的不匹配</c>

00:39:51.058 --> 00:39:52.993 align:middle
<c.magenta>你请求一张高质量的JPEG图片</c>

00:39:53.360 --> 00:39:55.729 align:middle
<c.magenta>因为你想要将其保存在硬盘上</c>

00:39:55.796 --> 00:39:57.531 align:middle
<c.magenta>那是你想要留下来的</c>

00:39:58.332 --> 00:40:01.635 align:middle
<c.magenta>但是你也想要很快在屏幕上</c>
<c.magenta>显示一个预览图</c>

00:39:58.332 --> 00:40:01.635 align:middle
<c.magenta>但是你也想要很快在屏幕上</c>
<c.magenta>显示一个预览图</c>

00:40:02.169 --> 00:40:05.038 align:middle
<c.magenta>所以如果你要自己实现的话</c>
<c.magenta>你要解压缩JPEG</c>

00:40:05.105 --> 00:40:06.240 align:middle
<c.magenta>你要缩减它的大小</c>

00:40:06.373 --> 00:40:07.541 align:middle
<c.magenta>并最终显示出来</c>

00:40:08.175 --> 00:40:11.311 align:middle
<c.magenta>这些都需要费时占空间</c>
<c.magenta>还增加了复杂度</c>

00:40:12.045 --> 00:40:15.749 align:middle
<c.magenta>最好是能同时得到</c>
<c.magenta>供保存的高质量JPEG图片</c>

00:40:15.816 --> 00:40:18.785 align:middle
<c.magenta>以及相机能提供一个小版本的照片</c>

00:40:19.119 --> 00:40:22.389 align:middle
<c.magenta>直接从相机获取</c>
<c.magenta>而不是从JPEG解压缩而来</c>

00:40:23.590 --> 00:40:24.992 align:middle
<c.magenta>然后你就能省略那些步骤</c>

00:40:25.058 --> 00:40:27.327 align:middle
<c.magenta>直接显示预览图了</c>

00:40:28.161 --> 00:40:31.565 align:middle
<c.magenta>我们在AVCapturePhotoOutput中</c>
<c.magenta>就提供了这种工作流</c>

00:40:32.432 --> 00:40:33.267 align:middle
<c.magenta>这个委托</c>

00:40:37.304 --> 00:40:38.772 align:middle
<c.magenta>我强烈建议用啊</c>

00:40:39.039 --> 00:40:42.009 align:middle
<c.magenta>这个委托回调函数能生成一个缩略图</c>

00:40:42.075 --> 00:40:44.645 align:middle
<c.magenta>给processed或者RAW照片</c>

00:40:45.245 --> 00:40:47.414 align:middle
<c.magenta>预览图是非压缩的</c>

00:40:47.481 --> 00:40:50.584 align:middle
<c.magenta>因此你可选择它是</c>
<c.magenta>420fv还是BGRA格式</c>

00:40:51.385 --> 00:40:52.953 align:middle
<c.magenta>如果你知道想要的尺寸</c>

00:40:53.187 --> 00:40:56.356 align:middle
<c.magenta>你可以声明你想要的具体大小</c>

00:40:56.690 --> 00:41:00.194 align:middle
<c.magenta>如果你不确定对于当前的平台</c>
<c.magenta>多大的预览图合适的话</c>

00:40:56.690 --> 00:41:00.194 align:middle
<c.magenta>如果你不确定对于当前的平台</c>
<c.magenta>多大的预览图合适的话</c>

00:41:00.394 --> 00:41:03.197 align:middle
<c.magenta>PhotoOutput可以为你</c>
<c.magenta>选择一个合适的默认尺寸</c>

00:41:04.898 --> 00:41:08.001 align:middle
<c.magenta>这里有些如何请求预览图的示例代码</c>

00:41:08.902 --> 00:41:12.606 align:middle
<c.magenta>当以常规方式创建了</c>
<c.magenta>一个相片设置实例后</c>

00:41:12.906 --> 00:41:15.275 align:middle
<c.magenta>你可以选择</c>
<c.magenta>previewPixelType</c>

00:41:15.609 --> 00:41:21.982 align:middle
<c.magenta>再说明一下相片设置本身</c>
<c.magenta>就会告诉你哪些格式是可用的</c>

00:41:22.049 --> 00:41:25.619 align:middle
<c.magenta>并且它们都是排好序的</c>
<c.magenta>因此最优选择会排在第一位</c>

00:41:25.786 --> 00:41:28.188 align:middle
<c.magenta>在此我从数组中获取第一个元素</c>

00:41:28.755 --> 00:41:30.824 align:middle
<c.magenta>我所说的最优是指</c>

00:41:30.891 --> 00:41:34.761 align:middle
<c.magenta>需要从本地相机请求最少转换的</c>

00:41:36.597 --> 00:41:41.468 align:middle
<c.magenta>你利用该格式类型key来创建</c>
<c.magenta>CVPixelBuffer属性字典</c>

00:41:41.902 --> 00:41:43.604 align:middle
<c.magenta>第一部分是必需的</c>

00:41:43.670 --> 00:41:45.973 align:middle
<c.magenta>如果你想获得预览图</c>

00:41:46.039 --> 00:41:48.942 align:middle
<c.magenta>那你至少你得声明你想获得什么格式的</c>

00:41:49.510 --> 00:41:53.680 align:middle
<c.magenta>你还可以选择性的声明宽度和高度</c>

00:41:54.815 --> 00:41:56.183 align:middle
<c.magenta>如果你想要定制尺寸的话</c>

00:41:56.683 --> 00:41:59.753 align:middle
<c.magenta>你不需要知道明确的宽高比</c>

00:41:59.820 --> 00:42:01.088 align:middle
<c.magenta>关于你将获得的图片</c>

00:41:59.820 --> 00:42:01.088 align:middle
<c.magenta>关于你将获得的图片</c>

00:42:01.388 --> 00:42:03.790 align:middle
<c.magenta>我在这设成是160乘160</c>

00:42:03.857 --> 00:42:06.360 align:middle
<c.magenta>我不是想搞一个盒子出来</c>

00:42:06.426 --> 00:42:09.530 align:middle
<c.magenta>我只是给宽和高设一个最大值</c>

00:42:09.897 --> 00:42:12.733 align:middle
<c.magenta>AVCapturePhotoOutput</c>
<c.magenta>会进行改变大小的工作</c>

00:42:12.799 --> 00:42:17.037 align:middle
<c.magenta>为预览图</c>
<c.magenta>以便它能以预设的宽高比装进盒中</c>

00:42:18.972 --> 00:42:21.642 align:middle
<c.magenta>获取预览图也是非常直观的</c>

00:42:22.142 --> 00:42:27.881 align:middle line:1
<c.magenta>我们在此请求一个JPEG照片</c>
<c.magenta>还有一个160乘160的预览图</c>

00:42:29.183 --> 00:42:32.419 align:middle line:1
<c.magenta>当我们获得第一个回调函数</c>
<c.magenta>说明已经接到命令时</c>

00:42:33.053 --> 00:42:37.591 align:middle line:1
<c.magenta>你会获得一个willBegin</c>
<c.magenta>CaptureForResolvedSettings</c>

00:42:38.625 --> 00:42:41.562 align:middle line:1
<c.magenta>和一个ResolvedPhotoSettings对象</c>
<c.magenta>如果你注意到的话</c>

00:42:41.628 --> 00:42:45.232 align:middle line:1
<c.magenta>预览图的大小不是160乘160</c>

00:42:45.499 --> 00:42:46.767 align:middle line:1
<c.magenta>而是160乘120的</c>

00:42:46.834 --> 00:42:49.636 align:middle line:1
<c.magenta>因为它已经因宽高比而改变</c>

00:42:49.703 --> 00:42:52.439 align:middle line:1
<c.magenta>这个尺寸对于1200万像素</c>
<c.magenta>的照片是最合适的</c>

00:42:54.308 --> 00:42:58.278 align:middle line:1
<c.magenta>当didFinishProcessingPhoto</c>
<c.magenta>SampleBuffer回调函数最后到来时</c>

00:42:58.378 --> 00:43:00.247 align:middle line:1
<c.magenta>你会得到一个 而不是两张照片</c>

00:42:58.378 --> 00:43:00.247 align:middle line:1
<c.magenta>你会得到一个 而不是两张照片</c>

00:43:01.014 --> 00:43:02.983 align:middle line:1
<c.magenta>全尺寸的JPEG文件是第一个参数</c>

00:43:03.050 --> 00:43:05.986 align:middle line:1
<c.magenta>previewPhotoSampleBuffer</c>
<c.magenta>是第二个</c>

00:43:06.220 --> 00:43:07.788 align:middle line:1
<c.magenta>如果你一直跟着我的思路</c>

00:43:08.055 --> 00:43:09.256 align:middle
<c.magenta>并在你的脑中思考</c>

00:43:09.323 --> 00:43:13.060 align:middle
<c.magenta>如果你要拍一个</c>
<c.magenta>RAW照片 加上包围曝光</c>

00:43:13.794 --> 00:43:14.928 align:middle
<c.magenta>加上JPEG</c>

00:43:15.262 --> 00:43:16.463 align:middle
<c.magenta>加上预览图</c>

00:43:16.663 --> 00:43:21.635 align:middle
<c.magenta>那么你会得到mRAWs</c>
<c.magenta>mJPEGs和mpreview照片</c>

00:43:25.906 --> 00:43:27.641 align:middle
<c.magenta>另一个预览图的好的应用是</c>

00:43:27.708 --> 00:43:29.476 align:middle
<c.magenta>作为嵌入的缩略图</c>

00:43:29.910 --> 00:43:32.646 align:middle
<c.magenta>在你的高质量JPEG或DNG文件中</c>

00:43:33.380 --> 00:43:36.850 align:middle
<c.magenta>在这段代码示例中 我会用</c>
<c.magenta>previewPhotoSampleBuffer这个参数</c>

00:43:36.917 --> 00:43:40.888 align:middle
<c.magenta>此参数在didFinishProcessingRAW</c>
<c.magenta>PhotoSampleBuffer回调函数中</c>

00:43:41.021 --> 00:43:44.091 align:middle
<c.magenta>作为放到DNG文件的嵌入式缩略图</c>

00:43:44.558 --> 00:43:48.729 align:middle
<c.magenta>当我调用PhotoOutput的</c>
<c.magenta>dngPhotoDataRepresentation时</c>

00:43:48.795 --> 00:43:50.998 align:middle
<c.magenta>我会将其作为第二个参数传递</c>

00:43:51.532 --> 00:43:53.500 align:middle
<c.magenta>你一直要这么做</c>

00:43:53.967 --> 00:43:56.870 align:middle
<c.magenta>嵌入一个缩略图是个不错的主意</c>

00:43:56.937 --> 00:43:59.106 align:middle
<c.magenta>因为你不知道它会从哪被观看</c>

00:44:00.607 --> 00:44:07.147 align:middle
<c.magenta>有些应用能观看DNG bits</c>
<c.magenta>RAW bits 有些则不能</c>

00:44:07.481 --> 00:44:10.951 align:middle
<c.magenta>但是如果你用到嵌入式缩略图的话</c>
<c.magenta>谁都能看到点什么</c>

00:44:11.552 --> 00:44:13.720 align:middle
<c.magenta>你绝对想这么做</c>
<c.magenta>若你添加一DNG文件</c>

00:44:13.787 --> 00:44:16.857 align:middle
<c.magenta>到照片库</c>
<c.magenta>以便获得更好的快速预览效果的话</c>

00:44:18.725 --> 00:44:20.761 align:middle
<c.magenta>预览图生成是被支持的</c>

00:44:21.461 --> 00:44:22.462 align:middle
<c.magenta>到处都是</c>

00:44:25.332 --> 00:44:29.736 align:middle
<c.magenta>今天的最后一个主题是 宽色域</c>

00:44:29.970 --> 00:44:32.973 align:middle
<c.magenta>如你所料 这是个很广泛的主题</c>

00:44:37.644 --> 00:44:40.747 align:middle
<c.magenta>你们肯定听说了那漂亮的真彩显示</c>

00:44:40.814 --> 00:44:43.183 align:middle
<c.magenta>在我们的9.7寸iPad Pro上</c>

00:44:43.984 --> 00:44:49.890 align:middle
<c.magenta>它是宽色域显示的</c>
<c.magenta>和4K 5K iMax处于同一水平</c>

00:44:50.257 --> 00:44:54.261 align:middle
<c.magenta>它可以显示出令人吃惊</c>
<c.magenta>栩栩如生的红色和黄色</c>

00:44:54.494 --> 00:44:57.397 align:middle
<c.magenta>以及非常深度饱和的青色和绿色</c>

00:44:58.432 --> 00:45:01.468 align:middle
<c.magenta>为了利用到显示的宽色域</c>

00:44:58.432 --> 00:45:01.468 align:middle
<c.magenta>为了利用到显示的宽色域</c>

00:45:01.668 --> 00:45:05.339 align:middle
<c.magenta>我们在iOS9.3中</c>
<c.magenta>首次介绍了颜色管理</c>

00:45:05.706 --> 00:45:07.274 align:middle
<c.magenta>我不知道你是否注意到了</c>

00:45:07.341 --> 00:45:10.777 align:middle
<c.magenta>我们在9.7寸iPad Pro上</c>
<c.magenta>使用了颜色管理</c>

00:45:11.745 --> 00:45:13.614 align:middle
<c.magenta>既然显示效果这么棒了</c>

00:45:14.181 --> 00:45:17.951 align:middle
<c.magenta>用同样的宽色域来拍照才说得过去</c>

00:45:18.418 --> 00:45:20.120 align:middle
<c.magenta>以便增强我们的观看体验</c>

00:45:20.187 --> 00:45:22.756 align:middle
<c.magenta>另外还能保证</c>
<c.magenta>从现在起若干年后你再看这些照片</c>

00:45:22.823 --> 00:45:24.491 align:middle
<c.magenta>你会得到更多的颜色信息</c>

00:45:25.125 --> 00:45:26.460 align:middle
<c.magenta>从iOS10开始</c>

00:45:27.094 --> 00:45:31.698 align:middle
<c.magenta>9.7寸iPad Pro上</c>
<c.magenta>拍照会自动变成宽色域了</c>

00:45:33.233 --> 00:45:37.070 align:middle
<c.magenta>让我简单介绍下宽色域是什么意思</c>
<c.magenta>有关宽色域的术语</c>

00:45:37.337 --> 00:45:39.806 align:middle
<c.magenta>从颜色空间的概念开始</c>

00:45:40.440 --> 00:45:42.409 align:middle
<c.magenta>一个颜色空间描述的是</c>

00:45:43.577 --> 00:45:45.679 align:middle
<c.magenta>一个颜色的环境</c>

00:45:45.746 --> 00:45:49.683 align:middle
<c.magenta>颜色被呈现 排列 比较 或计算</c>

00:45:50.284 --> 00:45:54.188 align:middle
<c.magenta>在计算机显示中应用最普遍的颜色空间</c>
<c.magenta>就是sRGB</c>

00:45:54.454 --> 00:45:56.924 align:middle
<c.magenta>s代表标准 就是标准RGB</c>

00:45:57.658 --> 00:46:01.628 align:middle
<c.magenta>它是基于一个国际规范ITU709</c>

00:45:57.658 --> 00:46:01.628 align:middle
<c.magenta>它是基于一个国际规范ITU709</c>

00:46:02.296 --> 00:46:04.965 align:middle
<c.magenta>它有大概2.2的gamma值</c>

00:46:05.766 --> 00:46:09.203 align:middle
<c.magenta>6500开尔文的白度</c>

00:46:10.103 --> 00:46:14.208 align:middle
<c.magenta>sRGB对显示很多常见颜色都很出色</c>

00:46:14.274 --> 00:46:17.744 align:middle
<c.magenta>像是面部 天空 草地等等</c>

00:46:18.212 --> 00:46:21.849 align:middle
<c.magenta>但也有很多颜色sRGB不能很好生成</c>

00:46:23.050 --> 00:46:26.954 align:middle
<c.magenta>例如 超过百分之40的职业足球队服</c>

00:46:27.020 --> 00:46:28.755 align:middle
<c.magenta>超出了sRGB的色域</c>

00:46:29.556 --> 00:46:30.390 align:middle
<c.magenta>谁知道呢</c>

00:46:32.125 --> 00:46:36.864 align:middle
<c.magenta>9.7寸iPad Pro支持宽色域</c>
<c.magenta>并使用了一个新的颜色空间</c>

00:46:36.930 --> 00:46:39.433 align:middle
<c.magenta>我们将其称为Display P3</c>

00:46:40.501 --> 00:46:43.570 align:middle
<c.magenta>它与SMPTE标准DCI P3类似</c>

00:46:44.438 --> 00:46:47.341 align:middle
<c.magenta>那是用在数字影院投影仪上的颜色空间</c>

00:46:48.041 --> 00:46:51.645 align:middle
<c.magenta>其色原与DCI P3是相同的</c>

00:46:51.712 --> 00:46:54.147 align:middle
<c.magenta>但是其gamma值和白度不同</c>

00:46:55.682 --> 00:46:59.786 align:middle
<c.magenta>它的gamma值与</c>
<c.magenta>白度和sRGB是相同的</c>

00:47:00.854 --> 00:47:02.055 align:middle
<c.magenta>我们为什么会这么做呢</c>

00:47:02.656 --> 00:47:08.028 align:middle
<c.magenta>是因为DCI P3的白度</c>
<c.magenta>是向绿色边倾斜的</c>

00:47:09.029 --> 00:47:14.067 align:middle
<c.magenta>选择这么做是为了给昏暗的</c>
<c.magenta>家庭影院场景提供最大的亮度</c>

00:47:14.401 --> 00:47:16.703 align:middle
<c.magenta>我们发现把白度设为6500的话</c>

00:47:16.770 --> 00:47:20.574 align:middle
<c.magenta>会得到与sRGB标准会兼容的超集</c>

00:47:20.807 --> 00:47:25.779 align:middle
<c.magenta>在这张幻灯片上你会发现</c>
<c.magenta>sRGB的灰色</c>

00:47:25.846 --> 00:47:29.082 align:middle
<c.magenta>然后你会发现</c>
<c.magenta>贴附的Display P3</c>

00:47:29.149 --> 00:47:33.687 align:middle
<c.magenta>它尽可能宽的覆盖了sRGB的超集</c>

00:47:33.754 --> 00:47:34.922 align:middle
<c.magenta>这就是为何我们选择它</c>

00:47:36.690 --> 00:47:39.560 align:middle
<c.magenta>如果使用OS 10上的</c>
<c.magenta>颜色同步工具的话</c>

00:47:39.660 --> 00:47:42.896 align:middle
<c.magenta>你就能看到Display P3的</c>
<c.magenta>虚拟呈现</c>

00:47:42.963 --> 00:47:44.965 align:middle
<c.magenta>我截了一些图来展示给你们</c>

00:47:46.133 --> 00:47:49.169 align:middle
<c.magenta>你们可以在三维将其与</c>
<c.magenta>sRGB进行比较</c>

00:47:49.503 --> 00:47:51.772 align:middle
<c.magenta>在此我选择Display P3</c>

00:47:51.839 --> 00:47:53.841 align:middle
<c.magenta>点击“作比较”</c>

00:47:53.907 --> 00:47:54.741 align:middle
<c.magenta>这是个不错的技术</c>

00:47:55.108 --> 00:47:56.610 align:middle
<c.magenta>然后我选择sRGB</c>

00:47:56.677 --> 00:48:00.047 align:middle
<c.magenta>接下来我会看到</c>
<c.magenta>其中一个贴附在另一个上</c>

00:47:56.677 --> 00:48:00.047 align:middle
<c.magenta>接下来我会看到</c>
<c.magenta>其中一个贴附在另一个上</c>

00:48:00.113 --> 00:48:04.184 align:middle
<c.magenta>你会从里面看到sRGB</c>
<c.magenta>从外面看到Display P3</c>

00:48:04.251 --> 00:48:09.256 align:middle
<c.magenta>以此你能感受到Display P3</c>
<c.magenta>相比sRGB来说有多宽</c>

00:48:09.690 --> 00:48:13.861 align:middle
<c.magenta>并且能呈现的</c>
<c.magenta>颜色范围从视觉上看也更大</c>

00:48:16.763 --> 00:48:18.465 align:middle line:1
<c.magenta>那么现在让我们看看所有的细节</c>

00:48:18.532 --> 00:48:20.367 align:middle line:1
<c.magenta>用来获得Display P3内容</c>

00:48:21.034 --> 00:48:23.971 align:middle line:1
<c.magenta>为了获得高保真度</c>
<c.magenta>所捕捉内容的颜色空间</c>

00:48:24.037 --> 00:48:26.240 align:middle line:1
<c.magenta>需要在素材阶段就确定下来</c>

00:48:26.607 --> 00:48:29.743 align:middle line:1
<c.magenta>这可不能向下在sRGB中完成了</c>

00:48:29.810 --> 00:48:32.913 align:middle line:1
<c.magenta>然后再往上向宽色域转换</c>
<c.magenta>它必须在开始时就被设定好足够的宽度</c>

00:48:33.614 --> 00:48:37.384 align:middle line:1
<c.magenta>如你所料 颜色空间其实就是</c>
<c.magenta>AVCaptureDevice</c>

00:48:37.451 --> 00:48:40.120 align:middle line:1
<c.magenta>一个属性</c>

00:48:40.854 --> 00:48:43.690 align:middle line:1
<c.magenta>因此我们会花些时间来讨论下</c>
<c.magenta>AVCaptureDevice</c>

00:48:43.757 --> 00:48:46.260 align:middle line:1
<c.magenta>我们还会讨论下</c>
<c.magenta>AVCaptureSession</c>

00:48:46.693 --> 00:48:50.531 align:middle
<c.magenta>该会话就是</c>
<c.magenta>自动宽色域选择被决定的地方</c>

00:48:50.597 --> 00:48:52.799 align:middle
<c.magenta>为整个会话配置</c>

00:48:54.301 --> 00:48:59.806 align:middle
<c.magenta>AVCaptureDevice就是AV Foundation</c>
<c.magenta>如何呈现摄像头或是麦克风</c>

00:49:00.707 --> 00:49:03.710 align:middle
<c.magenta>每个AVCaptureDevice</c>
<c.magenta>都有一个格式属性</c>

00:49:04.778 --> 00:49:07.948 align:middle
<c.magenta>Formats是AVCaptureDevice</c>
<c.magenta>格式的一个数组</c>

00:49:08.015 --> 00:49:09.650 align:middle
<c.magenta>它们本身就是对象</c>

00:49:09.983 --> 00:49:12.953 align:middle
<c.magenta>同时它们还会代表设备捕捉内容的格式</c>

00:49:13.820 --> 00:49:16.056 align:middle
<c.magenta>如你所见 它们是成对出现的</c>

00:49:16.557 --> 00:49:18.859 align:middle
<c.magenta>对于每个分辨率和帧率</c>

00:49:19.026 --> 00:49:22.629 align:middle
<c.magenta>都有一个402v版本和402f版本</c>

00:49:23.430 --> 00:49:27.668 align:middle
<c.magenta>v是代表视频范围 从16到235</c>

00:49:28.135 --> 00:49:31.271 align:middle
<c.magenta>f是代表全范围 从0到255</c>

00:49:32.372 --> 00:49:33.941 align:middle
<c.magenta>iOS10中新出现的是</c>

00:49:34.508 --> 00:49:38.645 align:middle
<c.magenta>AVCaptureDevice格式</c>
<c.magenta>有了一个新支持的颜色空间属性</c>

00:49:39.279 --> 00:49:40.581 align:middle
<c.magenta>它是由数字组成的数组</c>

00:49:40.647 --> 00:49:46.887 align:middle
<c.magenta>0是代表sRGB</c>
<c.magenta>而1是代表P3 D65</c>

00:49:47.955 --> 00:49:49.923 align:middle
<c.magenta>我们将其代指为Display P3</c>

00:49:49.990 --> 00:49:54.328 align:middle
<c.magenta>但是在API中</c>
<c.magenta>它指的是P3 D65</c>

00:49:54.394 --> 00:49:59.733 align:middle
<c.magenta>d代表显示 65代表开尔文的白度</c>

00:50:01.435 --> 00:50:07.174 align:middle
<c.magenta>在9.7寸iPad Pro上</c>
<c.magenta>420v格式只支持sRGB</c>

00:50:07.908 --> 00:50:12.145 align:middle
<c.magenta>但是全范围420f格式支持sRGB</c>

00:50:12.412 --> 00:50:13.847 align:middle
<c.magenta>或是Display P3</c>

00:50:14.815 --> 00:50:17.618 align:middle
<c.magenta>该设备有个可设的格式属性</c>

00:50:17.684 --> 00:50:18.585 align:middle
<c.magenta>这不是新的东西</c>

00:50:19.152 --> 00:50:22.723 align:middle
<c.magenta>列表中的其中一个格式</c>
<c.magenta>一直是activeFormat</c>

00:50:23.023 --> 00:50:26.026 align:middle
<c.magenta>如你所见</c>
<c.magenta>我将激活的格式套上了一个黄色的格子</c>

00:50:26.360 --> 00:50:29.396 align:middle
<c.magenta>它正好是1200万像素</c>
<c.magenta>30FPS的版本</c>

00:50:30.931 --> 00:50:34.067 align:middle
<c.magenta>如果那个activeFormat</c>
<c.magenta>也就是f格式</c>

00:50:34.368 --> 00:50:36.436 align:middle
<c.magenta>正好支持Display P3的话</c>

00:50:37.070 --> 00:50:40.908 align:middle
<c.magenta>那么你可以设置一个叫做</c>
<c.magenta>activeColorSpace的新属性</c>

00:50:40.974 --> 00:50:42.843 align:middle
<c.magenta>如果activeFormat支持它</c>

00:50:42.976 --> 00:50:46.146 align:middle
<c.magenta>你就能从你的素材中获得宽色域的流</c>

00:50:46.213 --> 00:50:47.948 align:middle
<c.magenta>到session的所有输出中</c>

00:50:49.449 --> 00:50:50.584 align:middle
<c.magenta>这段说起来有点冗长</c>

00:50:50.651 --> 00:50:52.853 align:middle
<c.magenta>但我希望你记住的是</c>

00:50:53.120 --> 00:50:54.922 align:middle
<c.magenta>希望这些东西你一个也用不上</c>

00:50:55.055 --> 00:50:58.358 align:middle
<c.magenta>大多数客户从来不需要直接设置</c>
<c.magenta>activeColorSpace</c>

00:50:58.592 --> 00:51:02.262 align:middle
<c.magenta>那是因为AVCaptureSession</c>
<c.magenta>会试着为你自动完成</c>

00:50:58.592 --> 00:51:02.262 align:middle
<c.magenta>那是因为AVCaptureSession</c>
<c.magenta>会试着为你自动完成</c>

00:51:03.297 --> 00:51:07.701 align:middle
<c.magenta>在iOS 10中</c>
<c.magenta>AVCaptureSession有一个长的新属性</c>

00:51:07.935 --> 00:51:12.372 align:middle
<c.magenta>叫做automaticallyConfigures</c>
<c.magenta>CaptureDeviceForWideColor</c>

00:51:13.006 --> 00:51:15.342 align:middle
<c.magenta>它什么时候会为你选择宽色域呢</c>

00:51:16.510 --> 00:51:20.047 align:middle
<c.magenta>在iOS 10中</c>
<c.magenta>宽色域仅在摄影中使用</c>

00:51:20.781 --> 00:51:21.648 align:middle
<c.magenta>让我再说一遍</c>

00:51:22.349 --> 00:51:26.653 align:middle
<c.magenta>在iOS 10中 宽色域仅在</c>
<c.magenta>摄影中使用而不是摄像</c>

00:51:26.720 --> 00:51:27.988 align:middle
<c.magenta>我后面马上会解释为什么</c>

00:51:30.691 --> 00:51:33.493 align:middle
<c.magenta>会话会自动选择</c>

00:51:33.560 --> 00:51:37.531 align:middle
<c.magenta>是否为整个会话配置宽色域</c>

00:51:37.798 --> 00:51:41.301 align:middle
<c.magenta>它会代表你将你设备的</c>
<c.magenta>activeColorSpace设为</c>

00:51:41.502 --> 00:51:43.704 align:middle
<c.magenta>P3 这取决于你的设置</c>

00:51:44.271 --> 00:51:47.841 align:middle
<c.magenta>你要在你的会话中</c>
<c.magenta>加入一个PhotoOutput</c>

00:51:48.208 --> 00:51:51.411 align:middle
<c.magenta>如果你没有PhotoOutput</c>
<c.magenta>你就不能拍照了</c>

00:51:51.545 --> 00:51:52.713 align:middle
<c.magenta>那么你也不需宽色域</c>

00:51:54.114 --> 00:51:56.049 align:middle
<c.magenta>这里有些警示</c>

00:51:56.149 --> 00:51:58.785 align:middle
<c.magenta>如果你开始往你的会话加入其它输出</c>

00:51:59.019 --> 00:52:01.321 align:middle
<c.magenta>或许你想要做什么就不那么明显了</c>

00:51:59.019 --> 00:52:01.321 align:middle
<c.magenta>或许你想要做什么就不那么明显了</c>

00:52:02.189 --> 00:52:05.325 align:middle
<c.magenta>如果你加上了一个</c>
<c.magenta>AVCaptureVideoPreviewLayer</c>

00:52:05.392 --> 00:52:10.764 align:middle
<c.magenta>会话还是会给你</c>
<c.magenta>自动挑选Display P3</c>

00:52:11.098 --> 00:52:13.767 align:middle
<c.magenta>因为你就是在拍照同时做了预览</c>

00:52:14.268 --> 00:52:18.472 align:middle
<c.magenta>如果你有一个MovieFileOutput</c>
<c.magenta>和一个PhotoOutput 那就模糊了</c>

00:52:18.539 --> 00:52:20.340 align:middle
<c.magenta>你可能更关心影片</c>

00:52:20.574 --> 00:52:24.111 align:middle
<c.magenta>所以它就不会为你</c>
<c.magenta>自动挑选Display P3了</c>

00:52:24.611 --> 00:52:30.284 align:middle
<c.magenta>VideoDataOutput是个特殊的例子</c>
<c.magenta>我们通过一个回调函数将缓冲送达给你</c>

00:52:30.617 --> 00:52:33.287 align:middle
<c.magenta>在此session只会挑选</c>
<c.magenta>Display P3</c>

00:52:33.353 --> 00:52:35.355 align:middle
<c.magenta>如果你在用预设照片的话</c>

00:52:35.789 --> 00:52:37.491 align:middle
<c.magenta>它很确信如果你正在用</c>
<c.magenta>VideoDataOutput</c>

00:52:37.558 --> 00:52:40.761 align:middle
<c.magenta>就意味着你会利用这些显示缓冲来摄影</c>

00:52:42.196 --> 00:52:45.499 align:middle
<c.magenta>如果你非常想要的话</c>
<c.magenta>你可以强制拍照设备</c>

00:52:45.566 --> 00:52:47.634 align:middle
<c.magenta>来使用宽色域</c>
<c.magenta>下面是怎么实现的</c>

00:52:48.335 --> 00:52:52.039 align:middle
<c.magenta>首先你要告诉会话</c>
<c.magenta>不要自动帮我实现了</c>

00:52:52.206 --> 00:52:53.040 align:middle
<c.magenta>不要妨碍我</c>

00:52:54.041 --> 00:52:56.310 align:middle
<c.magenta>然后你要进入设备</c>

00:52:56.376 --> 00:52:59.847 align:middle
<c.magenta>自己将activeFormat</c>
<c.magenta>设为支持宽色域的格式</c>

00:53:00.113 --> 00:53:03.283 align:middle
<c.magenta>然后你要将</c>
<c.magenta>activeColorSpace设为P3</c>

00:53:04.451 --> 00:53:05.552 align:middle
<c.magenta>你做完了之后</c>

00:53:05.619 --> 00:53:10.424 align:middle
<c.magenta>宽色域buffer会流到</c>
<c.magenta>所有接受视频数据的输出</c>

00:53:10.524 --> 00:53:13.560 align:middle
<c.magenta>包括VideoDataOutput</c>
<c.magenta>MovieFileOutput</c>

00:53:13.627 --> 00:53:16.864 align:middle
<c.magenta>甚至是已经不推荐使用的</c>
<c.magenta>AVCaptureStillImageOutput</c>

00:53:18.432 --> 00:53:23.770 align:middle
<c.magenta>当你强制将设备的</c>
<c.magenta>activeColorSpace设为display P3后</c>

00:53:24.004 --> 00:53:26.406 align:middle
<c.magenta>我强烈建议你不要这么做</c>

00:53:26.473 --> 00:53:28.475 align:middle
<c.magenta>除非你明确知道自己在干什么</c>

00:53:29.543 --> 00:53:32.546 align:middle
<c.magenta>因为宽色域是给照片服务的</c>

00:53:32.713 --> 00:53:36.483 align:middle
<c.magenta>我们对于宽色域的照片支持</c>
<c.magenta>有着良好的生态系统</c>

00:53:36.850 --> 00:53:38.552 align:middle
<c.magenta>但是对于视频就不怎么样了</c>

00:53:39.186 --> 00:53:41.288 align:middle
<c.magenta>对于Display P3</c>
<c.magenta>内容的主要担忧</c>

00:53:41.355 --> 00:53:44.224 align:middle
<c.magenta>就在于用户必须是宽色域敏感的</c>

00:53:44.458 --> 00:53:46.693 align:middle
<c.magenta>否则你的内容将会以sRGB渲染</c>

00:53:46.760 --> 00:53:48.362 align:middle
<c.magenta>颜色看起来就会不对头</c>

00:53:48.762 --> 00:53:49.763 align:middle
<c.magenta>它们被渲染得很糟糕</c>

00:53:50.464 --> 00:53:53.300 align:middle
<c.magenta>大多数视频播放服务都不是色敏感的</c>

00:53:53.600 --> 00:53:58.338 align:middle
<c.magenta>所以如果你保存一个</c>
<c.magenta>宽Display P3影片的话</c>

00:53:58.572 --> 00:54:01.441 align:middle
<c.magenta>然后你试图用某个服务来播放它</c>

00:53:58.572 --> 00:54:01.441 align:middle
<c.magenta>然后你试图用某个服务来播放它</c>

00:54:01.775 --> 00:54:03.977 align:middle
<c.magenta>它很有可能会把颜色渲染错误</c>

00:54:05.112 --> 00:54:06.613 align:middle
<c.magenta>如果你选择这么做</c>

00:54:06.680 --> 00:54:09.650 align:middle
<c.magenta>确保你的VideoDataOutput</c>
<c.magenta>是色敏感的</c>

00:54:10.083 --> 00:54:11.618 align:middle
<c.magenta>它要传播颜色标签</c>

00:54:11.685 --> 00:54:14.288 align:middle
<c.magenta>它要是色敏感的</c>

00:54:15.389 --> 00:54:20.394 align:middle
<c.magenta>如果你选择用MovieFileOutput</c>
<c.magenta>来拍摄Display P3影片</c>

00:54:20.727 --> 00:54:24.331 align:middle
<c.magenta>注意它们可能在其他平台上</c>
<c.magenta>是错误渲染的</c>

00:54:25.165 --> 00:54:25.999 align:middle
<c.magenta>这里</c>

00:54:26.066 --> 00:54:28.368 align:middle
<c.magenta>我们确实允许这么做 因为我们意识到</c>

00:54:28.435 --> 00:54:32.906 align:middle
<c.magenta>其对于某些专业工作流是很重要的</c>

00:54:32.973 --> 00:54:35.342 align:middle
<c.magenta>也要能够制作宽色域影片</c>

00:54:36.476 --> 00:54:38.512 align:middle
<c.magenta>所以抛开警告不管</c>

00:54:38.879 --> 00:54:42.182 align:middle
<c.magenta>我可以告诉你我们对于照片</c>
<c.magenta>有个很好的解决方案</c>

00:54:42.316 --> 00:54:43.884 align:middle
<c.magenta>针对共享宽色域</c>

00:54:44.551 --> 00:54:48.789 align:middle
<c.magenta>我们应该注意到JPEG宽色域</c>
<c.magenta>是使用Display P3属性的</c>

00:54:49.122 --> 00:54:51.892 align:middle
<c.magenta>并且这些图片的用户也必须是色敏感的</c>

00:54:52.359 --> 00:54:56.430 align:middle
<c.magenta>好消息是通常照片服务</c>

00:54:56.563 --> 00:54:58.098 align:middle
<c.magenta>目前是色敏感的</c>

00:54:58.632 --> 00:55:00.501 align:middle
<c.magenta>iCloud照片库就是其中之一</c>

00:54:58.632 --> 00:55:00.501 align:middle
<c.magenta>iCloud照片库就是其中之一</c>

00:55:00.634 --> 00:55:04.171 align:middle
<c.magenta>它能智能的将你的照片</c>
<c.magenta>转换成sRGB格式</c>

00:55:04.271 --> 00:55:06.306 align:middle
<c.magenta>如果你的设备不支持宽色域的话</c>

00:55:06.940 --> 00:55:10.344 align:middle
<c.magenta>但仍会在cloud上</c>
<c.magenta>存储宽色域的照片</c>

00:55:11.745 --> 00:55:13.947 align:middle
<c.magenta>我们的业界目前也在转变</c>

00:55:14.014 --> 00:55:17.718 align:middle
<c.magenta>有些照片服务虽然不支持宽色域</c>

00:55:17.784 --> 00:55:22.289 align:middle
<c.magenta>但它们中绝大多数至少能将其</c>
<c.magenta>智能渲染成sRGB格式</c>

00:55:23.724 --> 00:55:25.292 align:middle
<c.magenta>对于混合共享的场景</c>

00:55:25.359 --> 00:55:28.662 align:middle
<c.magenta>像是通过信息或邮件来发送照片</c>

00:55:28.962 --> 00:55:30.063 align:middle
<c.magenta>你不知它被发送到哪</c>

00:55:30.130 --> 00:55:31.999 align:middle
<c.magenta>它可能会被发到多个设备</c>

00:55:32.432 --> 00:55:34.001 align:middle
<c.magenta>其中有些可能支持宽色域</c>

00:55:34.067 --> 00:55:34.935 align:middle
<c.magenta>有些则不支持</c>

00:55:35.169 --> 00:55:39.706 align:middle
<c.magenta>对于这种情况</c>
<c.magenta>我们要加上一个新的服务</c>

00:55:39.773 --> 00:55:42.543 align:middle
<c.magenta>叫做</c>
<c.magenta>Apple Wide Color Sharing Profile</c>

00:55:42.976 --> 00:55:47.915 align:middle
<c.magenta>你的内容将以一种方式被处理</c>

00:55:47.981 --> 00:55:52.920 align:middle
<c.magenta>我们会生成一个内容为准则</c>
<c.magenta>表格形式的ICC资料</c>

00:55:53.220 --> 00:55:56.557 align:middle
<c.magenta>对应那张JPEG照片</c>

00:55:57.291 --> 00:56:00.427 align:middle
<c.magenta>其好处就在于 如果它被某人渲染</c>

00:55:57.291 --> 00:56:00.427 align:middle
<c.magenta>其好处就在于 如果它被某人渲染</c>

00:56:00.494 --> 00:56:01.962 align:middle
<c.magenta>而这个人不了解宽色域</c>

00:56:02.029 --> 00:56:05.532 align:middle
<c.magenta>那么在sRGB色域内的部分</c>
<c.magenta>肯定能被正确渲染</c>

00:56:05.999 --> 00:56:11.004 align:middle
<c.magenta>额外的信息会被放到</c>
<c.magenta>一个额外的ICC资料中</c>

00:56:11.071 --> 00:56:14.107 align:middle
<c.magenta>它们可以将宽色域信息恢复</c>

00:56:14.174 --> 00:56:15.976 align:middle
<c.magenta>到最小的质量损失程度</c>

00:56:17.377 --> 00:56:20.314 align:middle
<c.magenta>你可以学到更多有关</c>
<c.magenta>如何共享宽色域内容</c>

00:56:20.647 --> 00:56:24.251 align:middle
<c.magenta>在505和702会话中</c>

00:56:24.318 --> 00:56:25.586 align:middle
<c.magenta>它们都是在周四</c>

00:56:25.919 --> 00:56:28.155 align:middle
<c.magenta>第一个我已经提到三遍了</c>

00:56:28.822 --> 00:56:31.225 align:middle
<c.magenta>关于宽色域的那个也是个不错的会话</c>

00:56:33.193 --> 00:56:34.928 align:middle
<c.magenta>在9.7寸iPad Pro上</c>

00:56:35.028 --> 00:56:38.232 align:middle
<c.magenta>AVCapturePhotoOutput</c>
<c.magenta>广泛支持宽色域</c>

00:56:38.632 --> 00:56:44.438 align:middle
<c.magenta>它在420f BGRA和JPEG中都支持</c>
<c.magenta>不仅仅是420v</c>

00:56:44.505 --> 00:56:49.743 align:middle
<c.magenta>如果你的会话</c>
<c.magenta>配置了Display P3</c>

00:56:49.810 --> 00:56:51.979 align:middle
<c.magenta>但是然后你说你想要420v的照片</c>

00:56:52.246 --> 00:56:54.515 align:middle
<c.magenta>它会被转换为sRGB格式</c>

00:56:56.149 --> 00:56:59.152 align:middle
<c.magenta>Live Photos支持宽色域</c>

00:56:59.319 --> 00:57:01.054 align:middle
<c.magenta>静态和影片部分都支持</c>

00:56:59.319 --> 00:57:01.054 align:middle
<c.magenta>静态和影片部分都支持</c>

00:57:01.221 --> 00:57:03.690 align:middle
<c.magenta>这是特殊的影片</c>
<c.magenta>这是Apple生态系统的一部分</c>

00:57:03.757 --> 00:57:05.492 align:middle
<c.magenta>因此那些都会是支持宽色域的</c>

00:57:06.894 --> 00:57:09.830 align:middle
<c.magenta>包围曝光拍摄也是支持宽色域的</c>

00:57:12.432 --> 00:57:14.101 align:middle
<c.magenta>有趣的是</c>

00:57:14.501 --> 00:57:17.671 align:middle
<c.magenta>我一直在说iPad Pro</c>

00:57:18.305 --> 00:57:19.973 align:middle
<c.magenta>我们支持RAW格式</c>

00:57:20.507 --> 00:57:24.411 align:middle
<c.magenta>RAW拍摄本身就是宽色域的</c>

00:57:24.745 --> 00:57:27.481 align:middle
<c.magenta>因为它有所有那些额外的比特信息</c>

00:57:27.981 --> 00:57:29.917 align:middle
<c.magenta>我们将其保存在传感器基元中</c>

00:57:30.417 --> 00:57:36.957 align:middle
<c.magenta>并且它也有足够的颜色信息</c>
<c.magenta>来被渲染成宽色域或是sRGB</c>

00:57:37.024 --> 00:57:39.993 align:middle
<c.magenta>再说一下 如果你随身带着原料的话</c>

00:57:40.060 --> 00:57:43.764 align:middle
<c.magenta>你能随时决定你是想渲染成</c>
<c.magenta>宽色域还是sRGB</c>

00:57:44.198 --> 00:57:46.667 align:middle
<c.magenta>因此拍摄RAW照片并后期渲染</c>

00:57:47.034 --> 00:57:52.206 align:middle
<c.magenta>可在许多iOS设备上生成宽色域内容</c>
<c.magenta>而不仅是在iPad Pro上</c>

00:57:55.075 --> 00:57:59.346 align:middle
<c.magenta>你可以学会更多有关宽色域的知识</c>

00:57:59.413 --> 00:58:01.915 align:middle
<c.magenta>不光是共享还有别的</c>

00:57:59.413 --> 00:58:01.915 align:middle
<c.magenta>不光是共享还有别的</c>

00:58:01.982 --> 00:58:05.919 align:middle
<c.magenta>最好的学习宽色域的会话是在周四下午</c>

00:58:07.955 --> 00:58:11.592 align:middle
<c.magenta>使用AVCapturePhotoOutput</c>
<c.magenta>来改善可用性</c>

00:58:12.626 --> 00:58:14.795 align:middle
<c.magenta>我们今天谈论了四个主要特性</c>

00:58:14.862 --> 00:58:17.397 align:middle
<c.magenta>我们讨论了在你的应用中</c>
<c.magenta>拍摄Live Photos</c>

00:58:17.831 --> 00:58:21.268 align:middle
<c.magenta>RAW RAW + JPEG DNG</c>

00:58:22.503 --> 00:58:24.972 align:middle
<c.magenta>用来更快渲染的小预览图</c>

00:58:25.672 --> 00:58:27.341 align:middle
<c.magenta>还有宽色域照片</c>

00:58:28.876 --> 00:58:31.912 align:middle
<c.magenta>一个小时真的不够啊</c>

00:58:31.979 --> 00:58:33.514 align:middle
<c.magenta>想要涵盖要讲的内容太短了</c>

00:58:33.580 --> 00:58:36.183 align:middle
<c.magenta>因此我们对于这个会话做了一个补充</c>

00:58:36.250 --> 00:58:37.684 align:middle
<c.magenta>它已经录制完了</c>

00:58:37.751 --> 00:58:39.152 align:middle
<c.magenta>现在已经放到网上了</c>

00:58:39.786 --> 00:58:42.923 align:middle
<c.magenta>它是一个包含语音的幻灯片</c>
<c.magenta>我们把它叫做Chalk Talk</c>

00:58:43.991 --> 00:58:47.995 align:middle
<c.magenta>它为你讲述了</c>
<c.magenta>我们没时间讲的深入的主题</c>

00:58:48.262 --> 00:58:51.131 align:middle
<c.magenta>AVCapturePhotoOutput</c>
<c.magenta>中的场景监控</c>

00:58:51.632 --> 00:58:54.101 align:middle
<c.magenta>资源准备和回收</c>

00:58:54.801 --> 00:58:56.303 align:middle
<c.magenta>然后是一个不相关的话题</c>

00:58:56.570 --> 00:58:59.907 align:middle
<c.magenta>iOS 10中相机隐私政策的变动</c>

00:58:59.973 --> 00:59:02.743 align:middle
<c.magenta>请看下那个视频</c>
<c.magenta>它大概20分钟长</c>

00:58:59.973 --> 00:59:02.743 align:middle
<c.magenta>请看下那个视频</c>
<c.magenta>它大概20分钟长</c>

00:59:04.344 --> 00:59:05.379 align:middle
<c.magenta>有着更多的信息</c>

00:59:05.445 --> 00:59:07.748 align:middle
<c.magenta>501结尾你要记住</c>

00:59:07.814 --> 00:59:11.585 align:middle
<c.magenta>你会发现那个视频</c>
<c.magenta>有七段示例代码</c>

00:59:11.652 --> 00:59:14.855 align:middle
<c.magenta>还有</c>
<c.magenta>AVCapturePhotoOutput的新文档</c>

00:59:15.055 --> 00:59:19.092 align:middle
<c.magenta>文档编写人员真的很努力工作</c>
<c.magenta>他们写的文档真的不错</c>

00:59:20.394 --> 00:59:22.796 align:middle
<c.magenta>再次提醒一下这是相关的会话</c>

00:59:23.430 --> 00:59:25.365 align:middle
<c.magenta>这个是Chalk Talk</c>

00:59:25.432 --> 00:59:28.602 align:middle
<c.magenta>关于AVCapturePhotoOutput</c>
<c.magenta>的延伸知识</c>

00:59:29.036 --> 00:59:30.470 align:middle
<c.magenta>你什么时候想看都行</c>

00:59:31.238 --> 00:59:33.707 align:middle
<c.magenta>好了 好好享受下之后的演说</c>
<c.magenta>感谢你们的到来</c>
