WEBVTT

00:00:22.516 --> 00:00:28.126 A:middle
[掌声]

00:00:28.626 --> 00:00:29.476 A:middle
&gt;&gt; 大家早上好

00:00:30.516 --> 00:00:32.256 A:middle
欢迎来到 206 号会议

00:00:32.336 --> 00:00:34.216 A:middle
“Introducing 密码自动填充 for App

00:00:34.216 --> 00:00:34.866 A:middle
（App 中的密码自动填充）”

00:00:35.596 --> 00:00:37.276 A:middle
我是 Ricky Mondello

00:00:37.706 --> 00:00:39.246 A:middle
我非常高兴能

00:00:39.246 --> 00:00:40.376 A:middle
为大家讲解

00:00:40.376 --> 00:00:43.166 A:middle
iOS 11 的全新功能 密码自动填充

00:00:43.166 --> 00:00:45.476 A:middle
它能够把你的用户

00:00:45.476 --> 00:00:47.146 A:middle
存储在 Safari 和

00:00:47.146 --> 00:00:49.486 A:middle
iCloud 钥匙串中的密码

00:00:50.196 --> 00:00:51.826 A:middle
直接填写到你的 App

00:00:51.826 --> 00:00:53.766 A:middle
内部的键盘中

00:00:54.026 --> 00:00:54.816 A:middle
让登录变的超简单

00:00:56.536 --> 00:00:58.606 A:middle
我们设计密码自动填充

00:00:58.916 --> 00:01:00.196 A:middle
是因为在 App 中登录

00:00:58.916 --> 00:01:00.196 A:middle
是因为在 App 中登录

00:01:00.196 --> 00:01:00.436 A:middle
非常麻烦

00:01:01.296 --> 00:01:02.276 A:middle
这很让人头疼

00:01:03.286 --> 00:01:05.236 A:middle
就我个人而言

00:01:05.236 --> 00:01:06.826 A:middle
如果我从 App Store 里下载了一个新 App

00:01:06.876 --> 00:01:07.986 A:middle
看到登录页面

00:01:08.736 --> 00:01:10.276 A:middle
有时候我就会

00:01:10.276 --> 00:01:12.056 A:middle
回到 Safari 上面

00:01:12.056 --> 00:01:13.146 A:middle
因为我知道我已经在这个 App 的网站上

00:01:13.146 --> 00:01:13.946 A:middle
登录过

00:01:14.796 --> 00:01:16.216 A:middle
除了这种不方便

00:01:16.216 --> 00:01:18.576 A:middle
很多人还经历过

00:01:18.576 --> 00:01:19.646 A:middle
处理密码相关的问题

00:01:19.646 --> 00:01:21.516 A:middle
而带来的挫败感甚至是

00:01:21.516 --> 00:01:23.586 A:middle
恐慌

00:01:24.966 --> 00:01:26.846 A:middle
实际情况是

00:01:26.846 --> 00:01:29.226 A:middle
尽管在 App 上登录是非常重要的

00:01:29.226 --> 00:01:30.926 A:middle
但它所造成的不便和困扰

00:01:30.926 --> 00:01:32.316 A:middle
会让用户选择

00:01:32.316 --> 00:01:33.866 A:middle
放弃这个 App

00:01:33.866 --> 00:01:34.876 A:middle
我们可不想看到

00:01:34.876 --> 00:01:35.246 A:middle
这种情况

00:01:35.396 --> 00:01:36.496 A:middle
你做出了这么好的 App

00:01:36.846 --> 00:01:38.696 A:middle
我们想让用户使用它们

00:01:39.206 --> 00:01:42.416 A:middle
幸好 在 iOS 11 里的

00:01:42.416 --> 00:01:43.306 A:middle
密码自动填充可以解决这个问题

00:01:44.306 --> 00:01:44.896 A:middle
我来解释一下

00:01:45.426 --> 00:01:50.176 A:middle
iOS 和 macOS

00:01:50.176 --> 00:01:51.316 A:middle
有一个内置的密码管理系统

00:01:51.426 --> 00:01:52.736 A:middle
集成在 Safari 上面

00:01:53.986 --> 00:01:55.146 A:middle
你们可能

00:01:55.146 --> 00:01:55.546 A:middle
之前见过

00:01:56.076 --> 00:01:58.316 A:middle
你登录一个网站的时候

00:01:58.316 --> 00:02:00.226 A:middle
它就会问你要不要存储

00:01:58.316 --> 00:02:00.226 A:middle
它就会问你要不要存储

00:02:00.226 --> 00:02:00.906 A:middle
密码

00:02:01.436 --> 00:02:03.906 A:middle
下次你回到

00:02:03.906 --> 00:02:06.106 A:middle
这个网站上

00:02:06.106 --> 00:02:07.826 A:middle
它就会自动替你填充密码

00:02:07.826 --> 00:02:09.876 A:middle
让登录变的非常简单

00:02:10.675 --> 00:02:11.796 A:middle
我希望你们知道

00:02:11.796 --> 00:02:13.456 A:middle
Safari 把用户密码的

00:02:13.456 --> 00:02:14.926 A:middle
安全性看得极其

00:02:14.926 --> 00:02:15.496 A:middle
重要

00:02:16.556 --> 00:02:18.136 A:middle
如果用户在你的网站上

00:02:18.136 --> 00:02:20.436 A:middle
存储了一个密码

00:02:20.436 --> 00:02:22.326 A:middle
Safari 就只在你的网站上

00:02:22.326 --> 00:02:22.996 A:middle
填充这个密码

00:02:24.076 --> 00:02:25.716 A:middle
你网站的密码绝不会

00:02:25.716 --> 00:02:26.886 A:middle
被泄露在其他

00:02:26.886 --> 00:02:27.476 A:middle
网站上

00:02:28.006 --> 00:02:31.106 A:middle
当然 如果用户希望

00:02:31.106 --> 00:02:32.096 A:middle
在设备上查找某个密码

00:02:32.096 --> 00:02:34.896 A:middle
那就需要认证

00:02:34.896 --> 00:02:36.136 A:middle
才能查看

00:02:36.136 --> 00:02:38.056 A:middle
使用 Touch ID 或者

00:02:38.056 --> 00:02:40.146 A:middle
或者使用密码

00:02:40.816 --> 00:02:43.236 A:middle
总而言之 iOS 能保证

00:02:43.236 --> 00:02:45.216 A:middle
这些密码在设备上的安全

00:02:46.476 --> 00:02:49.346 A:middle
当然 iOS 会用 iCloud 钥匙串

00:02:49.346 --> 00:02:50.906 A:middle
在同一用户的所有设备上

00:02:50.906 --> 00:02:52.916 A:middle
同步这些密码

00:02:53.666 --> 00:02:54.946 A:middle
这会让不同设备登录

00:02:54.946 --> 00:02:56.846 A:middle
变得超级简单

00:02:57.286 --> 00:03:00.306 A:middle
同样也是安全的

00:02:57.286 --> 00:03:00.306 A:middle
同样也是安全的

00:03:01.356 --> 00:03:02.446 A:middle
实际上

00:03:02.446 --> 00:03:04.216 A:middle
我们在 Apple.com 上

00:03:04.216 --> 00:03:06.296 A:middle
有一个白皮书

00:03:06.296 --> 00:03:08.036 A:middle
描述了 iCloud 钥匙串的

00:03:08.086 --> 00:03:08.476 A:middle
安全模型

00:03:09.016 --> 00:03:10.316 A:middle
上面非常详细地

00:03:10.316 --> 00:03:12.596 A:middle
讲述了 Apple 在看不到

00:03:13.366 --> 00:03:14.936 A:middle
用户同步密码的情况下

00:03:14.936 --> 00:03:17.986 A:middle
是如何让它们仍然

00:03:17.986 --> 00:03:19.496 A:middle
可以出现在

00:03:19.496 --> 00:03:19.996 A:middle
不同设备上

00:03:22.696 --> 00:03:24.666 A:middle
Safari 的自动填充与 iCloud 钥匙串

00:03:24.666 --> 00:03:26.486 A:middle
直接内置在

00:03:26.486 --> 00:03:27.486 A:middle
iOS 和 macOS 里面

00:03:28.336 --> 00:03:30.266 A:middle
Safari 自动填充对所有用户

00:03:30.266 --> 00:03:32.036 A:middle
都是默认开启的

00:03:32.566 --> 00:03:33.986 A:middle
每一个用户在

00:03:33.986 --> 00:03:37.016 A:middle
设置新设备时都会被询问

00:03:37.016 --> 00:03:38.176 A:middle
是否要使用 iCloud 钥匙串

00:03:39.456 --> 00:03:41.656 A:middle
这些功能是非常

00:03:41.656 --> 00:03:42.146 A:middle
受欢迎的

00:03:42.776 --> 00:03:43.986 A:middle
很多用户都把

00:03:44.036 --> 00:03:45.376 A:middle
密码存储在

00:03:45.376 --> 00:03:46.806 A:middle
iCloud 钥匙串和 Safari 自动填充里

00:03:47.926 --> 00:03:50.526 A:middle
iOS 11 的不同之处在于

00:03:50.526 --> 00:03:52.076 A:middle
让这些已经存储在钥匙串里的

00:03:52.076 --> 00:03:54.136 A:middle
密码也能被用于

00:03:54.136 --> 00:03:55.716 A:middle
你 App 内的

00:03:56.106 --> 00:03:57.176 A:middle
键盘上

00:03:57.896 --> 00:03:58.756 A:middle
我想了解这个功能的

00:03:58.756 --> 00:04:00.036 A:middle
最好方式就是眼见为实

00:03:58.756 --> 00:04:00.036 A:middle
最好方式就是眼见为实

00:04:00.686 --> 00:04:05.000 A:middle
我们一起看一个演示

00:04:10.436 --> 00:04:12.566 A:middle
这里展示的是 Shiny

00:04:12.566 --> 00:04:14.256 A:middle
这是一个演示 App

00:04:14.386 --> 00:04:15.956 A:middle
这是我个人最喜欢的

00:04:15.956 --> 00:04:17.926 A:middle
用于登录演示的 App

00:04:17.926 --> 00:04:19.106 A:middle
在它上面

00:04:19.106 --> 00:04:20.216 A:middle
每天都可以看到

00:04:20.216 --> 00:04:20.426 A:middle
一幅美妙的图片

00:04:20.426 --> 00:04:22.366 A:middle
我现在要打开

00:04:22.366 --> 00:04:22.616 A:middle
这个 App

00:04:23.326 --> 00:04:25.096 A:middle
这是一个很标准的

00:04:25.096 --> 00:04:26.516 A:middle
登录页面 和你们的很多 App 一样

00:04:26.516 --> 00:04:28.246 A:middle
有用户名栏

00:04:28.246 --> 00:04:28.986 A:middle
和密码栏

00:04:30.116 --> 00:04:31.366 A:middle
像每一个用户一样

00:04:31.366 --> 00:04:32.856 A:middle
我会点按

00:04:32.856 --> 00:04:33.196 A:middle
用户名栏

00:04:33.696 --> 00:04:35.486 A:middle
你首先注意到的

00:04:35.486 --> 00:04:37.386 A:middle
可能就是在键盘上方

00:04:37.386 --> 00:04:38.966 A:middle
这里有一个

00:04:39.576 --> 00:04:40.506 A:middle
QuickType 栏

00:04:41.096 --> 00:04:42.076 A:middle
这个 QuickType 栏

00:04:42.076 --> 00:04:44.396 A:middle
就为我提供了 Shiny 网站

00:04:44.396 --> 00:04:45.366 A:middle
上面的密码

00:04:45.836 --> 00:04:47.796 A:middle
只需点按一下

00:04:47.796 --> 00:04:48.666 A:middle
就自动填上了

00:04:49.286 --> 00:04:51.666 A:middle
再点一下

00:04:51.666 --> 00:04:51.866 A:middle
就登录成功了

00:04:52.916 --> 00:04:55.106 A:middle
这小狗真可爱 如果满分 10 分的话

00:04:55.816 --> 00:04:57.176 A:middle
我要给 13 分

00:04:57.366 --> 00:04:58.576 A:middle
再来一遍

00:04:58.576 --> 00:04:59.496 A:middle
这很快就完成了

00:05:00.166 --> 00:05:01.336 A:middle
这次我碰巧点到了

00:05:01.336 --> 00:05:02.916 A:middle
密码栏

00:05:03.456 --> 00:05:04.636 A:middle
效果是一样的

00:05:05.176 --> 00:05:06.596 A:middle
点一下 再点一下

00:05:07.436 --> 00:05:08.196 A:middle
登录成功

00:05:08.986 --> 00:05:09.736 A:middle
又有一条乖狗狗出现了

00:05:09.736 --> 00:05:13.926 A:middle
在展示的时候

00:05:13.926 --> 00:05:16.136 A:middle
我还想指出一点

00:05:16.136 --> 00:05:18.406 A:middle
就是刚才提到的

00:05:18.406 --> 00:05:20.096 A:middle
iOS 极其重视密码的

00:05:20.096 --> 00:05:20.656 A:middle
安全性

00:05:22.016 --> 00:05:23.216 A:middle
所以要注意

00:05:23.216 --> 00:05:26.156 A:middle
iOS 不是去猜测

00:05:26.156 --> 00:05:28.676 A:middle
shiny.example.com

00:05:28.676 --> 00:05:29.306 A:middle
是 Shiny 这个 App 的官网

00:05:30.066 --> 00:05:32.326 A:middle
在这个 App 和这个网站之间

00:05:32.326 --> 00:05:34.156 A:middle
有一个安全的强双向联系

00:05:34.156 --> 00:05:36.266 A:middle
让 iOS 能够

00:05:36.266 --> 00:05:37.756 A:middle
使用户需要的

00:05:37.756 --> 00:05:38.736 A:middle
那个用户名和密码

00:05:39.106 --> 00:05:40.086 A:middle
出现在 QuickType 栏里

00:05:40.206 --> 00:05:41.416 A:middle
好

00:05:41.786 --> 00:05:44.000 A:middle
咱们往回看一下

00:05:50.126 --> 00:05:52.786 A:middle
大家刚才看到 iOS 11

00:05:52.786 --> 00:05:54.446 A:middle
把我登录 Shiny 所需的密码

00:05:54.446 --> 00:05:56.336 A:middle
直接填在了

00:05:56.336 --> 00:05:57.326 A:middle
键盘上方的 QuickType 栏里

00:05:57.326 --> 00:05:59.396 A:middle
这让登录变的简单

00:05:59.396 --> 00:06:00.816 A:middle
只需点按两下

00:05:59.396 --> 00:06:00.816 A:middle
只需点按两下

00:06:01.596 --> 00:06:03.896 A:middle
现在 我再也不需要

00:06:03.896 --> 00:06:05.386 A:middle
离开 App 回到 Safari

00:06:05.466 --> 00:06:06.546 A:middle
就是刚才已经登录过的网页了

00:06:07.106 --> 00:06:08.496 A:middle
登录到 App 上面

00:06:09.236 --> 00:06:11.086 A:middle
就这么简单

00:06:11.346 --> 00:06:12.146 A:middle
快速举手回答

00:06:13.006 --> 00:06:14.396 A:middle
多少人的 App 里

00:06:14.396 --> 00:06:15.546 A:middle
有这样的页面

00:06:15.546 --> 00:06:16.626 A:middle
需要输入用户名

00:06:16.626 --> 00:06:17.276 A:middle
和密码的

00:06:18.636 --> 00:06:19.056 A:middle
好的

00:06:19.296 --> 00:06:20.146 A:middle
看来人数不少

00:06:20.146 --> 00:06:21.016 A:middle
你们都

00:06:21.016 --> 00:06:21.396 A:middle
来对地方了

00:06:22.226 --> 00:06:23.966 A:middle
请再举一下手

00:06:25.396 --> 00:06:27.426 A:middle
在这些 App 中 有多少是

00:06:27.426 --> 00:06:28.786 A:middle
登录到你自己的后端

00:06:28.786 --> 00:06:30.416 A:middle
而不是到一个

00:06:30.416 --> 00:06:31.526 A:middle
第三方服务平台上面的

00:06:32.726 --> 00:06:33.296 A:middle
好

00:06:33.296 --> 00:06:33.906 A:middle
人数也不少

00:06:34.926 --> 00:06:36.146 A:middle
对于那些

00:06:36.146 --> 00:06:37.446 A:middle
举了两次手的人来说

00:06:37.776 --> 00:06:38.956 A:middle
我这个演讲的

00:06:38.956 --> 00:06:39.696 A:middle
大部分内容都是

00:06:39.696 --> 00:06:40.326 A:middle
为你们准备的

00:06:41.346 --> 00:06:42.256 A:middle
如果你登录到

00:06:42.256 --> 00:06:43.656 A:middle
第三方服务平台 比如

00:06:43.656 --> 00:06:44.576 A:middle
社交网络

00:06:44.756 --> 00:06:45.826 A:middle
那么我在这场演讲的最后

00:06:45.826 --> 00:06:45.976 A:middle
准备了一些内容给你们

00:06:51.306 --> 00:06:53.216 A:middle
我们希望密码自动填充

00:06:53.216 --> 00:06:54.816 A:middle
能够应用到

00:06:54.816 --> 00:06:55.306 A:middle
尽可能多的 App 上

00:06:56.076 --> 00:06:58.096 A:middle
我们在 iOS 里内置了启发式算法

00:06:58.836 --> 00:07:00.456 A:middle
这会让密码自动填充

00:06:58.836 --> 00:07:00.456 A:middle
这会让密码自动填充

00:07:00.456 --> 00:07:02.626 A:middle
的一些工作

00:07:02.626 --> 00:07:04.236 A:middle
在很多 App 上面自动进行

00:07:04.236 --> 00:07:05.626 A:middle
无须你改动

00:07:05.626 --> 00:07:05.986 A:middle
任何东西

00:07:07.426 --> 00:07:09.486 A:middle
然而 要是想让用户

00:07:09.486 --> 00:07:11.266 A:middle
得到最佳体验

00:07:11.266 --> 00:07:13.216 A:middle
让最正确的个人认证信息

00:07:13.216 --> 00:07:15.666 A:middle
出现在 QuickType 栏

00:07:15.666 --> 00:07:16.456 A:middle
我们还需要你们的

00:07:16.456 --> 00:07:16.786 A:middle
一点帮助

00:07:16.816 --> 00:07:18.916 A:middle
本次会议接下来的时间

00:07:18.916 --> 00:07:20.606 A:middle
我们要集中讲解一下

00:07:20.606 --> 00:07:22.586 A:middle
如何保证你们的 App

00:07:22.586 --> 00:07:24.256 A:middle
也能获得刚才在 Shiny 上看到的

00:07:24.256 --> 00:07:25.636 A:middle
一样的效果

00:07:25.846 --> 00:07:27.426 A:middle
要做到这一点

00:07:27.426 --> 00:07:28.276 A:middle
我们来看这些主题

00:07:30.696 --> 00:07:32.706 A:middle
第一个主题讲的是

00:07:32.706 --> 00:07:34.666 A:middle
如何让 QuickType 栏

00:07:34.666 --> 00:07:36.366 A:middle
出现在你的 App 的

00:07:36.366 --> 00:07:37.576 A:middle
用户名和密码栏内

00:07:38.026 --> 00:07:40.026 A:middle
第二个主题讲的是

00:07:40.026 --> 00:07:41.276 A:middle
如何保证在 App 中

00:07:41.326 --> 00:07:42.186 A:middle
合适的位置填入密码

00:07:42.296 --> 00:07:44.126 A:middle
并让你的 App 在用户

00:07:44.126 --> 00:07:45.366 A:middle
点按一个选项后

00:07:45.366 --> 00:07:45.936 A:middle
正常运行起来

00:07:47.196 --> 00:07:48.846 A:middle
然后 我们会讲到如何

00:07:48.846 --> 00:07:50.296 A:middle
保证你的用户需要的

00:07:50.296 --> 00:07:51.536 A:middle
个人用户名和密码信息

00:07:51.536 --> 00:07:53.056 A:middle
也就是你网站上的信息

00:07:53.056 --> 00:07:54.796 A:middle
会准确地出现在

00:07:54.796 --> 00:07:55.996 A:middle
QuickType 栏的

00:07:56.026 --> 00:07:56.226 A:middle
左手边

00:07:56.346 --> 00:07:58.906 A:middle
最后我们会回来

00:07:58.906 --> 00:08:00.086 A:middle
再说一说

00:07:58.906 --> 00:08:00.086 A:middle
再说一说

00:08:00.086 --> 00:08:01.596 A:middle
对第三方服务的认证

00:08:01.596 --> 00:08:03.746 A:middle
也就是区别于你的 App

00:08:03.746 --> 00:08:05.546 A:middle
的服务

00:08:06.616 --> 00:08:08.646 A:middle
咱们先来讲一讲

00:08:08.646 --> 00:08:10.046 A:middle
如何让 QuickType 栏

00:08:10.046 --> 00:08:10.256 A:middle
出现

00:08:12.596 --> 00:08:13.896 A:middle
首先要知道

00:08:13.896 --> 00:08:15.196 A:middle
关于让 QuickType 栏出现的情况

00:08:15.716 --> 00:08:17.326 A:middle
只有在你的 iOS 设备上

00:08:17.326 --> 00:08:19.906 A:middle
至少有一个存储的密码的情况下

00:08:19.906 --> 00:08:21.076 A:middle
QuickType 栏才会出现

00:08:21.736 --> 00:08:22.816 A:middle
如果根本没有密码

00:08:22.816 --> 00:08:23.996 A:middle
我们当然也就不需要

00:08:23.996 --> 00:08:24.836 A:middle
密码自动填充了

00:08:28.126 --> 00:08:29.926 A:middle
第二件事

00:08:29.926 --> 00:08:32.986 A:middle
UITextView 和 UITextField

00:08:32.986 --> 00:08:34.486 A:middle
是自动为

00:08:34.486 --> 00:08:36.275 A:middle
Password 自动填充

00:08:36.275 --> 00:08:36.716 A:middle
准备的

00:08:38.015 --> 00:08:39.716 A:middle
所以 如果你们已经在 UIKit 里

00:08:39.716 --> 00:08:41.586 A:middle
用到这些标准控制

00:08:42.056 --> 00:08:43.166 A:middle
那就已经有一个很好的

00:08:43.166 --> 00:08:43.576 A:middle
开始了

00:08:44.976 --> 00:08:47.096 A:middle
如果你是使用

00:08:47.096 --> 00:08:48.816 A:middle
自己的文本栏

00:08:48.816 --> 00:08:49.096 A:middle
那也不用担心

00:08:49.606 --> 00:08:51.126 A:middle
如果你的文本栏符合

00:08:51.126 --> 00:08:53.666 A:middle
UITextInput 那么它

00:08:53.666 --> 00:08:54.636 A:middle
也适用于密码自动填充

00:08:55.206 --> 00:08:57.686 A:middle
我之前提到过这一点

00:08:57.786 --> 00:08:59.126 A:middle
iOS 会使用

00:08:59.126 --> 00:09:01.476 A:middle
启发式算法来决定

00:08:59.126 --> 00:09:01.476 A:middle
启发式算法来决定

00:09:01.476 --> 00:09:03.386 A:middle
在你的用户名和密码

00:09:03.386 --> 00:09:04.506 A:middle
栏中启动

00:09:04.506 --> 00:09:04.946 A:middle
QuickType 栏

00:09:06.336 --> 00:09:09.176 A:middle
iOS 的启发式算法

00:09:09.176 --> 00:09:09.516 A:middle
非常棒

00:09:10.046 --> 00:09:11.816 A:middle
但我们要做的是

00:09:11.816 --> 00:09:14.636 A:middle
保证你的 App 具有

00:09:14.636 --> 00:09:15.596 A:middle
密码自动填充功能

00:09:16.146 --> 00:09:17.616 A:middle
我们能够保证

00:09:17.616 --> 00:09:20.076 A:middle
能让你告诉 iOS

00:09:20.076 --> 00:09:21.056 A:middle
哪里是用户名栏

00:09:21.056 --> 00:09:22.516 A:middle
哪里是

00:09:22.516 --> 00:09:22.796 A:middle
密码栏

00:09:23.396 --> 00:09:25.136 A:middle
我们实现的方法

00:09:26.076 --> 00:09:28.126 A:middle
就是通过 UITextContentType

00:09:28.496 --> 00:09:30.466 A:middle
在文本栏中设置一个

00:09:30.466 --> 00:09:30.976 A:middle
内容类型

00:09:33.496 --> 00:09:36.006 A:middle
在 iOS 10 中 UITextContentType 是被作为

00:09:36.006 --> 00:09:37.896 A:middle
UITextInputTraits 协议的

00:09:37.896 --> 00:09:40.216 A:middle
一项可选属性

00:09:40.356 --> 00:09:42.526 A:middle
出现的

00:09:42.526 --> 00:09:43.906 A:middle
iOS 能用它

00:09:43.906 --> 00:09:45.436 A:middle
更好地理解

00:09:45.436 --> 00:09:46.696 A:middle
你的文本栏中的

00:09:46.696 --> 00:09:47.116 A:middle
信息

00:09:48.246 --> 00:09:50.056 A:middle
你可以想象 iOS

00:09:50.056 --> 00:09:51.076 A:middle
能够提供一个不同的

00:09:51.076 --> 00:09:52.666 A:middle
且更好的键盘

00:09:52.666 --> 00:09:54.406 A:middle
或者自动更正功能 就像它知道

00:09:54.406 --> 00:09:55.576 A:middle
用户是在输入

00:09:55.576 --> 00:09:58.416 A:middle
邮件地址还是

00:09:58.416 --> 00:09:58.696 A:middle
他们的名字一样

00:09:58.696 --> 00:10:01.566 A:middle
这里是 iOS 10 提供的

00:09:58.696 --> 00:10:01.566 A:middle
这里是 iOS 10 提供的

00:10:01.566 --> 00:10:03.896 A:middle
文本内容类型

00:10:03.896 --> 00:10:04.806 A:middle
大家都见过

00:10:08.036 --> 00:10:09.616 A:middle
你们可能都猜到了

00:10:09.616 --> 00:10:12.046 A:middle
在 iOS 11 中有两个新的

00:10:12.046 --> 00:10:13.956 A:middle
文本内容类型 也就是用户名和

00:10:13.956 --> 00:10:15.416 A:middle
密码 你可以把它们

00:10:15.416 --> 00:10:16.546 A:middle
标记在你的栏上

00:10:18.336 --> 00:10:20.526 A:middle
为了保证密码自动填充

00:10:20.526 --> 00:10:22.036 A:middle
在你的 App 中顺利工作

00:10:22.036 --> 00:10:23.706 A:middle
我们需要用到

00:10:23.706 --> 00:10:25.166 A:middle
UITextContentType

00:10:25.896 --> 00:10:27.386 A:middle
这就是我们用来保证

00:10:27.386 --> 00:10:28.396 A:middle
密码自动填充在 App 里

00:10:28.396 --> 00:10:30.276 A:middle
能够顺利工作的利器

00:10:30.436 --> 00:10:31.996 A:middle
你可以在代码内部

00:10:32.206 --> 00:10:32.936 A:middle
设置文本内容类型

00:10:33.656 --> 00:10:35.166 A:middle
或者使用接口构建器

00:10:35.526 --> 00:10:36.356 A:middle
我们等一下就会展示

00:10:36.356 --> 00:10:37.666 A:middle
怎么做到这一点

00:10:40.616 --> 00:10:42.596 A:middle
如果你的 App

00:10:43.146 --> 00:10:44.896 A:middle
提供了双屏登录体验

00:10:45.076 --> 00:10:46.666 A:middle
也就是用户名栏和密码栏

00:10:46.666 --> 00:10:48.646 A:middle
在不同的屏或视图上

00:10:48.646 --> 00:10:50.566 A:middle
用户名文本内容类型

00:10:50.566 --> 00:10:52.266 A:middle
会特别有用

00:10:53.116 --> 00:10:55.926 A:middle
在这种情况下 如果你

00:10:55.926 --> 00:10:57.466 A:middle
把用户名文本内容类型

00:10:57.466 --> 00:10:59.276 A:middle
标记在用户名栏

00:10:59.276 --> 00:11:00.866 A:middle
我们就能为双屏提供

00:10:59.276 --> 00:11:00.866 A:middle
我们就能为双屏提供

00:11:00.866 --> 00:11:01.926 A:middle
QuickType 栏了

00:11:04.416 --> 00:11:06.116 A:middle
如果你已经在用

00:11:06.116 --> 00:11:07.856 A:middle
电子邮件地址的文本内容类型

00:11:08.446 --> 00:11:09.326 A:middle
也不用担心

00:11:10.016 --> 00:11:11.866 A:middle
你可以把用户名

00:11:11.866 --> 00:11:13.806 A:middle
文本内容类型和电子邮件键盘

00:11:13.906 --> 00:11:15.636 A:middle
结合起来 让你的用户

00:11:15.636 --> 00:11:17.976 A:middle
在两种情形下都能获得更好体验

00:11:17.976 --> 00:11:19.386 A:middle
既能获取电子邮件地址键盘

00:11:19.846 --> 00:11:21.416 A:middle
也能体验 QuickType 自动填充

00:11:24.676 --> 00:11:26.646 A:middle
密码文本内容类型

00:11:27.026 --> 00:11:29.586 A:middle
如果你的 App 里

00:11:29.586 --> 00:11:30.826 A:middle
有直接用文本显示

00:11:30.826 --> 00:11:32.426 A:middle
用户正在输入的密码

00:11:32.426 --> 00:11:34.026 A:middle
这样为他们提供便利

00:11:34.026 --> 00:11:34.556 A:middle
的功能 这会非常有用

00:11:35.876 --> 00:11:38.066 A:middle
如果你的栏是以文本形式出现

00:11:38.066 --> 00:11:40.216 A:middle
iOS 就不能分辨它是

00:11:40.216 --> 00:11:41.866 A:middle
密码栏 除非你把这个栏

00:11:41.866 --> 00:11:43.266 A:middle
定义成密码

00:11:43.996 --> 00:11:45.466 A:middle
如果你这样做了

00:11:45.466 --> 00:11:46.526 A:middle
QuickType 栏中这个栏仍然有效

00:11:46.526 --> 00:11:47.926 A:middle
即便它并不是一个

00:11:47.926 --> 00:11:48.686 A:middle
安全的条目

00:11:49.276 --> 00:11:53.456 A:middle
到这一步 你这样做以后

00:11:53.456 --> 00:11:56.166 A:middle
就会看到一个

00:11:56.166 --> 00:11:57.926 A:middle
密码自动填充 QuickType 栏

00:11:57.976 --> 00:12:00.376 A:middle
在你的 App 里 钥匙图标

00:11:57.976 --> 00:12:00.376 A:middle
在你的 App 里 钥匙图标

00:12:00.376 --> 00:12:02.116 A:middle
在右边 但是在左边

00:12:02.116 --> 00:12:03.656 A:middle
没有任何特定的内容

00:12:03.656 --> 00:12:04.156 A:middle
出现

00:12:05.016 --> 00:12:06.196 A:middle
这是必要的一步

00:12:06.196 --> 00:12:07.276 A:middle
是个良好的

00:12:07.276 --> 00:12:07.576 A:middle
开端

00:12:08.316 --> 00:12:09.786 A:middle
很快我们就会讲到

00:12:09.786 --> 00:12:11.586 A:middle
如何让你网站的密码

00:12:11.586 --> 00:12:12.946 A:middle
出现在左边

00:12:13.656 --> 00:12:15.456 A:middle
看到这个栏就意味着

00:12:15.796 --> 00:12:17.506 A:middle
iOS 已经准备好提供

00:12:17.506 --> 00:12:18.516 A:middle
密码自动填充了

00:12:18.516 --> 00:12:21.206 A:middle
如果用户点按了

00:12:21.206 --> 00:12:23.176 A:middle
右手边的钥匙图标

00:12:23.176 --> 00:12:24.856 A:middle
他们就能够使用 Touch ID

00:12:24.856 --> 00:12:27.526 A:middle
进行认证 并看到一系列

00:12:27.526 --> 00:12:29.306 A:middle
密码 他们可以从中

00:12:29.306 --> 00:12:30.826 A:middle
寻找 滚动

00:12:30.826 --> 00:12:31.776 A:middle
并找到合适的密码

00:12:31.776 --> 00:12:34.216 A:middle
填入你的 App

00:12:34.216 --> 00:12:35.336 A:middle
当他们找到了合适的密码

00:12:35.336 --> 00:12:38.276 A:middle
点按一下

00:12:38.276 --> 00:12:39.906 A:middle
iOS 就能把这个密码填入

00:12:39.956 --> 00:12:41.816 A:middle
你的栏

00:12:41.976 --> 00:12:43.246 A:middle
这就让我们进入了

00:12:43.246 --> 00:12:45.946 A:middle
下一主题

00:12:45.946 --> 00:12:48.066 A:middle
也就是让你的 App 能理解

00:12:48.066 --> 00:12:49.606 A:middle
填入的文本栏的信息

00:12:49.606 --> 00:12:51.556 A:middle
并让用户

00:12:51.556 --> 00:12:52.936 A:middle
在这之后

00:12:52.936 --> 00:12:53.476 A:middle
能够成功登录

00:12:54.226 --> 00:12:56.926 A:middle
iOS 会尽力

00:12:56.926 --> 00:12:58.136 A:middle
把信息按照

00:12:58.136 --> 00:13:00.076 A:middle
用户自己填写的那种方式

00:12:58.136 --> 00:13:00.076 A:middle
用户自己填写的那种方式

00:13:00.076 --> 00:13:01.596 A:middle
填入到你的用户名栏

00:13:01.596 --> 00:13:02.716 A:middle
和密码栏

00:13:02.716 --> 00:13:03.316 A:middle
之中

00:13:04.236 --> 00:13:05.346 A:middle
但还是有必要测试

00:13:05.346 --> 00:13:07.676 A:middle
以保证你的 App

00:13:07.716 --> 00:13:09.446 A:middle
在信息被自动填写后

00:13:09.446 --> 00:13:10.186 A:middle
能够正常工作

00:13:10.256 --> 00:13:11.966 A:middle
我们希望看到

00:13:11.966 --> 00:13:13.316 A:middle
用户只需轻点

00:13:13.316 --> 00:13:15.406 A:middle
登录按钮 然后就直接

00:13:15.996 --> 00:13:16.066 A:middle
登录了

00:13:16.856 --> 00:13:17.946 A:middle
下面我们讲一下

00:13:17.946 --> 00:13:20.366 A:middle
密码自动填充

00:13:20.366 --> 00:13:22.206 A:middle
是如何进入你的 App 的

00:13:23.496 --> 00:13:24.926 A:middle
第一件事大家可能

00:13:24.926 --> 00:13:26.786 A:middle
已经知道了 那就是

00:13:26.786 --> 00:13:28.196 A:middle
iOS 会通过一个动作

00:13:28.196 --> 00:13:30.036 A:middle
填写用户名

00:13:30.376 --> 00:13:31.306 A:middle
和密码栏

00:13:31.496 --> 00:13:34.146 A:middle
iOS 会通过更改你的 App 的

00:13:34.146 --> 00:13:35.816 A:middle
第一响应对象做到这一点

00:13:36.296 --> 00:13:39.416 A:middle
即便你的 App 会

00:13:39.416 --> 00:13:40.826 A:middle
阻止更改第一响应对象

00:13:40.826 --> 00:13:42.186 A:middle
iOS 也会这样做

00:13:42.976 --> 00:13:43.886 A:middle
所以如果你的 App

00:13:43.886 --> 00:13:47.776 A:middle
是这样的话 希望你能有所了解

00:13:48.046 --> 00:13:50.016 A:middle
刚才我向大家展示了

00:13:50.016 --> 00:13:51.316 A:middle
用户点按钥匙图标

00:13:51.316 --> 00:13:53.086 A:middle
Touch ID 出现的情形

00:13:53.966 --> 00:13:55.806 A:middle
Touch ID 出现后

00:13:55.806 --> 00:13:57.046 A:middle
你的 App 就不活动了

00:13:57.046 --> 00:14:00.106 A:middle
需要了解这一点

00:13:57.046 --> 00:14:00.106 A:middle
需要了解这一点

00:14:00.106 --> 00:14:02.356 A:middle
因为这会直接导致

00:14:03.056 --> 00:14:04.656 A:middle
下面的情况

00:14:04.716 --> 00:14:06.526 A:middle
也就是 Touch ID

00:14:06.526 --> 00:14:08.496 A:middle
出现时 你不需要

00:14:08.496 --> 00:14:11.266 A:middle
在 App 不活跃的时候

00:14:11.266 --> 00:14:13.036 A:middle
把登录 UI 拽下去或者把它

00:14:13.036 --> 00:14:13.436 A:middle
隐藏起来

00:14:13.966 --> 00:14:15.486 A:middle
因为如果你这样做了

00:14:15.486 --> 00:14:17.036 A:middle
用户就会看到

00:14:17.036 --> 00:14:18.796 A:middle
点按钥匙图标

00:14:18.796 --> 00:14:19.676 A:middle
找到合适的密码并点按

00:14:19.676 --> 00:14:21.216 A:middle
然后 iOS 却不能自动填写

00:14:21.216 --> 00:14:22.536 A:middle
任何内容

00:14:22.536 --> 00:14:23.576 A:middle
因为文本栏

00:14:23.576 --> 00:14:24.246 A:middle
不见了

00:14:25.236 --> 00:14:27.216 A:middle
所以 应该

00:14:27.336 --> 00:14:29.036 A:middle
在你的 App 不活跃时

00:14:29.036 --> 00:14:30.436 A:middle
隐藏敏感

00:14:30.436 --> 00:14:30.876 A:middle
信息

00:14:31.786 --> 00:14:33.066 A:middle
但如果一个用户没有完成

00:14:33.066 --> 00:14:34.596 A:middle
登录的话 那么这就

00:14:34.596 --> 00:14:35.746 A:middle
没有什么必要了

00:14:38.016 --> 00:14:40.166 A:middle
可能在你的 App 上有

00:14:40.566 --> 00:14:41.626 A:middle
按键 比如登录键

00:14:41.626 --> 00:14:43.466 A:middle
或是注册键

00:14:43.466 --> 00:14:45.116 A:middle
只在有信息

00:14:45.116 --> 00:14:46.466 A:middle
被填入用户名

00:14:46.586 --> 00:14:48.396 A:middle
和密码栏时才会亮起

00:14:48.396 --> 00:14:49.136 A:middle
并且生效

00:14:49.726 --> 00:14:51.926 A:middle
这里最好的方法

00:14:51.926 --> 00:14:54.016 A:middle
是使用“did change”通知

00:14:54.376 --> 00:14:56.156 A:middle
或者委托方法让这些按键

00:14:56.196 --> 00:14:57.766 A:middle
在文本发生变化时重新生效

00:14:58.816 --> 00:15:03.446 A:middle
如果你正在使用 UITextField

00:14:58.816 --> 00:15:03.446 A:middle
如果你正在使用 UITextField

00:15:03.906 --> 00:15:05.046 A:middle
那么有一个通知可以

00:15:05.046 --> 00:15:05.566 A:middle
派上用场

00:15:06.276 --> 00:15:07.846 A:middle
如果你正在使用 UITextView

00:15:07.846 --> 00:15:10.026 A:middle
那么有一个通知和一个

00:15:10.026 --> 00:15:10.716 A:middle
委托方法可以用

00:15:11.636 --> 00:15:12.626 A:middle
如果你在使用你自己的

00:15:12.626 --> 00:15:15.056 A:middle
定制文本输入 如果你能够

00:15:15.056 --> 00:15:16.796 A:middle
完成 UITextInputDelegate

00:15:17.316 --> 00:15:18.306 A:middle
那么有一个委托方法

00:15:18.306 --> 00:15:19.966 A:middle
可以为你所用

00:15:19.966 --> 00:15:21.066 A:middle
让按键重新生效

00:15:21.646 --> 00:15:25.206 A:middle
你在做这些确认的时候

00:15:25.206 --> 00:15:27.136 A:middle
应该直接从

00:15:27.136 --> 00:15:29.296 A:middle
文本栏的文字属性中

00:15:29.296 --> 00:15:30.876 A:middle
读取信息

00:15:31.776 --> 00:15:34.106 A:middle
UIKit 让从文本栏中

00:15:34.356 --> 00:15:35.686 A:middle
读取信息变得

00:15:35.686 --> 00:15:36.256 A:middle
轻而易举

00:15:36.606 --> 00:15:37.676 A:middle
而且总是很准确

00:15:38.536 --> 00:15:40.626 A:middle
如果你这样做了

00:15:40.836 --> 00:15:42.566 A:middle
你就会避免

00:15:42.566 --> 00:15:43.646 A:middle
很多 Bug 这些 Bug 在使用

00:15:43.646 --> 00:15:45.666 A:middle
基于输入文本栏的

00:15:45.666 --> 00:15:47.146 A:middle
cash-in 验证时

00:15:47.146 --> 00:15:47.766 A:middle
可能会出现

00:15:52.376 --> 00:15:53.186 A:middle
这就好了

00:15:53.626 --> 00:15:55.316 A:middle
这些方法是为了

00:15:55.316 --> 00:15:57.246 A:middle
保证用户在使用自动填充之后

00:15:57.246 --> 00:15:59.896 A:middle
能够在你的 App 上

00:15:59.896 --> 00:16:01.556 A:middle
成功登录

00:15:59.896 --> 00:16:01.556 A:middle
成功登录

00:16:01.746 --> 00:16:02.826 A:middle
然后用户就可以

00:16:02.826 --> 00:16:03.236 A:middle
继续使用了

00:16:04.296 --> 00:16:06.146 A:middle
接下来就要谈到第三个主题

00:16:06.146 --> 00:16:08.826 A:middle
也就是要保证

00:16:08.826 --> 00:16:10.486 A:middle
QuickType 栏会填入

00:16:10.486 --> 00:16:11.956 A:middle
你的网站的正确的认证信息

00:16:12.366 --> 00:16:17.676 A:middle
在测试的这一步

00:16:18.146 --> 00:16:19.406 A:middle
出现的可能还是我们之前见到的

00:16:19.406 --> 00:16:21.626 A:middle
也就是一个带有钥匙图标的栏

00:16:21.626 --> 00:16:23.086 A:middle
但在左边没有任何

00:16:23.086 --> 00:16:24.266 A:middle
特定的身份认证

00:16:24.266 --> 00:16:24.546 A:middle
信息

00:16:25.776 --> 00:16:27.066 A:middle
但我们知道 为了要给用户

00:16:27.066 --> 00:16:28.916 A:middle
最佳的体验

00:16:29.416 --> 00:16:30.836 A:middle
就一定要尽量避免

00:16:30.836 --> 00:16:32.216 A:middle
他们卸载你的 App

00:16:32.216 --> 00:16:34.956 A:middle
这个可能性

00:16:34.956 --> 00:16:36.366 A:middle
因此我们需要 QuickType 栏

00:16:36.366 --> 00:16:37.626 A:middle
一定要显示正确的身份信息

00:16:38.186 --> 00:16:40.616 A:middle
我在刚才的演示中

00:16:40.616 --> 00:16:42.556 A:middle
稍微提过这一点

00:16:42.556 --> 00:16:44.256 A:middle
密码自动填充只会在

00:16:44.256 --> 00:16:45.876 A:middle
安全的情况下才会把身份信息

00:16:46.166 --> 00:16:47.486 A:middle
显示在 QuickType 栏上

00:16:47.786 --> 00:16:48.516 A:middle
只有安全的时候才行

00:16:48.776 --> 00:16:52.596 A:middle
iOS 不会去猜是哪一个

00:16:53.106 --> 00:16:54.926 A:middle
网站跟你的 App 有关

00:16:54.926 --> 00:16:56.466 A:middle
然后去找哪一个是

00:16:56.466 --> 00:16:57.626 A:middle
对应你的 App的正确

00:16:58.246 --> 00:16:58.426 A:middle
密码

00:16:58.426 --> 00:16:59.166 A:middle
iOS 本来就知道

00:16:59.166 --> 00:17:02.206 A:middle
如果你采用了通用链接

00:16:59.166 --> 00:17:02.206 A:middle
如果你采用了通用链接

00:17:02.206 --> 00:17:04.806 A:middle
这个特性能够

00:17:04.806 --> 00:17:06.465 A:middle
让用户在你的 App 内

00:17:06.465 --> 00:17:07.695 A:middle
点按链接时把它们打开

00:17:08.366 --> 00:17:09.705 A:middle
而不是在 Safari 内打开

00:17:09.705 --> 00:17:11.965 A:middle
如果你做到了这一点

00:17:11.965 --> 00:17:13.776 A:middle
那么你可能已经发现了

00:17:13.776 --> 00:17:15.266 A:middle
iOS 知道你的 App

00:17:15.266 --> 00:17:16.816 A:middle
和你的网站是关联的

00:17:16.816 --> 00:17:17.976 A:middle
然后它将能在 QuickType 栏中

00:17:17.976 --> 00:17:19.256 A:middle
输入正确信息了

00:17:20.056 --> 00:17:22.415 A:middle
但如果你没有使用

00:17:22.415 --> 00:17:23.976 A:middle
通用链接 或者

00:17:23.976 --> 00:17:25.106 A:middle
你认为这样做没有意义

00:17:25.106 --> 00:17:26.846 A:middle
也不用担心

00:17:27.425 --> 00:17:29.126 A:middle
我们有一个很棒的技巧

00:17:29.386 --> 00:17:30.506 A:middle
能够让你的 App 和网站

00:17:30.506 --> 00:17:31.766 A:middle
建立强力联系

00:17:31.766 --> 00:17:32.586 A:middle
我现在就带大家

00:17:32.586 --> 00:17:32.976 A:middle
看看怎么做

00:17:38.056 --> 00:17:39.686 A:middle
这个图标中 左边是

00:17:39.686 --> 00:17:40.026 A:middle
你的 App

00:17:40.226 --> 00:17:41.366 A:middle
右边是你的网站服务器

00:17:41.366 --> 00:17:42.426 A:middle
或者你的后端

00:17:43.266 --> 00:17:44.866 A:middle
我们的目标是让你的 App

00:17:45.816 --> 00:17:47.786 A:middle
通过签名认证

00:17:48.156 --> 00:17:51.096 A:middle
指出哪个或哪些网站

00:17:51.096 --> 00:17:51.986 A:middle
和它有关

00:17:52.926 --> 00:17:54.016 A:middle
只要用户安装了这个 App

00:17:54.016 --> 00:17:55.956 A:middle
或者 iOS 安装了这个 App 的更新

00:17:55.986 --> 00:17:58.216 A:middle
iOS 就会去

00:17:58.356 --> 00:18:00.636 A:middle
通过一个特定的文件路径

00:17:58.356 --> 00:18:00.636 A:middle
通过一个特定的文件路径

00:18:00.636 --> 00:18:03.576 A:middle
检查那个栏的名称

00:18:03.576 --> 00:18:04.276 A:middle
查找某些信息

00:18:05.576 --> 00:18:07.696 A:middle
如果你不熟悉这个“.well-known”目录

00:18:07.696 --> 00:18:09.396 A:middle
没关系 其实它就是一个

00:18:09.396 --> 00:18:10.546 A:middle
储存文件挖掘信息的地方

00:18:10.546 --> 00:18:12.416 A:middle
就像我接下来

00:18:12.416 --> 00:18:13.376 A:middle
要介绍给你们的这个

00:18:13.376 --> 00:18:13.676 A:middle
文件

00:18:13.676 --> 00:18:15.146 A:middle
apple-app-site-association

00:18:16.376 --> 00:18:18.896 A:middle
iOS 只会通过 HTTPS

00:18:18.896 --> 00:18:22.026 A:middle
这个安全链接

00:18:22.026 --> 00:18:22.766 A:middle
来试图获取这个文件

00:18:26.356 --> 00:18:28.226 A:middle
作为这个请求的回应

00:18:28.716 --> 00:18:30.996 A:middle
你的网站可以发回一个 JSON

00:18:30.996 --> 00:18:31.616 A:middle
响应

00:18:32.346 --> 00:18:33.846 A:middle
如果这个 JSON 响应

00:18:33.886 --> 00:18:35.606 A:middle
格式正确 它就会说

00:18:35.606 --> 00:18:37.766 A:middle
这里是与我有关的

00:18:37.936 --> 00:18:39.116 A:middle
App 的列表

00:18:39.646 --> 00:18:44.116 A:middle
如果这个 App 指向这个网站

00:18:44.116 --> 00:18:45.896 A:middle
而这个网站也

00:18:45.896 --> 00:18:47.656 A:middle
指向这个 App

00:18:48.136 --> 00:18:49.756 A:middle
我们就有了一个安全的双向链接

00:18:50.396 --> 00:18:52.546 A:middle
为了把我给大家讲的东西

00:18:52.546 --> 00:18:54.286 A:middle
付诸实践

00:18:54.796 --> 00:18:56.416 A:middle
特别是要做你的 App

00:18:56.416 --> 00:18:58.296 A:middle
和你的网站之间

00:18:58.296 --> 00:19:00.366 A:middle
建立安全的联系

00:18:58.296 --> 00:19:00.366 A:middle
建立安全的联系

00:19:00.366 --> 00:19:02.216 A:middle
我将请我的同事

00:19:02.216 --> 00:19:04.036 A:middle
Maureen Daum 上台

00:19:04.036 --> 00:19:04.676 A:middle
为大家做演示

00:19:05.346 --> 00:19:05.626 A:middle
Maureen

00:19:07.516 --> 00:19:12.876 A:middle
[掌声]

00:19:13.376 --> 00:19:14.396 A:middle
&gt;&gt; 谢谢你 Ricky

00:19:16.396 --> 00:19:18.786 A:middle
现在我有 Shiny 这个 App

00:19:19.006 --> 00:19:20.896 A:middle
我们还没有在上面使用

00:19:20.896 --> 00:19:23.186 A:middle
密码自动

00:19:23.806 --> 00:19:23.873 A:middle
填充

00:19:24.076 --> 00:19:25.546 A:middle
当我点按用户名

00:19:25.586 --> 00:19:28.566 A:middle
栏时 iOS 就自动

00:19:28.566 --> 00:19:30.606 A:middle
检测到这是

00:19:30.606 --> 00:19:31.486 A:middle
用户名栏

00:19:31.486 --> 00:19:33.316 A:middle
然后它就会自然地给我们

00:19:33.316 --> 00:19:35.516 A:middle
密码自动填充 QuickType 栏

00:19:35.516 --> 00:19:36.846 A:middle
谢谢

00:19:37.356 --> 00:19:38.996 A:middle
那么现在 用户们

00:19:38.996 --> 00:19:41.056 A:middle
如果不记得自己的身份信息了

00:19:41.056 --> 00:19:42.336 A:middle
他们就可以点按钥匙图标

00:19:42.866 --> 00:19:45.636 A:middle
使用 Touch ID 进行认证

00:19:45.636 --> 00:19:47.326 A:middle
查找正确的身份信息

00:19:47.326 --> 00:19:48.556 A:middle
找到了

00:19:48.556 --> 00:19:51.416 A:middle
这对那些记不清

00:19:51.416 --> 00:19:52.976 A:middle
自己身份信息的用户来说

00:19:52.976 --> 00:19:54.886 A:middle
是很棒的体验

00:19:55.446 --> 00:19:56.986 A:middle
但我很想让他们

00:19:56.986 --> 00:19:59.086 A:middle
登录的过程变得更简单

00:19:59.086 --> 00:20:01.136 A:middle
让他们的身份信息

00:19:59.086 --> 00:20:01.136 A:middle
让他们的身份信息

00:20:01.136 --> 00:20:03.906 A:middle
直接显示在 QuickType

00:20:03.906 --> 00:20:04.176 A:middle
栏上

00:20:04.316 --> 00:20:06.796 A:middle
我在这个演示中要做

00:20:06.796 --> 00:20:07.426 A:middle
两件事

00:20:08.016 --> 00:20:10.096 A:middle
第一件事是要保证

00:20:10.096 --> 00:20:11.806 A:middle
我们能得到这个密码 QuickType 栏

00:20:11.836 --> 00:20:13.876 A:middle
而不是只能依靠

00:20:13.876 --> 00:20:14.316 A:middle
启发式算法

00:20:14.316 --> 00:20:16.456 A:middle
第二件事是要保证

00:20:16.456 --> 00:20:17.826 A:middle
QuickType 栏上的身份信息

00:20:17.826 --> 00:20:18.556 A:middle
是正确的

00:20:19.086 --> 00:20:20.406 A:middle
我们先来做第一步

00:20:20.886 --> 00:20:22.416 A:middle
保证我们能够得到

00:20:22.416 --> 00:20:23.046 A:middle
身份信息

00:20:23.656 --> 00:20:25.576 A:middle
要做到这一点

00:20:25.576 --> 00:20:27.166 A:middle
我要把用户名和密码栏

00:20:27.556 --> 00:20:28.746 A:middle
与正确的内容类型联系起来

00:20:28.846 --> 00:20:30.976 A:middle
这里是用户名

00:20:31.056 --> 00:20:33.126 A:middle
我已经把内容类型

00:20:33.126 --> 00:20:35.336 A:middle
设定为电子邮件地址

00:20:35.336 --> 00:20:37.106 A:middle
因为一些用户名就是

00:20:37.106 --> 00:20:37.886 A:middle
电子邮件地址

00:20:38.496 --> 00:20:39.716 A:middle
但如果我把这个换成

00:20:39.716 --> 00:20:41.086 A:middle
用户名 就在最下面

00:20:41.086 --> 00:20:43.216 A:middle
我可以把键盘类型

00:20:43.216 --> 00:20:44.646 A:middle
设定成“Email Address（电子邮件地址）”

00:20:45.286 --> 00:20:46.736 A:middle
在这里找到键盘类型

00:20:46.736 --> 00:20:49.106 A:middle
然后把它设成电子邮件

00:20:49.626 --> 00:20:51.566 A:middle
现在如果用户

00:20:51.566 --> 00:20:53.276 A:middle
输入用户名 他们仍然会

00:20:53.276 --> 00:20:54.406 A:middle
获取正确的键盘

00:20:55.356 --> 00:20:57.006 A:middle
现在我要去把密码

00:20:57.056 --> 00:20:58.576 A:middle
的内容类型设定成

00:20:58.576 --> 00:21:00.326 A:middle
“Password（密码）” 就在最

00:20:58.576 --> 00:21:00.326 A:middle
“Password（密码）” 就在最

00:21:00.326 --> 00:21:00.756 A:middle
下面

00:21:02.226 --> 00:21:05.106 A:middle
我再次运行一遍

00:21:05.106 --> 00:21:06.736 A:middle
以证实我们仍然可以让

00:21:06.736 --> 00:21:08.206 A:middle
QuickType 栏出现

00:21:08.696 --> 00:21:10.166 A:middle
我们不指望有任何变化

00:21:10.166 --> 00:21:12.596 A:middle
因为 iOS 已经

00:21:12.596 --> 00:21:13.416 A:middle
检测到了

00:21:13.416 --> 00:21:14.506 A:middle
但确认一下也好

00:21:15.906 --> 00:21:18.816 A:middle
现在 登录页面出现之后

00:21:18.816 --> 00:21:22.276 A:middle
我们可以点进去

00:21:22.336 --> 00:21:23.566 A:middle
仍然会有 QuickType 栏

00:21:23.716 --> 00:21:24.456 A:middle
这很棒

00:21:25.146 --> 00:21:27.476 A:middle
现在要让身份信息出现

00:21:27.476 --> 00:21:29.746 A:middle
我们需要告诉 iOS

00:21:30.486 --> 00:21:32.366 A:middle
我们的 App 和网站是

00:21:32.456 --> 00:21:33.166 A:middle
关联的

00:21:33.586 --> 00:21:35.496 A:middle
要做到这一点 我们要用到

00:21:35.496 --> 00:21:37.776 A:middle
网络认证关联

00:21:37.776 --> 00:21:38.606 A:middle
域名服务

00:21:39.646 --> 00:21:42.326 A:middle
要做到这一点 首先

00:21:42.326 --> 00:21:45.616 A:middle
要让我们的 App 告诉 iOS

00:21:45.616 --> 00:21:47.406 A:middle
哪些网站与它关联

00:21:48.296 --> 00:21:49.736 A:middle
我们来到

00:21:49.736 --> 00:21:52.416 A:middle
App 里的“Capabilities（能力）”标签页

00:21:52.416 --> 00:21:54.336 A:middle
打开“Associated Domains（关联域名）”

00:21:55.706 --> 00:21:58.726 A:middle
现在我就能添加

00:21:58.726 --> 00:22:01.456 A:middle
与我的 App 关联的

00:21:58.726 --> 00:22:01.456 A:middle
与我的 App 关联的

00:22:01.456 --> 00:22:03.256 A:middle
域名了

00:22:03.256 --> 00:22:05.136 A:middle
点按加号

00:22:05.136 --> 00:22:08.866 A:middle
Xcode 给出一个占位

00:22:08.866 --> 00:22:09.266 A:middle
域名

00:22:09.626 --> 00:22:11.836 A:middle
它有“webcredentials”的前缀

00:22:11.836 --> 00:22:13.766 A:middle
因为我们正在使用

00:22:13.766 --> 00:22:14.976 A:middle
网站认证服务

00:22:15.526 --> 00:22:17.176 A:middle
然后你可以把

00:22:17.246 --> 00:22:19.886 A:middle
example.com 替换成你的 App

00:22:19.886 --> 00:22:21.746 A:middle
关联的域名

00:22:21.746 --> 00:22:23.426 A:middle
我的 App 关联的域名是

00:22:23.496 --> 00:22:26.206 A:middle
Shiny.example.com

00:22:27.096 --> 00:22:29.676 A:middle
你添加一个域名时

00:22:29.676 --> 00:22:30.776 A:middle
Xcode 会做两件事

00:22:31.486 --> 00:22:33.196 A:middle
首先是在你的 Entitlement 文件中

00:22:33.196 --> 00:22:34.976 A:middle
添加一个 Entitlement

00:22:34.976 --> 00:22:36.776 A:middle
这样在你的 App 被安装后

00:22:36.776 --> 00:22:39.256 A:middle
iOS 就会查看这一系列域名

00:22:39.256 --> 00:22:41.316 A:middle
进入每一个域名

00:22:41.316 --> 00:22:42.766 A:middle
去查找

00:22:43.076 --> 00:22:45.036 A:middle
apple-app-site-association 文件

00:22:45.886 --> 00:22:47.586 A:middle
它做的第二件事是

00:22:47.586 --> 00:22:49.806 A:middle
确保你的 App 的

00:22:49.806 --> 00:22:51.586 A:middle
关联域名是打开的

00:22:52.466 --> 00:22:54.606 A:middle
如果你的 App ID 没有

00:22:54.606 --> 00:22:56.246 A:middle
打开这个

00:22:56.246 --> 00:22:57.966 A:middle
你在这第二条旁边就看不到

00:22:57.966 --> 00:22:58.336 A:middle
对勾

00:22:58.486 --> 00:23:00.106 A:middle
而是会有一个叉

00:22:58.486 --> 00:23:00.106 A:middle
而是会有一个叉

00:23:00.736 --> 00:23:02.466 A:middle
如果你看到了一个叉

00:23:02.466 --> 00:23:03.836 A:middle
也很容易改正

00:23:04.326 --> 00:23:05.496 A:middle
你只需要进入

00:23:05.496 --> 00:23:07.496 A:middle
Developer Portal 选择你的

00:23:07.676 --> 00:23:09.826 A:middle
App ID 然后打开 Associated

00:23:09.826 --> 00:23:10.366 A:middle
Domains

00:23:10.916 --> 00:23:12.286 A:middle
然后就搞定了

00:23:12.986 --> 00:23:15.506 A:middle
我们做到这些

00:23:15.506 --> 00:23:18.976 A:middle
就能够告诉 iOS 我们的 App

00:23:18.976 --> 00:23:20.616 A:middle
与我们的网站的关联了

00:23:20.616 --> 00:23:22.586 A:middle
现在我们需要获得网站

00:23:22.586 --> 00:23:25.206 A:middle
的同意 然后指回我们的 App

00:23:25.206 --> 00:23:26.786 A:middle
这样 iOS 就能够建立

00:23:26.786 --> 00:23:28.286 A:middle
双向链接了

00:23:28.726 --> 00:23:31.306 A:middle
要做到这一点 我要建立一个

00:23:31.306 --> 00:23:33.446 A:middle
apple-app-site-association 文件

00:23:34.566 --> 00:23:37.106 A:middle
这里的 JSON

00:23:37.106 --> 00:23:39.496 A:middle
指明我们正在使用

00:23:39.496 --> 00:23:41.326 A:middle
认证服务

00:23:41.326 --> 00:23:43.196 A:middle
这与我们在 Xcode 中见到的相符

00:23:44.036 --> 00:23:45.736 A:middle
在这个字典里面

00:23:45.736 --> 00:23:48.296 A:middle
是我们的网站关联的

00:23:48.296 --> 00:23:50.216 A:middle
所有 App 的

00:23:50.216 --> 00:23:50.436 A:middle
App ID 列表

00:23:51.126 --> 00:23:52.876 A:middle
我的网站就只与 Shiny 这一个 App

00:23:52.876 --> 00:23:54.196 A:middle
相关联

00:23:54.346 --> 00:23:56.506 A:middle
所以它的 App ID 包括

00:23:56.506 --> 00:23:58.886 A:middle
团队标识符 你可以在

00:23:58.886 --> 00:24:00.496 A:middle
Developer Portal 里找到它

00:23:58.886 --> 00:24:00.496 A:middle
Developer Portal 里找到它

00:24:01.106 --> 00:24:03.446 A:middle
后面是一个英文句号 再后面是你的

00:24:03.446 --> 00:24:04.776 A:middle
数据包标识符

00:24:05.676 --> 00:24:06.756 A:middle
我们把它存储一下

00:24:07.196 --> 00:24:08.956 A:middle
现在要把它放在我的

00:24:08.956 --> 00:24:09.776 A:middle
服务器上

00:24:10.176 --> 00:24:11.946 A:middle
这一步对每个人来说

00:24:11.946 --> 00:24:13.296 A:middle
可能略有不同 取决于

00:24:13.296 --> 00:24:14.566 A:middle
你们各自网站的设置

00:24:15.146 --> 00:24:17.386 A:middle
我要用 SCP 把它

00:24:17.386 --> 00:24:18.736 A:middle
复制到这里

00:24:18.876 --> 00:24:20.386 A:middle
到 well-known 子目录里

00:24:21.336 --> 00:24:22.446 A:middle
好了 出现了

00:24:22.446 --> 00:24:24.066 A:middle
为了保证生效

00:24:24.066 --> 00:24:27.546 A:middle
我要去 Safari 里

00:24:27.546 --> 00:24:29.716 A:middle
访问这个 iOS 即将要

00:24:29.716 --> 00:24:30.246 A:middle
查看的网站

00:24:30.756 --> 00:24:33.006 A:middle
网址是

00:24:33.006 --> 00:24:37.036 A:middle
https://shiny.example.com/.well-known/

00:24:37.556 --> 00:24:39.726 A:middle
apple-app-site-association/

00:24:39.726 --> 00:24:42.176 A:middle
进去后 很好

00:24:42.176 --> 00:24:45.216 A:middle
看到 JSON 出现了

00:24:45.376 --> 00:24:47.106 A:middle
没有看到智能引号

00:24:47.106 --> 00:24:48.866 A:middle
那会让 JSON

00:24:48.866 --> 00:24:50.666 A:middle
形式出错

00:24:50.786 --> 00:24:51.786 A:middle
那样就没有效果了

00:24:52.486 --> 00:24:54.136 A:middle
看上去我们没出什么问题

00:24:54.756 --> 00:24:57.136 A:middle
我们已经设置好 App 让它指向

00:24:57.136 --> 00:24:57.806 A:middle
我们的网站

00:24:58.186 --> 00:25:00.696 A:middle
网站也指向 App

00:24:58.186 --> 00:25:00.696 A:middle
网站也指向 App

00:25:00.696 --> 00:25:03.196 A:middle
我们再运行一遍

00:25:03.196 --> 00:25:04.696 A:middle
就会看到我们需要的身份信息

00:25:05.116 --> 00:25:06.936 A:middle
出现在 QuickType 栏了

00:25:07.746 --> 00:25:09.006 A:middle
你们的 App 测试时

00:25:09.006 --> 00:25:10.966 A:middle
记住要在设备上测试

00:25:11.026 --> 00:25:13.156 A:middle
因为 Associated Domains

00:25:13.156 --> 00:25:14.916 A:middle
是设备独有

00:25:14.916 --> 00:25:15.376 A:middle
的功能

00:25:15.976 --> 00:25:18.836 A:middle
现在我们回到 App 上面

00:25:18.836 --> 00:25:20.366 A:middle
我点按用户名栏

00:25:20.366 --> 00:25:22.396 A:middle
好的 我们需要的身份信息

00:25:22.396 --> 00:25:23.866 A:middle
已经出现在 QuickType 栏

00:25:23.896 --> 00:25:24.196 A:middle
上面了

00:25:24.726 --> 00:25:27.536 A:middle
用户可以点按 填入

00:25:27.536 --> 00:25:30.196 A:middle
再次点按 然后他们

00:25:30.196 --> 00:25:31.596 A:middle
就能看到这个可爱的小狗了

00:25:32.806 --> 00:25:34.116 A:middle
要保证密码自动填充

00:25:34.116 --> 00:25:36.346 A:middle
在你的 App 上正常工作

00:25:36.346 --> 00:25:37.966 A:middle
就这么简单

00:25:37.966 --> 00:25:39.376 A:middle
你的用户名需要的

00:25:39.376 --> 00:25:41.576 A:middle
身份信息会在 QuickType 栏中出现

00:25:41.576 --> 00:25:43.546 A:middle
让他们得以非常快速地

00:25:43.546 --> 00:25:44.386 A:middle
登入网站

00:25:45.066 --> 00:25:46.376 A:middle
现在把时间交还给 Ricky

00:25:46.376 --> 00:25:47.436 A:middle
继续为大家讲解

00:25:48.516 --> 00:25:54.756 A:middle
[掌声]

00:25:55.256 --> 00:25:56.016 A:middle
&gt;&gt; 谢谢 Maureen

00:25:56.156 --> 00:25:57.176 A:middle
这真的很酷

00:25:59.696 --> 00:26:01.916 A:middle
Maureen 刚才为大家展示了

00:25:59.696 --> 00:26:01.916 A:middle
Maureen 刚才为大家展示了

00:26:01.986 --> 00:26:04.226 A:middle
在 Xcode 里设置文本内容类型

00:26:04.226 --> 00:26:06.406 A:middle
是多么简单

00:26:08.816 --> 00:26:11.686 A:middle
她还展示了

00:26:11.686 --> 00:26:13.666 A:middle
如何在 App 里的功能表中

00:26:13.666 --> 00:26:15.706 A:middle
加入网络认证关联

00:26:15.736 --> 00:26:16.526 A:middle
域名功能

00:26:17.306 --> 00:26:18.296 A:middle
然后她还讲到这个功能

00:26:18.296 --> 00:26:19.836 A:middle
是签入你 App 的

00:26:19.836 --> 00:26:20.646 A:middle
二进制文件里面的

00:26:21.226 --> 00:26:23.286 A:middle
如果你们需要

00:26:23.286 --> 00:26:25.056 A:middle
在 Developer Portal 里面

00:26:25.056 --> 00:26:26.696 A:middle
启用关联域名特性

00:26:26.696 --> 00:26:27.666 A:middle
这很容易找到

00:26:27.916 --> 00:26:29.366 A:middle
我来演示一下

00:26:29.916 --> 00:26:31.746 A:middle
首先 进入

00:26:31.746 --> 00:26:32.466 A:middle
Developer Portal

00:26:33.376 --> 00:26:35.186 A:middle
然后你可以点按

00:26:35.186 --> 00:26:37.256 A:middle
“Certificates Identifiers &

00:26:37.256 --> 00:26:39.356 A:middle
Profiles” 侧边栏或者

00:26:39.576 --> 00:26:40.736 A:middle
主界面都可以

00:26:41.866 --> 00:26:44.066 A:middle
然后你可以选择

00:26:44.066 --> 00:26:45.726 A:middle
App ID 然后查看列表中的

00:26:45.726 --> 00:26:47.336 A:middle
与你的开发者账户关联的

00:26:47.336 --> 00:26:48.206 A:middle
App ID

00:26:48.206 --> 00:26:50.746 A:middle
然后 如果你选择了

00:26:50.886 --> 00:26:51.686 A:middle
你想更改的 App ID

00:26:51.686 --> 00:26:53.636 A:middle
你就会看到

00:26:53.636 --> 00:26:55.246 A:middle
可以为你的 App 启动的

00:26:55.246 --> 00:26:56.516 A:middle
服务列表

00:26:56.516 --> 00:26:57.536 A:middle
然后你可以点按

00:26:57.536 --> 00:26:59.806 A:middle
“Edit”按钮 再把

00:26:59.806 --> 00:27:01.366 A:middle
“Associated Domains”复选框打勾

00:26:59.806 --> 00:27:01.366 A:middle
“Associated Domains”复选框打勾

00:27:01.966 --> 00:27:04.386 A:middle
然后就完成了

00:27:04.646 --> 00:27:06.866 A:middle
大家也看到了

00:27:06.866 --> 00:27:07.566 A:middle
建立一个可以

00:27:07.566 --> 00:27:09.806 A:middle
让网站指回 App 的

00:27:09.806 --> 00:27:12.276 A:middle
apple-app-site-association

00:27:12.276 --> 00:27:12.876 A:middle
非常简单

00:27:13.436 --> 00:27:14.836 A:middle
只需几行 JSON 就能完成

00:27:16.816 --> 00:27:19.816 A:middle
然后 Maureen 把这个 JSON 文件

00:27:19.816 --> 00:27:21.596 A:middle
上传到了她的网络服务器根目录下的

00:27:21.656 --> 00:27:23.516 A:middle
/.well-known/ 标准目录里面

00:27:26.236 --> 00:27:27.586 A:middle
你也可以把这个文件直接放在

00:27:27.586 --> 00:27:29.696 A:middle
服务器的根目录下

00:27:29.696 --> 00:27:30.996 A:middle
但我们推荐使用

00:27:31.026 --> 00:27:31.416 A:middle
/.well-known/ 目录

00:27:31.976 --> 00:27:34.646 A:middle
如果在你第一次尝试的时候

00:27:34.646 --> 00:27:35.866 A:middle
这一链接没有起作用

00:27:36.376 --> 00:27:38.286 A:middle
如果你构建并运行你的 App

00:27:38.286 --> 00:27:39.126 A:middle
却没有在 QuickType 栏中

00:27:39.126 --> 00:27:40.336 A:middle
看到身份信息的话

00:27:40.336 --> 00:27:42.236 A:middle
我们有一些步骤

00:27:42.236 --> 00:27:43.336 A:middle
帮助你解决这个 Bug

00:27:43.806 --> 00:27:49.576 A:middle
SWCD Daemon 程序会在你

00:27:49.576 --> 00:27:50.836 A:middle
每一次运行你的 App

00:27:50.836 --> 00:27:52.376 A:middle
并在设备上请求

00:27:52.516 --> 00:27:53.976 A:middle
在你的 App 和网站之间

00:27:53.976 --> 00:27:56.456 A:middle
建立联系的时候

00:27:56.456 --> 00:27:57.696 A:middle
记录相关信息

00:27:58.806 --> 00:28:00.046 A:middle
所以如果出现问题的话

00:27:58.806 --> 00:28:00.046 A:middle
所以如果出现问题的话

00:28:00.316 --> 00:28:02.376 A:middle
插入你的设备

00:28:02.376 --> 00:28:04.996 A:middle
在侧边栏打开控制台

00:28:04.996 --> 00:28:06.386 A:middle
选择设备 查找

00:28:06.386 --> 00:28:07.866 A:middle
SWCD 的日志就可以了

00:28:08.586 --> 00:28:10.936 A:middle
在幻灯片上

00:28:10.936 --> 00:28:11.826 A:middle
你可以看到

00:28:11.826 --> 00:28:13.156 A:middle
我在 Xcode 里不小心把

00:28:13.156 --> 00:28:15.536 A:middle
wrong.example.com

00:28:15.536 --> 00:28:17.096 A:middle
当成了我的

00:28:17.136 --> 00:28:17.526 A:middle
关联域名

00:28:18.096 --> 00:28:19.076 A:middle
它找不到

00:28:19.076 --> 00:28:20.616 A:middle
apple-app-site-association 文件

00:28:22.056 --> 00:28:23.616 A:middle
但只要我把域名修改成

00:28:23.616 --> 00:28:26.676 A:middle
shiny.example.com

00:28:26.676 --> 00:28:27.586 A:middle
iOS 就能够找到

00:28:27.676 --> 00:28:29.216 A:middle
apple-app-site-association 文件了

00:28:29.656 --> 00:28:31.926 A:middle
验证双向链接

00:28:31.926 --> 00:28:34.496 A:middle
然后 iOS 就能够让

00:28:34.496 --> 00:28:35.956 A:middle
你的用户需要的

00:28:35.956 --> 00:28:37.066 A:middle
正确的身份信息

00:28:37.546 --> 00:28:38.836 A:middle
直接出现在 QuickType 栏里了

00:28:39.316 --> 00:28:44.036 A:middle
现在你已经差不多

00:28:44.036 --> 00:28:45.886 A:middle
完全了解了

00:28:45.886 --> 00:28:47.416 A:middle
该如何让

00:28:47.416 --> 00:28:49.436 A:middle
密码自动填充顺利地

00:28:49.436 --> 00:28:51.306 A:middle
在你的 App 里工作

00:28:51.306 --> 00:28:52.546 A:middle
我希望这能够成为

00:28:52.546 --> 00:28:54.076 A:middle
你们想使用的功能里面

00:28:54.366 --> 00:28:55.426 A:middle
最容易掌握

00:28:55.426 --> 00:28:55.866 A:middle
的一个

00:28:57.016 --> 00:28:58.956 A:middle
但这结束之前

00:28:58.956 --> 00:29:00.086 A:middle
我还想快速讲一下

00:28:58.956 --> 00:29:00.086 A:middle
我还想快速讲一下

00:29:00.086 --> 00:29:01.226 A:middle
关于认证和密码的

00:29:01.226 --> 00:29:02.856 A:middle
一些主题

00:29:03.376 --> 00:29:04.166 A:middle
既然大家来到这里

00:29:04.166 --> 00:29:05.346 A:middle
想必对这些主题也很感兴趣

00:29:06.006 --> 00:29:09.676 A:middle
第一是关于在 iOS 里

00:29:09.816 --> 00:29:11.966 A:middle
查看 存储和添加

00:29:11.966 --> 00:29:12.686 A:middle
密码的问题

00:29:14.266 --> 00:29:16.126 A:middle
除了密码自动填充

00:29:16.126 --> 00:29:17.786 A:middle
今年我们还做了另一个

00:29:17.786 --> 00:29:18.816 A:middle
与 iCloud 钥匙串相关的改进

00:29:19.326 --> 00:29:21.836 A:middle
那就是把之前在设置里的

00:29:21.836 --> 00:29:23.146 A:middle
密码列表向上

00:29:23.146 --> 00:29:25.156 A:middle
迁移到了顶层

00:29:25.156 --> 00:29:27.136 A:middle
一个更显眼的位置

00:29:27.136 --> 00:29:28.946 A:middle
叫做 账户与密码

00:29:30.126 --> 00:29:33.006 A:middle
在这个目录下面

00:29:33.006 --> 00:29:34.346 A:middle
我们可以使用

00:29:34.346 --> 00:29:36.826 A:middle
Touch ID 进行认证

00:29:36.826 --> 00:29:38.236 A:middle
查看安全密码列表

00:29:38.236 --> 00:29:39.696 A:middle
还可以添加

00:29:39.696 --> 00:29:40.286 A:middle
新密码

00:29:41.566 --> 00:29:43.166 A:middle
在你们的 App 全部

00:29:43.166 --> 00:29:44.566 A:middle
采用了密码自动填充后

00:29:44.566 --> 00:29:46.266 A:middle
用户也就没有理由

00:29:46.266 --> 00:29:47.836 A:middle
再到这里来

00:29:47.836 --> 00:29:49.446 A:middle
拷贝粘贴

00:29:49.446 --> 00:29:49.856 A:middle
密码了

00:29:50.776 --> 00:29:51.816 A:middle
但它仍然是有用的

00:29:51.816 --> 00:29:53.436 A:middle
比如当你在朋友的设备上

00:29:53.436 --> 00:29:54.946 A:middle
填写你的某个密码

00:29:54.996 --> 00:29:56.096 A:middle
你没有 iCloud 钥匙串

00:29:56.096 --> 00:29:56.536 A:middle
就可以在这里查到

00:29:57.116 --> 00:30:01.706 A:middle
好了 我们一直在讲解

00:29:57.116 --> 00:30:01.706 A:middle
好了 我们一直在讲解

00:30:01.706 --> 00:30:03.226 A:middle
一种特定形式的认证

00:30:03.226 --> 00:30:05.546 A:middle
也就是你的 App

00:30:05.546 --> 00:30:06.866 A:middle
和你的网站 它们的实体

00:30:06.866 --> 00:30:07.676 A:middle
是同一个

00:30:07.676 --> 00:30:08.846 A:middle
你要登入你或者你的公司

00:30:08.846 --> 00:30:10.536 A:middle
所拥有的一项服务

00:30:11.506 --> 00:30:12.236 A:middle
但我知道

00:30:12.236 --> 00:30:13.746 A:middle
在座的一些人

00:30:14.196 --> 00:30:16.316 A:middle
还需要另一种认证形式

00:30:16.316 --> 00:30:17.786 A:middle
也就是登入第三方服务

00:30:17.786 --> 00:30:19.536 A:middle
比如某个流行的

00:30:21.336 --> 00:30:22.186 A:middle
社交网络

00:30:22.186 --> 00:30:23.266 A:middle
iOS 为在社交网络上

00:30:23.266 --> 00:30:25.046 A:middle
使用类似 O-Off 的技术

00:30:25.046 --> 00:30:27.386 A:middle
进行认证提供的解决方案

00:30:27.446 --> 00:30:29.766 A:middle
Safari 视图控制器

00:30:30.436 --> 00:30:32.146 A:middle
这样做的原因是

00:30:32.146 --> 00:30:33.366 A:middle
Safari 视图控制器具备

00:30:33.366 --> 00:30:35.186 A:middle
Safari 的自动填充功能

00:30:35.186 --> 00:30:36.226 A:middle
这让登录变得

00:30:36.226 --> 00:30:36.846 A:middle
很容易

00:30:37.506 --> 00:30:39.436 A:middle
与此同时 Safari 视图控制器

00:30:39.436 --> 00:30:41.496 A:middle
还是隔绝第三方 App 的沙箱技术

00:30:41.496 --> 00:30:43.706 A:middle
这会给被认证的服务

00:30:43.706 --> 00:30:44.486 A:middle
一种保障

00:30:44.486 --> 00:30:46.186 A:middle
保证了

00:30:46.186 --> 00:30:47.796 A:middle
密码的

00:30:47.796 --> 00:30:48.496 A:middle
安全

00:30:49.136 --> 00:30:52.496 A:middle
在 iOS 11里面  Safari 视图控制器

00:30:52.496 --> 00:30:53.396 A:middle
得到了更新

00:30:54.196 --> 00:30:56.076 A:middle
具有了新的外观

00:30:56.076 --> 00:30:57.926 A:middle
你可以定制外观 让它

00:30:57.926 --> 00:30:59.386 A:middle
看上去更像你 App 的一部分

00:31:00.336 --> 00:31:02.266 A:middle
大家看到这个演示用 App

00:31:02.426 --> 00:31:03.456 A:middle
它上面的 Safari 视图

00:31:03.456 --> 00:31:04.936 A:middle
控制器的颜色是

00:31:04.936 --> 00:31:05.126 A:middle
蓝白相间的

00:31:05.576 --> 00:31:06.506 A:middle
它看上去不像

00:31:06.506 --> 00:31:06.936 A:middle
Safari 的一部分

00:31:06.966 --> 00:31:08.356 A:middle
而是像这个 App 本身

00:31:09.006 --> 00:31:11.006 A:middle
同时 这个 App 还

00:31:11.476 --> 00:31:12.966 A:middle
把Safari 视图控制器

00:31:12.966 --> 00:31:14.246 A:middle
左上角的按键

00:31:14.246 --> 00:31:16.126 A:middle
改成了“Cancel” 而不是原来的

00:31:16.126 --> 00:31:16.516 A:middle
“Done”

00:31:17.436 --> 00:31:18.396 A:middle
因为在 Safari 视图控制器

00:31:18.396 --> 00:31:19.756 A:middle
被用于认证时

00:31:19.756 --> 00:31:21.666 A:middle
关闭 Safari 视图

00:31:21.666 --> 00:31:22.736 A:middle
控制器就

00:31:22.736 --> 00:31:24.536 A:middle
意味着取消

00:31:24.536 --> 00:31:24.746 A:middle
登录

00:31:25.086 --> 00:31:26.266 A:middle
而不是代表成功地

00:31:26.266 --> 00:31:27.026 A:middle
完成了某件事

00:31:27.026 --> 00:31:30.246 A:middle
所以用“Done”就没有意义了

00:31:30.416 --> 00:31:31.616 A:middle
要了解更多关于

00:31:31.616 --> 00:31:33.566 A:middle
Safari 视图控制器

00:31:33.566 --> 00:31:35.136 A:middle
自定义的问题 以及如何执行

00:31:35.136 --> 00:31:36.446 A:middle
我刚才演示的这些行为

00:31:36.446 --> 00:31:37.546 A:middle
请大家务必去参加

00:31:37.546 --> 00:31:39.126 A:middle
明天上午 10 点的会议

00:31:39.466 --> 00:31:40.826 A:middle
“What’s New in Safari View Controller

00:31:40.826 --> 00:31:41.276 A:middle
（Safari 视图控制器新内容）”

00:31:41.816 --> 00:31:43.826 A:middle
如果你想了解

00:31:43.826 --> 00:31:45.636 A:middle
如何使用 Safari 视图控制器

00:31:45.636 --> 00:31:47.376 A:middle
执行一个 O-OFF 流程

00:31:47.376 --> 00:31:49.386 A:middle
你可以回顾

00:31:49.386 --> 00:31:51.056 A:middle
2015 年的会议

00:31:51.106 --> 00:31:52.176 A:middle
“Introducing Safari View Controller

00:31:52.176 --> 00:31:52.596 A:middle
（Safari 视图控制器简介）”

00:31:53.836 --> 00:31:54.766 A:middle
你甚至可能不用

00:31:54.766 --> 00:31:55.816 A:middle
亲自去执行 Safari 视图

00:31:55.816 --> 00:31:57.486 A:middle
控制器来实现 O-Off

00:31:57.786 --> 00:31:59.246 A:middle
实际上它可能作为

00:31:59.246 --> 00:32:00.666 A:middle
你为了认证所使用的 SDK

00:31:59.246 --> 00:32:00.666 A:middle
你为了认证所使用的 SDK

00:32:00.666 --> 00:32:01.486 A:middle
的一部分免费实现

00:32:01.486 --> 00:32:02.666 A:middle
这确实值得一提

00:32:04.276 --> 00:32:04.866 A:middle
好了

00:32:05.376 --> 00:32:07.866 A:middle
咱们总结一下今天

00:32:07.866 --> 00:32:08.686 A:middle
讲解的内容

00:32:11.696 --> 00:32:13.916 A:middle
登录时带来的麻烦

00:32:13.916 --> 00:32:15.336 A:middle
可能会让用户卸载

00:32:15.336 --> 00:32:15.546 A:middle
你的 App

00:32:16.056 --> 00:32:16.756 A:middle
我们不希望这类事情发生

00:32:16.976 --> 00:32:17.876 A:middle
你的 App 特别棒

00:32:17.876 --> 00:32:19.116 A:middle
我们希望用户使用它们

00:32:20.056 --> 00:32:21.826 A:middle
幸好在 iOS 11 里

00:32:22.156 --> 00:32:23.486 A:middle
密码自动填充能够

00:32:23.486 --> 00:32:23.766 A:middle
派上用场

00:32:24.526 --> 00:32:26.046 A:middle
密码自动填充在很多 App 里

00:32:26.046 --> 00:32:28.446 A:middle
使用启发式算法

00:32:28.446 --> 00:32:30.106 A:middle
自动工作

00:32:30.106 --> 00:32:31.336 A:middle
你不用做任何改变

00:32:31.866 --> 00:32:34.266 A:middle
但为了给用户

00:32:34.266 --> 00:32:36.176 A:middle
最佳体验 并保证

00:32:36.176 --> 00:32:37.786 A:middle
现在和未来都会

00:32:37.786 --> 00:32:39.736 A:middle
有效 你还需要采取简单的

00:32:39.736 --> 00:32:40.386 A:middle
几步措施

00:32:41.576 --> 00:32:44.386 A:middle
首先在你的手机中

00:32:44.386 --> 00:32:46.006 A:middle
安装测试版 iOS 11

00:32:46.006 --> 00:32:47.256 A:middle
并运行你的 App

00:32:47.256 --> 00:32:48.026 A:middle
看看当前的状态

00:32:49.416 --> 00:32:51.076 A:middle
然后你可以采用

00:32:51.076 --> 00:32:52.806 A:middle
用户名与密码文本

00:32:52.806 --> 00:32:53.616 A:middle
内容类型

00:32:54.376 --> 00:32:56.306 A:middle
那会保证 即便

00:32:56.426 --> 00:32:58.086 A:middle
iOS 或者你的视图分层

00:32:58.086 --> 00:32:59.426 A:middle
在未来几年发生了变化

00:32:59.816 --> 00:33:01.116 A:middle
密码自动填充还是会有效

00:32:59.816 --> 00:33:01.116 A:middle
密码自动填充还是会有效

00:33:02.156 --> 00:33:03.306 A:middle
现在花 3 分钟做这件事

00:33:03.306 --> 00:33:04.896 A:middle
你就可能

00:33:04.896 --> 00:33:06.136 A:middle
在几年后避免了一个 Bug 出现的

00:33:06.136 --> 00:33:06.286 A:middle
可能性

00:33:06.846 --> 00:33:09.846 A:middle
最后 通过使用

00:33:09.846 --> 00:33:11.486 A:middle
网络认证关联

00:33:11.486 --> 00:33:13.586 A:middle
域名服务 你可以在你的 App

00:33:13.586 --> 00:33:15.576 A:middle
和你的网站之间设置一个

00:33:15.686 --> 00:33:16.516 A:middle
紧密的双向链接

00:33:16.516 --> 00:33:19.156 A:middle
那会让 iOS 为

00:33:19.436 --> 00:33:20.566 A:middle
用户提供他们需要的

00:33:20.566 --> 00:33:22.196 A:middle
正确的身份信息

00:33:22.196 --> 00:33:23.416 A:middle
他们已经把这个信息

00:33:23.416 --> 00:33:24.826 A:middle
存储在 Safari 和

00:33:24.826 --> 00:33:26.616 A:middle
iCloud 钥匙串里 现在这些信息就能

00:33:26.616 --> 00:33:28.486 A:middle
直接出现在你 App 的键盘上了

00:33:30.416 --> 00:33:32.336 A:middle
如果你在今年夏天

00:33:32.466 --> 00:33:34.056 A:middle
使用密码自动填充的时候出现了

00:33:34.056 --> 00:33:36.296 A:middle
任何问题 你可以用

00:33:36.336 --> 00:33:37.816 A:middle
我刚才提过的方法

00:33:37.816 --> 00:33:39.926 A:middle
解决它们 并给我们发来

00:33:39.926 --> 00:33:40.326 A:middle
反馈

00:33:40.556 --> 00:33:41.486 A:middle
请记录 Bug

00:33:42.326 --> 00:33:43.726 A:middle
我们需要你们的帮助 以确保

00:33:43.726 --> 00:33:45.096 A:middle
用户在你们的 App 里

00:33:45.096 --> 00:33:46.866 A:middle
在现场所有人的 App 里

00:33:46.866 --> 00:33:48.026 A:middle
能得到最佳

00:33:48.026 --> 00:33:48.286 A:middle
体验

00:33:49.516 --> 00:33:50.776 A:middle
你们的反馈会对我们的工作

00:33:50.776 --> 00:33:52.386 A:middle
大有帮助

00:33:54.586 --> 00:33:55.856 A:middle
想了解关于

00:33:55.856 --> 00:33:57.436 A:middle
密码自动填充的更多信息

00:33:57.436 --> 00:33:58.796 A:middle
请参阅开发人员网站上的

00:33:58.796 --> 00:33:59.596 A:middle
这个网页

00:34:00.136 --> 00:34:02.426 A:middle
今年我们还有几场相关会议

00:34:02.426 --> 00:34:03.236 A:middle
都非常好

00:34:04.006 --> 00:34:05.136 A:middle
我刚才已经说过有

00:34:05.136 --> 00:34:06.546 A:middle
Safari 视图控制器演讲

00:34:07.266 --> 00:34:10.166 A:middle
周五早晨还有一场

00:34:10.166 --> 00:34:11.356 A:middle
讲的是让你 App 内的

00:34:11.356 --> 00:34:12.876 A:middle
键盘输入体验

00:34:12.876 --> 00:34:13.996 A:middle
变得更棒

00:34:14.516 --> 00:34:15.536 A:middle
建议大家都去看

00:34:15.536 --> 00:34:16.806 A:middle
好了

00:34:17.096 --> 00:34:18.226 A:middle
谢谢大家

00:34:18.226 --> 00:34:19.985 A:middle
祝大家享受你们的 WWDC 旅程

00:34:21.516 --> 00:34:27.639 A:middle
[掌声]
