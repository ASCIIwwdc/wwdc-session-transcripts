WEBVTT

00:00:24.516 --> 00:00:28.746 A:middle
[ 掌声 ]

00:00:29.246 --> 00:00:32.226 A:middle
&gt;&gt; 大家好 欢迎来到  WWDC

00:00:32.226 --> 00:00:33.716 A:middle
我是  Brad Jensen

00:00:33.716 --> 00:00:35.026 A:middle
今天我们要说说

00:00:35.026 --> 00:00:36.766 A:middle
定位技术的新功能

00:00:37.286 --> 00:00:39.726 A:middle
我们今天主要谈论

00:00:39.726 --> 00:00:40.586 A:middle
三个话题

00:00:41.356 --> 00:00:42.916 A:middle
首先我们要说说

00:00:42.956 --> 00:00:44.166 A:middle
我们做的各种各样

00:00:44.256 --> 00:00:45.296 A:middle
API  的改进

00:00:46.196 --> 00:00:47.586 A:middle
然后我们将会说到

00:00:47.586 --> 00:00:49.506 A:middle
今年的大变化

00:00:49.506 --> 00:00:51.406 A:middle
我们如何修改了授权

00:00:51.406 --> 00:00:53.596 A:middle
以及用户报告

00:00:53.596 --> 00:00:54.576 A:middle
在演讲过程中

00:00:54.576 --> 00:00:55.946 A:middle
我们还会根据今年所做的改变

00:00:55.946 --> 00:00:57.336 A:middle
讲一下最佳案例

00:00:57.336 --> 00:00:58.046 A:middle
的实践

00:00:58.496 --> 00:01:00.996 A:middle
现在我提醒一下

00:00:58.496 --> 00:01:00.996 A:middle
现在我提醒一下

00:01:01.276 --> 00:01:02.746 A:middle
这个演讲主要针对于

00:01:02.746 --> 00:01:03.796 A:middle
已经对  Core Location

00:01:03.796 --> 00:01:05.355 A:middle
很熟悉的开发者

00:01:05.355 --> 00:01:07.856 A:middle
所以如果你刚接触

00:01:07.856 --> 00:01:09.196 A:middle
我们的框架 我们建议你

00:01:09.196 --> 00:01:10.376 A:middle
回头看下我们的

00:01:10.376 --> 00:01:11.036 A:middle
资料

00:01:11.916 --> 00:01:13.696 A:middle
此外 我们去年的会议

00:01:13.696 --> 00:01:14.926 A:middle
有很多针对新人的

00:01:14.926 --> 00:01:15.856 A:middle
实用建议

00:01:16.766 --> 00:01:17.946 A:middle
好我们开始吧

00:01:19.686 --> 00:01:21.406 A:middle
对于 geocoding API 的用户

00:01:21.956 --> 00:01:23.176 A:middle
我们为你们准备了一些令人兴奋的

00:01:23.176 --> 00:01:23.456 A:middle
更新

00:01:24.276 --> 00:01:25.446 A:middle
我们为 Contacts 框架

00:01:25.446 --> 00:01:27.376 A:middle
增加了互通性的

00:01:27.376 --> 00:01:27.796 A:middle
支持

00:01:28.816 --> 00:01:31.296 A:middle
所以现在你可以向 geocode 发送

00:01:31.396 --> 00:01:32.486 A:middle
CNPostalAddress

00:01:33.376 --> 00:01:34.756 A:middle
并且当你得到了

00:01:34.846 --> 00:01:37.016 A:middle
CLPlacemark 结果后 你可以从

00:01:37.016 --> 00:01:38.676 A:middle
那个 placemark 得到一个

00:01:38.676 --> 00:01:39.176 A:middle
CNPostalAddress

00:01:40.576 --> 00:01:41.606 A:middle
现在  这用来

00:01:41.606 --> 00:01:43.226 A:middle
替代对以前的 Address Book

00:01:43.226 --> 00:01:44.466 A:middle
框架的

00:01:44.466 --> 00:01:44.916 A:middle
支持

00:01:45.486 --> 00:01:47.236 A:middle
更具体讲 你可以 geocode

00:01:47.236 --> 00:01:49.356 A:middle
一个地址簿

00:01:49.426 --> 00:01:50.446 A:middle
并从 placemark 得到

00:01:50.446 --> 00:01:50.896 A:middle
地址簿

00:01:51.876 --> 00:01:53.696 A:middle
在 Contacts 框架

00:01:53.696 --> 00:01:54.846 A:middle
可用的平台上

00:01:54.846 --> 00:01:56.266 A:middle
我们在弃用那些

00:01:56.266 --> 00:01:57.676 A:middle
地址簿 API

00:01:58.296 --> 00:02:00.846 A:middle
但是在 tvOS 上

00:01:58.296 --> 00:02:00.846 A:middle
但是在 tvOS 上

00:02:00.846 --> 00:02:02.386 A:middle
Contacts 框架不可用

00:02:02.386 --> 00:02:04.206 A:middle
所以你可以继续使用

00:02:04.206 --> 00:02:06.306 A:middle
那些地址簿 API

00:02:08.196 --> 00:02:09.666 A:middle
我们还为有

00:02:09.696 --> 00:02:11.586 A:middle
偏好语言区的 geocoding 增加了

00:02:11.586 --> 00:02:12.156 A:middle
支持

00:02:13.756 --> 00:02:15.916 A:middle
这不会影响你得到的结果

00:02:15.916 --> 00:02:17.726 A:middle
只会影响到

00:02:17.726 --> 00:02:18.816 A:middle
他们返回的语言

00:02:19.816 --> 00:02:21.036 A:middle
值得注意的是

00:02:21.036 --> 00:02:22.566 A:middle
Core Location 的 geocoder

00:02:22.566 --> 00:02:24.796 A:middle
的默认行为一直是

00:02:24.866 --> 00:02:26.606 A:middle
使用用户的偏好语言

00:02:26.606 --> 00:02:28.356 A:middle
来返回结果

00:02:29.166 --> 00:02:30.486 A:middle
如果你指定了偏好语言区

00:02:30.486 --> 00:02:32.286 A:middle
你就重写了

00:02:32.286 --> 00:02:34.246 A:middle
用户选定的

00:02:34.246 --> 00:02:34.826 A:middle
语言偏好

00:02:36.126 --> 00:02:37.296 A:middle
这听起来似乎很糟糕

00:02:37.296 --> 00:02:38.226 A:middle
但实际上很多时候却

00:02:38.226 --> 00:02:38.906 A:middle
很有用

00:02:40.036 --> 00:02:41.306 A:middle
比如你在做一个

00:02:41.306 --> 00:02:43.516 A:middle
旅行指南 你可能想要

00:02:43.516 --> 00:02:45.406 A:middle
在你的 App 中添加文本

00:02:45.406 --> 00:02:47.006 A:middle
并且跟用户在实际生活中

00:02:47.006 --> 00:02:48.196 A:middle
看到的文本相符

00:02:48.776 --> 00:02:49.906 A:middle
在这种情况下你

00:02:49.936 --> 00:02:51.436 A:middle
向 geocoder 提供

00:02:51.436 --> 00:02:53.776 A:middle
一个偏好语言区

00:02:53.776 --> 00:02:55.246 A:middle
产生一个适于顾客

00:02:55.246 --> 00:02:56.606 A:middle
访问区域的结果

00:02:57.156 --> 00:03:00.886 A:middle
我们同样花时间改进了

00:02:57.156 --> 00:03:00.886 A:middle
我们同样花时间改进了

00:03:00.926 --> 00:03:02.786 A:middle
我们的 heading 更新 API

00:03:03.396 --> 00:03:04.536 A:middle
在这之前让我们

00:03:04.626 --> 00:03:05.916 A:middle
确保我们都懂得了

00:03:05.916 --> 00:03:06.416 A:middle
这些术语

00:03:07.996 --> 00:03:09.996 A:middle
Heading 是指你

00:03:09.996 --> 00:03:13.496 A:middle
面朝的方向

00:03:13.856 --> 00:03:15.096 A:middle
而 course 是你实际上行动的

00:03:15.096 --> 00:03:15.586 A:middle
方向

00:03:16.406 --> 00:03:17.966 A:middle
对于船和飞机来说

00:03:17.966 --> 00:03:19.576 A:middle
你可能会看到因为

00:03:19.576 --> 00:03:21.646 A:middle
风和洋流作用 heading 和

00:03:21.646 --> 00:03:23.386 A:middle
course 不一样

00:03:25.666 --> 00:03:27.266 A:middle
另一方面对于汽车来说

00:03:27.696 --> 00:03:28.756 A:middle
你几乎从未看见

00:03:28.756 --> 00:03:29.916 A:middle
heading 和 course 之间

00:03:29.916 --> 00:03:30.836 A:middle
有显著差异

00:03:32.366 --> 00:03:33.986 A:middle
即使有非常猛烈的

00:03:33.986 --> 00:03:35.466 A:middle
风将汽车吹向一边

00:03:35.466 --> 00:03:37.086 A:middle
司机会试图

00:03:37.086 --> 00:03:38.126 A:middle
矫正它

00:03:38.536 --> 00:03:39.786 A:middle
他们不想被风力推出

00:03:39.786 --> 00:03:40.836 A:middle
他们的车道 更坏的情况是

00:03:40.836 --> 00:03:41.826 A:middle
脱离道路

00:03:42.736 --> 00:03:44.276 A:middle
这是一个非常便捷的

00:03:44.276 --> 00:03:46.646 A:middle
观察结果因为当我们在

00:03:46.646 --> 00:03:49.086 A:middle
计算 GPS 大概位置时

00:03:49.086 --> 00:03:50.536 A:middle
我们很有可能对设备

00:03:50.536 --> 00:03:52.436 A:middle
的 course 有个良好的计量

00:03:52.906 --> 00:03:54.146 A:middle
但有时计算 heading

00:03:54.146 --> 00:03:54.826 A:middle
可能会比较

00:03:54.826 --> 00:03:54.976 A:middle
棘手

00:03:59.276 --> 00:04:01.386 A:middle
即使我们能正确

00:03:59.276 --> 00:04:01.386 A:middle
即使我们能正确

00:04:01.386 --> 00:04:02.586 A:middle
测量设备的 heading

00:04:02.586 --> 00:04:04.256 A:middle
这也有可能不是

00:04:04.316 --> 00:04:04.986 A:middle
正确的 heading

00:04:06.246 --> 00:04:08.416 A:middle
比如让我们假设

00:04:08.416 --> 00:04:10.116 A:middle
用户在车里导航

00:04:10.206 --> 00:04:11.806 A:middle
他们把他们的 iPhone 放在了

00:04:11.806 --> 00:04:12.636 A:middle
他们的仪表盘上

00:04:13.216 --> 00:04:14.316 A:middle
很有可能

00:04:14.316 --> 00:04:15.696 A:middle
他们把他们的 iPhone

00:04:15.696 --> 00:04:17.456 A:middle
朝向了自己

00:04:17.456 --> 00:04:18.656 A:middle
当他们这么做时 他们引入了

00:04:18.656 --> 00:04:20.096 A:middle
他们汽车的 heading

00:04:20.096 --> 00:04:21.866 A:middle
与他们 iPhone 的 heading

00:04:21.866 --> 00:04:24.206 A:middle
之间的误差 但他们导航时

00:04:24.206 --> 00:04:25.376 A:middle
他们希望看到

00:04:25.376 --> 00:04:26.956 A:middle
他们汽车的 heading

00:04:29.336 --> 00:04:31.816 A:middle
幸运的是我们找到了

00:04:31.816 --> 00:04:33.286 A:middle
一个计算汽车 heading

00:04:33.286 --> 00:04:33.846 A:middle
的绝佳方式

00:04:33.926 --> 00:04:37.906 A:middle
我们可以使用 iPhone 的

00:04:38.126 --> 00:04:38.526 A:middle
course

00:04:38.526 --> 00:04:41.116 A:middle
所以在 iOS 11 中 Core Location

00:04:41.116 --> 00:04:42.616 A:middle
现在可以自动检测

00:04:42.616 --> 00:04:44.236 A:middle
heading 和 course

00:04:44.236 --> 00:04:46.036 A:middle
应该一致的情况

00:04:46.036 --> 00:04:47.836 A:middle
它会权衡

00:04:47.916 --> 00:04:49.776 A:middle
course 信息来提供

00:04:49.776 --> 00:04:51.336 A:middle
更准确的 heading 更新

00:04:51.876 --> 00:04:54.366 A:middle
很重要的一点是当你使用

00:04:54.366 --> 00:04:56.286 A:middle
Core Location 的 heading API 时

00:04:56.386 --> 00:04:57.976 A:middle
这个行为是完全自动的

00:04:57.976 --> 00:04:59.046 A:middle
且一直开启

00:05:00.246 --> 00:05:01.986 A:middle
所以如果你在为飞机

00:05:03.166 --> 00:05:05.416 A:middle
或轮船或 AR 开发 App

00:05:05.416 --> 00:05:08.046 A:middle
那么或许你应该

00:05:08.046 --> 00:05:09.346 A:middle
选择使用 Core Motion 的

00:05:09.736 --> 00:05:12.166 A:middle
CMDeviceMotion API

00:05:13.576 --> 00:05:15.166 A:middle
我们的检测机制非常优秀

00:05:15.166 --> 00:05:16.786 A:middle
但不是完美的

00:05:16.816 --> 00:05:17.966 A:middle
有时候它也

00:05:17.966 --> 00:05:19.166 A:middle
会犯错

00:05:19.686 --> 00:05:20.956 A:middle
如果你想了解更多

00:05:20.956 --> 00:05:22.046 A:middle
他们的 API 他们今年

00:05:22.046 --> 00:05:22.846 A:middle
还有个大会

00:05:23.206 --> 00:05:24.646 A:middle
我觉得非常值得

00:05:24.646 --> 00:05:25.786 A:middle
参加

00:05:28.036 --> 00:05:29.596 A:middle
我们还花了很多时间

00:05:29.596 --> 00:05:31.126 A:middle
改进我们的室内

00:05:31.126 --> 00:05:31.576 A:middle
定位系统

00:05:32.236 --> 00:05:34.226 A:middle
正如你在 Keynote 看到的那样

00:05:34.226 --> 00:05:36.516 A:middle
Maps 现在会在世界内很多

00:05:36.516 --> 00:05:38.026 A:middle
室内场馆显示

00:05:38.026 --> 00:05:38.496 A:middle
楼层指引

00:05:40.376 --> 00:05:42.106 A:middle
在这些场馆中所有请求

00:05:42.106 --> 00:05:44.306 A:middle
最准确位置的 App

00:05:44.596 --> 00:05:46.486 A:middle
都会自动接收我们的

00:05:46.486 --> 00:05:48.476 A:middle
高精确度室内位置

00:05:48.476 --> 00:05:49.086 A:middle
数据

00:05:49.796 --> 00:05:50.896 A:middle
今天我还想

00:05:50.896 --> 00:05:52.236 A:middle
和大家分享四点

00:05:52.236 --> 00:05:54.366 A:middle
令人兴奋的改进

00:05:54.536 --> 00:05:56.516 A:middle
首先我们提升了

00:05:56.596 --> 00:05:58.286 A:middle
测量的精确度

00:05:59.336 --> 00:06:01.366 A:middle
我们的测量达到了 GPS 级别

00:05:59.336 --> 00:06:01.366 A:middle
我们的测量达到了 GPS 级别

00:06:01.366 --> 00:06:01.766 A:middle
甚至更好

00:06:03.136 --> 00:06:04.896 A:middle
第二 我们提高了

00:06:04.896 --> 00:06:07.566 A:middle
我们室内定位系统

00:06:07.566 --> 00:06:08.436 A:middle
的响应能力

00:06:08.916 --> 00:06:10.446 A:middle
当用户刚进入一个

00:06:10.446 --> 00:06:12.396 A:middle
场馆后你就会开始接收

00:06:12.396 --> 00:06:13.886 A:middle
那些室内计量数据

00:06:13.886 --> 00:06:15.646 A:middle
比 iOS 10 快的多

00:06:16.766 --> 00:06:18.056 A:middle
我们还提高了我们

00:06:18.146 --> 00:06:19.916 A:middle
检测楼层变化的速度

00:06:21.296 --> 00:06:22.666 A:middle
你得到新楼层

00:06:22.666 --> 00:06:24.306 A:middle
的通知会比 iOS 10

00:06:24.306 --> 00:06:27.516 A:middle
快很多

00:06:27.726 --> 00:06:29.376 A:middle
我们还优化了可用性

00:06:29.656 --> 00:06:31.006 A:middle
我不仅仅是指

00:06:31.006 --> 00:06:32.926 A:middle
Core Location 支持的

00:06:32.926 --> 00:06:33.506 A:middle
场馆数

00:06:33.786 --> 00:06:35.466 A:middle
如果用户走进了

00:06:35.516 --> 00:06:36.716 A:middle
一片未经勘测的

00:06:36.716 --> 00:06:38.766 A:middle
场馆区域

00:06:38.766 --> 00:06:40.546 A:middle
你还是会通过 Core Location

00:06:40.546 --> 00:06:41.936 A:middle
得到高质量的室内测量数据

00:06:42.536 --> 00:06:45.686 A:middle
我们还提高了

00:06:45.806 --> 00:06:48.436 A:middle
室内定位系统和

00:06:48.436 --> 00:06:50.626 A:middle
无线配件之间的

00:06:50.626 --> 00:06:51.206 A:middle
互通性

00:06:51.976 --> 00:06:54.156 A:middle
所以假设用户即使

00:06:54.156 --> 00:06:55.926 A:middle
在通过他们的 AirPod

00:06:55.996 --> 00:06:58.266 A:middle
播放 Beats 1 你还是会

00:06:58.376 --> 00:06:59.686 A:middle
接收到高质量的室内

00:06:59.686 --> 00:06:59.976 A:middle
位置数据

00:07:05.076 --> 00:07:07.176 A:middle
对于 watchOS 我们在推进

00:07:07.176 --> 00:07:08.776 A:middle
持续的后台位置 API 的

00:07:08.776 --> 00:07:09.826 A:middle
可用性

00:07:10.856 --> 00:07:12.186 A:middle
你可能已经听说过

00:07:12.186 --> 00:07:13.636 A:middle
这个 API 了 但万一你没有

00:07:13.636 --> 00:07:16.236 A:middle
这个 API 允许你的 App

00:07:16.306 --> 00:07:18.346 A:middle
即使在进入后台时

00:07:18.346 --> 00:07:19.776 A:middle
也能接收位置更新

00:07:21.506 --> 00:07:23.436 A:middle
现在在 watchOS 3 中

00:07:23.436 --> 00:07:24.786 A:middle
也可以通过同时使用

00:07:24.786 --> 00:07:26.196 A:middle
Core Location 和

00:07:26.196 --> 00:07:27.696 A:middle
HealthKit 来实现相似的

00:07:27.696 --> 00:07:28.196 A:middle
功能了

00:07:29.206 --> 00:07:31.536 A:middle
一个 HKWorkoutSession 会允许

00:07:31.536 --> 00:07:32.956 A:middle
你的 App 即使在后台时

00:07:32.956 --> 00:07:36.546 A:middle
也能持续接收

00:07:36.546 --> 00:07:37.816 A:middle
位置信息更新

00:07:39.136 --> 00:07:41.166 A:middle
但是我们希望

00:07:41.166 --> 00:07:42.806 A:middle
让你为顾客创造

00:07:42.806 --> 00:07:43.796 A:middle
基于位置的新体验

00:07:43.796 --> 00:07:45.806 A:middle
不一定和健身锻炼有关

00:07:45.806 --> 00:07:46.906 A:middle
所以我们在把我们通用的

00:07:46.946 --> 00:07:48.576 A:middle
持续后台位置 API

00:07:48.576 --> 00:07:50.616 A:middle
带到 watchOS 中

00:07:51.156 --> 00:07:54.886 A:middle
我们通常的指导

00:07:54.886 --> 00:07:55.476 A:middle
仍然适用

00:07:56.256 --> 00:07:58.266 A:middle
这是一个相当强大但代价高昂的

00:07:58.266 --> 00:08:00.006 A:middle
API 所以在使用它之前

00:07:58.266 --> 00:08:00.006 A:middle
API 所以在使用它之前

00:08:00.006 --> 00:08:02.426 A:middle
你应该仔细考虑

00:08:02.426 --> 00:08:04.156 A:middle
但是如果你要创建一个

00:08:04.156 --> 00:08:06.376 A:middle
比如说 导航 App 或健身类 App

00:08:07.266 --> 00:08:08.446 A:middle
那么持续后台位置

00:08:08.446 --> 00:08:10.116 A:middle
绝对就是

00:08:10.116 --> 00:08:10.956 A:middle
你所需要的

00:08:11.556 --> 00:08:14.416 A:middle
我们想确保

00:08:14.416 --> 00:08:15.806 A:middle
这个功能只能

00:08:15.806 --> 00:08:18.986 A:middle
在一处使用 所以在

00:08:18.986 --> 00:08:22.246 A:middle
watchOS 4 中 HKWorkoutSessions

00:08:22.246 --> 00:08:24.846 A:middle
不会再给予你的 App

00:08:24.846 --> 00:08:27.556 A:middle
在后台获取位置的权限

00:08:28.396 --> 00:08:29.576 A:middle
旧版的 App 仍然能运作

00:08:29.576 --> 00:08:30.966 A:middle
但当你连接到

00:08:30.966 --> 00:08:33.515 A:middle
watchOS 4 SDK 时

00:08:33.515 --> 00:08:34.936 A:middle
你必须采用持续后台位置

00:08:34.936 --> 00:08:35.765 A:middle
API

00:08:36.946 --> 00:08:38.176 A:middle
否则你的 App

00:08:38.176 --> 00:08:39.616 A:middle
将不能获取用户的

00:08:39.616 --> 00:08:40.096 A:middle
位置

00:08:41.586 --> 00:08:43.726 A:middle
幸运的是 采用我们的 API

00:08:43.726 --> 00:08:43.996 A:middle
非常简单

00:08:43.996 --> 00:08:45.536 A:middle
只需要简单的

00:08:45.536 --> 00:08:46.076 A:middle
三步

00:08:46.956 --> 00:08:49.146 A:middle
首先在后台模式下

00:08:49.146 --> 00:08:50.976 A:middle
开启位置更新

00:08:51.406 --> 00:08:52.856 A:middle
在 Xcode 中切换到

00:08:52.856 --> 00:08:54.316 A:middle
Capabilities 标签

00:08:54.696 --> 00:08:55.896 A:middle
下滑至 Background Modes

00:08:55.896 --> 00:08:57.226 A:middle
并在 Location Updates 框

00:08:57.226 --> 00:08:57.636 A:middle
打钩

00:08:58.106 --> 00:09:01.726 A:middle
第二你需要在

00:08:58.106 --> 00:09:01.726 A:middle
第二你需要在

00:09:01.726 --> 00:09:03.396 A:middle
Location Manager 中

00:09:03.456 --> 00:09:05.246 A:middle
将 allowsBackgroundLocationUpdates

00:09:05.246 --> 00:09:06.016 A:middle
属性设为 True

00:09:07.496 --> 00:09:09.156 A:middle
我们建议你仅在

00:09:09.496 --> 00:09:10.886 A:middle
用户进行了某项操作后

00:09:10.886 --> 00:09:12.696 A:middle
进行这一步而这要求

00:09:13.676 --> 00:09:13.926 A:middle
抱歉

00:09:13.966 --> 00:09:14.576 A:middle
我讲快了

00:09:15.226 --> 00:09:16.866 A:middle
我们建议你仅在

00:09:16.866 --> 00:09:20.316 A:middle
用户开始锻炼

00:09:20.316 --> 00:09:21.186 A:middle
或者导航时

00:09:21.186 --> 00:09:22.106 A:middle
进行这一步

00:09:22.436 --> 00:09:23.756 A:middle
这样你就不会

00:09:23.756 --> 00:09:25.176 A:middle
在你打算开始之前

00:09:25.176 --> 00:09:26.266 A:middle
启动了持续后台位置

00:09:26.266 --> 00:09:28.296 A:middle
进程

00:09:28.986 --> 00:09:30.806 A:middle
最后你只需要

00:09:30.806 --> 00:09:32.326 A:middle
当你的 App 在前台运行时

00:09:32.326 --> 00:09:33.166 A:middle
调出 startUpdatingLocation

00:09:33.996 --> 00:09:35.016 A:middle
当你的 App 进入后台时

00:09:35.016 --> 00:09:36.616 A:middle
Core Location 会让

00:09:36.616 --> 00:09:37.756 A:middle
你的 App 保持运行

00:09:37.756 --> 00:09:39.026 A:middle
然后持续发送

00:09:39.026 --> 00:09:39.506 A:middle
位置更新

00:09:40.026 --> 00:09:43.096 A:middle
当我们在讨论

00:09:43.206 --> 00:09:44.616 A:middle
健身类 App 时

00:09:44.616 --> 00:09:45.676 A:middle
我们有一些建议能帮你

00:09:45.676 --> 00:09:47.176 A:middle
为你的用户创造可能是最好的

00:09:47.176 --> 00:09:47.986 A:middle
体验

00:09:49.916 --> 00:09:53.136 A:middle
首先我们建议你

00:09:53.136 --> 00:09:54.876 A:middle
继续使用 HealthKit

00:09:54.996 --> 00:09:57.156 A:middle
即使创建一个不使用

00:09:57.336 --> 00:09:58.796 A:middle
HealthKit 或 HKWorkoutSession

00:09:58.796 --> 00:10:00.756 A:middle
的健身 App 也是可能的

00:09:58.796 --> 00:10:00.756 A:middle
的健身 App 也是可能的

00:10:01.666 --> 00:10:03.686 A:middle
但这样做会让你的 App

00:10:03.686 --> 00:10:05.826 A:middle
不能用上我们在 Core Location

00:10:05.916 --> 00:10:07.286 A:middle
中为健身场景设计的很多

00:10:07.286 --> 00:10:08.436 A:middle
调整

00:10:09.626 --> 00:10:11.596 A:middle
所以请继续使用 HealthKit 和

00:10:11.646 --> 00:10:12.816 A:middle
HKWorkoutSession

00:10:13.296 --> 00:10:16.826 A:middle
第二 如果你知道你的

00:10:16.826 --> 00:10:18.856 A:middle
用户正在徒步锻炼

00:10:19.756 --> 00:10:21.936 A:middle
我们推荐你使用 CMPedometer

00:10:21.936 --> 00:10:24.006 A:middle
来测算这个用户的行进

00:10:24.006 --> 00:10:24.376 A:middle
距离

00:10:25.946 --> 00:10:27.226 A:middle
在某些环境下

00:10:27.226 --> 00:10:28.806 A:middle
要准确计算用户的

00:10:28.806 --> 00:10:30.266 A:middle
位置会非常困难

00:10:31.176 --> 00:10:32.666 A:middle
如果用户在

00:10:32.696 --> 00:10:33.666 A:middle
这些环境中奔跑

00:10:33.666 --> 00:10:35.226 A:middle
你会发现

00:10:35.286 --> 00:10:37.096 A:middle
准确计算用户的

00:10:37.096 --> 00:10:38.496 A:middle
行进距离更加困难

00:10:39.896 --> 00:10:40.956 A:middle
但如果你知道

00:10:40.956 --> 00:10:42.386 A:middle
他们在徒步锻炼

00:10:42.386 --> 00:10:44.246 A:middle
且你使用了 CMPedometer

00:10:44.246 --> 00:10:44.976 A:middle
你的 App 就不会被影响

00:10:49.146 --> 00:10:51.666 A:middle
好了 这些是零零碎碎

00:10:51.666 --> 00:10:52.036 A:middle
的事情

00:10:52.646 --> 00:10:53.636 A:middle
让我们来说重点

00:10:54.176 --> 00:10:55.576 A:middle
授权以及报告的

00:10:55.576 --> 00:10:56.086 A:middle
使用

00:10:56.696 --> 00:10:58.516 A:middle
我们花了很多时间来更迭

00:10:58.666 --> 00:11:00.136 A:middle
Core Location 的授权

00:10:58.666 --> 00:11:00.136 A:middle
Core Location 的授权

00:11:00.206 --> 00:11:01.266 A:middle
和使用报告的工作方式

00:11:01.266 --> 00:11:03.206 A:middle
我们尝试了一些

00:11:03.206 --> 00:11:04.536 A:middle
令人兴奋的改变

00:11:04.536 --> 00:11:06.316 A:middle
我们觉得你的用户会

00:11:06.316 --> 00:11:06.656 A:middle
喜欢

00:11:08.856 --> 00:11:11.046 A:middle
首先让我们快速看一下

00:11:11.046 --> 00:11:11.776 A:middle
它怎么工作的

00:11:12.716 --> 00:11:14.486 A:middle
Core Location 支持两种

00:11:14.606 --> 00:11:17.106 A:middle
授权模式：WhenInUse

00:11:17.446 --> 00:11:18.226 A:middle
和 Always

00:11:19.596 --> 00:11:21.586 A:middle
Always 授权允许你的 App

00:11:21.586 --> 00:11:23.096 A:middle
能在 App 运行的

00:11:23.096 --> 00:11:25.286 A:middle
任何时候获取用户的

00:11:25.286 --> 00:11:25.646 A:middle
位置

00:11:26.956 --> 00:11:28.856 A:middle
此外 Always 授权的 App

00:11:28.856 --> 00:11:30.396 A:middle
可以使用我们的后台

00:11:30.396 --> 00:11:31.476 A:middle
监视 API

00:11:32.436 --> 00:11:33.656 A:middle
这些可以让你的

00:11:33.656 --> 00:11:35.356 A:middle
App 运行起来 并在有多个

00:11:35.356 --> 00:11:37.086 A:middle
基于位置的事件进行时

00:11:37.086 --> 00:11:37.826 A:middle
接收信息

00:11:38.606 --> 00:11:40.036 A:middle
例如 每当用户

00:11:40.036 --> 00:11:41.656 A:middle
进入或离开了

00:11:41.656 --> 00:11:43.896 A:middle
你指定的区域

00:11:43.966 --> 00:11:46.276 A:middle
区域监测 API 就会启动

00:11:46.276 --> 00:11:46.706 A:middle
你的 App

00:11:49.316 --> 00:11:51.466 A:middle
WhenInUse 授权模式

00:11:51.606 --> 00:11:53.516 A:middle
允许你的 App

00:11:53.516 --> 00:11:56.226 A:middle
在被使用的任何时候

00:11:56.226 --> 00:11:58.006 A:middle
获取用户的位置

00:11:59.316 --> 00:12:00.886 A:middle
通常如果你的 App 在使用期间

00:11:59.316 --> 00:12:00.886 A:middle
通常如果你的 App 在使用期间

00:12:00.916 --> 00:12:01.666 A:middle
意味着它处于

00:12:01.666 --> 00:12:03.436 A:middle
前台但情况并不

00:12:03.476 --> 00:12:04.346 A:middle
总是这样

00:12:05.216 --> 00:12:07.276 A:middle
例如 如果你在使用

00:12:07.276 --> 00:12:08.446 A:middle
持续后台位置 API

00:12:08.446 --> 00:12:11.616 A:middle
在 iOS 中 Core Location

00:12:11.616 --> 00:12:13.306 A:middle
会绘制一条蓝色的状态栏

00:12:13.306 --> 00:12:14.786 A:middle
在屏幕上方的两倍高度的

00:12:14.786 --> 00:12:16.606 A:middle
蓝色状态栏 提醒用户

00:12:16.606 --> 00:12:18.316 A:middle
这个 App 仍在

00:12:18.316 --> 00:12:19.596 A:middle
运行并且仍在获取

00:12:19.596 --> 00:12:21.246 A:middle
他们的位置 这样

00:12:21.246 --> 00:12:23.256 A:middle
你的 App 就会被认作在使用

00:12:23.956 --> 00:12:24.106 A:middle
中

00:12:24.676 --> 00:12:26.736 A:middle
我们引入了 WhenInUse

00:12:26.736 --> 00:12:27.996 A:middle
授权模式 因为我们

00:12:27.996 --> 00:12:30.466 A:middle
想要让用户拥有

00:12:30.466 --> 00:12:32.596 A:middle
对 App 如何获取他们的隐私数据

00:12:32.626 --> 00:12:33.856 A:middle
的更高控制权

00:12:34.936 --> 00:12:35.966 A:middle
并且用户喜欢这样

00:12:36.486 --> 00:12:37.806 A:middle
他们喜欢知道 App

00:12:37.806 --> 00:12:39.466 A:middle
只有在他们想的时候

00:12:39.466 --> 00:12:40.726 A:middle
才能获取他们的位置

00:12:41.756 --> 00:12:43.206 A:middle
我们觉得这代表了

00:12:43.206 --> 00:12:47.666 A:middle
用户能控制你的 App

00:12:47.666 --> 00:12:49.386 A:middle
如何获取他们位置

00:12:49.386 --> 00:12:51.556 A:middle
与你能为用户创造

00:12:51.556 --> 00:12:53.226 A:middle
具有吸引力的 App 体验

00:12:53.226 --> 00:12:54.696 A:middle
之间的良好平衡

00:12:55.686 --> 00:12:57.106 A:middle
自从我们引入了

00:12:57.106 --> 00:12:58.716 A:middle
WhenInUse 授权模式后

00:12:58.716 --> 00:13:00.266 A:middle
得到了热烈响应

00:12:58.716 --> 00:13:00.266 A:middle
得到了热烈响应

00:13:01.166 --> 00:13:03.266 A:middle
iOS 中几乎百分之八十

00:13:03.266 --> 00:13:05.326 A:middle
使用位置的 App

00:13:05.636 --> 00:13:07.426 A:middle
支持 WhenInUse 授权

00:13:08.306 --> 00:13:11.226 A:middle
只有 百分之二十一 选择

00:13:11.226 --> 00:13:13.136 A:middle
从用户那里获取

00:13:13.136 --> 00:13:15.536 A:middle
Always 授权

00:13:15.666 --> 00:13:17.016 A:middle
用户们喜欢 WhenInUse

00:13:17.016 --> 00:13:18.486 A:middle
授权模式

00:13:18.486 --> 00:13:19.886 A:middle
多亏了你们的努力

00:13:19.886 --> 00:13:20.996 A:middle
他们几乎一直拥有

00:13:20.996 --> 00:13:21.226 A:middle
选择权

00:13:21.946 --> 00:13:24.766 A:middle
我们认为这非常棒

00:13:24.766 --> 00:13:25.946 A:middle
但是我们想知道我们能不能

00:13:25.946 --> 00:13:26.306 A:middle
做的更好

00:13:27.156 --> 00:13:28.346 A:middle
现在让我们看看

00:13:28.346 --> 00:13:30.166 A:middle
一个 App 可能选择获取

00:13:30.166 --> 00:13:31.876 A:middle
Always 授权的一些原因

00:13:32.416 --> 00:13:36.386 A:middle
我们认为其中一个常见

00:13:36.386 --> 00:13:38.546 A:middle
原因是开发者只是

00:13:38.856 --> 00:13:39.946 A:middle
感到困惑

00:13:40.516 --> 00:13:43.056 A:middle
事实证明许多

00:13:43.056 --> 00:13:44.156 A:middle
要求 Always 授权

00:13:44.156 --> 00:13:46.436 A:middle
的 App 实际上并未使用

00:13:46.586 --> 00:13:48.156 A:middle
我们的任何一个后台监测

00:13:48.256 --> 00:13:48.646 A:middle
API

00:13:50.026 --> 00:13:51.756 A:middle
很有可能这些 App

00:13:51.756 --> 00:13:53.556 A:middle
会继续正常运作

00:13:53.556 --> 00:13:54.956 A:middle
即使他们获得的是

00:13:54.956 --> 00:13:56.756 A:middle
WhenInUse 授权

00:13:58.776 --> 00:14:00.306 A:middle
但当用户遇到一个

00:13:58.776 --> 00:14:00.306 A:middle
但当用户遇到一个

00:14:00.306 --> 00:14:02.056 A:middle
这样的 App 时 他们并不知道

00:14:02.056 --> 00:14:02.366 A:middle
这点

00:14:03.196 --> 00:14:04.646 A:middle
他们不能看见 App 的

00:14:04.646 --> 00:14:05.016 A:middle
源代码

00:14:06.046 --> 00:14:07.326 A:middle
他们不知道

00:14:07.326 --> 00:14:10.356 A:middle
它并不会监测他们一整天

00:14:10.356 --> 00:14:11.646 A:middle
所以他们只能当做它会

00:14:11.646 --> 00:14:13.376 A:middle
来对待 而这带来了

00:14:13.376 --> 00:14:14.686 A:middle
非常差的用户体验

00:14:15.286 --> 00:14:19.016 A:middle
我们认为很多开发者

00:14:19.016 --> 00:14:20.546 A:middle
选择请求 Always 授权

00:14:20.546 --> 00:14:22.206 A:middle
的第二个原因是

00:14:22.206 --> 00:14:23.156 A:middle
他们只是想给

00:14:23.156 --> 00:14:24.316 A:middle
他们的用户最好的

00:14:24.316 --> 00:14:25.056 A:middle
体验

00:14:26.476 --> 00:14:29.056 A:middle
看 并不是所有功能

00:14:29.056 --> 00:14:30.416 A:middle
都能恰当地用

00:14:30.416 --> 00:14:31.556 A:middle
WhenInUse 授权实现

00:14:31.876 --> 00:14:33.986 A:middle
有些功能就是需要

00:14:33.986 --> 00:14:36.066 A:middle
Always 授权

00:14:36.066 --> 00:14:37.846 A:middle
我们认为这些开发者只是

00:14:37.846 --> 00:14:39.306 A:middle
想确保他们的用户

00:14:39.436 --> 00:14:40.946 A:middle
能得到 App 提供的

00:14:40.946 --> 00:14:44.666 A:middle
最佳体验 但是这对

00:14:44.666 --> 00:14:46.456 A:middle
那些不希望给予

00:14:46.456 --> 00:14:48.236 A:middle
App Always 授权

00:14:48.336 --> 00:14:49.486 A:middle
的用户带来了非常差

00:14:49.486 --> 00:14:50.546 A:middle
的用户体验

00:14:51.516 --> 00:14:52.726 A:middle
他们被迫

00:14:52.726 --> 00:14:54.806 A:middle
在授予 App Always

00:14:55.026 --> 00:14:56.716 A:middle
和和授予其 Never 中作出选择

00:14:56.716 --> 00:14:58.946 A:middle
就像在这里例子中 他们并不想这样

00:15:01.356 --> 00:15:02.566 A:middle
Never 意味着他们不能

00:15:02.566 --> 00:15:03.986 A:middle
从 App 中任何基于位置的功能中

00:15:03.986 --> 00:15:04.486 A:middle
受益

00:15:05.026 --> 00:15:06.356 A:middle
他们最后授予其

00:15:06.356 --> 00:15:08.046 A:middle
Always 然后在使用完

00:15:08.086 --> 00:15:09.916 A:middle
这个 App 后就撤销了

00:15:09.916 --> 00:15:10.786 A:middle
这个授权

00:15:12.116 --> 00:15:14.286 A:middle
无论如何用户都没有

00:15:14.286 --> 00:15:16.346 A:middle
和这个 App 相处得

00:15:18.326 --> 00:15:18.406 A:middle
很好

00:15:18.676 --> 00:15:22.256 A:middle
所以在 iOS 11 中我们要求所有

00:15:22.256 --> 00:15:24.136 A:middle
拥有请求 Always 的 App

00:15:24.606 --> 00:15:27.166 A:middle
的开发者额外支持

00:15:27.166 --> 00:15:28.956 A:middle
WhenInUse

00:15:28.956 --> 00:15:30.766 A:middle
授权模式

00:15:31.956 --> 00:15:34.176 A:middle
这个变化既具有回溯性

00:15:34.336 --> 00:15:36.236 A:middle
又具有前瞻性

00:15:36.236 --> 00:15:39.026 A:middle
所以当用户升级至 iOS 11 后

00:15:39.026 --> 00:15:40.506 A:middle
他们可以向任何

00:15:40.506 --> 00:15:42.096 A:middle
请求 Always 授权的

00:15:42.096 --> 00:15:44.056 A:middle
App 给予 WhenInUse

00:15:44.106 --> 00:15:44.976 A:middle
授权模式

00:15:49.296 --> 00:15:51.566 A:middle
如果你连接至 iOS 11 SDK

00:15:51.566 --> 00:15:54.326 A:middle
你必须提供

00:15:54.326 --> 00:15:56.256 A:middle
WhenInUseUsageDescription

00:15:56.726 --> 00:15:58.146 A:middle
否则你的 App

00:15:58.186 --> 00:15:59.586 A:middle
将不能请求 Always

00:15:59.586 --> 00:16:00.336 A:middle
授权

00:15:59.586 --> 00:16:00.336 A:middle
授权

00:16:02.576 --> 00:16:04.806 A:middle
此外当你的 App

00:16:04.806 --> 00:16:06.216 A:middle
请求 Always 授权时

00:16:06.686 --> 00:16:09.096 A:middle
我们会额外显示

00:16:09.096 --> 00:16:10.206 A:middle
一个选项来给予你 App

00:16:10.376 --> 00:16:12.236 A:middle
WhenInUse 的授权

00:16:12.786 --> 00:16:15.586 A:middle
有了这三个新的选项

00:16:15.586 --> 00:16:17.176 A:middle
提示我们还有个新的

00:16:17.176 --> 00:16:19.096 A:middle
UsageDescription 字符串

00:16:20.316 --> 00:16:21.766 A:middle
你的 App 需要提供一个

00:16:21.896 --> 00:16:23.246 A:middle
AlwaysAndWhenInUse

00:16:23.426 --> 00:16:24.456 A:middle
UsageDescription

00:16:25.426 --> 00:16:26.846 A:middle
因为这是一个不同的 Key

00:16:27.626 --> 00:16:29.536 A:middle
当你连接至新的 iOS 11

00:16:29.536 --> 00:16:31.326 A:middle
SDK 时你的 App 必须

00:16:31.456 --> 00:16:31.856 A:middle
提供它

00:16:32.876 --> 00:16:34.746 A:middle
对于连接到 iOS 11 和之后

00:16:34.746 --> 00:16:36.466 A:middle
版本的 App Core Location

00:16:36.646 --> 00:16:40.256 A:middle
不会使用旧的 NSLocationAlways

00:16:40.256 --> 00:16:40.976 A:middle
UsageDescription Key

00:16:45.226 --> 00:16:46.806 A:middle
让我们谈一下最佳实践案例

00:16:46.806 --> 00:16:48.156 A:middle
看看这个是怎么

00:16:48.156 --> 00:16:48.636 A:middle
做出改变的

00:16:50.166 --> 00:16:51.406 A:middle
对于想要 Always 授权

00:16:51.406 --> 00:16:53.726 A:middle
的 App 我们推荐你

00:16:53.726 --> 00:16:55.786 A:middle
提供所有三个 Key

00:16:55.966 --> 00:16:57.606 A:middle
包括 不会再用的NSLocationAlways

00:16:57.706 --> 00:16:59.016 A:middle
UsageDescription

00:16:59.016 --> 00:17:00.376 A:middle
这个我刚说过

00:16:59.016 --> 00:17:00.376 A:middle
这个我刚说过

00:17:01.316 --> 00:17:04.066 A:middle
因为如果你想

00:17:04.066 --> 00:17:05.715 A:middle
在一个运行 iOS 10 或

00:17:06.165 --> 00:17:08.116 A:middle
更早版本的设备上部署你的 App

00:17:08.116 --> 00:17:09.786 A:middle
你需要提供它能

00:17:09.786 --> 00:17:11.286 A:middle
读懂的字符串

00:17:11.726 --> 00:17:13.006 A:middle
所以你应该继续

00:17:13.006 --> 00:17:14.955 A:middle
提供 NSLocationAlways

00:17:15.076 --> 00:17:16.026 A:middle
UsageDescription

00:17:18.496 --> 00:17:22.945 A:middle
第二你的 AlwaysAndWhenInUse

00:17:22.945 --> 00:17:24.346 A:middle
UsageDescription 应该帮助

00:17:24.346 --> 00:17:26.945 A:middle
用户选择 Always 还是

00:17:27.156 --> 00:17:27.915 A:middle
WhenInUse

00:17:28.096 --> 00:17:29.476 A:middle
在有两个选项呈现

00:17:29.476 --> 00:17:30.796 A:middle
给用户的情况下

00:17:30.796 --> 00:17:31.776 A:middle
我们会用到它

00:17:33.246 --> 00:17:35.266 A:middle
所以你的描述应该

00:17:35.266 --> 00:17:37.086 A:middle
向用户解释

00:17:37.156 --> 00:17:38.946 A:middle
如果他们选择了 WhenInUse 授权

00:17:38.946 --> 00:17:40.426 A:middle
会开放什么功能

00:17:40.676 --> 00:17:41.936 A:middle
以及如果他们

00:17:41.936 --> 00:17:43.996 A:middle
给予了你的 App Always 授权

00:17:43.996 --> 00:17:45.526 A:middle
他们会得到什么额外的

00:17:45.526 --> 00:17:46.196 A:middle
功能

00:17:47.236 --> 00:17:49.936 A:middle
对于所有 App 我们建议你

00:17:49.936 --> 00:17:52.036 A:middle
只在你真正需要的时候

00:17:52.326 --> 00:17:54.446 A:middle
请求授权

00:17:55.056 --> 00:17:56.386 A:middle
如果你在等待请求

00:17:56.386 --> 00:17:58.026 A:middle
授权直到用户进行了

00:17:58.026 --> 00:17:59.726 A:middle
某些操作要求

00:17:59.726 --> 00:18:01.646 A:middle
获取位置

00:17:59.726 --> 00:18:01.646 A:middle
获取位置

00:18:02.296 --> 00:18:04.016 A:middle
那么当提示出现时

00:18:04.096 --> 00:18:05.226 A:middle
用户有了他们需要的

00:18:05.256 --> 00:18:07.356 A:middle
使用背景以及直观的理解

00:18:07.356 --> 00:18:09.296 A:middle
就能知道为什么

00:18:09.296 --> 00:18:11.216 A:middle
你的 App 想要

00:18:11.436 --> 00:18:12.696 A:middle
获取他们的位置

00:18:13.756 --> 00:18:15.166 A:middle
这让他们给予

00:18:15.166 --> 00:18:16.576 A:middle
你的 App 授权变得

00:18:16.576 --> 00:18:17.596 A:middle
更有可能

00:18:17.776 --> 00:18:21.446 A:middle
对于申请 Always 授权

00:18:21.446 --> 00:18:22.936 A:middle
的 App 还有一点点

00:18:22.936 --> 00:18:23.826 A:middle
要说一下

00:18:24.796 --> 00:18:26.376 A:middle
我们建议你先

00:18:26.376 --> 00:18:28.216 A:middle
申请 WhenInUse 授权

00:18:30.216 --> 00:18:31.416 A:middle
申请 WhenInUse

00:18:31.416 --> 00:18:32.496 A:middle
授权更容易一点

00:18:32.526 --> 00:18:34.156 A:middle
从用户那里要求

00:18:34.156 --> 00:18:36.086 A:middle
尽可能少 除此以外

00:18:36.086 --> 00:18:37.616 A:middle
还有

00:18:37.986 --> 00:18:39.566 A:middle
我们认为你的 App 应该让

00:18:39.566 --> 00:18:41.656 A:middle
WhenInUse 成为基本的体验

00:18:41.696 --> 00:18:43.526 A:middle
这是用户首先会遇到的体验

00:18:44.126 --> 00:18:45.606 A:middle
然后在用户已经深度

00:18:45.606 --> 00:18:47.046 A:middle
体验了你的 App

00:18:47.046 --> 00:18:48.536 A:middle
并且了解了所有功能之后

00:18:49.546 --> 00:18:50.816 A:middle
当他们发现其中

00:18:50.816 --> 00:18:52.476 A:middle
一个功能需要 Always 时

00:18:52.476 --> 00:18:54.476 A:middle
他们会试着打开 而在那时

00:18:54.476 --> 00:18:55.576 A:middle
你的 App 可以显示

00:18:55.576 --> 00:18:57.556 A:middle
转换提示申请用

00:18:57.626 --> 00:18:59.226 A:middle
Always 授权覆盖你

00:18:59.226 --> 00:19:00.486 A:middle
已经拥有的 WhenInUse

00:18:59.226 --> 00:19:00.486 A:middle
已经拥有的 WhenInUse

00:19:00.486 --> 00:19:01.226 A:middle
授权

00:19:02.486 --> 00:19:04.216 A:middle
当这个提示出现时

00:19:04.216 --> 00:19:05.906 A:middle
用户会再一次有了他们

00:19:05.906 --> 00:19:08.316 A:middle
需要的直观使用背景

00:19:08.316 --> 00:19:09.926 A:middle
来理解为什么你的 App

00:19:09.926 --> 00:19:12.346 A:middle
要申请 Always 授权

00:19:12.346 --> 00:19:14.786 A:middle
他们就会更有可能将它

00:19:16.516 --> 00:19:16.706 A:middle
授予你

00:19:16.826 --> 00:19:18.216 A:middle
让我们看看它是如何工作的

00:19:18.846 --> 00:19:21.056 A:middle
所以当用户第一次启动

00:19:21.056 --> 00:19:23.686 A:middle
你的 App 你会处于

00:19:23.746 --> 00:19:25.106 A:middle
一个未决定的授权

00:19:25.106 --> 00:19:25.426 A:middle
状态

00:19:26.696 --> 00:19:28.866 A:middle
在这里你可以申请

00:19:28.986 --> 00:19:30.896 A:middle
WhenInUse 授权或

00:19:30.956 --> 00:19:31.926 A:middle
Always 授权

00:19:33.466 --> 00:19:34.366 A:middle
让我们看看如果你申请

00:19:34.366 --> 00:19:35.776 A:middle
Always 授权会发生什么

00:19:36.996 --> 00:19:38.676 A:middle
Core Location 会显示我们的

00:19:39.286 --> 00:19:40.966 A:middle
WhenInUse 授权提示

00:19:40.966 --> 00:19:41.626 A:middle
在提示的

00:19:41.916 --> 00:19:43.966 A:middle
主体上 使用的是你的

00:19:43.966 --> 00:19:44.786 A:middle
WhenInUseUsageDescription

00:19:46.256 --> 00:19:47.686 A:middle
根据用户的选择

00:19:47.686 --> 00:19:48.846 A:middle
你会获得

00:19:48.936 --> 00:19:50.686 A:middle
WhenInUse 授权或

00:19:50.686 --> 00:19:51.806 A:middle
没有任何授权

00:19:52.506 --> 00:19:53.816 A:middle
在这之后用户可以

00:19:53.816 --> 00:19:55.346 A:middle
随意到设置中调整

00:19:55.346 --> 00:19:56.686 A:middle
你 App 的授权 达到

00:19:56.686 --> 00:19:57.686 A:middle
他们想要的值

00:19:58.516 --> 00:20:00.216 A:middle
但是如果用户选择给予

00:19:58.516 --> 00:20:00.216 A:middle
但是如果用户选择给予

00:20:00.216 --> 00:20:01.456 A:middle
你的 App WhenInUse 授权

00:20:01.456 --> 00:20:02.916 A:middle
其实他们很有可能

00:20:02.916 --> 00:20:03.976 A:middle
会这么做 如果你按照

00:20:03.976 --> 00:20:05.456 A:middle
我们的最佳实践做的话

00:20:06.916 --> 00:20:08.296 A:middle
你还可以额外申请

00:20:08.376 --> 00:20:09.356 A:middle
Always 授权

00:20:10.526 --> 00:20:12.106 A:middle
此时 Core Location

00:20:12.106 --> 00:20:13.826 A:middle
会显示转换提示

00:20:14.626 --> 00:20:15.686 A:middle
并会使用新的

00:20:15.686 --> 00:20:16.876 A:middle
AlwaysAndWhenInUse

00:20:16.996 --> 00:20:18.216 A:middle
UsageDescription 字符串

00:20:18.976 --> 00:20:20.496 A:middle
从这里用户可以给予

00:20:20.916 --> 00:20:22.266 A:middle
你的 App Always

00:20:22.266 --> 00:20:24.076 A:middle
授权或使其保持

00:20:24.076 --> 00:20:25.516 A:middle
当前的 WhenInUse 值

00:20:25.516 --> 00:20:29.336 A:middle
当你的 App 申请

00:20:29.336 --> 00:20:30.836 A:middle
Always 授权之后它将不能

00:20:30.836 --> 00:20:32.516 A:middle
再申请任何其他的

00:20:32.516 --> 00:20:33.026 A:middle
提示

00:20:34.136 --> 00:20:36.116 A:middle
让我们回到一开始

00:20:36.116 --> 00:20:37.926 A:middle
如果你已经在一开始

00:20:37.926 --> 00:20:39.456 A:middle
比如当你的 App 启动时

00:20:39.456 --> 00:20:41.176 A:middle
就已经申请了

00:20:41.176 --> 00:20:42.086 A:middle
Always 授权了呢

00:20:43.136 --> 00:20:44.946 A:middle
用户会看到这个提示

00:20:45.636 --> 00:20:48.526 A:middle
他们会看到一个 WhenInUse 选项

00:20:48.846 --> 00:20:50.046 A:middle
会看到一个 Always 选项

00:20:50.496 --> 00:20:52.016 A:middle
还会看到一个 Don't Allow

00:20:52.016 --> 00:20:52.376 A:middle
选项

00:20:53.236 --> 00:20:54.996 A:middle
如果用户不能理解

00:20:55.106 --> 00:20:56.876 A:middle
为什么你的 App

00:20:56.876 --> 00:20:58.786 A:middle
要一直获取位置

00:20:58.786 --> 00:21:00.586 A:middle
如果他们没有

00:20:58.786 --> 00:21:00.586 A:middle
如果他们没有

00:21:00.586 --> 00:21:01.986 A:middle
我们建议你提供的背景信息

00:21:03.136 --> 00:21:04.506 A:middle
那么很有可能他们会

00:21:04.506 --> 00:21:05.896 A:middle
给予你的 App WhenInUse

00:21:05.896 --> 00:21:08.116 A:middle
授权 如果这发生了

00:21:08.116 --> 00:21:10.056 A:middle
你将不能在之后

00:21:10.056 --> 00:21:11.736 A:middle
发起授权转换

00:21:11.736 --> 00:21:12.436 A:middle
提示了

00:21:13.856 --> 00:21:15.716 A:middle
对了 这个提示也使用

00:21:15.716 --> 00:21:17.186 A:middle
那个新合成的

00:21:17.186 --> 00:21:18.176 A:middle
UsageDescription Key

00:21:19.526 --> 00:21:22.486 A:middle
好了 在我们从授权讲到

00:21:22.486 --> 00:21:24.426 A:middle
下一个话题前 我很高兴地

00:21:24.426 --> 00:21:26.666 A:middle
宣布在 watchOS 4 上

00:21:26.666 --> 00:21:28.376 A:middle
Core Location 能支持

00:21:28.376 --> 00:21:30.186 A:middle
直接在表上显示

00:21:30.186 --> 00:21:31.076 A:middle
授权的提示

00:21:32.096 --> 00:21:32.956 A:middle
之前

00:21:33.516 --> 00:21:36.016 A:middle
[ 掌声 ]

00:21:36.516 --> 00:21:38.146 A:middle
之前如果你想

00:21:38.146 --> 00:21:40.536 A:middle
申请授权

00:21:40.536 --> 00:21:41.626 A:middle
watchOS 会提醒用户

00:21:41.626 --> 00:21:42.616 A:middle
在他们手机上有个

00:21:42.616 --> 00:21:43.916 A:middle
提示等待他们处理

00:21:43.916 --> 00:21:44.716 A:middle
他们必须到手机上

00:21:44.716 --> 00:21:47.256 A:middle
在那里作出回应

00:21:47.866 --> 00:21:49.696 A:middle
我们还没有完成所有的

00:21:49.696 --> 00:21:49.886 A:middle
更新

00:21:49.946 --> 00:21:51.356 A:middle
这不在你们这周早些时候

00:21:51.356 --> 00:21:53.006 A:middle
收到的随机数种子里但是

00:21:53.006 --> 00:21:54.206 A:middle
我们预计会把它放到

00:21:54.206 --> 00:21:54.906 A:middle
未来的种子里

00:21:56.076 --> 00:21:57.736 A:middle
弄好后你需要做的

00:21:57.786 --> 00:21:59.686 A:middle
只是重新构建你的 App

00:21:59.686 --> 00:22:00.746 A:middle
下一次你安装时

00:21:59.686 --> 00:22:00.746 A:middle
下一次你安装时

00:22:00.746 --> 00:22:01.836 A:middle
你应该能开始看到这些

00:22:01.836 --> 00:22:02.966 A:middle
独立的提示了

00:22:03.906 --> 00:22:04.886 A:middle
这是授权部分

00:22:05.486 --> 00:22:07.876 A:middle
让我们来谈谈

00:22:07.876 --> 00:22:08.286 A:middle
使用报告

00:22:08.886 --> 00:22:12.146 A:middle
但首先我们说说它如何

00:22:12.176 --> 00:22:15.026 A:middle
在 iOS 10 上工作

00:22:15.226 --> 00:22:16.856 A:middle
Core Location 会基于

00:22:16.856 --> 00:22:18.956 A:middle
你正使用的什么服务

00:22:18.956 --> 00:22:20.356 A:middle
来报告你 App 的位置使用

00:22:20.356 --> 00:22:20.806 A:middle
情况

00:22:21.356 --> 00:22:24.286 A:middle
大多数服务会让你的

00:22:24.286 --> 00:22:26.046 A:middle
App 在状态栏和

00:22:26.126 --> 00:22:28.286 A:middle
设置里显示一个实心的

00:22:28.356 --> 00:22:28.696 A:middle
箭头

00:22:30.856 --> 00:22:31.866 A:middle
如果你使用了区域

00:22:31.866 --> 00:22:33.236 A:middle
监测服务 相反你会

00:22:33.236 --> 00:22:34.746 A:middle
得到一个空心的箭头

00:22:35.326 --> 00:22:37.826 A:middle
最后 如果你是一个

00:22:37.826 --> 00:22:40.196 A:middle
WhenInUse 授权的 App

00:22:40.196 --> 00:22:41.296 A:middle
然后你请求了

00:22:41.296 --> 00:22:42.976 A:middle
持续后台位置服务

00:22:42.976 --> 00:22:44.166 A:middle
我们会画出

00:22:44.166 --> 00:22:45.226 A:middle
双层高度的蓝色状态栏

00:22:45.226 --> 00:22:45.956 A:middle
这个我已经提到了很多次

00:22:50.046 --> 00:22:51.236 A:middle
我们觉得这个系统

00:22:51.236 --> 00:22:51.496 A:middle
非常好

00:22:51.566 --> 00:22:52.966 A:middle
它为我们服务了

00:22:52.966 --> 00:22:55.296 A:middle
很久但我们觉得

00:22:55.366 --> 00:22:56.376 A:middle
还有提升空间

00:22:58.436 --> 00:23:00.576 A:middle
这个系统有力地代表了

00:22:58.436 --> 00:23:00.576 A:middle
这个系统有力地代表了

00:23:00.646 --> 00:23:02.306 A:middle
我们一些 API 的

00:23:02.306 --> 00:23:02.946 A:middle
隐私暴露

00:23:03.896 --> 00:23:05.376 A:middle
让我们比较两个 App

00:23:05.376 --> 00:23:07.936 A:middle
其中一个使用

00:23:07.936 --> 00:23:09.276 A:middle
显著位置变化监测服务

00:23:09.276 --> 00:23:11.076 A:middle
而另一个使用我们的

00:23:11.166 --> 00:23:12.436 A:middle
持续后台位置

00:23:12.436 --> 00:23:13.266 A:middle
服务

00:23:14.756 --> 00:23:16.016 A:middle
这两个 App 都会持续

00:23:16.016 --> 00:23:18.116 A:middle
显示实心的箭头

00:23:18.776 --> 00:23:20.276 A:middle
但是使用

00:23:20.356 --> 00:23:21.586 A:middle
显著位置变化监测

00:23:21.586 --> 00:23:23.426 A:middle
的 App 相比于使用

00:23:23.586 --> 00:23:25.246 A:middle
持续后台位置的 App

00:23:25.296 --> 00:23:26.776 A:middle
会接收更少的

00:23:26.806 --> 00:23:27.676 A:middle
位置信息

00:23:28.216 --> 00:23:30.906 A:middle
使用显著位置

00:23:30.906 --> 00:23:32.126 A:middle
变化监测的 App

00:23:32.126 --> 00:23:34.446 A:middle
只有在设备移动了

00:23:34.446 --> 00:23:36.156 A:middle
一段显著距离时

00:23:36.156 --> 00:23:37.836 A:middle
才会收到更新 即使这样

00:23:37.836 --> 00:23:39.996 A:middle
在这之上还有速率

00:23:39.996 --> 00:23:40.406 A:middle
限制

00:23:41.146 --> 00:23:44.146 A:middle
所以接收

00:23:44.146 --> 00:23:45.296 A:middle
持续后台位置的 App

00:23:45.296 --> 00:23:46.436 A:middle
会得到更多的

00:23:46.436 --> 00:23:48.306 A:middle
位置信息 但他们

00:23:48.306 --> 00:23:49.936 A:middle
有完全一样的使用

00:23:49.936 --> 00:23:50.466 A:middle
报告

00:23:51.756 --> 00:23:54.436 A:middle
此外 我们觉得

00:23:54.586 --> 00:23:55.886 A:middle
Always 授权的 App

00:23:55.886 --> 00:23:57.836 A:middle
错过了蓝色状态栏的

00:23:57.936 --> 00:23:58.246 A:middle
功能

00:23:58.986 --> 00:24:00.566 A:middle
假设你有一个

00:23:58.986 --> 00:24:00.566 A:middle
假设你有一个

00:24:00.566 --> 00:24:02.566 A:middle
获得了 Always 授权的

00:24:02.566 --> 00:24:03.226 A:middle
App

00:24:03.966 --> 00:24:05.606 A:middle
如果用户正在导航

00:24:05.606 --> 00:24:07.296 A:middle
他们很有可能

00:24:07.296 --> 00:24:08.596 A:middle
想要在草草地使用完

00:24:08.636 --> 00:24:10.366 A:middle
另一个 App 后快速返回

00:24:10.366 --> 00:24:12.846 A:middle
但是在 iOS 10 中

00:24:13.186 --> 00:24:14.696 A:middle
Always 授权的 App

00:24:14.806 --> 00:24:16.186 A:middle
没有这个两倍高度的蓝色

00:24:16.186 --> 00:24:16.456 A:middle
状态栏

00:24:17.176 --> 00:24:21.366 A:middle
我们觉得这些问题

00:24:21.366 --> 00:24:22.786 A:middle
让用户很难

00:24:22.816 --> 00:24:25.036 A:middle
正确理解 App 是如何

00:24:25.036 --> 00:24:26.226 A:middle
使用他们的位置的

00:24:27.326 --> 00:24:28.526 A:middle
例如 让我们再

00:24:28.526 --> 00:24:29.876 A:middle
看看这两个 App

00:24:29.936 --> 00:24:31.176 A:middle
持续后台位置

00:24:31.206 --> 00:24:32.326 A:middle
和显著位置改变

00:24:32.326 --> 00:24:33.306 A:middle
监测 App

00:24:34.606 --> 00:24:37.036 A:middle
假设用户用

00:24:37.186 --> 00:24:38.246 A:middle
持续后台位置 App

00:24:38.246 --> 00:24:38.806 A:middle
去跑步

00:24:39.496 --> 00:24:41.316 A:middle
他们去跑步

00:24:41.316 --> 00:24:42.446 A:middle
他们回来 他们会一直

00:24:42.446 --> 00:24:43.506 A:middle
看到实心的箭头

00:24:43.506 --> 00:24:44.386 A:middle
当他们看地图时

00:24:44.386 --> 00:24:45.726 A:middle
就会发现他们每一步的

00:24:45.726 --> 00:24:46.036 A:middle
轨迹

00:24:46.806 --> 00:24:48.046 A:middle
当他们安装了使用

00:24:48.046 --> 00:24:49.596 A:middle
显著位置变化监测的 App

00:24:49.596 --> 00:24:51.066 A:middle
他们会看到同样的东西

00:24:51.066 --> 00:24:53.326 A:middle
也就是一个实心箭头

00:24:54.066 --> 00:24:55.866 A:middle
就用户所知

00:24:56.196 --> 00:24:57.896 A:middle
这个 App 可能和他们的

00:24:57.896 --> 00:24:59.526 A:middle
跑步轨迹 App 接收了

00:24:59.596 --> 00:25:01.286 A:middle
同样多的信息量

00:24:59.596 --> 00:25:01.286 A:middle
同样多的信息量

00:25:02.696 --> 00:25:05.196 A:middle
所以如果用户理解错了

00:25:05.196 --> 00:25:06.706 A:middle
我们的标志 我们决定

00:25:06.706 --> 00:25:08.556 A:middle
最好的解决方法就是

00:25:08.556 --> 00:25:09.976 A:middle
对我们如何指示位置使用的方式做出调整

00:25:14.136 --> 00:25:15.656 A:middle
我们有一个新政策

00:25:15.656 --> 00:25:16.686 A:middle
我们觉得你们会喜欢

00:25:17.596 --> 00:25:18.876 A:middle
我们改变了箭头的

00:25:18.876 --> 00:25:19.316 A:middle
运作方式

00:25:20.506 --> 00:25:22.476 A:middle
当你的 App 从 Core Location

00:25:22.476 --> 00:25:24.186 A:middle
请求位置信息时

00:25:24.626 --> 00:25:26.376 A:middle
显示空心箭头

00:25:26.986 --> 00:25:30.296 A:middle
当你实际上接收

00:25:30.296 --> 00:25:32.446 A:middle
位置信息时

00:25:32.446 --> 00:25:34.416 A:middle
我们将它变成一个实心箭头

00:25:34.416 --> 00:25:35.086 A:middle
持续几秒

00:25:36.486 --> 00:25:37.856 A:middle
我们待会儿会

00:25:37.856 --> 00:25:39.156 A:middle
演示一个例子来说明

00:25:39.156 --> 00:25:39.776 A:middle
实际情况如何

00:25:40.906 --> 00:25:43.206 A:middle
并且你可能已经猜到了

00:25:43.206 --> 00:25:44.446 A:middle
我们将双倍高度的

00:25:44.446 --> 00:25:46.216 A:middle
蓝色状态栏带进了

00:25:46.216 --> 00:25:48.056 A:middle
使用持续后台位置

00:25:48.056 --> 00:25:49.106 A:middle
服务的 Always 授权

00:25:49.106 --> 00:25:50.166 A:middle
App

00:25:50.746 --> 00:25:54.456 A:middle
现在我们期望这个

00:25:54.456 --> 00:25:56.606 A:middle
新政策会帮助用户

00:25:56.676 --> 00:25:58.986 A:middle
更好地理解 App 的

00:25:58.986 --> 00:26:00.976 A:middle
位置使用

00:25:58.986 --> 00:26:00.976 A:middle
位置使用

00:26:03.036 --> 00:26:06.346 A:middle
所以让我们敬请期待吧

00:26:06.796 --> 00:26:08.556 A:middle
之前我们有那个

00:26:08.556 --> 00:26:11.586 A:middle
空心箭头行为 于是用户

00:26:11.586 --> 00:26:13.996 A:middle
知道了空心箭头意味着

00:26:14.036 --> 00:26:16.646 A:middle
一个 App 正在后台

00:26:16.646 --> 00:26:18.486 A:middle
使用位置服务 但是

00:26:18.486 --> 00:26:20.156 A:middle
它没有持续接收

00:26:20.156 --> 00:26:20.536 A:middle
更新信息

00:26:20.536 --> 00:26:21.856 A:middle
它可能在

00:26:21.956 --> 00:26:23.826 A:middle
断断续续地接收更新

00:26:24.226 --> 00:26:25.646 A:middle
或只有当特定的事件

00:26:25.646 --> 00:26:27.266 A:middle
发生时 这样他们就知道

00:26:27.266 --> 00:26:28.686 A:middle
这个箭头代表

00:26:28.956 --> 00:26:30.166 A:middle
低功耗的后台

00:26:30.166 --> 00:26:30.746 A:middle
监测

00:26:31.846 --> 00:26:33.886 A:middle
我们现在 将

00:26:33.886 --> 00:26:35.816 A:middle
这个理解延伸至

00:26:35.816 --> 00:26:38.866 A:middle
Core Location 的所有 API

00:26:38.866 --> 00:26:40.646 A:middle
我们觉得这对

00:26:40.696 --> 00:26:42.566 A:middle
开发者你们好多了

00:26:42.566 --> 00:26:44.446 A:middle
因为用户现在可以看到

00:26:44.446 --> 00:26:46.836 A:middle
当你的 App 在后台

00:26:46.836 --> 00:26:48.576 A:middle
运行时实际上

00:26:48.576 --> 00:26:50.136 A:middle
接收了很多

00:26:50.136 --> 00:26:50.876 A:middle
或某些情况下

00:26:50.876 --> 00:26:51.476 A:middle
很少的信息

00:26:52.246 --> 00:26:53.476 A:middle
如果你使用我们的后台

00:26:53.476 --> 00:26:55.246 A:middle
监测 API 你会发现

00:26:55.246 --> 00:26:56.556 A:middle
你会多一个空心箭头

00:26:56.556 --> 00:26:59.396 A:middle
少一个实心箭头

00:26:59.396 --> 00:27:01.036 A:middle
我们认为这会帮助

00:26:59.396 --> 00:27:01.036 A:middle
我们认为这会帮助

00:27:01.036 --> 00:27:02.826 A:middle
用户理解你的 App

00:27:02.876 --> 00:27:04.916 A:middle
实际上并没有每一天都在

00:27:04.916 --> 00:27:06.446 A:middle
接收每一小步改变或者

00:27:06.446 --> 00:27:06.956 A:middle
每一次大转折这样的信息

00:27:11.346 --> 00:27:12.986 A:middle
OK 让我们看看在实践中

00:27:13.026 --> 00:27:14.396 A:middle
箭头是如何工作的

00:27:15.376 --> 00:27:17.576 A:middle
这里我们有一部测试 iPhone

00:27:17.576 --> 00:27:20.536 A:middle
它现在在 AT&T 服务系统中

00:27:20.666 --> 00:27:22.026 A:middle
让我们假设一个 App 正在

00:27:22.026 --> 00:27:23.276 A:middle
使用 Visit 监测服务

00:27:23.876 --> 00:27:25.106 A:middle
设备在此处静止了

00:27:25.106 --> 00:27:27.386 A:middle
很长一段时间

00:27:27.606 --> 00:27:29.346 A:middle
所以我们在状态栏

00:27:29.476 --> 00:27:30.896 A:middle
显示了一个空心箭头

00:27:30.896 --> 00:27:33.196 A:middle
因为 Core Location 没有

00:27:33.196 --> 00:27:35.626 A:middle
向 App 发送新信息

00:27:35.886 --> 00:27:38.056 A:middle
但是一旦用户起身

00:27:38.056 --> 00:27:40.046 A:middle
并开始朝向

00:27:40.046 --> 00:27:41.826 A:middle
Ferry Building方向移动

00:27:41.826 --> 00:27:43.246 A:middle
Core Location 会检测到

00:27:43.246 --> 00:27:44.576 A:middle
这个离开行为并通知

00:27:44.576 --> 00:27:44.836 A:middle
App

00:27:45.716 --> 00:27:48.046 A:middle
这会导致一个实心

00:27:48.046 --> 00:27:49.666 A:middle
箭头在状态栏

00:27:49.666 --> 00:27:51.046 A:middle
显示几秒

00:27:51.746 --> 00:27:53.146 A:middle
当用户继续移动时

00:27:53.146 --> 00:27:56.056 A:middle
这个箭头会回归

00:27:56.056 --> 00:27:58.716 A:middle
空心状态并且它会

00:27:58.716 --> 00:28:00.676 A:middle
继续保持空心直到

00:27:58.716 --> 00:28:00.676 A:middle
继续保持空心直到

00:28:00.676 --> 00:28:02.486 A:middle
Core Location 检测到用户已经到达

00:28:03.586 --> 00:28:05.176 A:middle
在它检测到这个之后

00:28:05.176 --> 00:28:07.476 A:middle
它会再次启动 App

00:28:07.476 --> 00:28:09.116 A:middle
这个 App 会接收到

00:28:09.116 --> 00:28:11.566 A:middle
一个实心箭头并停留

00:28:11.566 --> 00:28:13.166 A:middle
几秒钟然后

00:28:13.166 --> 00:28:15.016 A:middle
之后它就会保持空心

00:28:15.436 --> 00:28:17.086 A:middle
直到用户从那个位置

00:28:17.086 --> 00:28:17.646 A:middle
离开

00:28:18.636 --> 00:28:19.656 A:middle
我们真的希望这个

00:28:19.656 --> 00:28:21.166 A:middle
新政策能帮助用户

00:28:21.166 --> 00:28:23.766 A:middle
更好地了解你的 App

00:28:23.766 --> 00:28:24.856 A:middle
何时以及如何获取

00:28:24.856 --> 00:28:26.956 A:middle
他们的位置信息 我们认为

00:28:26.956 --> 00:28:29.386 A:middle
这会使用户不再因为

00:28:29.386 --> 00:28:31.096 A:middle
你的 App 实际没做的事

00:28:31.096 --> 00:28:32.136 A:middle
而责怪它

00:28:35.436 --> 00:28:36.926 A:middle
这就是今天我们要讲的内容

00:28:37.126 --> 00:28:38.456 A:middle
回顾一下 我希望

00:28:38.696 --> 00:28:40.906 A:middle
你们记住重要的

00:28:40.906 --> 00:28:41.566 A:middle
三点

00:28:42.756 --> 00:28:45.976 A:middle
首先 用户对于你的 App

00:28:46.226 --> 00:28:48.616 A:middle
获取他们的位置拥有更多

00:28:48.616 --> 00:28:49.196 A:middle
控制权

00:28:49.816 --> 00:28:52.346 A:middle
具体来说 如果你请求的是Always 授权

00:28:52.346 --> 00:28:53.586 A:middle
用户现可以给予你的 App WhenInUse

00:28:53.586 --> 00:28:55.246 A:middle
授权
00:28:55.246 --> 00:28:56.186 A:middle

00:28:56.766 --> 00:29:00.226 A:middle
我们一直建议你

00:28:56.766 --> 00:29:00.226 A:middle
我们一直建议你

00:29:00.226 --> 00:29:01.456 A:middle
和用户沟通并

00:29:01.456 --> 00:29:02.996 A:middle
帮助他们理解为什么

00:29:02.996 --> 00:29:04.036 A:middle
你的 App 想要

00:29:04.036 --> 00:29:06.326 A:middle
获取位置 但是请求

00:29:06.326 --> 00:29:07.886 A:middle
Always 授权的 App

00:29:07.916 --> 00:29:09.776 A:middle
有更大的责任

00:29:10.476 --> 00:29:11.956 A:middle
如果用户不明白

00:29:11.956 --> 00:29:13.576 A:middle
为什么你的 App 想要

00:29:13.576 --> 00:29:15.606 A:middle
Always 授权 那么

00:29:15.606 --> 00:29:16.866 A:middle
他们有可能不会

00:29:16.866 --> 00:29:17.136 A:middle
给你这个授权

00:29:17.336 --> 00:29:18.276 A:middle
他们反而很有可能

00:29:18.276 --> 00:29:20.076 A:middle
给你 WhenInUse 授权

00:29:21.876 --> 00:29:23.886 A:middle
所以如果你想要

00:29:23.886 --> 00:29:25.506 A:middle
Always 授权那么

00:29:25.506 --> 00:29:26.926 A:middle
你就承担了更大责任

00:29:27.276 --> 00:29:29.246 A:middle
我们觉得你和用户沟通的最佳办法是

00:29:29.246 --> 00:29:30.376 A:middle
帮助他们理解为什么

00:29:30.376 --> 00:29:32.456 A:middle
你要 Always 授权

00:29:33.356 --> 00:29:34.916 A:middle
要最大限度地提高

00:29:34.916 --> 00:29:36.856 A:middle
你从用户那里获得

00:29:36.856 --> 00:29:38.296 A:middle
Always 授权的机会

00:29:38.296 --> 00:29:40.166 A:middle
就是给他们

00:29:40.166 --> 00:29:41.966 A:middle
一个我之前谈到过的

00:29:41.966 --> 00:29:42.376 A:middle
背景信息

00:29:42.906 --> 00:29:45.946 A:middle
让他们直观地

00:29:45.946 --> 00:29:46.596 A:middle
理解

00:29:46.596 --> 00:29:48.136 A:middle
让他们用 WhenInUse 授权

00:29:48.136 --> 00:29:50.136 A:middle
探索你的 App

00:29:50.136 --> 00:29:51.826 A:middle
然后当他们试图

00:29:51.826 --> 00:29:53.226 A:middle
启用需要 Always

00:29:53.226 --> 00:29:55.276 A:middle
授权的功能时

00:29:55.276 --> 00:29:57.106 A:middle
然后你就发起转换提示

00:29:57.106 --> 00:29:58.596 A:middle
他们在那时就几乎

00:29:58.596 --> 00:29:59.976 A:middle
一定会给予你的 App

00:29:59.976 --> 00:30:00.466 A:middle
授权

00:29:59.976 --> 00:30:00.466 A:middle
授权

00:30:01.386 --> 00:30:02.226 A:middle
感谢你们参与

00:30:02.276 --> 00:30:03.696 A:middle
如果你们想了解更多

00:30:03.696 --> 00:30:04.996 A:middle
我们在网上有一些补充

00:30:04.996 --> 00:30:05.436 A:middle
资料

00:30:05.756 --> 00:30:07.576 A:middle
比如我们更新了 PotLoc App

00:30:07.656 --> 00:30:09.616 A:middle
所以你会发现

00:30:09.996 --> 00:30:11.246 A:middle
有一些新的好东西

00:30:11.246 --> 00:30:11.386 A:middle
和你分享

00:30:13.436 --> 00:30:14.576 A:middle
我们还建议你看看

00:30:14.576 --> 00:30:15.506 A:middle
这些相关会议

00:30:15.506 --> 00:30:16.816 A:middle
我刚刚已经提到了

00:30:16.816 --> 00:30:19.626 A:middle
Core Motion one 但是

00:30:19.626 --> 00:30:21.226 A:middle
这周早些时候的隐私会议

00:30:21.536 --> 00:30:22.826 A:middle
同样非常棒 并且它有

00:30:22.826 --> 00:30:24.196 A:middle
很好的建议来帮助你

00:30:24.196 --> 00:30:25.626 A:middle
构建一个尊重用户隐私

00:30:25.626 --> 00:30:26.526 A:middle
的 App

00:30:27.676 --> 00:30:28.896 A:middle
感谢你们的时间

00:30:28.896 --> 00:30:29.976 A:middle
我希望你们开心度过接下来的 WWDC
