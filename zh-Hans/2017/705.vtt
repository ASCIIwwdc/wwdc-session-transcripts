WEBVTT

00:00:00.506 --> 00:00:26.576 A:middle
[ 掌声 ]

00:00:27.076 --> 00:00:27.486 A:middle
&gt;&gt; 谢谢大家

00:00:27.766 --> 00:00:29.226 A:middle
欢迎各位的到来

00:00:29.776 --> 00:00:30.606 A:middle
早上好

00:00:31.036 --> 00:00:31.466 A:middle
现在时间还早

00:00:31.556 --> 00:00:32.386 A:middle
我希望你们已经喝过了咖啡

00:00:32.386 --> 00:00:33.496 A:middle
因为我们今天会有许多要谈的

00:00:33.496 --> 00:00:33.736 A:middle
事情

00:00:34.686 --> 00:00:35.546 A:middle
欢迎来到

00:00:35.546 --> 00:00:35.986 A:middle
“HomeKit 有什么新内容”

00:00:35.986 --> 00:00:39.456 A:middle
在 iOS 11  watchOS 4 和

00:00:39.456 --> 00:00:39.886 A:middle
tvOS 11 中

00:00:40.326 --> 00:00:42.476 A:middle
今天我们将会提到

00:00:42.476 --> 00:00:43.346 A:middle
非常多的优秀功能

00:00:43.346 --> 00:00:45.226 A:middle
以及增强功能

00:00:46.276 --> 00:00:47.876 A:middle
首先 我们将总览一下

00:00:47.876 --> 00:00:49.706 A:middle
HomeKit

00:00:49.706 --> 00:00:50.176 A:middle
这个框架

00:00:50.716 --> 00:00:53.166 A:middle
之后 我们将会谈到

00:00:53.166 --> 00:00:53.866 A:middle
一些在 iOS 11

00:00:53.866 --> 00:00:55.106 A:middle
对 HomeKit 框架的

00:00:55.106 --> 00:00:56.886 A:middle
升级和增强

00:00:57.436 --> 00:01:00.376 A:middle
然后 Praveen 将会分享一些

00:00:57.436 --> 00:01:00.376 A:middle
然后 Praveen 将会分享一些

00:01:00.376 --> 00:01:01.826 A:middle
关于配件生态系统的

00:01:01.826 --> 00:01:02.716 A:middle
令人激动的新内容

00:01:08.046 --> 00:01:10.076 A:middle
HomeKit 框架让你可以

00:01:10.076 --> 00:01:12.216 A:middle
轻松设置并控制

00:01:12.216 --> 00:01:14.146 A:middle
你的 HomeKit

00:01:14.146 --> 00:01:14.886 A:middle
配件

00:01:15.866 --> 00:01:17.886 A:middle
HomeKit 提供了一项中央存储

00:01:18.356 --> 00:01:19.746 A:middle
用来配置你的住宅

00:01:19.746 --> 00:01:21.956 A:middle
包括房间

00:01:22.486 --> 00:01:24.926 A:middle
配件 智能家居

00:01:24.926 --> 00:01:25.136 A:middle
以及更多的东西

00:01:25.696 --> 00:01:27.866 A:middle
这项配置

00:01:27.866 --> 00:01:29.096 A:middle
是在你的所有 App 和设备上

00:01:29.096 --> 00:01:30.816 A:middle
同步进行的

00:01:32.086 --> 00:01:33.946 A:middle
而且 HomeKit 是深度集成在

00:01:34.306 --> 00:01:36.976 A:middle
iOS  watchOS 和 tvOS 中的

00:01:46.096 --> 00:01:47.846 A:middle
你可以直接通过你的声音

00:01:48.226 --> 00:01:49.916 A:middle
使用 Siri 或者

00:01:49.916 --> 00:01:54.466 A:middle
使用 Home App

00:01:55.426 --> 00:01:57.776 A:middle
来控制你的配件和场景

00:01:57.776 --> 00:02:00.726 A:middle
你可以通过任何一个你的设备

00:01:57.776 --> 00:02:00.726 A:middle
你可以通过任何一个你的设备

00:02:00.726 --> 00:02:01.406 A:middle
来控制你的所有配件

00:02:01.936 --> 00:02:08.026 A:middle
仅仅通过轻轻的滑动和点按

00:02:08.026 --> 00:02:09.256 A:middle
你就可以从控制中心

00:02:09.256 --> 00:02:11.396 A:middle
控制你最喜欢的

00:02:11.396 --> 00:02:12.986 A:middle
场景和配件

00:02:13.086 --> 00:02:15.106 A:middle
对你而言 控制住宅从来没有

00:02:15.106 --> 00:02:16.976 A:middle
如此轻松过

00:02:19.196 --> 00:02:21.906 A:middle
通过 把 Apple TV 或者

00:02:21.906 --> 00:02:23.816 A:middle
iPad 作为 Home Hub

00:02:23.816 --> 00:02:25.396 A:middle
你可以从世界上任何地方

00:02:25.396 --> 00:02:26.746 A:middle
来控制你的配件

00:02:27.686 --> 00:02:29.506 A:middle
而且我们非常开心的宣布

00:02:29.506 --> 00:02:30.906 A:middle
除了作为一个优秀的扬声器

00:02:30.906 --> 00:02:33.156 A:middle
Home Pod 将同样在今年晚些时候

00:02:33.156 --> 00:02:34.786 A:middle
加入到 Home Hub

00:02:34.866 --> 00:02:35.396 A:middle
的行列中

00:02:36.016 --> 00:02:39.316 A:middle
有了一个兼容性良好的 Home Hub

00:02:40.146 --> 00:02:42.396 A:middle
你的住宅可以通过基于时间和事件

00:02:42.436 --> 00:02:44.106 A:middle
的触发器来实现自动控制

00:02:44.646 --> 00:02:47.806 A:middle
随着超过 70 家的

00:02:47.806 --> 00:02:50.136 A:middle
配件生产商

00:02:50.136 --> 00:02:51.846 A:middle
将新配件带入市场

00:02:51.846 --> 00:02:52.906 A:middle
或者是已经有配件发布

00:02:53.416 --> 00:02:54.556 A:middle
HomeKit 配件的数量

00:02:54.556 --> 00:02:56.006 A:middle
将继续实现

00:02:56.406 --> 00:02:57.036 A:middle
逐月的增长

00:02:57.506 --> 00:02:58.566 A:middle
这非常令人激动

00:03:00.056 --> 00:03:05.436 A:middle
我们有许多 iOS 11 新功能

00:03:05.436 --> 00:03:07.786 A:middle
值得探讨

00:03:07.786 --> 00:03:09.666 A:middle
今天我们将要重点关注

00:03:09.666 --> 00:03:10.536 A:middle
时间触发器

00:03:11.096 --> 00:03:14.716 A:middle
今天 我可以开心的宣布

00:03:14.716 --> 00:03:18.316 A:middle
我们将要引入新的事件

00:03:19.396 --> 00:03:23.186 A:middle
新的条件 对中断事件的支持

00:03:24.156 --> 00:03:27.016 A:middle
以及事件重现

00:03:28.506 --> 00:03:30.446 A:middle
然后 最终我们将谈到

00:03:30.676 --> 00:03:33.176 A:middle
对可变事件的

00:03:33.306 --> 00:03:33.806 A:middle
增强功能

00:03:35.316 --> 00:03:36.336 A:middle
但是在我们提到新内容之前

00:03:36.336 --> 00:03:38.196 A:middle
我想要快速地总结一下

00:03:38.196 --> 00:03:39.916 A:middle
事件触发器

00:03:40.426 --> 00:03:45.826 A:middle
事件触发器以事件

00:03:45.826 --> 00:03:46.406 A:middle
为中心

00:03:47.666 --> 00:03:49.656 A:middle
当一个事件发生时

00:03:49.656 --> 00:03:51.746 A:middle
它将激活一个触发器

00:03:51.746 --> 00:03:53.306 A:middle
同时你可以有一个或者多个事件

00:03:53.306 --> 00:03:54.866 A:middle
和一个事件触发器产生联系

00:03:55.946 --> 00:03:57.856 A:middle
我们现在支持两种

00:03:57.886 --> 00:03:59.086 A:middle
不同类型的事件

00:03:59.726 --> 00:04:01.666 A:middle
第一种 当一个配件的状态

00:03:59.726 --> 00:04:01.666 A:middle
第一种 当一个配件的状态

00:04:01.666 --> 00:04:03.506 A:middle
发生变化时 例如

00:04:03.586 --> 00:04:05.646 A:middle
打开了一扇门或者

00:04:06.206 --> 00:04:07.706 A:middle
打开了一盏灯

00:04:07.966 --> 00:04:09.526 A:middle
第二种 我们支持一个设备

00:04:09.526 --> 00:04:11.596 A:middle
进入或者离开一个地理区域

00:04:14.076 --> 00:04:19.396 A:middle
当一个事件发生

00:04:19.396 --> 00:04:21.185 A:middle
事件触发器激活

00:04:21.185 --> 00:04:23.056 A:middle
它将执行一个或者多个场景

00:04:23.756 --> 00:04:25.606 A:middle
而一个场景由一个

00:04:25.606 --> 00:04:27.356 A:middle
或者多个动作组成

00:04:28.036 --> 00:04:30.186 A:middle
例如解锁我的门

00:04:30.186 --> 00:04:30.786 A:middle
或者打开我的灯

00:04:34.816 --> 00:04:37.266 A:middle
而且当一个触发器通过

00:04:37.526 --> 00:04:39.436 A:middle
条件被激活时

00:04:39.436 --> 00:04:41.486 A:middle
你可以得知场景的执行

00:04:42.346 --> 00:04:43.886 A:middle
同时我们支持许多

00:04:43.886 --> 00:04:45.306 A:middle
不同类型的条件

00:04:46.146 --> 00:04:49.606 A:middle
第一种是基于

00:04:50.336 --> 00:04:50.446 A:middle
当前的时间

00:04:53.116 --> 00:04:55.646 A:middle
第二种是基于

00:04:55.696 --> 00:04:57.126 A:middle
当前配件的状态

00:04:57.536 --> 00:04:59.746 A:middle
抱歉

00:04:59.976 --> 00:05:04.586 A:middle
最后一种是基于

00:04:59.976 --> 00:05:04.586 A:middle
最后一种是基于

00:05:04.676 --> 00:05:07.876 A:middle
相对重要事件的事件

00:05:07.876 --> 00:05:13.026 A:middle
例如日出和日落

00:05:13.706 --> 00:05:20.366 A:middle
现在举一个例子

00:05:21.286 --> 00:05:26.076 A:middle
当我回到家的时候我打开了门

00:05:26.076 --> 00:05:27.856 A:middle
在这种情况下

00:05:27.856 --> 00:05:29.356 A:middle
开门就是我们的事件

00:05:29.726 --> 00:05:33.816 A:middle
天黑了

00:05:33.816 --> 00:05:34.336 A:middle
这就是我们的条件

00:05:34.896 --> 00:05:37.226 A:middle
而这是基于日落

00:05:37.226 --> 00:05:38.266 A:middle
这种重要事件

00:05:39.446 --> 00:05:41.506 A:middle
我们想要执行我们的

00:05:41.506 --> 00:05:43.156 A:middle
到家场景

00:05:44.486 --> 00:05:45.996 A:middle
那就是一个事件触发器

00:05:46.536 --> 00:05:49.926 A:middle
我们还有很多

00:05:49.926 --> 00:05:51.856 A:middle
对事件触发器的增强功能

00:05:51.856 --> 00:05:52.626 A:middle
以及新功能

00:05:53.176 --> 00:05:55.206 A:middle
第一个是通过

00:05:55.206 --> 00:05:57.886 A:middle
HMCalendarEvent 来支持

00:05:57.886 --> 00:05:58.716 A:middle
基于数据的事件

00:05:59.826 --> 00:06:01.766 A:middle
这提供了超越 HM 时间触发器

00:05:59.826 --> 00:06:01.766 A:middle
这提供了超越 HM 时间触发器

00:06:01.886 --> 00:06:03.846 A:middle
的一种增强的

00:06:03.846 --> 00:06:04.666 A:middle
计划能力

00:06:05.236 --> 00:06:06.616 A:middle
现在你能够利用

00:06:06.616 --> 00:06:07.526 A:middle
这个触发器的所有功能

00:06:07.576 --> 00:06:09.936 A:middle
例如条件

00:06:10.266 --> 00:06:11.176 A:middle
还有一些其他的功能

00:06:11.176 --> 00:06:12.366 A:middle
我们稍后将会

00:06:12.366 --> 00:06:12.726 A:middle
谈到

00:06:13.616 --> 00:06:16.476 A:middle
同时我们支持

00:06:16.506 --> 00:06:19.876 A:middle
基于年份 月份 日期

00:06:19.996 --> 00:06:20.846 A:middle
以及小时与分钟结合的数据

00:06:21.386 --> 00:06:24.316 A:middle
比如

00:06:24.316 --> 00:06:25.586 A:middle
让我们创造一个

00:06:25.586 --> 00:06:27.916 A:middle
每天下午 5:30 执行的

00:06:27.916 --> 00:06:29.316 A:middle
事件触发器

00:06:29.866 --> 00:06:32.786 A:middle
首先我们打算

00:06:32.786 --> 00:06:33.806 A:middle
创建我们的日期成分

00:06:34.696 --> 00:06:35.586 A:middle
在这个例子中

00:06:35.586 --> 00:06:37.896 A:middle
我们将要设置两个属性

00:06:37.896 --> 00:06:40.756 A:middle
小时属性设置为 17 表示下午 5：00

00:06:40.856 --> 00:06:43.376 A:middle
然后我们将

00:06:43.376 --> 00:06:45.046 A:middle
分钟属性设置为 30

00:06:45.316 --> 00:06:47.416 A:middle
这指明了下午 5：00

00:06:47.416 --> 00:06:52.566 A:middle
之后的 30 分钟

00:06:52.566 --> 00:06:56.206 A:middle
随后我们简单的创建我们的 HMCalendarEvent

00:06:56.386 --> 00:06:58.106 A:middle
然后我们指定

00:06:58.376 --> 00:06:59.116 A:middle
最近创建的日期成分

00:06:59.746 --> 00:07:02.256 A:middle
现在 我们刚刚创建了

00:06:59.746 --> 00:07:02.256 A:middle
现在 我们刚刚创建了

00:07:02.256 --> 00:07:05.466 A:middle
一个每天 5:30 发生

00:07:05.906 --> 00:07:06.376 A:middle
的事件

00:07:07.406 --> 00:07:09.196 A:middle
然后我们创建我们的

00:07:09.196 --> 00:07:14.606 A:middle
HM 事件触发器

00:07:14.606 --> 00:07:15.596 A:middle
我们打算给它一个友好的名字

00:07:15.596 --> 00:07:17.066 A:middle
在这个例子中

00:07:17.066 --> 00:07:19.046 A:middle
我们打算称它为每天下午 5:30

00:07:19.046 --> 00:07:21.346 A:middle
然后我们要指定我们的

00:07:21.346 --> 00:07:22.926 A:middle
事件集

00:07:23.036 --> 00:07:24.316 A:middle
在这个例子中是单独的一个事件

00:07:24.656 --> 00:07:26.086 A:middle
我们的 HMCalendarEvent

00:07:26.736 --> 00:07:29.226 A:middle
现在 在 iOS 11 中

00:07:29.226 --> 00:07:30.556 A:middle
非常容易创建基于

00:07:30.556 --> 00:07:32.366 A:middle
具体时间和日期的

00:07:32.366 --> 00:07:34.226 A:middle
基于时间的触发器

00:07:34.986 --> 00:07:36.716 A:middle
我们同时已经通过

00:07:36.716 --> 00:07:38.986 A:middle
HMSignificantTimeEvent

00:07:38.986 --> 00:07:40.446 A:middle
添加了对重要时间事件的支持

00:07:40.916 --> 00:07:44.036 A:middle
这会在重要事件发生时激活

00:07:44.266 --> 00:07:48.816 A:middle
例如日出

00:07:48.816 --> 00:07:49.186 A:middle
和日落

00:07:49.796 --> 00:07:52.726 A:middle
同时我们支持对

00:07:52.726 --> 00:07:53.846 A:middle
这些重要事件的

00:07:53.846 --> 00:07:56.276 A:middle
相对时间偏移

00:07:56.276 --> 00:07:56.626 A:middle
包括正偏移和负偏移

00:07:57.296 --> 00:08:00.266 A:middle
而这意味着你可以

00:07:57.296 --> 00:08:00.266 A:middle
而这意味着你可以

00:08:00.266 --> 00:08:02.396 A:middle
计划事件发生

00:08:02.866 --> 00:08:03.806 A:middle
例如日出之后一小时

00:08:03.806 --> 00:08:06.376 A:middle
现在 让我们来

00:08:06.516 --> 00:08:07.546 A:middle
创建另外一个事件触发器

00:08:07.596 --> 00:08:10.266 A:middle
这次 我们要让它

00:08:10.646 --> 00:08:13.876 A:middle
在每天日出时触发

00:08:19.046 --> 00:08:19.396 A:middle
来吧

00:08:20.076 --> 00:08:21.326 A:middle
首先 我们创建一个

00:08:21.326 --> 00:08:23.556 A:middle
我们的 HMSignificantTimeEvent

00:08:23.556 --> 00:08:25.586 A:middle
然后我们将指定日出为

00:08:25.586 --> 00:08:27.236 A:middle
我们的重要事件

00:08:27.876 --> 00:08:31.416 A:middle
同时我们指定

00:08:31.806 --> 00:08:32.206 A:middle
偏移为 0

00:08:34.506 --> 00:08:36.035 A:middle
现在 这意味着

00:08:36.035 --> 00:08:38.616 A:middle
我们想让事件在日出时触发

00:08:38.726 --> 00:08:40.666 A:middle
不在这之前也不在这之后

00:08:41.525 --> 00:08:42.716 A:middle
然后我们创建

00:08:42.716 --> 00:08:44.516 A:middle
我们的 HMSignificantTimeEvent

00:08:44.516 --> 00:08:47.406 A:middle
就和我们之前做的一样

00:08:47.406 --> 00:08:49.166 A:middle
然后我们指定我们的这次日出事件

00:08:49.396 --> 00:08:50.366 A:middle
为一次性触发事件

00:08:54.256 --> 00:08:58.196 A:middle
我们同时在 iOS 上添加了

00:08:58.726 --> 00:09:01.636 A:middle
方便的功能来让你

00:08:58.726 --> 00:09:01.636 A:middle
方便的功能来让你

00:09:01.636 --> 00:09:03.696 A:middle
更容易的创建一个在

00:09:03.696 --> 00:09:05.606 A:middle
两次重要事件之间的情况

00:09:06.446 --> 00:09:08.306 A:middle
需要注意的是

00:09:08.306 --> 00:09:09.426 A:middle
因为这些需要依靠一些重要事件

00:09:09.426 --> 00:09:10.966 A:middle
因此它们支持一个相对时间的偏移

00:09:11.896 --> 00:09:14.166 A:middle
例如

00:09:14.166 --> 00:09:15.686 A:middle
我可以创建一个情况

00:09:15.686 --> 00:09:18.776 A:middle
让我的场景在

00:09:19.076 --> 00:09:21.336 A:middle
日落后一个小时开始执行

00:09:21.336 --> 00:09:22.756 A:middle
一直到日出之前的一个小时

00:09:23.896 --> 00:09:25.136 A:middle
这在 HMSignificantTimeEvent 上

00:09:25.136 --> 00:09:27.906 A:middle
通过对两次重要事件之间

00:09:27.906 --> 00:09:29.486 A:middle
评估触发的判断

00:09:29.486 --> 00:09:31.686 A:middle
来完成

00:09:33.436 --> 00:09:37.596 A:middle
在 iOS 11 中 我们也添加了

00:09:37.596 --> 00:09:40.676 A:middle
对创建另一类事件的支持

00:09:41.076 --> 00:09:42.056 A:middle
这种事件在一个特征值

00:09:42.316 --> 00:09:44.586 A:middle
超过阈值时

00:09:44.676 --> 00:09:46.266 A:middle
触发

00:09:46.946 --> 00:09:50.836 A:middle
例如

00:09:50.836 --> 00:09:52.756 A:middle
我们可以让事件

00:09:52.956 --> 00:09:55.956 A:middle
在家中温度超过 76 度时

00:09:57.226 --> 00:09:57.326 A:middle
触发

00:09:58.776 --> 00:10:00.856 A:middle
我们同样可以让事件

00:09:58.776 --> 00:10:00.856 A:middle
我们同样可以让事件

00:10:00.856 --> 00:10:03.396 A:middle
在家中温度降低到 68 度以下时

00:10:03.836 --> 00:10:05.636 A:middle
触发

00:10:06.256 --> 00:10:08.166 A:middle
最后 我们可以

00:10:08.166 --> 00:10:10.146 A:middle
让事件在家中温度

00:10:10.306 --> 00:10:12.756 A:middle
处于 68 度和 76 度之间时

00:10:12.756 --> 00:10:12.976 A:middle
触发

00:10:12.976 --> 00:10:15.856 A:middle
现在让我们来

00:10:15.856 --> 00:10:16.296 A:middle
创建一个示例

00:10:16.776 --> 00:10:18.736 A:middle
我们想要创建一个事件

00:10:18.736 --> 00:10:20.546 A:middle
在我们家中

00:10:20.546 --> 00:10:21.886 A:middle
温度上升到 76 度时

00:10:21.886 --> 00:10:23.666 A:middle
执行

00:10:24.256 --> 00:10:27.306 A:middle
为了达到这个目标

00:10:27.306 --> 00:10:28.116 A:middle
我们首先要创建一个 HMNumberRange

00:10:28.666 --> 00:10:31.156 A:middle
现在需要注意的是

00:10:31.156 --> 00:10:32.516 A:middle
HMNumberRange 指定了

00:10:32.516 --> 00:10:34.216 A:middle
我们最小值和最大值之间的范围

00:10:34.216 --> 00:10:36.056 A:middle
而我们提供了两个

00:10:36.056 --> 00:10:37.786 A:middle
方便的初始化器

00:10:37.786 --> 00:10:38.996 A:middle
来创建最小值和

00:10:38.996 --> 00:10:41.736 A:middle
最大值之间的范围

00:10:42.706 --> 00:10:44.426 A:middle
在这个例子中

00:10:44.426 --> 00:10:46.846 A:middle
我们让最小值设置为 76

00:10:47.876 --> 00:10:49.076 A:middle
而我们的最大值

00:10:49.076 --> 00:10:50.806 A:middle
是一个随机的大数

00:10:50.806 --> 00:10:52.326 A:middle
让我们认为它是

00:10:52.326 --> 00:10:52.756 A:middle
正无穷

00:10:53.316 --> 00:10:55.646 A:middle
然后我们可以创建

00:10:55.646 --> 00:10:57.156 A:middle
我们的 HM 特征阈值

00:10:57.156 --> 00:10:57.526 A:middle
范围事件

00:10:58.476 --> 00:10:59.486 A:middle
我们同时指定了

00:10:59.486 --> 00:11:00.216 A:middle
我们的目标特征

00:10:59.486 --> 00:11:00.216 A:middle
我们的目标特征

00:11:01.066 --> 00:11:02.276 A:middle
在这个例子中

00:11:02.386 --> 00:11:03.426 A:middle
它是温度特征

00:11:03.426 --> 00:11:04.876 A:middle
它可以是一个温度传感器

00:11:04.876 --> 00:11:06.386 A:middle
或者可以是一个

00:11:06.386 --> 00:11:06.906 A:middle
恒温器

00:11:08.556 --> 00:11:09.906 A:middle
我们只需要提供

00:11:09.906 --> 00:11:11.456 A:middle
我们的阈值范围

00:11:11.456 --> 00:11:13.606 A:middle
即最近创建的

00:11:13.736 --> 00:11:14.266 A:middle
76 度的范围

00:11:14.776 --> 00:11:17.686 A:middle
然后和我们之前做过的一样

00:11:17.966 --> 00:11:20.036 A:middle
创建我们的 HMEventTrigger

00:11:20.036 --> 00:11:22.946 A:middle
这一次 我们指定

00:11:22.946 --> 00:11:24.936 A:middle
一次性触发事件为

00:11:25.876 --> 00:11:28.076 A:middle
我们的特征阈值范围

00:11:28.076 --> 00:11:28.396 A:middle
事件

00:11:28.836 --> 00:11:32.146 A:middle
来吧

00:11:32.996 --> 00:11:36.296 A:middle
现在 我们住宅的状态

00:11:36.326 --> 00:11:37.826 A:middle
经常与用户是否

00:11:37.826 --> 00:11:39.626 A:middle
在家中关联起来

00:11:41.136 --> 00:11:42.856 A:middle
例如

00:11:42.856 --> 00:11:44.536 A:middle
我不希望在家中没人的时候

00:11:44.536 --> 00:11:47.326 A:middle
让我的空调开着

00:11:47.326 --> 00:11:47.926 A:middle
或者让灯亮着

00:11:48.966 --> 00:11:50.286 A:middle
我可以开心的宣布

00:11:50.286 --> 00:11:52.396 A:middle
在 iOS 11 中

00:11:52.396 --> 00:11:53.566 A:middle
HMPresenceEvent 已经支持了这项功能 [掌声]

00:11:54.676 --> 00:11:57.816 A:middle
这非常的酷炫

00:11:57.906 --> 00:11:58.526 A:middle
你一定会爱上它的

00:11:59.556 --> 00:12:01.216 A:middle
我们支持了许多

00:11:59.556 --> 00:12:01.216 A:middle
我们支持了许多

00:12:01.216 --> 00:12:01.966 A:middle
不同类型的事件

00:12:02.366 --> 00:12:05.436 A:middle
原谅我

00:12:05.916 --> 00:12:07.806 A:middle
让我们继续

00:12:08.486 --> 00:12:10.396 A:middle
首先当前的用户

00:12:10.856 --> 00:12:12.996 A:middle
即我们提到的设备

00:12:13.936 --> 00:12:16.396 A:middle
到家时

00:12:16.936 --> 00:12:23.186 A:middle
另一方面 我们也可以

00:12:23.186 --> 00:12:24.466 A:middle
在当前用户离开家时

00:12:25.496 --> 00:12:25.956 A:middle
提供支持

00:12:27.546 --> 00:12:29.786 A:middle
现在无论它们

00:12:29.786 --> 00:12:31.576 A:middle
是否取代了之前的

00:12:31.576 --> 00:12:33.546 A:middle
它们都增强了 HMLocationEvents

00:12:33.546 --> 00:12:35.236 A:middle
然而它们不依靠追踪一个单独的设备

00:12:35.236 --> 00:12:36.356 A:middle
它们追踪的是一个用户

00:12:37.796 --> 00:12:40.286 A:middle
我们同样增加了对住宅中

00:12:40.286 --> 00:12:41.586 A:middle
多个用户的支持

00:12:41.586 --> 00:12:42.776 A:middle
事实上 是所有家庭中的用户

00:12:43.676 --> 00:12:45.876 A:middle
例如 我们支持

00:12:45.876 --> 00:12:47.576 A:middle
当最后一个用户离开住宅时

00:12:48.606 --> 00:12:50.496 A:middle
现在注意

00:12:50.496 --> 00:12:52.106 A:middle
这意味着你的住宅是无人占据的

00:12:52.976 --> 00:12:54.126 A:middle
这就是做一些事情的好时机

00:12:54.126 --> 00:12:55.756 A:middle
比如关掉所有的灯

00:12:56.286 --> 00:12:57.526 A:middle
关掉空调

00:12:58.586 --> 00:12:59.586 A:middle
甚至锁住门

00:13:00.096 --> 00:13:03.926 A:middle
最后 当然

00:13:03.926 --> 00:13:05.316 A:middle
我们也支持当第一个用户

00:13:05.316 --> 00:13:05.996 A:middle
到家的情况

00:13:06.726 --> 00:13:07.676 A:middle
这意味着你的住宅

00:13:07.676 --> 00:13:09.936 A:middle
现在有人占用了

00:13:09.936 --> 00:13:11.396 A:middle
在这种情况下

00:13:11.396 --> 00:13:13.026 A:middle
也许你会想要做一些事情

00:13:13.026 --> 00:13:14.606 A:middle
例如打开空调

00:13:14.606 --> 00:13:16.506 A:middle
打开灯光和解锁门

00:13:16.506 --> 00:13:18.936 A:middle
现在 让我们继续来

00:13:18.936 --> 00:13:20.336 A:middle
完成最后一个例子

00:13:20.336 --> 00:13:21.916 A:middle
这里我们创建一个事件触发器

00:13:21.916 --> 00:13:23.286 A:middle
它会在第一个用户到家时

00:13:23.286 --> 00:13:23.956 A:middle
执行

00:13:26.416 --> 00:13:28.286 A:middle
首先

00:13:28.286 --> 00:13:30.696 A:middle
我们创建我们的 HMPresenceEvent

00:13:30.696 --> 00:13:31.906 A:middle
同时我们将要指定我们的

00:13:31.906 --> 00:13:34.466 A:middle
存在类型为任何一个用户在家时

00:13:35.416 --> 00:13:36.726 A:middle
现在 这意味着

00:13:36.726 --> 00:13:40.526 A:middle
我们想要让我们的事件在

00:13:40.526 --> 00:13:41.826 A:middle
第一个用户到家时发生

00:13:42.376 --> 00:13:44.816 A:middle
然后 正如我们之前

00:13:44.816 --> 00:13:46.686 A:middle
做过的一样

00:13:47.106 --> 00:13:48.886 A:middle
创造一个 HMEventTrigger

00:13:48.886 --> 00:13:50.446 A:middle
然后指定我们的一次性触发事件

00:13:50.446 --> 00:13:52.346 A:middle
在这个例子中

00:13:52.386 --> 00:13:52.786 A:middle
这就是我们的存在事件

00:13:53.396 --> 00:13:55.716 A:middle
你可能知道

00:13:55.716 --> 00:13:57.076 A:middle
我打算说什么

00:13:57.076 --> 00:14:00.116 A:middle
但是在 iOS 11 中基于自动控制

00:13:57.076 --> 00:14:00.116 A:middle
但是在 iOS 11 中基于自动控制

00:14:00.116 --> 00:14:02.236 A:middle
创造用户存在就时如此简单

00:14:02.266 --> 00:14:03.946 A:middle
而且非常酷炫

00:14:03.946 --> 00:14:05.306 A:middle
我们非常激动的想让你

00:14:05.306 --> 00:14:06.826 A:middle
试一试 并为你的客户

00:14:06.826 --> 00:14:08.366 A:middle
或者你的 App 用户

00:14:08.366 --> 00:14:11.416 A:middle
提供一些增强的功能 抱歉

00:14:12.226 --> 00:14:13.796 A:middle
我们并不满足于这样

00:14:14.716 --> 00:14:17.216 A:middle
我们还添加了一些

00:14:17.436 --> 00:14:19.656 A:middle
为用户存在条件提供的支持

00:14:20.956 --> 00:14:23.676 A:middle
例如 让我们假设

00:14:23.676 --> 00:14:25.986 A:middle
我们想要在我们醒来时

00:14:25.986 --> 00:14:27.876 A:middle
或者当太阳升起时

00:14:27.876 --> 00:14:29.716 A:middle
执行我们的早上好场景

00:14:30.226 --> 00:14:34.316 A:middle
但是如果没有人在家

00:14:34.316 --> 00:14:35.816 A:middle
执行这个场景

00:14:35.816 --> 00:14:36.016 A:middle
就是毫无意义的

00:14:36.586 --> 00:14:39.726 A:middle
在 iOS 11 中

00:14:39.726 --> 00:14:41.806 A:middle
你可以通过基于用户存在条件

00:14:41.806 --> 00:14:44.106 A:middle
的用户存在

00:14:44.106 --> 00:14:44.806 A:middle
来执行这些场景

00:14:48.516 --> 00:14:49.856 A:middle
这些可以在 HM 事件触发器上

00:14:50.496 --> 00:14:53.516 A:middle
通过评估触发器 HM 事件触发器

00:14:53.516 --> 00:14:55.146 A:middle
对存在的判断

00:14:55.266 --> 00:14:55.836 A:middle
来完成

00:14:56.666 --> 00:14:58.066 A:middle
请注意

00:14:58.116 --> 00:14:58.876 A:middle
这需要一个存在事件

00:14:59.516 --> 00:15:05.006 A:middle
现在 让我们继续

00:14:59.516 --> 00:15:05.006 A:middle
现在 让我们继续

00:15:05.136 --> 00:15:07.006 A:middle
在我们之前的日出事件触发器的基础上

00:15:07.006 --> 00:15:08.996 A:middle
添加一个存在条件

00:15:09.366 --> 00:15:11.776 A:middle
并看一看它是

00:15:14.876 --> 00:15:14.986 A:middle
什么样子的

00:15:15.836 --> 00:15:18.236 A:middle
首先 我们将创建一个

00:15:18.576 --> 00:15:20.276 A:middle
我们的重要时间事件

00:15:20.496 --> 00:15:21.596 A:middle
也就是我们的日出事件

00:15:22.006 --> 00:15:24.326 A:middle
指定这里没有偏移

00:15:24.326 --> 00:15:24.846 A:middle
如同我们之前做的一样

00:15:25.376 --> 00:15:27.106 A:middle
然后我们创建一个

00:15:27.106 --> 00:15:30.576 A:middle
我们的 HMPresenceEvent

00:15:30.576 --> 00:15:32.756 A:middle
也是和我们之前做的一样

00:15:32.756 --> 00:15:33.826 A:middle
指定任何用户在家时

00:15:34.396 --> 00:15:37.626 A:middle
我们接下来通过 HM 事件触发器

00:15:38.026 --> 00:15:41.356 A:middle
创建条件进行

00:15:41.356 --> 00:15:43.376 A:middle
评估触发器对

00:15:43.406 --> 00:15:45.206 A:middle
存在的判断

00:15:45.206 --> 00:15:46.066 A:middle
并指定我们的存在事件

00:15:47.416 --> 00:15:49.046 A:middle
然后我们就可以创建

00:15:49.046 --> 00:15:49.626 A:middle
我们的 HMEventTrigger

00:15:50.676 --> 00:15:52.976 A:middle
这一次我们将要

00:15:52.976 --> 00:15:55.176 A:middle
指定我们的条件为

00:15:55.176 --> 00:15:57.006 A:middle
对时间触发器对判断

00:15:59.206 --> 00:16:05.746 A:middle
我们刚刚创建了一个

00:15:59.206 --> 00:16:05.746 A:middle
我们刚刚创建了一个

00:16:05.746 --> 00:16:07.586 A:middle
事件触发器

00:16:07.586 --> 00:16:09.916 A:middle
它将在每天日出的时候启动

00:16:10.216 --> 00:16:11.556 A:middle
但是只有在一个用户在家时

00:16:11.556 --> 00:16:13.336 A:middle
才会执行相关的

00:16:13.336 --> 00:16:14.526 A:middle
场景

00:16:19.696 --> 00:16:22.156 A:middle
如果你和我一样

00:16:22.156 --> 00:16:23.926 A:middle
我们通常想要执行一个触发器

00:16:23.926 --> 00:16:24.606 A:middle
但是只是暂时性的执行

00:16:26.036 --> 00:16:29.516 A:middle
例如说 当我在晚上

00:16:29.516 --> 00:16:32.846 A:middle
打开一个院门

00:16:32.846 --> 00:16:36.266 A:middle
我想让我的院灯也点亮

00:16:36.266 --> 00:16:38.866 A:middle
但是十分钟之后

00:16:38.866 --> 00:16:40.436 A:middle
我想让我的院灯

00:16:41.016 --> 00:16:41.686 A:middle
自动熄灭

00:16:42.466 --> 00:16:46.016 A:middle
这现在在 iOS 11 上

00:16:46.016 --> 00:16:49.626 A:middle
通过 EndEvents 成为了可能

00:16:49.689 --> 00:16:51.689 A:middle
[掌声]

00:16:51.752 --> 00:16:53.752 A:middle
.

00:16:53.816 --> 00:16:54.936 A:middle
EndEvents 可以在

00:16:54.936 --> 00:16:57.726 A:middle
HM 事件触发器上启用

00:16:57.726 --> 00:16:59.666 A:middle
它们会返回一个 HM 事件集

00:17:00.226 --> 00:17:04.736 A:middle
你可以对事件触发器更新

00:17:04.736 --> 00:17:07.866 A:middle
这些存在的事件或者

00:17:07.866 --> 00:17:10.036 A:middle
通过 completionHandler 来

00:17:10.096 --> 00:17:10.945 A:middle
更新终止事件

00:17:21.046 --> 00:17:22.675 A:middle
现在我们为 EndEvents 添加了

00:17:23.336 --> 00:17:24.195 A:middle
一个新的事件

00:17:24.665 --> 00:17:25.866 A:middle
HMDurationEvent

00:17:26.516 --> 00:17:27.896 A:middle
这允许你从

00:17:27.896 --> 00:17:29.976 A:middle
触发器的执行时间

00:17:30.056 --> 00:17:32.406 A:middle
在什么时候结束事件

00:17:32.406 --> 00:17:36.116 A:middle
来指定时间间隔

00:17:37.156 --> 00:17:39.646 A:middle
现在同样的

00:17:39.646 --> 00:17:41.596 A:middle
我们通常想要仅仅在

00:17:41.596 --> 00:17:44.656 A:middle
一周中的特定几天执行一个触发器

00:17:44.656 --> 00:17:46.086 A:middle
现在通过 Recurrences

00:17:46.186 --> 00:17:47.366 A:middle
这成为了可能

00:17:49.096 --> 00:17:50.576 A:middle
Recurrences 可以在

00:17:50.646 --> 00:17:53.676 A:middle
HMEventTrigger 上启用

00:17:53.856 --> 00:17:55.516 A:middle
它们会返回一个可选择的

00:17:55.516 --> 00:17:57.246 A:middle
数据成分集并指定了

00:17:57.246 --> 00:17:58.786 A:middle
一周中触发器活跃的

00:17:58.786 --> 00:18:00.136 A:middle
日期

00:17:58.786 --> 00:18:00.136 A:middle
日期

00:18:01.336 --> 00:18:03.256 A:middle
而且你可以通过

00:18:03.256 --> 00:18:04.896 A:middle
使用 completionHandler 更新

00:18:04.896 --> 00:18:06.246 A:middle
来将存在的事件触发器

00:18:06.246 --> 00:18:08.066 A:middle
更新为 Recurrences

00:18:08.106 --> 00:18:08.976 A:middle
新的触发事件

00:18:09.376 --> 00:18:13.606 A:middle
现在来举一个例子

00:18:13.606 --> 00:18:15.016 A:middle
我想要在周末的时候

00:18:15.016 --> 00:18:16.126 A:middle
晚一点起床

00:18:16.126 --> 00:18:16.866 A:middle
我相信你们中很多人也是一样的

00:18:17.246 --> 00:18:18.756 A:middle
所以我不想让

00:18:18.876 --> 00:18:20.616 A:middle
早上好场景在日出之后

00:18:20.966 --> 00:18:22.146 A:middle
一个小时就自动执行

00:18:22.926 --> 00:18:25.606 A:middle
相反 我想使用 Siri

00:18:25.606 --> 00:18:26.756 A:middle
并让它说

00:18:26.756 --> 00:18:27.066 A:middle
“早上好”

00:18:27.826 --> 00:18:29.376 A:middle
现在让我们继续

00:18:29.446 --> 00:18:31.386 A:middle
把之前的日出事件触发器

00:18:31.786 --> 00:18:34.856 A:middle
改成仅在周一到周五

00:18:35.116 --> 00:18:36.516 A:middle
期间执行

00:18:37.166 --> 00:18:41.546 A:middle
为了达成这个目标

00:18:41.546 --> 00:18:43.826 A:middle
我们创建了一个 HMSignificantTimeEvent

00:18:43.826 --> 00:18:44.486 A:middle
如同我们之前做过的一样

00:18:46.456 --> 00:18:51.176 A:middle
然后我们创建了

00:18:51.176 --> 00:18:52.106 A:middle
我们的数据成分集

00:18:52.586 --> 00:18:53.616 A:middle
我们打算称它们为

00:18:53.616 --> 00:18:57.656 A:middle
工作日 对于工作日的每一天

00:18:57.656 --> 00:18:59.826 A:middle
从周一到周五

00:19:00.416 --> 00:19:02.016 A:middle
我们创建一个新的数据成分

00:19:02.176 --> 00:19:03.306 A:middle
然后我们指定工作日属性为

00:19:03.386 --> 00:19:04.786 A:middle
这一周的当前日期

00:19:04.786 --> 00:19:06.696 A:middle
然后我们将这个添加入

00:19:06.696 --> 00:19:08.476 A:middle
我们的工作日集

00:19:08.956 --> 00:19:12.566 A:middle
然后我们创建了

00:19:12.566 --> 00:19:15.666 A:middle
HM 事件触发器

00:19:15.666 --> 00:19:17.956 A:middle
我们指定了重复事件集

00:19:17.956 --> 00:19:19.676 A:middle
即日期成分

00:19:19.676 --> 00:19:21.526 A:middle
因为重复事件是我们的 EventTrigger

00:19:21.526 --> 00:19:22.066 A:middle
的一部分

00:19:23.316 --> 00:19:25.386 A:middle
这允许我们基于

00:19:25.386 --> 00:19:28.076 A:middle
每周的日期

00:19:28.366 --> 00:19:34.506 A:middle
来限制事件触发器的执行

00:19:34.506 --> 00:19:36.826 A:middle
但是进一步来说

00:19:37.316 --> 00:19:38.586 A:middle
我们有时也想创建一个

00:19:38.586 --> 00:19:40.326 A:middle
仅仅执行一次的

00:19:40.356 --> 00:19:42.336 A:middle
事件触发器

00:19:42.336 --> 00:19:43.206 A:middle
然后让它自动失效

00:19:45.216 --> 00:19:48.896 A:middle
现在这通过 ExecuteOnce

00:19:48.896 --> 00:19:49.266 A:middle
成为了可能

00:19:49.936 --> 00:19:54.286 A:middle
例如

00:19:54.416 --> 00:19:57.096 A:middle
你也许想创建一个在明天日落时

00:19:57.096 --> 00:19:58.826 A:middle
执行的事件触发器

00:19:59.816 --> 00:20:00.946 A:middle
但是你不想让它重复执行

00:19:59.816 --> 00:20:00.946 A:middle
但是你不想让它重复执行

00:20:01.636 --> 00:20:04.336 A:middle
这是一个非常好的功能

00:20:04.336 --> 00:20:05.266 A:middle
我们非常兴奋的想让你

00:20:05.266 --> 00:20:05.416 A:middle
去尝试一下

00:20:06.166 --> 00:20:07.426 A:middle
这个功能

00:20:07.426 --> 00:20:10.916 A:middle
在 HM 事件触发器下的

00:20:10.916 --> 00:20:12.456 A:middle
ExecuteOnce 属性里

00:20:12.456 --> 00:20:16.106 A:middle
而且你可以通过使用 completionHandler

00:20:16.106 --> 00:20:18.076 A:middle
升级 ExecuteOnce 来将

00:20:18.476 --> 00:20:20.436 A:middle
已经存在的事件或者新的事件触发器

00:20:20.436 --> 00:20:21.296 A:middle
升级到只执行一次 completionHandler

00:20:24.836 --> 00:20:28.086 A:middle
最后我们已经

00:20:28.086 --> 00:20:29.966 A:middle
听说了你们的反馈

00:20:30.096 --> 00:20:31.766 A:middle
我们理解当前将事件触发器中

00:20:31.766 --> 00:20:34.556 A:middle
已经存在的事件升级

00:20:34.556 --> 00:20:35.216 A:middle
是非常困难的

00:20:36.586 --> 00:20:37.816 A:middle
让我们举一个例子

00:20:38.576 --> 00:20:39.676 A:middle
如果你在开发一个 App

00:20:39.676 --> 00:20:42.066 A:middle
并升级一个单独的事件

00:20:42.176 --> 00:20:43.826 A:middle
你首先必须在应用中

00:20:43.826 --> 00:20:45.146 A:middle
复制那个事件的属性

00:20:45.146 --> 00:20:47.646 A:middle
然后你必须

00:20:47.646 --> 00:20:49.016 A:middle
允许用户来修改

00:20:49.016 --> 00:20:49.346 A:middle
那个事件

00:20:50.686 --> 00:20:51.866 A:middle
一旦用户完成了他们的改变

00:20:51.866 --> 00:20:53.766 A:middle
你必须使用新的属性来

00:20:53.766 --> 00:20:56.456 A:middle
创建一个全新的 HMEvent

00:20:56.456 --> 00:20:59.816 A:middle
然后你必须

00:20:59.816 --> 00:21:01.926 A:middle
通过 removeEvent

00:20:59.816 --> 00:21:01.926 A:middle
通过 removeEvent

00:21:01.926 --> 00:21:02.906 A:middle
和 completionHandler

00:21:02.906 --> 00:21:03.756 A:middle
来删除已经存在的事件

00:21:04.436 --> 00:21:06.286 A:middle
然后通过 addEvent 以及 completionHandler

00:21:06.626 --> 00:21:08.346 A:middle
来添加新的事件

00:21:08.946 --> 00:21:10.406 A:middle
仅仅升级一个单独的事件

00:21:10.406 --> 00:21:11.816 A:middle
就需要如此多的步骤

00:21:12.316 --> 00:21:15.256 A:middle
所以在 iOS 11 中

00:21:15.296 --> 00:21:17.246 A:middle
我们通过一个单独模式的

00:21:17.526 --> 00:21:18.446 A:middle
updateEvents 和 completionHandler

00:21:18.446 --> 00:21:19.256 A:middle
让事情变得简单了

00:21:19.906 --> 00:21:21.576 A:middle
这使用了一个 HM 事件集

00:21:21.576 --> 00:21:23.576 A:middle
它代表了事件触发器的

00:21:23.576 --> 00:21:25.086 A:middle
新事件

00:21:25.176 --> 00:21:28.916 A:middle
我们也增加了

00:21:29.186 --> 00:21:32.696 A:middle
对已经定义的 HMEvents 的

00:21:32.696 --> 00:21:33.596 A:middle
可变副本的支持

00:21:34.766 --> 00:21:36.666 A:middle
所以这意味着什么呢

00:21:36.696 --> 00:21:37.786 A:middle
你现在可以仅仅使用

00:21:37.786 --> 00:21:39.646 A:middle
一个已经存在事件的

00:21:39.646 --> 00:21:42.556 A:middle
可变副本

00:21:42.556 --> 00:21:44.576 A:middle
作出任何用户要求的改变

00:21:44.576 --> 00:21:46.326 A:middle
然后使用 updateOnce 和 completionHandler

00:21:46.706 --> 00:21:47.616 A:middle
来实现这些改变

00:21:48.876 --> 00:21:50.026 A:middle
让我们继续来看一个

00:21:50.026 --> 00:21:51.616 A:middle
将我们之前的日出事件触发器

00:21:51.676 --> 00:21:54.056 A:middle
升级到日出后 30 分钟执行的

00:21:54.226 --> 00:21:56.696 A:middle
例子

00:22:00.476 --> 00:22:02.436 A:middle
首先 我们有

00:22:02.436 --> 00:22:03.286 A:middle
我们已经存在的 HMEvent

00:22:04.266 --> 00:22:05.736 A:middle
我们打算 这将会

00:22:05.736 --> 00:22:07.386 A:middle
返回一个 HMSignificantTimeEvent 类型的

00:22:07.386 --> 00:22:08.626 A:middle
对象

00:22:10.196 --> 00:22:14.036 A:middle
然后我们创建一个

00:22:14.036 --> 00:22:16.016 A:middle
可变副本 这将返回一个

00:22:16.016 --> 00:22:16.776 A:middle
HMMutableSignificantTimeEvent 类型的

00:22:16.776 --> 00:22:18.796 A:middle
对象

00:22:19.396 --> 00:22:23.336 A:middle
然后我们可以通过

00:22:23.336 --> 00:22:26.066 A:middle
创建一个新的日期成分

00:22:26.066 --> 00:22:26.896 A:middle
来升级我们的日出事件的时间偏移

00:22:27.796 --> 00:22:29.026 A:middle
我们指定分钟属性为 30

00:22:29.026 --> 00:22:30.516 A:middle
来表示重要事件

00:22:30.516 --> 00:22:32.436 A:middle
之后的 30 分钟

00:22:32.776 --> 00:22:34.796 A:middle
然后升级我们的 mutableSunriseEvent

00:22:34.796 --> 00:22:37.386 A:middle
到我们的新的

00:22:37.386 --> 00:22:38.136 A:middle
日期成分

00:22:38.976 --> 00:22:41.626 A:middle
请注意

00:22:41.626 --> 00:22:42.806 A:middle
我们还没有真正改变我们的事件触发器

00:22:42.806 --> 00:22:45.716 A:middle
它仍然会在日出的时候

00:22:46.016 --> 00:22:46.646 A:middle
执行

00:22:48.536 --> 00:22:50.856 A:middle
所以为了把我们的事件触发器

00:22:50.856 --> 00:22:52.176 A:middle
改变到日出后到 30 分钟

00:22:52.176 --> 00:22:54.576 A:middle
我们只需要引用 UpdateEvents 函数

00:22:54.616 --> 00:22:56.136 A:middle
和 completionHandler 来提供

00:22:56.136 --> 00:22:57.676 A:middle
新的事件集

00:22:58.386 --> 00:23:00.106 A:middle
在这个例子中

00:22:58.386 --> 00:23:00.106 A:middle
在这个例子中

00:23:00.106 --> 00:23:01.796 A:middle
我们忽略掉单个 mutableSunriseEvent

00:23:02.556 --> 00:23:04.936 A:middle
现在在 iOS 11 中

00:23:04.986 --> 00:23:06.686 A:middle
把已经存在的事件

00:23:06.686 --> 00:23:08.256 A:middle
在 HMEventTrigger 上升级

00:23:08.256 --> 00:23:08.976 A:middle
对于你的 App 来说是非常容易的

00:23:17.056 --> 00:23:17.906 A:middle
我们已经谈到了一系列的

00:23:17.946 --> 00:23:19.706 A:middle
新话题以及

00:23:20.126 --> 00:23:21.246 A:middle
对 HMEventTriggers 的功能增强

00:23:21.896 --> 00:23:23.846 A:middle
首先我们添加了

00:23:23.846 --> 00:23:26.756 A:middle
对新事件的支持 并支持了日期

00:23:27.706 --> 00:23:28.866 A:middle
重要事件

00:23:29.956 --> 00:23:31.806 A:middle
特征阈值范围

00:23:32.196 --> 00:23:33.596 A:middle
和用户存在

00:23:35.046 --> 00:23:36.586 A:middle
我们已经增加了新的条件

00:23:37.076 --> 00:23:38.526 A:middle
支持了重要时间范围

00:23:38.616 --> 00:23:41.316 A:middle
以及用户存在

00:23:41.856 --> 00:23:47.776 A:middle
我们增加了对终止事件的

00:23:47.776 --> 00:23:50.566 A:middle
支持

00:23:50.566 --> 00:23:53.466 A:middle
这允许你来指定临时事件触发器

00:23:53.466 --> 00:23:54.536 A:middle
它可以在特定的

00:23:54.536 --> 00:23:56.046 A:middle
一段时间之后

00:23:56.046 --> 00:23:58.996 A:middle
被自动重复激活

00:23:59.146 --> 00:24:00.486 A:middle
我们也添加了对重复发生事件的支持

00:23:59.146 --> 00:24:00.486 A:middle
我们也添加了对重复发生事件的支持

00:24:00.486 --> 00:24:03.086 A:middle
这允许你指定

00:24:03.086 --> 00:24:04.936 A:middle
什么时候你的事件触发器

00:24:06.226 --> 00:24:09.256 A:middle
是处于激活状态的

00:24:09.256 --> 00:24:10.646 A:middle
最后我们还增加了对

00:24:11.236 --> 00:24:13.136 A:middle
所有已定义事件类型的可变事件的支持

00:24:13.136 --> 00:24:15.986 A:middle
这让你的 App 在 iOS 11 上

00:24:15.986 --> 00:24:17.896 A:middle
升级已经存在的 HMEventTriggers 时

00:24:18.046 --> 00:24:20.506 A:middle
变得更加容易

00:24:21.736 --> 00:24:25.066 A:middle
现在我想把时间交给 Praveen

00:24:25.066 --> 00:24:26.416 A:middle
他将告诉你一些关于

00:24:26.776 --> 00:24:28.146 A:middle
我们的配件生态系统的

00:24:28.146 --> 00:24:28.996 A:middle
令人激动的升级

00:24:29.866 --> 00:24:30.166 A:middle
Praveen

00:24:31.516 --> 00:24:37.566 A:middle
[掌声]

00:24:38.066 --> 00:24:38.766 A:middle
&gt;&gt; 谢谢 Matt

00:24:38.766 --> 00:24:39.596 A:middle
大家早上好

00:24:39.946 --> 00:24:41.796 A:middle
我的名字是 Praveen Chegondi

00:24:41.796 --> 00:24:43.686 A:middle
我来这里是为了和你们分享

00:24:43.686 --> 00:24:45.146 A:middle
一些协议功能

00:24:45.146 --> 00:24:47.196 A:middle
以及在 iOS 11 上的增强功能

00:24:47.606 --> 00:24:49.466 A:middle
今天我有一些令人激动的话题

00:24:49.466 --> 00:24:49.976 A:middle
来和你们分享

00:24:58.046 --> 00:24:58.876 A:middle
我将要分享一些

00:24:58.876 --> 00:25:00.546 A:middle
关于我们对 HomeKit 配件协议规范

00:24:58.876 --> 00:25:00.546 A:middle
关于我们对 HomeKit 配件协议规范

00:25:00.546 --> 00:25:02.666 A:middle
做了些什么改变

00:25:02.736 --> 00:25:03.896 A:middle
的好消息

00:25:04.086 --> 00:25:06.276 A:middle
我同时打算谈一谈

00:25:06.276 --> 00:25:10.846 A:middle
HomeKit 配件协议

00:25:12.426 --> 00:25:15.416 A:middle
的增强

00:25:15.976 --> 00:25:17.036 A:middle
在 iOS 11 上

00:25:17.036 --> 00:25:18.346 A:middle
支持了新配件分类

00:25:20.096 --> 00:25:21.356 A:middle
对 HomeKit 配件的认证过程

00:25:21.356 --> 00:25:23.396 A:middle
的添加

00:25:24.276 --> 00:25:27.866 A:middle
最后

00:25:27.866 --> 00:25:29.666 A:middle
会谈到对我们的

00:25:29.666 --> 00:25:31.686 A:middle
Mfi 执照者的自我认证过程

00:25:31.686 --> 00:25:32.866 A:middle
的提高

00:25:40.046 --> 00:25:41.376 A:middle
让我们从 HomeKit

00:25:41.426 --> 00:25:42.916 A:middle
配件协议

00:25:42.996 --> 00:25:43.856 A:middle
规范的概览

00:25:43.906 --> 00:25:44.596 A:middle
开始谈起

00:25:52.066 --> 00:25:53.256 A:middle
HomeKit 配件协议规范

00:25:53.256 --> 00:25:56.076 A:middle
描述了一个 Apple 设备作为控制器

00:25:56.076 --> 00:25:57.466 A:middle
是怎么样和一个配件

00:25:57.466 --> 00:25:59.286 A:middle
进行交互的

00:25:59.286 --> 00:26:00.896 A:middle
同时也包括了

00:25:59.286 --> 00:26:00.896 A:middle
同时也包括了

00:26:00.896 --> 00:26:02.006 A:middle
一些安全要求

00:26:03.646 --> 00:26:06.896 A:middle
所有 Apple 设备和配件之间

00:26:06.896 --> 00:26:08.636 A:middle
针对 HomeKit 的会话

00:26:09.036 --> 00:26:11.286 A:middle
都是端对端加密

00:26:11.286 --> 00:26:12.876 A:middle
并相互认证的

00:26:14.526 --> 00:26:16.876 A:middle
规则提供了一些双方

00:26:16.876 --> 00:26:19.176 A:middle
的 IP 和蓝牙 LE 配件的

00:26:19.326 --> 00:26:21.946 A:middle
实现细节

00:26:23.436 --> 00:26:25.716 A:middle
你可以同样

00:26:25.716 --> 00:26:27.506 A:middle
从 HomeKit 支持的怎样描述

00:26:27.506 --> 00:26:29.496 A:middle
每个配件分类上得到

00:26:29.496 --> 00:26:31.506 A:middle
这些细节

00:26:31.506 --> 00:26:33.876 A:middle
例如灯泡 风扇 恒热器

00:26:33.876 --> 00:26:34.576 A:middle
还有更多的东西

00:26:35.886 --> 00:26:38.066 A:middle
想要关于 HomeKit 配件协议的

00:26:38.066 --> 00:26:40.126 A:middle
完整概览

00:26:40.126 --> 00:26:42.186 A:middle
你可以参考 2014 会议

00:26:42.586 --> 00:26:44.776 A:middle
为 iOS 和 OS X 设计

00:26:44.996 --> 00:26:45.766 A:middle
配件

00:26:52.046 --> 00:26:55.466 A:middle
直到现在

00:26:55.466 --> 00:26:57.536 A:middle
规范已经可以在 Mfi 执照上找到了

00:26:58.066 --> 00:27:00.426 A:middle
这些配件在完成自我认证之后

00:26:58.066 --> 00:27:00.426 A:middle
这些配件在完成自我认证之后

00:27:00.426 --> 00:27:02.836 A:middle
会在上面印刻

00:27:03.366 --> 00:27:04.236 A:middle
“适配 Apple HomeKit”

00:27:04.236 --> 00:27:05.096 A:middle
的图标

00:27:06.556 --> 00:27:11.876 A:middle
从今天开始

00:27:11.876 --> 00:27:15.226 A:middle
我们正在努力

00:27:15.226 --> 00:27:16.966 A:middle
提供一版让每一个有开发者执照的人

00:27:17.426 --> 00:27:19.396 A:middle
都能使用的

00:27:19.396 --> 00:27:19.976 A:middle
HomeKit 配件协议规范

00:27:20.516 --> 00:27:23.651 A:middle
[ 掌声 ]

00:27:27.786 --> 00:27:29.326 A:middle
所以 如果你是一个

00:27:29.546 --> 00:27:31.276 A:middle
学生开发者或者业余爱好者

00:27:31.276 --> 00:27:33.606 A:middle
并且想要学习 HomeKit 协议

00:27:33.606 --> 00:27:35.486 A:middle
想要创建配件

00:27:35.656 --> 00:27:36.906 A:middle
作为私人用途

00:27:36.906 --> 00:27:37.976 A:middle
你现在可以这么做了

00:27:38.516 --> 00:27:44.606 A:middle
[ 掌声 ]

00:27:45.106 --> 00:27:46.796 A:middle
HomeKit 开发者页

00:27:46.796 --> 00:27:48.806 A:middle
已经对规范进行了更新

00:27:48.806 --> 00:27:50.416 A:middle
你也可以找到其他的

00:27:50.416 --> 00:27:52.226 A:middle
有用信息

00:27:52.556 --> 00:27:53.666 A:middle
例如经常问到的问题

00:27:53.666 --> 00:27:55.696 A:middle
和对创建你自己的 HomeKit App

00:27:55.696 --> 00:27:57.656 A:middle
的指导

00:27:58.176 --> 00:28:00.476 A:middle
因为规范里面有

00:27:58.176 --> 00:28:00.476 A:middle
因为规范里面有

00:28:00.546 --> 00:28:02.396 A:middle
Apple 的产权信息

00:28:02.976 --> 00:28:04.256 A:middle
你需要同意

00:28:04.256 --> 00:28:05.826 A:middle
一项点按阅览执照

00:28:05.826 --> 00:28:06.606 A:middle
才能下载它

00:28:07.216 --> 00:28:08.566 A:middle
有了这些信息

00:28:08.886 --> 00:28:09.966 A:middle
我们期盼着看到

00:28:10.046 --> 00:28:12.186 A:middle
你们会带来一些

00:28:12.186 --> 00:28:13.776 A:middle
什么样的新主意

00:28:14.086 --> 00:28:16.516 A:middle
让我们假设

00:28:16.546 --> 00:28:18.056 A:middle
你们会带来一些很酷炫的样板

00:28:19.286 --> 00:28:20.946 A:middle
现在 你想要开发

00:28:20.946 --> 00:28:23.356 A:middle
一个 HomeKit 配件

00:28:23.356 --> 00:28:23.646 A:middle
以用于商业用途

00:28:24.566 --> 00:28:26.636 A:middle
你需要加入 Apple Mfi

00:28:26.716 --> 00:28:27.266 A:middle
项目

00:28:28.526 --> 00:28:31.146 A:middle
你需要加入 Apple Mfi 项目

00:28:31.146 --> 00:28:32.646 A:middle
并通过

00:28:32.646 --> 00:28:35.006 A:middle
自我认证

00:28:35.006 --> 00:28:36.976 A:middle
才可以开始你的配件制造

00:28:36.976 --> 00:28:38.086 A:middle
以及销售

00:28:38.836 --> 00:28:41.386 A:middle
这非常令人激动

00:28:42.316 --> 00:28:44.846 A:middle
而我建议你

00:28:44.846 --> 00:28:46.536 A:middle
经常查看开发者页

00:28:46.536 --> 00:28:49.156 A:middle
的最近更新

00:28:49.156 --> 00:28:50.766 A:middle
因为我们会持续的介绍一些

00:28:50.766 --> 00:28:51.806 A:middle
新功能和对规范的

00:28:51.806 --> 00:28:52.596 A:middle
增强

00:28:54.416 --> 00:28:55.976 A:middle
说到增强

00:29:02.046 --> 00:29:04.436 A:middle
在 iOS 11 中

00:29:04.436 --> 00:29:05.896 A:middle
我们对 HomeKit 配件协议

00:29:05.896 --> 00:29:06.856 A:middle
进行了一些大幅的改善

00:29:08.106 --> 00:29:12.546 A:middle
现在让我们来看一看

00:29:12.546 --> 00:29:15.356 A:middle
一个 iOS 10 的用户是怎么样

00:29:15.356 --> 00:29:17.346 A:middle
设置一个 HomeKit 配件的 例如灯泡

00:29:17.896 --> 00:29:20.666 A:middle
这些当然就是配件

00:29:20.666 --> 00:29:24.506 A:middle
把灯泡放在插座上

00:29:24.506 --> 00:29:26.076 A:middle
从 Home 中的添加配件选项

00:29:26.076 --> 00:29:27.846 A:middle
选中配件

00:29:27.846 --> 00:29:29.496 A:middle
然后扫描 8 位

00:29:29.496 --> 00:29:30.746 A:middle
设置代码

00:29:31.526 --> 00:29:34.206 A:middle
通过简单的三步

00:29:34.266 --> 00:29:35.366 A:middle
用户就能够设置一个

00:29:35.366 --> 00:29:37.286 A:middle
简单而有效的

00:29:37.286 --> 00:29:37.626 A:middle
HomeKit 配件了

00:29:38.146 --> 00:29:40.926 A:middle
这个过程中

00:29:40.926 --> 00:29:41.556 A:middle
需要注意一些事情

00:29:42.346 --> 00:29:44.736 A:middle
配件必须通电

00:29:45.026 --> 00:29:45.966 A:middle
以让它出现

00:29:46.946 --> 00:29:49.986 A:middle
第二点 设置代码

00:29:49.986 --> 00:29:51.326 A:middle
是仅仅用来初始化 HomeKit 配对的

00:29:51.326 --> 00:29:53.906 A:middle
这是为了确保

00:29:53.906 --> 00:29:55.666 A:middle
只有你才能设置

00:29:55.666 --> 00:29:56.406 A:middle
这个配件

00:29:58.896 --> 00:30:01.356 A:middle
对于很多安装在

00:29:58.896 --> 00:30:01.356 A:middle
对于很多安装在

00:30:01.356 --> 00:30:02.746 A:middle
难以接触地方的配件

00:30:02.826 --> 00:30:05.536 A:middle
例如灯泡

00:30:05.536 --> 00:30:06.846 A:middle
或者将设置代码印在

00:30:06.846 --> 00:30:09.166 A:middle
产品的背面

00:30:09.166 --> 00:30:10.926 A:middle
会让它通电之后

00:30:11.436 --> 00:30:12.336 A:middle
不容易扫描到设置代码

00:30:13.686 --> 00:30:15.716 A:middle
或者甚至当你在

00:30:15.716 --> 00:30:16.896 A:middle
设置一个模型的多个

00:30:16.896 --> 00:30:18.256 A:middle
配件时选则一个

00:30:18.466 --> 00:30:19.386 A:middle
配件具有挑战性

00:30:20.886 --> 00:30:23.766 A:middle
在 iOS 11 中

00:30:24.126 --> 00:30:25.996 A:middle
我们引入了优化的一系列

00:30:26.106 --> 00:30:27.506 A:middle
过程来进一步简化配置

00:30:27.506 --> 00:30:27.856 A:middle
设置

00:30:28.336 --> 00:30:31.546 A:middle
随着设置的优化

00:30:31.606 --> 00:30:34.296 A:middle
用户现在可以扫描设置代码

00:30:34.296 --> 00:30:35.456 A:middle
然后给配件通电

00:30:36.106 --> 00:30:38.286 A:middle
为了达到这个目标

00:30:38.286 --> 00:30:40.156 A:middle
我们正在增强设置的负载

00:30:40.156 --> 00:30:42.926 A:middle
使它在设置代码之外

00:30:42.926 --> 00:30:44.646 A:middle
额外包括设置 ID

00:30:44.646 --> 00:30:46.746 A:middle
iOS 11 使用设置 ID

00:30:46.746 --> 00:30:48.286 A:middle
在设置代码扫描之后开始

00:30:48.286 --> 00:30:50.136 A:middle
配件的配对过程

00:30:50.136 --> 00:30:53.026 A:middle
然后在配件通电之后

00:30:53.026 --> 00:30:54.396 A:middle
使它配对到

00:30:54.396 --> 00:30:54.576 A:middle
配件

00:30:54.956 --> 00:30:55.796 A:middle
这非常容易

00:30:57.296 --> 00:30:59.016 A:middle
为了传递增强的设置代码

00:30:59.016 --> 00:31:03.096 A:middle
我们现在支持

00:30:59.016 --> 00:31:03.096 A:middle
我们现在支持

00:31:03.096 --> 00:31:05.416 A:middle
扫描二维码来

00:31:05.416 --> 00:31:06.366 A:middle
设置 HomeKit 配件

00:31:08.016 --> 00:31:09.766 A:middle
[掌声]

00:31:11.516 --> 00:31:13.996 A:middle
二维码是一个基于标准的码

00:31:14.276 --> 00:31:18.806 A:middle
并且可以小到 10mm

00:31:18.806 --> 00:31:19.336 A:middle
10 mm

00:31:19.996 --> 00:31:20.976 A:middle
这真是非常的小

00:31:32.046 --> 00:31:34.866 A:middle
二维码的小型化

00:31:34.866 --> 00:31:36.226 A:middle
会帮助很多制造商

00:31:36.226 --> 00:31:38.616 A:middle
来将二维码放到

00:31:39.036 --> 00:31:42.126 A:middle
更小的配件上

00:31:42.126 --> 00:31:42.996 A:middle
这真是非常出色

00:31:43.926 --> 00:31:44.956 A:middle
但是我们没有在这里停下

00:31:46.816 --> 00:31:49.816 A:middle
我们又朝前迈进了一步

00:31:49.816 --> 00:31:51.386 A:middle
除了支持二维码之外

00:31:52.346 --> 00:31:55.866 A:middle
我们还添加了对 NFC 标签的

00:31:55.866 --> 00:31:56.296 A:middle
支持

00:31:57.516 --> 00:31:59.576 A:middle
[掌声]

00:32:00.076 --> 00:32:01.166 A:middle
&gt;&gt; 而我们对此

00:32:01.166 --> 00:32:01.646 A:middle
真的很兴奋

00:32:02.846 --> 00:32:04.126 A:middle
有了和增强设置代码

00:32:04.126 --> 00:32:05.266 A:middle
编程在一起对 NFC 标签

00:32:05.266 --> 00:32:07.386 A:middle
我们现在可以传递

00:32:07.386 --> 00:32:09.026 A:middle
甚至更多无缝的

00:32:09.026 --> 00:32:11.136 A:middle
设置配件的

00:32:11.136 --> 00:32:11.656 A:middle
用户体验

00:32:11.896 --> 00:32:14.016 A:middle
用户仅仅需要

00:32:14.016 --> 00:32:16.096 A:middle
点按来配对

00:32:16.226 --> 00:32:18.666 A:middle
这非常简单而且美妙

00:32:19.776 --> 00:32:22.046 A:middle
整个在 iOS 11 上

00:32:22.046 --> 00:32:23.726 A:middle
设置配件的体验

00:32:23.726 --> 00:32:25.866 A:middle
因为有了二维码

00:32:25.866 --> 00:32:28.576 A:middle
和 NFC 标签对 HomeKit 配件的支持

00:32:28.626 --> 00:32:29.326 A:middle
变得非常美妙

00:32:30.036 --> 00:32:33.526 A:middle
现在让我们来谈一谈蓝牙

00:32:34.186 --> 00:32:38.796 A:middle
在过去的几年

00:32:38.796 --> 00:32:40.946 A:middle
我们已经见过蓝牙 LE HomeKit 配件

00:32:40.946 --> 00:32:42.046 A:middle
的兴起

00:32:43.066 --> 00:32:44.876 A:middle
这是因为蓝牙 LE 配件

00:32:44.876 --> 00:32:46.246 A:middle
拥有很多的

00:32:46.246 --> 00:32:47.076 A:middle
优势

00:32:48.326 --> 00:32:50.426 A:middle
他们很小

00:32:50.426 --> 00:32:52.456 A:middle
而且功耗极低

00:32:52.456 --> 00:32:54.276 A:middle
许多都是电池供电的

00:32:54.276 --> 00:32:55.756 A:middle
例如接触感应器 动作感应器

00:32:55.756 --> 00:32:57.596 A:middle
以及其他更多

00:32:57.596 --> 00:32:59.486 A:middle
用户使用它们在特定动作发生时

00:32:59.486 --> 00:33:00.956 A:middle
触发事件

00:32:59.486 --> 00:33:00.956 A:middle
触发事件

00:33:00.956 --> 00:33:03.266 A:middle
这真是极好的

00:33:04.276 --> 00:33:10.176 A:middle
现在让我们来看一看蓝牙通知

00:33:10.176 --> 00:33:12.806 A:middle
在 iOS 10 上是怎么工作的

00:33:13.566 --> 00:33:16.496 A:middle
在 iOS 10 上

00:33:16.496 --> 00:33:18.646 A:middle
当配件状态变化的时候

00:33:18.646 --> 00:33:20.296 A:middle
它会触发一个状态改变通知

00:33:20.676 --> 00:33:23.736 A:middle
Apple TV 的 Home

00:33:23.736 --> 00:33:25.556 A:middle
在这种情况下检测到状态变化

00:33:25.916 --> 00:33:27.936 A:middle
然后建立了一个会话

00:33:27.936 --> 00:33:30.136 A:middle
一个和配件之间的

00:33:30.136 --> 00:33:32.336 A:middle
安全会话

00:33:32.506 --> 00:33:33.886 A:middle
来决定是什么状态发生了变化

00:33:33.886 --> 00:33:36.226 A:middle
然后触发

00:33:36.226 --> 00:33:36.786 A:middle
自动程序

00:33:38.296 --> 00:33:41.856 A:middle
整个过程会导致

00:33:41.856 --> 00:33:44.906 A:middle
几秒钟的停滞

00:33:44.906 --> 00:33:45.986 A:middle
来让自动程序执行

00:33:47.206 --> 00:33:49.516 A:middle
在 iOS 11 中

00:33:49.516 --> 00:33:51.396 A:middle
我们完全改变了机制

00:33:51.396 --> 00:33:53.196 A:middle
显著降低了延迟

00:33:54.136 --> 00:33:56.416 A:middle
而我们是通过

00:33:56.416 --> 00:33:58.736 A:middle
运用安全广播通知会议发送通知

00:33:58.736 --> 00:33:59.706 A:middle
来达到这一目标的

00:34:01.276 --> 00:34:02.966 A:middle
在这里

00:34:03.516 --> 00:34:04.926 A:middle
iOS 控制器使用加密的钥匙

00:34:04.976 --> 00:34:07.056 A:middle
来配置控制器

00:34:07.126 --> 00:34:08.866 A:middle
其中相关的特征

00:34:08.866 --> 00:34:10.326 A:middle
会被包括在

00:34:10.326 --> 00:34:11.565 A:middle
安全广播通知中

00:34:12.456 --> 00:34:15.876 A:middle
现在 当一个特征发生改变时

00:34:20.025 --> 00:34:21.406 A:middle
配件加密了

00:34:21.406 --> 00:34:23.216 A:middle
状态变化

00:34:23.216 --> 00:34:24.976 A:middle
然后给 Home App 发送了一个通知

00:34:24.976 --> 00:34:26.335 A:middle
这会立即让自动程序

00:34:26.726 --> 00:34:28.156 A:middle
运行起来

00:34:28.626 --> 00:34:33.306 A:middle
有了这个增强

00:34:33.306 --> 00:34:35.056 A:middle
我们可以看到许多的配件

00:34:35.315 --> 00:34:36.606 A:middle
它们的事件触发时

00:34:36.646 --> 00:34:38.275 A:middle
延迟从原来的几秒

00:34:38.275 --> 00:34:39.326 A:middle
提升到少于一秒

00:34:40.396 --> 00:34:41.795 A:middle
而关于这个增强的

00:34:41.795 --> 00:34:44.906 A:middle
最好的部分是

00:34:44.906 --> 00:34:46.826 A:middle
你仅仅需要升级到 iOS 11

00:34:46.826 --> 00:34:48.596 A:middle
就可以得到新的固件

00:34:48.596 --> 00:34:50.496 A:middle
来让你的配件更快

00:34:50.496 --> 00:34:51.476 A:middle
因为你不需要

00:34:51.476 --> 00:34:52.146 A:middle
买新的产品

00:34:53.482 --> 00:34:55.483 A:middle
[掌声]

00:34:58.416 --> 00:34:59.646 A:middle
随着 Matt 稍早提到的

00:34:59.646 --> 00:35:01.636 A:middle
新的事件触发器

00:34:59.646 --> 00:35:01.636 A:middle
新的事件触发器

00:35:01.636 --> 00:35:03.266 A:middle
还有对蓝牙 LE 配件的

00:35:03.266 --> 00:35:04.616 A:middle
安全播报通知的出现

00:35:04.616 --> 00:35:07.166 A:middle
智能家居

00:35:07.166 --> 00:35:09.006 A:middle
将会被以不可思议的方式

00:35:09.006 --> 00:35:12.316 A:middle
重新定义

00:35:12.316 --> 00:35:17.386 A:middle
接着说配件分类

00:35:18.036 --> 00:35:20.266 A:middle
HomeKit 支持广泛的

00:35:20.366 --> 00:35:23.486 A:middle
配件类型

00:35:23.516 --> 00:35:24.826 A:middle
从传感器到相机以及更多

00:35:25.226 --> 00:35:28.196 A:middle
每一年我们继续

00:35:28.246 --> 00:35:29.626 A:middle
增加新的配件

00:35:29.626 --> 00:35:30.156 A:middle
分类

00:35:31.476 --> 00:35:35.636 A:middle
今年在 iOS 11 中

00:35:35.636 --> 00:35:39.056 A:middle
我们增加了洒水器

00:35:39.056 --> 00:35:39.746 A:middle
和水龙头

00:35:41.026 --> 00:35:43.026 A:middle
[掌声]

00:35:45.046 --> 00:35:46.256 A:middle
随着 HomeKit 对

00:35:46.256 --> 00:35:48.076 A:middle
洒水器的支持

00:35:48.076 --> 00:35:50.306 A:middle
用户现在可以通过 Siri

00:35:50.306 --> 00:35:50.676 A:middle
给花园浇水了

00:35:53.206 --> 00:35:54.916 A:middle
有一个相似的

00:35:54.916 --> 00:35:56.916 A:middle
配件分类类型

00:35:56.916 --> 00:35:59.646 A:middle
也是和水相关的

00:36:00.296 --> 00:36:00.506 A:middle
接着我们将谈谈水龙头

00:36:01.556 --> 00:36:04.136 A:middle
对于很多用户而言

00:36:04.136 --> 00:36:06.736 A:middle
打开淋浴是每天的一个仪式

00:36:07.226 --> 00:36:10.036 A:middle
让水流出

00:36:10.036 --> 00:36:11.976 A:middle
等待水温变得正常

00:36:12.036 --> 00:36:13.586 A:middle
然后进入

00:36:13.586 --> 00:36:13.976 A:middle
淋浴之中

00:36:15.866 --> 00:36:18.466 A:middle
现在 当你在享用

00:36:18.466 --> 00:36:20.656 A:middle
你的早餐咖啡时

00:36:20.656 --> 00:36:23.986 A:middle
你可以让 Siri 知道沐浴的时间

00:36:24.036 --> 00:36:25.026 A:middle
当你享用完你的一杯咖啡

00:36:25.026 --> 00:36:28.056 A:middle
水温已经

00:36:28.056 --> 00:36:29.196 A:middle
到达了你所设置的温度

00:36:29.296 --> 00:36:30.696 A:middle
而这可以通过

00:36:30.696 --> 00:36:32.366 A:middle
水龙头配件分类

00:36:32.366 --> 00:36:33.316 A:middle
来实现

00:36:33.866 --> 00:36:35.966 A:middle
这真是令人愉快

00:36:36.516 --> 00:36:39.346 A:middle
[掌声]

00:36:43.176 --> 00:36:44.656 A:middle
现在让我们来谈一谈

00:36:44.656 --> 00:36:44.916 A:middle
认证

00:36:46.846 --> 00:36:50.216 A:middle
在 Apple

00:36:50.266 --> 00:36:54.346 A:middle
安全和质量对我们而言是最重要的

00:36:54.746 --> 00:36:57.786 A:middle
我们的用户信任

00:36:57.786 --> 00:36:58.896 A:middle
他们的配件是经过

00:36:59.016 --> 00:37:01.256 A:middle
MFi 执照测试并

00:36:59.016 --> 00:37:01.256 A:middle
MFi 执照测试并

00:37:01.256 --> 00:37:02.276 A:middle
受 Apple 审查的

00:37:03.806 --> 00:37:05.676 A:middle
为了确保配件是

00:37:05.676 --> 00:37:08.056 A:middle
受信赖的并且自我认证的

00:37:08.056 --> 00:37:09.956 A:middle
我们采用了基于硬件的

00:37:09.956 --> 00:37:10.606 A:middle
认证方式

00:37:12.796 --> 00:37:16.526 A:middle
从 iOS 11 开始

00:37:16.526 --> 00:37:18.766 A:middle
我们现在引入了一种

00:37:18.766 --> 00:37:19.796 A:middle
替代方式来认证

00:37:19.796 --> 00:37:20.336 A:middle
HomeKit 配件

00:37:21.066 --> 00:37:22.996 A:middle
现在配件

00:37:22.996 --> 00:37:25.296 A:middle
可以通过软件来认证了

00:37:26.029 --> 00:37:28.029 A:middle
[掌声]

00:37:30.056 --> 00:37:32.156 A:middle
这提供了一个非常好的选择

00:37:32.156 --> 00:37:33.786 A:middle
来启用 HomeKit

00:37:33.786 --> 00:37:35.846 A:middle
并运送可以升级到 HomeKit 的

00:37:35.846 --> 00:37:36.356 A:middle
配件

00:37:38.096 --> 00:37:40.896 A:middle
对于我们的 Mfi 执照来说

00:37:40.896 --> 00:37:42.606 A:middle
我们稍后将分享更多的

00:37:42.776 --> 00:37:45.076 A:middle
关于安装的信息

00:37:45.756 --> 00:37:47.396 A:middle
继续我们关于配件质量的话题

00:37:47.656 --> 00:37:49.986 A:middle
我们现在有了新的

00:37:49.986 --> 00:37:52.316 A:middle
升级的过程

00:37:52.376 --> 00:37:55.196 A:middle
以及工具来帮助 Mfi 执照

00:37:55.246 --> 00:37:57.196 A:middle
接入 HomeKit 配件的

00:37:57.196 --> 00:37:57.776 A:middle
启动

00:38:00.366 --> 00:38:02.606 A:middle
我们现在有了自动化的工具

00:38:02.606 --> 00:38:04.246 A:middle
来测试你的配件

00:38:04.246 --> 00:38:05.966 A:middle
并继续自动化进行

00:38:05.966 --> 00:38:08.256 A:middle
更多的测试

00:38:08.256 --> 00:38:10.206 A:middle
我们敬请所有的 Mfi 执照

00:38:10.206 --> 00:38:12.236 A:middle
在你开始测试之前

00:38:12.236 --> 00:38:12.776 A:middle
总最先使用最新的工具

00:38:14.396 --> 00:38:16.646 A:middle
同时我们非常高兴的宣布

00:38:16.646 --> 00:38:18.996 A:middle
我们现在有了两个

00:38:18.996 --> 00:38:20.726 A:middle
在美国的 Apple 授权的第三方

00:38:20.726 --> 00:38:22.526 A:middle
实验室

00:38:22.826 --> 00:38:24.466 A:middle
并且下个月

00:38:24.466 --> 00:38:26.846 A:middle
将授权更多的在中国

00:38:26.846 --> 00:38:26.976 A:middle
和英国的第三方实验室

00:38:27.516 --> 00:38:31.546 A:middle
[掌声]

00:38:32.046 --> 00:38:32.876 A:middle
&gt;&gt; 这将帮助很多

00:38:32.876 --> 00:38:34.766 A:middle
Mfi 执照者更快的

00:38:34.766 --> 00:38:36.066 A:middle
启动配件

00:38:38.636 --> 00:38:42.046 A:middle
来总结一下

00:38:42.236 --> 00:38:44.326 A:middle
今年我们介绍了很多

00:38:44.516 --> 00:38:46.366 A:middle
有信服力并且有效的 HomeKit 功能

00:38:47.446 --> 00:38:48.716 A:middle
Matt 谈到了

00:38:48.716 --> 00:38:50.136 A:middle
对事件触发器的极好的优化

00:38:50.536 --> 00:38:52.436 A:middle
并且介绍了新的 APS

00:38:52.436 --> 00:38:54.616 A:middle
你可以应用到你的 App 中

00:38:54.616 --> 00:38:55.446 A:middle
来重新定义智能家居

00:38:56.936 --> 00:38:58.386 A:middle
我分享了一些关于

00:38:58.386 --> 00:38:59.176 A:middle
HomeKit 配件协议规范对

00:38:59.176 --> 00:39:00.706 A:middle
所有开发者可用的

00:38:59.176 --> 00:39:00.706 A:middle
所有开发者可用的

00:39:00.706 --> 00:39:02.226 A:middle
新消息

00:39:03.246 --> 00:39:05.776 A:middle
并且谈到了改善的

00:39:06.016 --> 00:39:07.486 A:middle
配件设置过程

00:39:07.776 --> 00:39:08.966 A:middle
这使得它比以往更加便利

00:39:09.836 --> 00:39:11.406 A:middle
对于蓝牙 LE 配件的

00:39:11.406 --> 00:39:12.816 A:middle
安全广播通告的中断

00:39:12.816 --> 00:39:14.126 A:middle
将使得

00:39:14.366 --> 00:39:15.706 A:middle
事件触发器

00:39:15.746 --> 00:39:16.166 A:middle
更加快速

00:39:17.226 --> 00:39:18.876 A:middle
并介绍了新的

00:39:18.876 --> 00:39:20.166 A:middle
配件分类

00:39:20.166 --> 00:39:20.706 A:middle
洒水器和水龙头

00:39:21.566 --> 00:39:23.886 A:middle
最后我们提供了

00:39:23.886 --> 00:39:25.826 A:middle
对自认证

00:39:25.896 --> 00:39:27.386 A:middle
自动化工具的升级

00:39:27.386 --> 00:39:28.716 A:middle
并授权了全世界的

00:39:28.756 --> 00:39:30.466 A:middle
第三方实验室

00:39:30.466 --> 00:39:31.386 A:middle
来加速开启

00:39:31.386 --> 00:39:31.906 A:middle
HomeKit 配件

00:39:40.046 --> 00:39:42.176 A:middle
我们在 Apple

00:39:42.176 --> 00:39:43.966 A:middle
真的为所有这些新功能感到激动

00:39:43.966 --> 00:39:45.266 A:middle
我们已经迫不及待的想看到

00:39:45.266 --> 00:39:47.966 A:middle
你们是怎么使用它们的

00:39:48.296 --> 00:39:49.946 A:middle
在我们结束这次会议之前

00:39:49.946 --> 00:39:51.186 A:middle
还有一些重要的事情想跟你们说

00:39:51.496 --> 00:39:56.166 A:middle
我们这周有两个为你们准备的

00:39:56.166 --> 00:39:58.756 A:middle
HomeKit 实验室

00:39:58.756 --> 00:40:00.136 A:middle
在那里你可以和许多 HomeKit 工程师交谈

00:39:58.756 --> 00:40:00.136 A:middle
在那里你可以和许多 HomeKit 工程师交谈

00:40:00.136 --> 00:40:02.196 A:middle
他们将非常开心的为你解答

00:40:02.196 --> 00:40:03.496 A:middle
任何有关你的 App

00:40:03.496 --> 00:40:04.636 A:middle
以及配件的

00:40:04.726 --> 00:40:05.646 A:middle
问题

00:40:06.556 --> 00:40:08.026 A:middle
我们也将解释

00:40:08.026 --> 00:40:09.146 A:middle
我们刚刚谈到的

00:40:09.146 --> 00:40:10.906 A:middle
在 iOS 11 中加入的

00:40:10.906 --> 00:40:12.746 A:middle
一些新功能以及

00:40:12.746 --> 00:40:13.096 A:middle
增强功能

00:40:13.096 --> 00:40:16.106 A:middle
第一个实验室

00:40:16.106 --> 00:40:17.916 A:middle
在这次会议之后

00:40:17.916 --> 00:40:18.146 A:middle
将在技术实验室 J 进行

00:40:19.666 --> 00:40:21.246 A:middle
非常感谢你们的到来

00:40:21.476 --> 00:40:22.386 A:middle
请享受你们接下来的

00:40:22.386 --> 00:40:22.886 A:middle
会议

00:40:23.516 --> 00:40:25.556 A:middle
[ 掌声 ]
