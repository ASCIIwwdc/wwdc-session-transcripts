WEBVTT

00:00:07.516 --> 00:00:15.500 A:middle
[掌声]

00:00:18.346 --> 00:00:19.436 A:middle
&gt;&gt; 大家早上好

00:00:19.916 --> 00:00:22.256 A:middle
欢迎大家在周五的凌晨

00:00:22.256 --> 00:00:23.386 A:middle
来到 237 分会场

00:00:23.716 --> 00:00:25.086 A:middle
我叫 Fredrik Olsson

00:00:25.136 --> 00:00:26.396 A:middle
我是 MapKit 团队的一名工程师

00:00:26.996 --> 00:00:28.916 A:middle
今天我在这里

00:00:28.916 --> 00:00:30.286 A:middle
想跟大家聊聊 Mapkit 的新鲜事

00:00:31.496 --> 00:00:33.376 A:middle
很久之前

00:00:33.376 --> 00:00:35.476 A:middle
我们就有了

00:00:35.476 --> 00:00:37.566 A:middle
一般的 标准的地图

00:00:37.566 --> 00:00:39.476 A:middle
也的确是不错的地图

00:00:39.736 --> 00:00:41.566 A:middle
其道路网络

00:00:41.566 --> 00:00:42.346 A:middle
利于导航

00:00:42.346 --> 00:00:43.896 A:middle
你可根据自己的意愿

00:00:43.896 --> 00:00:44.886 A:middle
来参考地图

00:00:45.376 --> 00:00:48.226 A:middle
但有时地图应用程序

00:00:48.606 --> 00:00:51.446 A:middle
上面的信息

00:00:51.486 --> 00:00:52.916 A:middle
有些过于细致

00:00:52.916 --> 00:00:53.636 A:middle
以至于你想突出显示一些信息

00:00:54.006 --> 00:00:56.896 A:middle
就比如 Apple 地图

00:00:56.896 --> 00:00:58.996 A:middle
我们打开公交模式的时候

00:00:58.996 --> 00:01:01.046 A:middle
我们希望自己的线路可以突出显示

00:00:58.996 --> 00:01:01.046 A:middle
我们希望自己的线路可以突出显示

00:01:01.046 --> 00:01:03.046 A:middle
地图的其他信息

00:01:03.046 --> 00:01:05.495 A:middle
可以淡去

00:01:05.495 --> 00:01:07.856 A:middle
凸显出的信息

00:01:07.856 --> 00:01:09.246 A:middle
能让用户第一时间

00:01:09.246 --> 00:01:09.686 A:middle
看到最重要的东西

00:01:10.316 --> 00:01:14.246 A:middle
新的 iOS 11 系统中

00:01:14.316 --> 00:01:16.626 A:middle
提供了这种可淡去的标准地图

00:01:16.626 --> 00:01:18.706 A:middle
对应用程序也做出了相同的改变

00:01:18.706 --> 00:01:20.746 A:middle
所以你的信息可以

00:01:20.746 --> 00:01:22.796 A:middle
在你的地图 你的应用程序中凸显出来

00:01:25.276 --> 00:01:28.756 A:middle
这个地图不仅仅是地图

00:01:29.456 --> 00:01:30.816 A:middle
我们还免费提供了

00:01:30.816 --> 00:01:32.966 A:middle
一些系统控制

00:01:32.966 --> 00:01:34.696 A:middle
就在地图上面

00:01:35.596 --> 00:01:37.536 A:middle
你可以在左上角这里

00:01:37.536 --> 00:01:39.616 A:middle
看到比例尺

00:01:39.616 --> 00:01:42.186 A:middle
右上角

00:01:42.186 --> 00:01:43.016 A:middle
是指南针

00:01:43.376 --> 00:01:46.376 A:middle
右下角

00:01:46.376 --> 00:01:48.006 A:middle
是一直可在

00:01:48.006 --> 00:01:50.796 A:middle
应用程序界面使用的

00:01:51.036 --> 00:01:52.996 A:middle
用户底部追踪栏项目

00:01:54.766 --> 00:01:57.546 A:middle
这是个底部栏

00:01:57.546 --> 00:01:58.736 A:middle
意味着

00:01:58.736 --> 00:02:01.496 A:middle
你只能在

00:01:58.736 --> 00:02:01.496 A:middle
你只能在

00:02:01.496 --> 00:02:04.296 A:middle
栏中使用

00:02:04.296 --> 00:02:04.916 A:middle
比如导航栏和工具栏

00:02:05.396 --> 00:02:07.326 A:middle
如果

00:02:07.566 --> 00:02:10.126 A:middle
你想把它挪到别的地方

00:02:10.366 --> 00:02:11.886 A:middle
那么你只能自己来

00:02:12.216 --> 00:02:17.206 A:middle
在 iOS 11 中 我们改进了这个问题

00:02:17.206 --> 00:02:18.836 A:middle
我们提供了合适的

00:02:18.836 --> 00:02:20.616 A:middle
用户追踪按钮

00:02:20.616 --> 00:02:22.996 A:middle
是个视图子类

00:02:22.996 --> 00:02:26.516 A:middle
这样的话

00:02:27.766 --> 00:02:29.866 A:middle
只要利于应用程序的使用

00:02:29.866 --> 00:02:30.856 A:middle
你就可以随时随地使用它

00:02:32.256 --> 00:02:33.916 A:middle
当我们提供了用户追踪按钮之后

00:02:33.916 --> 00:02:36.436 A:middle
我们就在想

00:02:36.436 --> 00:02:37.756 A:middle
为什么不多提供一些呢

00:02:37.756 --> 00:02:40.676 A:middle
所以

00:02:40.676 --> 00:02:42.256 A:middle
我们把指南针按钮也放了上来

00:02:43.706 --> 00:02:46.076 A:middle
指南针按钮放在

00:02:46.076 --> 00:02:48.546 A:middle
标准应用程序的

00:02:48.546 --> 00:02:48.986 A:middle
右上角

00:02:49.506 --> 00:02:52.456 A:middle
这是一个用户界面视图按钮

00:02:52.456 --> 00:02:54.056 A:middle
你可以

00:02:54.056 --> 00:02:54.496 A:middle
把它放在任何你想放的位置

00:02:54.926 --> 00:02:56.966 A:middle
甚至

00:02:56.966 --> 00:02:58.476 A:middle
如果你想把它放在导航按钮上面

00:02:58.476 --> 00:02:58.686 A:middle
都是可以的

00:02:59.386 --> 00:03:02.326 A:middle
指南针按钮

00:02:59.386 --> 00:03:02.326 A:middle
指南针按钮

00:03:02.326 --> 00:03:04.506 A:middle
要比用户追踪按钮

00:03:04.506 --> 00:03:05.126 A:middle
多一个功能

00:03:05.446 --> 00:03:07.756 A:middle
那就是指南针可视性

00:03:08.276 --> 00:03:10.716 A:middle
指南针可视性

00:03:10.716 --> 00:03:12.946 A:middle
不是单单

00:03:12.946 --> 00:03:15.596 A:middle
把隐藏属性展示出来

00:03:15.996 --> 00:03:19.386 A:middle
也不是简单的布尔选择

00:03:19.386 --> 00:03:21.096 A:middle
要不要显示

00:03:21.766 --> 00:03:23.476 A:middle
我们

00:03:23.476 --> 00:03:25.846 A:middle
早就在地图视图里

00:03:25.846 --> 00:03:28.776 A:middle
加入了

00:03:28.776 --> 00:03:29.556 A:middle
指南针

00:03:29.656 --> 00:03:31.456 A:middle
这就是是与否的布尔选择

00:03:31.776 --> 00:03:34.596 A:middle
所以它很有局限性

00:03:34.996 --> 00:03:36.876 A:middle
也没有

00:03:37.116 --> 00:03:38.626 A:middle
所有我们想要的功能

00:03:38.906 --> 00:03:41.326 A:middle
所以功能可视性

00:03:41.326 --> 00:03:41.816 A:middle
是新的尝试

00:03:43.066 --> 00:03:44.546 A:middle
有如下三种状态

00:03:44.786 --> 00:03:46.346 A:middle
默认是适应模式

00:03:46.346 --> 00:03:48.386 A:middle
还有隐藏和可视模式

00:03:49.226 --> 00:03:51.646 A:middle
隐藏模式

00:03:52.426 --> 00:03:53.336 A:middle
很明显

00:03:53.336 --> 00:03:54.726 A:middle
行如其名

00:03:55.076 --> 00:03:57.526 A:middle
可视模式也是这样

00:03:57.526 --> 00:04:00.676 A:middle
所以

00:03:57.526 --> 00:04:00.676 A:middle
所以

00:04:00.676 --> 00:04:01.166 A:middle
就不过多讨论了

00:04:01.246 --> 00:04:04.376 A:middle
但是

00:04:04.486 --> 00:04:05.646 A:middle
我需要解释一下

00:04:05.646 --> 00:04:06.316 A:middle
默认适应模式

00:04:07.246 --> 00:04:08.896 A:middle
适应模式下

00:04:08.896 --> 00:04:11.006 A:middle
若用户

00:04:11.006 --> 00:04:13.056 A:middle
将方向旋转一点点偏离正北

00:04:13.056 --> 00:04:14.566 A:middle
指南针会指示方向

00:04:15.186 --> 00:04:16.875 A:middle
若用户旋转回正北

00:04:16.875 --> 00:04:19.536 A:middle
指南针符号消失

00:04:20.546 --> 00:04:22.386 A:middle
若用户轻点指南针按钮

00:04:22.386 --> 00:04:24.986 A:middle
地图会

00:04:24.986 --> 00:04:26.826 A:middle
旋回正北

00:04:26.826 --> 00:04:27.106 A:middle
指南针符号就会消失

00:04:28.216 --> 00:04:29.876 A:middle
在所有状态下

00:04:29.876 --> 00:04:32.186 A:middle
该按钮都是可按的

00:04:33.056 --> 00:04:34.126 A:middle
所以你可以永远轻点它

00:04:34.326 --> 00:04:35.536 A:middle
它一直都是一个按钮

00:04:35.536 --> 00:04:37.386 A:middle
但是你得点到它

00:04:37.786 --> 00:04:39.426 A:middle
若用户将地图

00:04:39.426 --> 00:04:41.636 A:middle
从正北旋过一定角度

00:04:41.636 --> 00:04:43.826 A:middle
按钮也会消失

00:04:44.596 --> 00:04:46.386 A:middle
以上是指南针按钮介绍

00:04:47.506 --> 00:04:49.836 A:middle
最后一个功能

00:04:49.836 --> 00:04:50.116 A:middle
比例尺

00:04:52.386 --> 00:04:54.736 A:middle
也有可视功能

00:04:54.906 --> 00:04:57.356 A:middle
同样

00:04:57.356 --> 00:04:59.026 A:middle
也有三个状态

00:04:59.626 --> 00:05:01.636 A:middle
隐藏模式不需解释

00:04:59.626 --> 00:05:01.636 A:middle
隐藏模式不需解释

00:05:01.636 --> 00:05:04.426 A:middle
可视模式同样不需解释

00:05:04.926 --> 00:05:07.936 A:middle
适应模式是新模式

00:05:08.056 --> 00:05:10.636 A:middle
用户缩放地图时

00:05:10.676 --> 00:05:14.226 A:middle
比例尺图标

00:05:14.226 --> 00:05:14.836 A:middle
就会出现

00:05:14.946 --> 00:05:16.206 A:middle
其他时候我们会隐藏它

00:05:17.426 --> 00:05:19.016 A:middle
之前的地图里

00:05:19.016 --> 00:05:20.856 A:middle
也有比例尺图标

00:05:20.946 --> 00:05:23.956 A:middle
以显示

00:05:23.996 --> 00:05:24.476 A:middle
地图的比例尺

00:05:25.896 --> 00:05:28.076 A:middle
比例尺

00:05:28.076 --> 00:05:30.146 A:middle
和指南针

00:05:30.146 --> 00:05:31.706 A:middle
的默认模式

00:05:31.796 --> 00:05:32.366 A:middle
有些许不同

00:05:32.776 --> 00:05:33.956 A:middle
指南针的默认模式

00:05:33.956 --> 00:05:36.596 A:middle
是适应模式

00:05:36.596 --> 00:05:38.446 A:middle
指南针按钮会隐藏

00:05:39.166 --> 00:05:41.566 A:middle
比例尺默认模式

00:05:41.566 --> 00:05:42.706 A:middle
是一直显示图标

00:05:43.126 --> 00:05:45.186 A:middle
一直显示比例尺图标

00:05:45.506 --> 00:05:47.296 A:middle
用户可选择

00:05:47.296 --> 00:05:49.786 A:middle
三种模式

00:05:49.786 --> 00:05:50.996 A:middle
以更好地

00:05:50.996 --> 00:05:51.746 A:middle
适应应用程序

00:05:53.086 --> 00:05:56.926 A:middle
比例尺

00:05:56.926 --> 00:05:57.516 A:middle
还有一个功能

00:05:58.326 --> 00:05:59.916 A:middle
图标对齐

00:06:00.336 --> 00:06:02.636 A:middle
图标对齐

00:06:02.636 --> 00:06:04.646 A:middle
与新的改进的

00:06:05.356 --> 00:06:07.306 A:middle
地图视图定位支持

00:06:07.306 --> 00:06:07.586 A:middle
有关

00:06:08.896 --> 00:06:11.656 A:middle
之前

00:06:11.656 --> 00:06:13.226 A:middle
指南针一直在右上角

00:06:13.756 --> 00:06:15.666 A:middle
比例尺

00:06:15.856 --> 00:06:16.526 A:middle
一直在左上角

00:06:17.666 --> 00:06:19.866 A:middle
这是默认的

00:06:20.426 --> 00:06:23.976 A:middle
但 iOS 11 系统里面

00:06:23.976 --> 00:06:26.306 A:middle
若再编译 iOS 11 系统的软件开发工具包

00:06:26.746 --> 00:06:29.606 A:middle
我们会将

00:06:29.716 --> 00:06:31.736 A:middle
指南针放到尾源

00:06:31.736 --> 00:06:33.176 A:middle
比例尺放到前源

00:06:33.176 --> 00:06:35.916 A:middle
以便为从右到左的用户

00:06:36.336 --> 00:06:38.226 A:middle
提供

00:06:38.336 --> 00:06:39.636 A:middle
自然的视图

00:06:40.756 --> 00:06:42.986 A:middle
但图标对齐

00:06:43.396 --> 00:06:46.546 A:middle
和我们开发该功能的原因

00:06:46.546 --> 00:06:48.816 A:middle
也给我们

00:06:48.816 --> 00:06:49.586 A:middle
带来了困难

00:06:50.656 --> 00:06:53.836 A:middle
默认是前源

00:06:53.836 --> 00:06:56.876 A:middle
意味着

00:06:56.876 --> 00:07:00.796 A:middle
我们要让串行点

00:06:56.876 --> 00:07:00.796 A:middle
我们要让串行点

00:07:00.796 --> 00:07:02.946 A:middle
放在前源

00:07:03.586 --> 00:07:05.086 A:middle
图标的上半部分

00:07:05.086 --> 00:07:07.866 A:middle
很灵活

00:07:07.866 --> 00:07:09.746 A:middle
在用户缩放时也会移动

00:07:10.456 --> 00:07:12.516 A:middle
此例中的前源

00:07:12.516 --> 00:07:14.376 A:middle
在英国

00:07:14.376 --> 00:07:15.316 A:middle
就是左手边

00:07:15.816 --> 00:07:18.006 A:middle
对阿拉伯人

00:07:18.006 --> 00:07:20.076 A:middle
这是右手边

00:07:20.706 --> 00:07:22.256 A:middle
如果你想

00:07:22.596 --> 00:07:25.036 A:middle
把比例尺图标

00:07:25.156 --> 00:07:27.516 A:middle
放到屏幕另一边

00:07:27.516 --> 00:07:29.176 A:middle
你需要设置

00:07:29.176 --> 00:07:32.146 A:middle
图标对齐功能

00:07:32.236 --> 00:07:34.536 A:middle
我们将重置固定的零点

00:07:34.536 --> 00:07:38.626 A:middle
以使其

00:07:39.286 --> 00:07:41.476 A:middle
灵活适应

00:07:41.476 --> 00:07:42.206 A:middle
当前定位

00:07:42.416 --> 00:07:43.476 A:middle
若我们将其视为

00:07:43.476 --> 00:07:45.776 A:middle
用户与地图之间

00:07:45.966 --> 00:07:47.526 A:middle
实际上的互动

00:07:47.526 --> 00:07:47.786 A:middle
那就比较有意义了

00:07:47.846 --> 00:07:50.466 A:middle
所有零点

00:07:50.966 --> 00:07:53.446 A:middle
当用户还没开始时都是固定的

00:07:53.446 --> 00:07:55.806 A:middle
但用户缩放地图 零点就不固定了

00:07:55.806 --> 00:07:57.856 A:middle
上边缘在移动

00:07:58.536 --> 00:08:00.946 A:middle
若上边缘靠屏幕较近

00:07:58.536 --> 00:08:00.946 A:middle
若上边缘靠屏幕较近

00:08:00.946 --> 00:08:03.636 A:middle
零点在中间

00:08:03.636 --> 00:08:05.476 A:middle
一动不动

00:08:05.476 --> 00:08:06.746 A:middle
而

00:08:06.746 --> 00:08:08.376 A:middle
另一个却在移动

00:08:08.376 --> 00:08:09.166 A:middle
这看起来有点蠢

00:08:09.436 --> 00:08:13.096 A:middle
所以

00:08:13.166 --> 00:08:14.986 A:middle
如果你将比例尺在另一页上对齐

00:08:14.986 --> 00:08:15.466 A:middle
就需要改变

00:08:17.396 --> 00:08:20.896 A:middle
使用这简单的应用程序界面时

00:08:21.806 --> 00:08:25.056 A:middle
可淡去的标准地图

00:08:25.216 --> 00:08:27.776 A:middle
及其控制可让我们

00:08:28.326 --> 00:08:29.846 A:middle
使用

00:08:29.846 --> 00:08:32.186 A:middle
现在神奇的

00:08:32.186 --> 00:08:32.566 A:middle
共享单车软件

00:08:33.116 --> 00:08:35.416 A:middle
这是在

00:08:35.416 --> 00:08:38.025 A:middle
旧金山地区

00:08:38.025 --> 00:08:39.765 A:middle
共享单轮脚踏车和三轮车的

00:08:39.765 --> 00:08:40.166 A:middle
软件

00:08:40.976 --> 00:08:42.535 A:middle
我们

00:08:42.905 --> 00:08:46.256 A:middle
可使这一有点过时的应用程序

00:08:46.256 --> 00:08:48.556 A:middle
稍微现代一点

00:08:49.566 --> 00:08:52.466 A:middle
现在

00:08:52.466 --> 00:08:52.766 A:middle
我们再来看一遍

00:08:53.176 --> 00:08:55.426 A:middle
可能

00:08:55.426 --> 00:08:56.086 A:middle
仅有一点点不同

00:08:56.086 --> 00:08:58.396 A:middle
我们

00:08:58.396 --> 00:09:01.146 A:middle
把这个有点过时的应用程序

00:08:58.396 --> 00:09:01.146 A:middle
把这个有点过时的应用程序

00:09:01.146 --> 00:09:01.546 A:middle
带向未来

00:09:03.146 --> 00:09:04.756 A:middle
如图所示

00:09:04.756 --> 00:09:06.536 A:middle
地图模式

00:09:06.536 --> 00:09:08.746 A:middle
和控制系统

00:09:08.746 --> 00:09:09.506 A:middle
没有太大的变化

00:09:09.716 --> 00:09:12.816 A:middle
您的应用程序里地图

00:09:12.936 --> 00:09:15.166 A:middle
的重要部分是

00:09:15.336 --> 00:09:17.366 A:middle
数据 注解

00:09:17.436 --> 00:09:19.916 A:middle
重复占位段等等

00:09:19.916 --> 00:09:21.786 A:middle
这也是我们接下来关注的方面

00:09:23.136 --> 00:09:24.806 A:middle
我们显示注解的

00:09:24.806 --> 00:09:26.786 A:middle
标准方式是

00:09:26.786 --> 00:09:29.136 A:middle
两天前开始的

00:09:29.136 --> 00:09:29.556 A:middle
大头针注解

00:09:30.206 --> 00:09:32.146 A:middle
大头针注解视图

00:09:32.266 --> 00:09:33.656 A:middle
有两种不同状态

00:09:34.016 --> 00:09:35.746 A:middle
正常状态下

00:09:35.836 --> 00:09:37.716 A:middle
地图上有个大头针

00:09:38.276 --> 00:09:40.366 A:middle
用户轻点大头针

00:09:40.366 --> 00:09:42.386 A:middle
程序就会自动选定它

00:09:42.466 --> 00:09:43.816 A:middle
大头针图标变成了被选状态

00:09:43.816 --> 00:09:46.066 A:middle
上面就会出现标注

00:09:46.066 --> 00:09:47.726 A:middle
并显示标题和副标题

00:09:48.936 --> 00:09:50.656 A:middle
这有一个小小的缺点

00:09:50.656 --> 00:09:53.236 A:middle
就是大头针只有在选定状态下

00:09:53.316 --> 00:09:56.646 A:middle
才会显示

00:09:56.646 --> 00:09:57.286 A:middle
标题和副标题

00:09:57.946 --> 00:10:01.476 A:middle
所以

00:09:57.946 --> 00:10:01.476 A:middle
所以

00:10:01.476 --> 00:10:02.756 A:middle
用户只能轻点所有图标

00:10:02.756 --> 00:10:04.856 A:middle
才能知道这到底是干嘛的

00:10:04.856 --> 00:10:05.736 A:middle
有点麻烦

00:10:06.086 --> 00:10:08.496 A:middle
在 iOS 10 系统里

00:10:08.566 --> 00:10:12.536 A:middle
我们用了

00:10:12.536 --> 00:10:14.006 A:middle
类似这样的

00:10:14.006 --> 00:10:14.526 A:middle
图标

00:10:15.016 --> 00:10:17.356 A:middle
iOS 11 系统中

00:10:17.356 --> 00:10:18.136 A:middle
这个也是可用的

00:10:18.356 --> 00:10:18.806 A:middle
我们把它称为

00:10:18.806 --> 00:10:20.046 A:middle
MarkerAnnotationView（标记注解视图）

00:10:21.046 --> 00:10:23.686 A:middle
是注解视图的一种

00:10:23.806 --> 00:10:25.556 A:middle
和大头针注解试图

00:10:25.556 --> 00:10:26.346 A:middle
也有些类似

00:10:27.176 --> 00:10:28.626 A:middle
我们认为

00:10:28.626 --> 00:10:30.726 A:middle
你们会很喜欢它

00:10:30.726 --> 00:10:33.536 A:middle
这是 iOS 和 tvOS 的新默认状态

00:10:34.146 --> 00:10:36.046 A:middle
所以

00:10:36.046 --> 00:10:37.576 A:middle
如果你没有选择

00:10:37.576 --> 00:10:40.216 A:middle
关掉它

00:10:40.216 --> 00:10:41.886 A:middle
就会默认出现

00:10:41.886 --> 00:10:44.036 A:middle
标记注解视图

00:10:44.466 --> 00:10:45.266 A:middle
如果你重新编译 iOS 11 系统

00:10:46.596 --> 00:10:49.006 A:middle
标记注解视图

00:10:49.096 --> 00:10:50.546 A:middle
会有两种状态

00:10:50.766 --> 00:10:52.886 A:middle
正常状态下

00:10:52.886 --> 00:10:55.166 A:middle
如果地图上有空余

00:10:55.166 --> 00:10:58.246 A:middle
标题出现在

00:10:58.246 --> 00:10:59.076 A:middle
标记下方

00:10:59.726 --> 00:11:01.496 A:middle
还有被选状态

00:10:59.726 --> 00:11:01.496 A:middle
还有被选状态

00:11:01.736 --> 00:11:02.816 A:middle
被选状态下

00:11:02.816 --> 00:11:05.766 A:middle
若有空余

00:11:05.766 --> 00:11:06.556 A:middle
会显示副标题

00:11:07.026 --> 00:11:09.986 A:middle
这样的话

00:11:09.986 --> 00:11:11.596 A:middle
用户看一眼地图

00:11:11.596 --> 00:11:13.746 A:middle
就可以知道

00:11:14.006 --> 00:11:15.576 A:middle
这些数据点是什么

00:11:15.776 --> 00:11:16.866 A:middle
而无需一一轻点

00:11:17.626 --> 00:11:21.636 A:middle
还有件事

00:11:21.636 --> 00:11:23.066 A:middle
我们需要

00:11:23.416 --> 00:11:25.106 A:middle
再看看大头针图标

00:11:25.646 --> 00:11:27.586 A:middle
来看一下大头针

00:11:27.586 --> 00:11:30.226 A:middle
及其标注

00:11:30.226 --> 00:11:32.306 A:middle
标注也有一个小功能

00:11:32.716 --> 00:11:34.706 A:middle
你可以

00:11:34.706 --> 00:11:34.976 A:middle
在里面添加辅助视图

00:11:35.196 --> 00:11:36.736 A:middle
还可以

00:11:36.736 --> 00:11:36.936 A:middle
添加细节视图

00:11:36.936 --> 00:11:37.926 A:middle
也可以设置它

00:11:38.736 --> 00:11:41.596 A:middle
标记注解视图是

00:11:41.596 --> 00:11:42.386 A:middle
注解视图

00:11:42.386 --> 00:11:44.996 A:middle
所有注解视图的

00:11:44.996 --> 00:11:47.006 A:middle
应用程序接口

00:11:47.006 --> 00:11:48.926 A:middle
也都支持标记注解视图

00:11:49.706 --> 00:11:53.566 A:middle
在这里如果

00:11:53.566 --> 00:11:55.366 A:middle
添加右辅助视图

00:11:55.366 --> 00:11:58.216 A:middle
在较大的标记里

00:11:58.216 --> 00:12:01.306 A:middle
就无法

00:11:58.216 --> 00:12:01.306 A:middle
就无法

00:12:01.306 --> 00:12:03.266 A:middle
自然地

00:12:03.266 --> 00:12:03.866 A:middle
显示这些数据

00:12:04.256 --> 00:12:06.116 A:middle
显然

00:12:06.116 --> 00:12:07.566 A:middle
我们想想细节视图

00:12:07.806 --> 00:12:10.726 A:middle
你可以添加无限数量的数据

00:12:10.726 --> 00:12:12.906 A:middle
很多数据

00:12:13.076 --> 00:12:15.446 A:middle
如果你想

00:12:15.446 --> 00:12:15.796 A:middle
还可以放一整个座位卡的东西

00:12:16.216 --> 00:12:18.806 A:middle
所以我们要做些什么呢

00:12:19.806 --> 00:12:23.456 A:middle
我们需要标记注解视图

00:12:23.456 --> 00:12:24.926 A:middle
的第三种状态

00:12:25.426 --> 00:12:27.166 A:middle
所以实际上

00:12:27.166 --> 00:12:28.966 A:middle
标记注解视图

00:12:28.966 --> 00:12:29.526 A:middle
有三种状态

00:12:29.996 --> 00:12:31.886 A:middle
没被选择时

00:12:31.886 --> 00:12:32.786 A:middle
是正常状态

00:12:33.276 --> 00:12:34.426 A:middle
被选状态

00:12:34.866 --> 00:12:36.436 A:middle
和有标注的

00:12:36.436 --> 00:12:38.346 A:middle
被选状态

00:12:38.346 --> 00:12:40.116 A:middle
若你设置了带视图的标记注解

00:12:40.456 --> 00:12:42.356 A:middle
但是标记显示不下

00:12:42.386 --> 00:12:44.506 A:middle
就会启用该状态

00:12:45.736 --> 00:12:47.726 A:middle
让我们

00:12:47.726 --> 00:12:48.096 A:middle
看看代码

00:12:48.496 --> 00:12:49.716 A:middle
这是

00:12:49.716 --> 00:12:51.446 A:middle
标记注解视图

00:12:52.786 --> 00:12:54.886 A:middle
其最重要的是

00:12:54.886 --> 00:12:56.936 A:middle
它有题目

00:12:57.316 --> 00:12:59.066 A:middle
而且你可以设置

00:12:59.066 --> 00:13:00.786 A:middle
底下的题目

00:12:59.066 --> 00:13:00.786 A:middle
底下的题目

00:13:01.206 --> 00:13:02.976 A:middle
注意一下

00:13:02.976 --> 00:13:04.756 A:middle
我们又可以看到

00:13:04.846 --> 00:13:06.346 A:middle
三种视图状态的细目

00:13:06.986 --> 00:13:10.736 A:middle
因为你可以

00:13:10.736 --> 00:13:12.216 A:middle
进行很多不同设置

00:13:12.216 --> 00:13:13.286 A:middle
不仅仅是可视和隐藏模式

00:13:13.666 --> 00:13:14.946 A:middle
很显然

00:13:14.946 --> 00:13:16.146 A:middle
隐藏模式就是不显示

00:13:16.826 --> 00:13:19.386 A:middle
可视模式也显而易见

00:13:19.436 --> 00:13:21.256 A:middle
你设置可视模式后

00:13:21.576 --> 00:13:23.126 A:middle
我们会尽量

00:13:23.126 --> 00:13:24.156 A:middle
显示

00:13:24.156 --> 00:13:24.646 A:middle
标题和副标题

00:13:25.256 --> 00:13:27.376 A:middle
记一下 我说我们会尽力

00:13:28.526 --> 00:13:31.446 A:middle
若地图数据太密集

00:13:31.866 --> 00:13:35.166 A:middle
我们就只能隐藏标题

00:13:35.686 --> 00:13:37.726 A:middle
使地图更加整洁

00:13:37.726 --> 00:13:39.366 A:middle
显示更多必需信息

00:13:39.456 --> 00:13:41.366 A:middle
所以 大部分时候标题是可视的

00:13:41.366 --> 00:13:43.396 A:middle
但它们也可被隐藏

00:13:43.956 --> 00:13:46.686 A:middle
最后一种可视性模式

00:13:46.686 --> 00:13:48.226 A:middle
是适应模式

00:13:48.556 --> 00:13:49.976 A:middle
这个模式

00:13:49.976 --> 00:13:52.716 A:middle
也是默认的

00:13:53.906 --> 00:13:56.376 A:middle
你可自由选择副标题可视性

00:13:56.376 --> 00:13:58.786 A:middle
正常状态下

00:13:58.786 --> 00:14:01.206 A:middle
是不显示的

00:13:58.786 --> 00:14:01.206 A:middle
是不显示的

00:14:01.206 --> 00:14:03.476 A:middle
被选状态下

00:14:03.476 --> 00:14:04.516 A:middle
是显示的

00:14:05.986 --> 00:14:08.216 A:middle
所以这就是

00:14:08.216 --> 00:14:08.786 A:middle
标记下面的标题

00:14:09.006 --> 00:14:10.226 A:middle
接下来

00:14:10.226 --> 00:14:11.846 A:middle
你还可以设置

00:14:11.846 --> 00:14:12.476 A:middle
标记

00:14:13.416 --> 00:14:14.696 A:middle
首先是颜色

00:14:15.116 --> 00:14:16.656 A:middle
这是标记着色

00:14:16.656 --> 00:14:18.616 A:middle
这是图像符号着色

00:14:19.126 --> 00:14:22.816 A:middle
标记颜色

00:14:22.816 --> 00:14:24.086 A:middle
是标记自身的颜色

00:14:24.556 --> 00:14:26.536 A:middle
是正常的用户界面颜色

00:14:26.986 --> 00:14:28.806 A:middle
默认值是零

00:14:28.806 --> 00:14:30.216 A:middle
也是

00:14:30.216 --> 00:14:32.766 A:middle
系统默认颜色

00:14:33.056 --> 00:14:34.136 A:middle
现在是红色

00:14:34.686 --> 00:14:35.836 A:middle
你也可设置成其他颜色

00:14:35.836 --> 00:14:37.866 A:middle
比如

00:14:37.866 --> 00:14:38.606 A:middle
为什么不用橙色

00:14:39.196 --> 00:14:41.126 A:middle
注意我们把它叫做标记着色

00:14:41.476 --> 00:14:43.576 A:middle
而不是简单的颜色二字

00:14:43.906 --> 00:14:45.906 A:middle
是因为

00:14:45.906 --> 00:14:47.956 A:middle
你提供的颜色

00:14:47.956 --> 00:14:50.666 A:middle
可能不是我们最后用的

00:14:50.816 --> 00:14:51.696 A:middle
那一个颜色

00:14:51.696 --> 00:14:54.056 A:middle
我们可能

00:14:54.366 --> 00:14:55.876 A:middle
会用一些视觉效果

00:14:55.876 --> 00:14:56.426 A:middle
让颜色看起来更好看一些

00:14:56.816 --> 00:14:59.896 A:middle
这是你可应用的

00:14:59.896 --> 00:15:00.376 A:middle
着色

00:14:59.896 --> 00:15:00.376 A:middle
着色

00:15:00.746 --> 00:15:02.386 A:middle
当然

00:15:02.476 --> 00:15:05.666 A:middle
你也可用新 iOS 里面的

00:15:05.666 --> 00:15:06.126 A:middle
颜色目录

00:15:06.566 --> 00:15:09.666 A:middle
图像符号着色

00:15:10.086 --> 00:15:12.206 A:middle
也是一样的

00:15:12.246 --> 00:15:15.066 A:middle
是标记内

00:15:15.066 --> 00:15:18.316 A:middle
图像符号的颜色

00:15:18.316 --> 00:15:19.986 A:middle
默认是白色

00:15:22.876 --> 00:15:25.156 A:middle
说到图像符号

00:15:25.336 --> 00:15:27.116 A:middle
你也会想设置

00:15:27.116 --> 00:15:29.266 A:middle
标记里面的东西

00:15:29.266 --> 00:15:30.586 A:middle
这个小图像符号

00:15:30.936 --> 00:15:32.886 A:middle
最简单的办法是

00:15:33.366 --> 00:15:35.276 A:middle
设置

00:15:35.406 --> 00:15:35.856 A:middle
图像符号文本性质

00:15:36.586 --> 00:15:37.686 A:middle
是很简单的字符串

00:15:38.486 --> 00:15:39.656 A:middle
我们能看到一些规律

00:15:39.656 --> 00:15:40.906 A:middle
默认是零

00:15:41.466 --> 00:15:42.956 A:middle
这时

00:15:42.956 --> 00:15:44.956 A:middle
我们选择的系统默认

00:15:44.956 --> 00:15:45.406 A:middle
是大头针

00:15:46.366 --> 00:15:47.606 A:middle
在气球里的一个大头针

00:15:47.606 --> 00:15:48.886 A:middle
可能会危险

00:15:48.886 --> 00:15:49.366 A:middle
但是看起来很好

00:15:50.236 --> 00:15:52.376 A:middle
你可以设置成

00:15:52.376 --> 00:15:52.796 A:middle
任何你想要的文本

00:15:52.796 --> 00:15:54.706 A:middle
你可以

00:15:54.706 --> 00:15:55.546 A:middle
把注解分级

00:15:55.906 --> 00:15:58.116 A:middle
你甚至可以使用字符

00:15:58.116 --> 00:15:59.996 A:middle
或统一字符编码标准

00:15:59.996 --> 00:16:01.526 A:middle
自由设置矢量图

00:15:59.996 --> 00:16:01.526 A:middle
自由设置矢量图

00:16:02.496 --> 00:16:05.296 A:middle
图像符号是一个字符串

00:16:05.296 --> 00:16:07.466 A:middle
所以

00:16:07.466 --> 00:16:07.906 A:middle
你可以设置成任意文本

00:16:07.906 --> 00:16:09.386 A:middle
如果你想

00:16:09.926 --> 00:16:12.766 A:middle
你可以把伊利亚特放进去

00:16:12.766 --> 00:16:13.306 A:middle
我们会尽力显示

00:16:13.716 --> 00:16:16.236 A:middle
但看起来有点蠢

00:16:16.426 --> 00:16:18.066 A:middle
我们会尽力

00:16:18.066 --> 00:16:21.206 A:middle
缩小文本

00:16:21.206 --> 00:16:23.136 A:middle
但

00:16:23.136 --> 00:16:24.576 A:middle
用户其实在屏幕上看不太到

00:16:24.816 --> 00:16:26.916 A:middle
所以

00:16:26.976 --> 00:16:29.436 A:middle
尽量设置

00:16:29.966 --> 00:16:31.376 A:middle
在两到三个字符内

00:16:32.676 --> 00:16:36.026 A:middle
但

00:16:36.026 --> 00:16:39.186 A:middle
不是所有的东西

00:16:39.256 --> 00:16:39.786 A:middle
都用文本显示

00:16:39.996 --> 00:16:41.816 A:middle
不仅是

00:16:41.816 --> 00:16:43.736 A:middle
统一字符编码标准

00:16:43.736 --> 00:16:44.106 A:middle
每年都在扩大

00:16:44.346 --> 00:16:46.256 A:middle
所以

00:16:46.256 --> 00:16:47.946 A:middle
你可能想用自己的图形图像

00:16:48.126 --> 00:16:49.896 A:middle
所以我们有图像符号图形

00:16:50.206 --> 00:16:51.606 A:middle
和

00:16:51.706 --> 00:16:52.296 A:middle
被选图像符号图形性能

00:16:53.096 --> 00:16:55.976 A:middle
图像符号图形性能

00:16:55.976 --> 00:16:58.146 A:middle
估计是

00:16:58.146 --> 00:17:00.006 A:middle
你最想用的

00:16:58.146 --> 00:17:00.006 A:middle
你最想用的

00:17:00.006 --> 00:17:00.426 A:middle
且用得最多的性能

00:17:00.766 --> 00:17:03.576 A:middle
你可以提供

00:17:03.856 --> 00:17:05.736 A:middle
40 x 40 的图像

00:17:06.266 --> 00:17:08.766 A:middle
这是

00:17:08.766 --> 00:17:09.546 A:middle
在被选状态下的大小

00:17:10.195 --> 00:17:11.955 A:middle
正常状态下

00:17:11.955 --> 00:17:13.766 A:middle
我们会把它缩小到 20 x 20

00:17:15.016 --> 00:17:16.546 A:middle
大部分时间这都是可行的

00:17:16.925 --> 00:17:18.915 A:middle
除非你的图像太细致

00:17:18.915 --> 00:17:21.156 A:middle
然后

00:17:21.415 --> 00:17:23.396 A:middle
你就可以看到

00:17:23.396 --> 00:17:25.266 A:middle
我们缩小的器物

00:17:25.536 --> 00:17:27.776 A:middle
如果这样

00:17:27.776 --> 00:17:29.096 A:middle
你需要使用

00:17:29.096 --> 00:17:29.716 A:middle
这两个性能

00:17:29.896 --> 00:17:31.906 A:middle
所以

00:17:31.906 --> 00:17:33.406 A:middle
你可以提供 20 x 20 的小图

00:17:34.386 --> 00:17:35.876 A:middle
和

00:17:35.876 --> 00:17:38.086 A:middle
40 x 40 的大图

00:17:38.426 --> 00:17:39.836 A:middle
然后

00:17:39.836 --> 00:17:42.016 A:middle
我们会处理图像

00:17:42.266 --> 00:17:44.416 A:middle
所以

00:17:45.616 --> 00:17:45.776 A:middle
你可以在正常和选择状态下看到图像

00:17:45.946 --> 00:17:49.606 A:middle
利用这项技术

00:17:49.736 --> 00:17:51.676 A:middle
我们就可

00:17:51.676 --> 00:17:52.456 A:middle
让应用程序看起来更加 更加现代

00:17:53.056 --> 00:17:55.846 A:middle
但现在

00:17:56.626 --> 00:17:58.206 A:middle
如果必须要说的话

00:17:58.206 --> 00:17:58.886 A:middle
这个应用程序有点混乱

00:17:59.386 --> 00:18:00.766 A:middle
你可能会想整理一下

00:17:59.386 --> 00:18:00.766 A:middle
你可能会想整理一下

00:18:00.766 --> 00:18:02.846 A:middle
使其看起来更简单

00:18:02.846 --> 00:18:04.696 A:middle
找到你需要的内容

00:18:05.016 --> 00:18:06.216 A:middle
你会想让

00:18:06.216 --> 00:18:07.166 A:middle
它这样显示

00:18:07.546 --> 00:18:10.416 A:middle
在 iOS 11 系统里

00:18:11.276 --> 00:18:13.076 A:middle
我们添加了一个性能

00:18:13.076 --> 00:18:13.346 A:middle
可以做到这样

00:18:13.656 --> 00:18:15.786 A:middle
我们把它叫做显示优先级

00:18:16.526 --> 00:18:19.566 A:middle
可以让注解视图

00:18:19.566 --> 00:18:22.776 A:middle
根据你的想法

00:18:22.776 --> 00:18:24.166 A:middle
在屏幕上优先显示

00:18:24.866 --> 00:18:27.136 A:middle
显示优先级功能

00:18:27.666 --> 00:18:29.296 A:middle
是在 UIKit 和 MapKit 的

00:18:29.526 --> 00:18:31.886 A:middle
优先布局限制之后

00:18:32.176 --> 00:18:32.796 A:middle
塑造出来的

00:18:33.866 --> 00:18:35.286 A:middle
也就是说

00:18:35.286 --> 00:18:37.886 A:middle
它是在 0-1000 之间的

00:18:38.356 --> 00:18:39.996 A:middle
浮动点区间

00:18:39.996 --> 00:18:40.506 A:middle
1000 是必须的值

00:18:40.826 --> 00:18:42.856 A:middle
让我们看看它们能做什么

00:18:43.556 --> 00:18:45.496 A:middle
必须值 意味着选择排除

00:18:46.006 --> 00:18:48.306 A:middle
在注解视图重叠时

00:18:48.306 --> 00:18:50.166 A:middle
不挡住或隐藏任何东西

00:18:50.526 --> 00:18:51.236 A:middle
什么都不做

00:18:51.596 --> 00:18:52.876 A:middle
但若你把优先显示

00:18:52.876 --> 00:18:54.546 A:middle
设置成了其他的

00:18:54.546 --> 00:18:56.136 A:middle
比如

00:18:56.136 --> 00:18:56.886 A:middle
defaults.
默认值

00:18:57.226 --> 00:19:00.826 A:middle
默认最高是 750

00:18:57.226 --> 00:19:00.826 A:middle
默认最高是 750

00:19:00.826 --> 00:19:03.436 A:middle
最低 250

00:19:03.436 --> 00:19:04.376 A:middle
这就是布局限制

00:19:05.196 --> 00:19:07.876 A:middle
然后

00:19:08.206 --> 00:19:08.576 A:middle
注解就会被隐藏

00:19:09.136 --> 00:19:14.106 A:middle
然后

00:19:16.756 --> 00:19:18.646 A:middle
浮动点值在 0-1000 之间

00:19:18.976 --> 00:19:21.146 A:middle
意味着

00:19:21.146 --> 00:19:23.436 A:middle
你可利用它 把地图变得更好看

00:19:24.456 --> 00:19:26.356 A:middle
比如

00:19:26.356 --> 00:19:27.866 A:middle
如果根据受欢迎程度

00:19:27.966 --> 00:19:29.716 A:middle
来设置显示优先级

00:19:29.716 --> 00:19:31.916 A:middle
所以

00:19:31.916 --> 00:19:33.496 A:middle
比较受欢迎的地点

00:19:33.496 --> 00:19:35.616 A:middle
就会优先显示

00:19:35.616 --> 00:19:37.806 A:middle
不受欢迎的地点的优先级就较低

00:19:37.806 --> 00:19:39.666 A:middle
也就是说

00:19:39.666 --> 00:19:41.236 A:middle
用户把屏幕缩到很小

00:19:41.236 --> 00:19:42.456 A:middle
俯瞰整个城市

00:19:42.456 --> 00:19:44.996 A:middle
留在屏幕上

00:19:44.996 --> 00:19:46.686 A:middle
能看到的

00:19:46.686 --> 00:19:47.636 A:middle
是最受欢迎的地点

00:19:48.016 --> 00:19:50.606 A:middle
用户放大后

00:19:50.606 --> 00:19:52.516 A:middle
可看到其他数据

00:19:53.166 --> 00:19:55.426 A:middle
这样

00:19:55.866 --> 00:19:58.076 A:middle
混乱的地图

00:19:58.076 --> 00:19:59.346 A:middle
就看起来整洁多了

00:20:00.696 --> 00:20:03.006 A:middle
现在如果你是这么做的

00:20:04.966 --> 00:20:07.766 A:middle
数据就会被隐藏

00:20:07.986 --> 00:20:09.736 A:middle
所以

00:20:09.736 --> 00:20:11.436 A:middle
用户放大一点 才能发现次优先级的地点

00:20:11.436 --> 00:20:13.956 A:middle
缩小之后

00:20:13.956 --> 00:20:14.536 A:middle
可以看到其余的

00:20:14.956 --> 00:20:17.756 A:middle
其实

00:20:17.756 --> 00:20:17.896 A:middle
还有一个更好的方法

00:20:17.896 --> 00:20:20.736 A:middle
我们可以直接集中这些注解

00:20:20.826 --> 00:20:23.906 A:middle
是的

00:20:23.906 --> 00:20:25.946 A:middle
这里多了 11 个

00:20:25.946 --> 00:20:27.036 A:middle
这里多了 8 个

00:20:27.276 --> 00:20:28.576 A:middle
无需放大

00:20:28.836 --> 00:20:29.556 A:middle
就会显示

00:20:30.286 --> 00:20:32.986 A:middle
这个应用程序界面

00:20:32.986 --> 00:20:35.846 A:middle
和显示优先级的

00:20:35.846 --> 00:20:36.346 A:middle
一样简单

00:20:36.636 --> 00:20:38.046 A:middle
我们叫它聚类标识符

00:20:39.556 --> 00:20:41.296 A:middle
这也是字符串

00:20:41.296 --> 00:20:42.316 A:middle
所以你可以对其进行设置

00:20:42.936 --> 00:20:44.896 A:middle
这是在重复使用标志符之后塑造的

00:20:45.726 --> 00:20:47.626 A:middle
两种注解视图都可以

00:20:47.626 --> 00:20:49.396 A:middle
表格视图单元格

00:20:49.396 --> 00:20:49.996 A:middle
和集合视图单元格

00:20:50.396 --> 00:20:52.256 A:middle
现有就有了群组

00:20:52.756 --> 00:20:54.766 A:middle
在我们的应用程序中

00:20:55.066 --> 00:20:57.246 A:middle
共享单车应用程序

00:20:57.276 --> 00:20:59.286 A:middle
我们可能会想

00:20:59.476 --> 00:21:02.836 A:middle
把单轮脚踏车集中起来

00:20:59.476 --> 00:21:02.836 A:middle
把单轮脚踏车集中起来

00:21:02.836 --> 00:21:05.036 A:middle
三轮车集中起来

00:21:05.036 --> 00:21:06.356 A:middle
但我们不想把两者混在一起

00:21:06.786 --> 00:21:09.176 A:middle
你若能达到此目标

00:21:09.176 --> 00:21:11.186 A:middle
给它们注解视图

00:21:11.396 --> 00:21:12.946 A:middle
以及不同于彼此的

00:21:13.196 --> 00:21:14.716 A:middle
标识符

00:21:15.276 --> 00:21:17.476 A:middle
使用时

00:21:17.476 --> 00:21:18.006 A:middle
默认是零

00:21:18.646 --> 00:21:20.236 A:middle
若你设置为零

00:21:20.236 --> 00:21:21.456 A:middle
选择排除后 什么都不会发生

00:21:22.206 --> 00:21:23.386 A:middle
若设置成其他字符串

00:21:23.386 --> 00:21:26.196 A:middle
所有

00:21:26.196 --> 00:21:27.916 A:middle
相同的注解视图

00:21:27.916 --> 00:21:29.716 A:middle
会重叠在一起

00:21:30.066 --> 00:21:34.286 A:middle
很难按类别区分

00:21:34.286 --> 00:21:36.866 A:middle
这个功能很美很强大

00:21:36.866 --> 00:21:38.816 A:middle
但

00:21:38.816 --> 00:21:40.376 A:middle
有点难解释

00:21:40.536 --> 00:21:43.036 A:middle
所以

00:21:43.036 --> 00:21:45.466 A:middle
让我来拿模型机

00:21:45.466 --> 00:21:45.796 A:middle
给大家展示一下

00:21:48.456 --> 00:21:49.856 A:middle
这是模型机

00:21:50.956 --> 00:21:53.726 A:middle
在这个简单的应用程序里

00:21:53.726 --> 00:21:55.246 A:middle
我有四个注解

00:21:55.996 --> 00:21:58.236 A:middle
这里有个单轮脚踏车

00:21:58.236 --> 00:21:59.876 A:middle
这还有一个

00:22:00.196 --> 00:22:01.716 A:middle
它们的聚类标识是一样的

00:22:02.306 --> 00:22:04.496 A:middle
这是三轮车

00:22:04.496 --> 00:22:06.196 A:middle
这个也是

00:22:06.196 --> 00:22:06.886 A:middle
它们的标识是一样的

00:22:07.366 --> 00:22:09.166 A:middle
如果移到一起

00:22:09.166 --> 00:22:09.946 A:middle
就可以看到它们聚起来了

00:22:11.136 --> 00:22:12.856 A:middle
把它们分开

00:22:12.856 --> 00:22:13.816 A:middle
它们也就散开了

00:22:14.756 --> 00:22:17.386 A:middle
这四个的

00:22:17.386 --> 00:22:19.166 A:middle
显示优先级是一样的

00:22:19.586 --> 00:22:20.736 A:middle
所以

00:22:20.736 --> 00:22:21.636 A:middle
四个显示优先级别相同

00:22:22.666 --> 00:22:25.396 A:middle
我把它们

00:22:25.396 --> 00:22:27.486 A:middle
聚到一起

00:22:27.486 --> 00:22:30.376 A:middle
它们就会按照群组内最高优先级

00:22:30.376 --> 00:22:32.296 A:middle
来显示

00:22:33.296 --> 00:22:35.526 A:middle
所以 实际上

00:22:35.526 --> 00:22:37.096 A:middle
这个例子里

00:22:37.096 --> 00:22:38.576 A:middle
这两个标识

00:22:38.576 --> 00:22:39.136 A:middle
有着同样的优先级

00:22:39.816 --> 00:22:40.836 A:middle
如果

00:22:40.836 --> 00:22:43.246 A:middle
我进一步缩小屏幕

00:22:43.546 --> 00:22:44.596 A:middle
它们就会碰到一起 合在一起

00:22:45.216 --> 00:22:46.456 A:middle
把它们分开

00:22:46.456 --> 00:22:47.276 A:middle
然后再把它们并起来

00:22:47.956 --> 00:22:50.116 A:middle
若两个注解视图

00:22:50.166 --> 00:22:52.056 A:middle
有着一样的优先等级

00:22:52.336 --> 00:22:53.776 A:middle
那么该隐藏哪个呢

00:22:55.006 --> 00:22:57.476 A:middle
其实是有逻辑的

00:22:58.066 --> 00:22:59.616 A:middle
若我们把地图旋转一点点

00:22:59.616 --> 00:23:01.786 A:middle
然后把它们合在一起

00:22:59.616 --> 00:23:01.786 A:middle
然后把它们合在一起

00:23:01.786 --> 00:23:03.356 A:middle
还是绿色的

00:23:03.356 --> 00:23:03.946 A:middle
被隐藏了

00:23:04.936 --> 00:23:08.596 A:middle
若我们旋转 180 度

00:23:08.596 --> 00:23:10.866 A:middle
然后把它们合在一起

00:23:11.066 --> 00:23:12.466 A:middle
现在

00:23:12.466 --> 00:23:13.056 A:middle
橙色的被隐藏了

00:23:13.686 --> 00:23:16.426 A:middle
所以 逻辑就是

00:23:16.426 --> 00:23:18.296 A:middle
若优先级相同

00:23:18.376 --> 00:23:20.806 A:middle
我们把靠近屏幕顶端的注解

00:23:20.806 --> 00:23:21.906 A:middle
隐藏起来

00:23:22.936 --> 00:23:25.696 A:middle
这对开发人员和用户都有好处

00:23:25.696 --> 00:23:28.196 A:middle
因为

00:23:28.196 --> 00:23:29.626 A:middle
我们可以知道

00:23:29.626 --> 00:23:30.026 A:middle
接下来会发生什么

00:23:30.506 --> 00:23:32.816 A:middle
但是其中一个原因是

00:23:32.816 --> 00:23:34.546 A:middle
我必须说

00:23:34.576 --> 00:23:37.196 A:middle
若我们把地图倾斜到 3D 模式

00:23:37.196 --> 00:23:39.196 A:middle
旋转的时候

00:23:39.196 --> 00:23:41.146 A:middle
一个把另一个挡住

00:23:41.146 --> 00:23:41.766 A:middle
看起来很酷

00:23:43.696 --> 00:23:47.866 A:middle
现在 让我把屏幕放大一点

00:23:47.866 --> 00:23:49.796 A:middle
然后

00:23:49.796 --> 00:23:50.066 A:middle
在地图上再放一个注解

00:23:50.906 --> 00:23:52.486 A:middle
注解视图中

00:23:52.486 --> 00:23:54.736 A:middle
有所有注解视图的

00:23:54.736 --> 00:23:57.046 A:middle
应用程序界面

00:23:57.166 --> 00:23:57.676 A:middle
包括拖动

00:23:57.726 --> 00:23:59.756 A:middle
所以 我可以把它拿起来

00:23:59.756 --> 00:24:00.246 A:middle
再放下去

00:23:59.756 --> 00:24:00.246 A:middle
再放下去

00:24:01.016 --> 00:24:03.436 A:middle
拿起来 拖动它

00:24:04.046 --> 00:24:06.326 A:middle
然后再把它放下

00:24:09.016 --> 00:24:10.236 A:middle
[掌声]

00:24:10.236 --> 00:24:11.356 A:middle
当我把它放到

00:24:11.356 --> 00:24:12.976 A:middle
海滩路上时

00:24:12.976 --> 00:24:14.606 A:middle
你们有没有注意到什么

00:24:15.426 --> 00:24:17.316 A:middle
看仔细一点 我把它拿起来

00:24:17.966 --> 00:24:19.906 A:middle
然后把它放到租车行上面

00:24:22.246 --> 00:24:23.106 A:middle
它就被隐藏了

00:24:23.706 --> 00:24:25.626 A:middle
若你在注解视图里面

00:24:25.716 --> 00:24:27.756 A:middle
设置显示优先级

00:24:27.756 --> 00:24:29.716 A:middle
我们也会

00:24:29.716 --> 00:24:32.156 A:middle
把注解

00:24:32.156 --> 00:24:34.126 A:middle
和基本地图上的地点合起来

00:24:34.126 --> 00:24:36.296 A:middle
以使地图更加整洁

00:24:36.736 --> 00:24:39.056 A:middle
所以 我可以把它拿起来

00:24:39.056 --> 00:24:40.956 A:middle
拖动它

00:24:40.956 --> 00:24:42.756 A:middle
为什么不把它放到另一个注解上呢

00:24:42.906 --> 00:24:45.096 A:middle
它们在平稳的动画之后会合在一起

00:24:45.746 --> 00:24:47.016 A:middle
其实

00:24:47.616 --> 00:24:48.126 A:middle
所有的都可以拖动

00:24:48.706 --> 00:24:51.196 A:middle
所以我可以把它们拿起来

00:24:51.396 --> 00:24:54.236 A:middle
但这是不对的

00:24:54.386 --> 00:24:58.746 A:middle
因为

00:24:58.746 --> 00:24:59.666 A:middle
聚类是不能拖动的

00:25:00.256 --> 00:25:02.506 A:middle
为了让注解能够拖动

00:25:02.506 --> 00:25:04.196 A:middle
你需要

00:25:04.256 --> 00:25:04.806 A:middle
一个坐标

00:25:05.886 --> 00:25:08.636 A:middle
聚类自身

00:25:08.636 --> 00:25:10.006 A:middle
是没有坐标的

00:25:10.386 --> 00:25:12.706 A:middle
聚类的地理坐标

00:25:12.706 --> 00:25:14.716 A:middle
实际上是

00:25:14.716 --> 00:25:17.016 A:middle
周围注解的

00:25:17.016 --> 00:25:18.496 A:middle
平均值

00:25:18.566 --> 00:25:20.086 A:middle
这也是你为什么

00:25:20.086 --> 00:25:20.216 A:middle
它无法拖动

00:25:20.816 --> 00:25:22.356 A:middle
回到幻灯片

00:25:23.216 --> 00:25:24.776 A:middle
这是简单有力的一个应用程序界面

00:25:25.426 --> 00:25:27.116 A:middle
可以让

00:25:28.006 --> 00:25:29.906 A:middle
混乱的屏幕

00:25:29.906 --> 00:25:31.276 A:middle
变得

00:25:31.826 --> 00:25:32.646 A:middle
整洁一点

00:25:33.196 --> 00:25:37.166 A:middle
这是很好的

00:25:37.166 --> 00:25:39.136 A:middle
这有 11 个注解

00:25:39.136 --> 00:25:41.086 A:middle
那还有

00:25:41.086 --> 00:25:41.626 A:middle
两个

00:25:41.626 --> 00:25:44.236 A:middle
但是

00:25:44.236 --> 00:25:46.216 A:middle
我们不能清楚地

00:25:46.216 --> 00:25:46.516 A:middle
看到那是什么注解

00:25:47.036 --> 00:25:48.556 A:middle
如果有单轮脚踏车

00:25:48.556 --> 00:25:50.886 A:middle
和三轮车

00:25:50.886 --> 00:25:52.416 A:middle
我可不想过去了才发现

00:25:52.416 --> 00:25:53.756 A:middle
那只有单轮脚踏车

00:25:53.756 --> 00:25:55.526 A:middle
因为

00:25:55.526 --> 00:25:57.066 A:middle
我不会骑

00:25:57.066 --> 00:25:58.366 A:middle
所以我要确保我去的地方

00:25:58.866 --> 00:26:00.396 A:middle
只有三轮车

00:25:58.866 --> 00:26:00.396 A:middle
只有三轮车

00:26:00.846 --> 00:26:03.426 A:middle
所以

00:26:03.426 --> 00:26:06.026 A:middle
我们想看一眼这些聚类

00:26:06.026 --> 00:26:07.936 A:middle
就知道这个地方

00:26:07.936 --> 00:26:08.566 A:middle
有什么数据

00:26:08.906 --> 00:26:11.116 A:middle
我们可以

00:26:11.116 --> 00:26:13.086 A:middle
通过定制注解视图完成

00:26:13.396 --> 00:26:14.616 A:middle
也可以通过

00:26:14.616 --> 00:26:15.676 A:middle
饼图来显示

00:26:16.856 --> 00:26:19.136 A:middle
我能看到

00:26:19.136 --> 00:26:21.526 A:middle
这里至少有两辆三轮车

00:26:21.526 --> 00:26:22.736 A:middle
安心了 我可以去这里

00:26:23.276 --> 00:26:24.286 A:middle
我们是怎么做到的呢

00:26:24.766 --> 00:26:26.606 A:middle
我们借助了老朋友

00:26:26.606 --> 00:26:28.806 A:middle
那就是

00:26:28.806 --> 00:26:30.576 A:middle
注解代表回调函数的地图视图

00:26:31.726 --> 00:26:33.336 A:middle
代表回调函数

00:26:33.476 --> 00:26:36.196 A:middle
一直都会为你

00:26:36.406 --> 00:26:37.406 A:middle
提供系统注解

00:26:37.476 --> 00:26:39.196 A:middle
用户定位注解

00:26:39.196 --> 00:26:41.016 A:middle
代表的是

00:26:41.016 --> 00:26:43.616 A:middle
用户

00:26:43.616 --> 00:26:44.076 A:middle
现在在地球上所处的位置

00:26:44.796 --> 00:26:46.646 A:middle
你可以回到零点

00:26:46.646 --> 00:26:48.206 A:middle
这样

00:26:48.206 --> 00:26:48.696 A:middle
就回到了默认包

00:26:49.156 --> 00:26:50.836 A:middle
或者你可

00:26:50.836 --> 00:26:52.526 A:middle
回到定制注解

00:26:52.526 --> 00:26:53.836 A:middle
以一种完全不同的方式

00:26:54.186 --> 00:26:55.456 A:middle
显示用户定位

00:26:55.456 --> 00:26:56.816 A:middle
来适应应用程序

00:26:57.206 --> 00:27:00.696 A:middle
适应其他

00:26:57.206 --> 00:27:00.696 A:middle
适应其他

00:27:00.696 --> 00:27:02.776 A:middle
你定量设置的注解视图

00:27:02.836 --> 00:27:03.926 A:middle
然后返回

00:27:04.526 --> 00:27:06.456 A:middle
若你返回零点

00:27:06.456 --> 00:27:09.466 A:middle
就是系统默认

00:27:09.656 --> 00:27:11.116 A:middle
在 iOS 11 里就是标记注解视图

00:27:11.826 --> 00:27:15.826 A:middle
现在 在 iOS 11 里

00:27:15.826 --> 00:27:18.676 A:middle
你还有一个不同的注解

00:27:18.876 --> 00:27:21.416 A:middle
在你回调函数里的

00:27:21.416 --> 00:27:22.246 A:middle
系统注解

00:27:22.606 --> 00:27:23.656 A:middle
你可能会有

00:27:23.846 --> 00:27:25.076 A:middle
聚类注解

00:27:25.496 --> 00:27:27.366 A:middle
所以 若你选择聚类

00:27:28.086 --> 00:27:30.406 A:middle
然后它们碰到一起

00:27:30.406 --> 00:27:31.616 A:middle
是没有新回调函数的

00:27:31.616 --> 00:27:33.636 A:middle
我们重新使用现有回调函数

00:27:33.966 --> 00:27:36.006 A:middle
给你一个聚类注解

00:27:36.086 --> 00:27:37.906 A:middle
这代表了聚类

00:27:37.906 --> 00:27:38.916 A:middle
而且你还可以

00:27:38.916 --> 00:27:40.776 A:middle
回到你想要的注解视图

00:27:41.116 --> 00:27:43.336 A:middle
聚类视图

00:27:43.336 --> 00:27:45.836 A:middle
是注解协议的

00:27:45.836 --> 00:27:47.416 A:middle
一个简单的具体类

00:27:48.076 --> 00:27:49.746 A:middle
给你提供了

00:27:49.746 --> 00:27:51.056 A:middle
所有注解的一个数组

00:27:51.606 --> 00:27:53.426 A:middle
这是一个扁平化数组

00:27:53.426 --> 00:27:54.986 A:middle
所以我们可保证

00:27:54.986 --> 00:27:56.636 A:middle
在聚类里面

00:27:56.636 --> 00:27:57.096 A:middle
不会再有聚类

00:27:57.096 --> 00:27:58.626 A:middle
这只是

00:27:58.626 --> 00:28:00.546 A:middle
所有显示注解

00:27:58.626 --> 00:28:00.546 A:middle
所有显示注解

00:28:00.546 --> 00:28:02.066 A:middle
的扁平化数组

00:28:02.586 --> 00:28:04.536 A:middle
我们给它排序

00:28:04.666 --> 00:28:06.686 A:middle
第一个是

00:28:06.686 --> 00:28:07.136 A:middle
最高的显示优先级

00:28:08.146 --> 00:28:09.806 A:middle
所以 你若

00:28:09.806 --> 00:28:11.666 A:middle
像我之前所说的那样

00:28:11.666 --> 00:28:12.846 A:middle
利用显示优先级

00:28:12.876 --> 00:28:14.186 A:middle
并以受欢迎程度为根据

00:28:14.186 --> 00:28:16.916 A:middle
那么最开始的就是最受欢迎的

00:28:17.556 --> 00:28:19.216 A:middle
标记注解视图和聚类注解

00:28:19.216 --> 00:28:21.876 A:middle
运行良好

00:28:22.076 --> 00:28:24.046 A:middle
所以我们可以把计数

00:28:24.046 --> 00:28:26.266 A:middle
显示为字符

00:28:26.446 --> 00:28:27.676 A:middle
你看一眼

00:28:27.676 --> 00:28:28.356 A:middle
就知道这里有多少

00:28:29.056 --> 00:28:31.466 A:middle
我们也会为标题和副标题

00:28:31.466 --> 00:28:34.016 A:middle
提供良好的默认模式

00:28:34.366 --> 00:28:36.726 A:middle
题目就会是

00:28:36.726 --> 00:28:38.646 A:middle
最受欢迎的地方

00:28:38.646 --> 00:28:40.256 A:middle
或一等注解

00:28:40.686 --> 00:28:42.836 A:middle
副标题是局部的加 X 数字

00:28:43.156 --> 00:28:45.276 A:middle
或者是

00:28:45.276 --> 00:28:46.876 A:middle
其他你想要的注解

00:28:48.296 --> 00:28:49.406 A:middle
这两个功能都是可变的

00:28:49.406 --> 00:28:51.046 A:middle
所以

00:28:51.156 --> 00:28:52.786 A:middle
你可以随时变更

00:28:52.786 --> 00:28:53.456 A:middle
或提供其他选项

00:28:53.936 --> 00:28:55.546 A:middle
我们可能想改变它

00:28:55.546 --> 00:28:59.066 A:middle
比如 三辆单轮脚踏车和两辆三轮车

00:28:59.066 --> 00:29:00.686 A:middle
所以

00:28:59.066 --> 00:29:00.686 A:middle
所以

00:29:00.686 --> 00:29:02.796 A:middle
即使没有定制注解视图

00:29:03.036 --> 00:29:04.956 A:middle
你也可看到

00:29:04.956 --> 00:29:05.706 A:middle
注解字幕是什么

00:29:06.236 --> 00:29:08.746 A:middle
但是

00:29:08.746 --> 00:29:09.756 A:middle
你也可能想要定制注解视图

00:29:10.866 --> 00:29:13.376 A:middle
所以定制注解视图

00:29:14.686 --> 00:29:16.016 A:middle
现在让我们看看这个小饼图

00:29:16.816 --> 00:29:19.646 A:middle
注解视图是一个视图

00:29:20.126 --> 00:29:21.906 A:middle
视图就会有边框

00:29:22.946 --> 00:29:25.646 A:middle
但

00:29:25.716 --> 00:29:27.746 A:middle
使显示优先等级

00:29:27.746 --> 00:29:30.016 A:middle
隐藏内容并聚集起来的潜在要求

00:29:30.016 --> 00:29:31.976 A:middle
是注解必须能察觉到

00:29:31.976 --> 00:29:33.716 A:middle
是否有重叠

00:29:34.956 --> 00:29:36.426 A:middle
既然是视图

00:29:36.426 --> 00:29:38.756 A:middle
还有边框

00:29:38.756 --> 00:29:39.986 A:middle
我们可以利用边框

00:29:39.986 --> 00:29:40.396 A:middle
来察觉碰撞

00:29:41.856 --> 00:29:43.546 A:middle
这看起来不太好

00:29:44.236 --> 00:29:46.216 A:middle
我是说 这是圆形的

00:29:46.216 --> 00:29:48.356 A:middle
边框碰到了一起

00:29:48.356 --> 00:29:50.316 A:middle
但是视觉上

00:29:50.316 --> 00:29:50.996 A:middle
它们还没有碰上

00:29:51.066 --> 00:29:52.926 A:middle
所以

00:29:52.926 --> 00:29:53.316 A:middle
这不是我们想要的

00:29:53.686 --> 00:29:56.036 A:middle
所以

00:29:56.116 --> 00:29:56.836 A:middle
我们在注解视图里多加了一个性能

00:29:56.936 --> 00:29:58.056 A:middle
我们叫它碰撞模式

00:29:58.776 --> 00:30:00.846 A:middle
默认值是矩形

00:29:58.776 --> 00:30:00.846 A:middle
默认值是矩形

00:30:01.486 --> 00:30:03.546 A:middle
我们必须利用这个边框

00:30:04.196 --> 00:30:06.046 A:middle
我们的另一个选项是

00:30:06.046 --> 00:30:06.596 A:middle
圆形

00:30:07.516 --> 00:30:09.016 A:middle
这里的注解边框

00:30:09.016 --> 00:30:11.956 A:middle
我们用的是

00:30:11.956 --> 00:30:13.156 A:middle
內接圆形

00:30:13.226 --> 00:30:14.446 A:middle
现在我们把它们放到一起

00:30:14.446 --> 00:30:17.236 A:middle
它们会碰撞

00:30:17.236 --> 00:30:18.806 A:middle
就会在视觉碰撞时

00:30:18.806 --> 00:30:19.896 A:middle
察觉到碰撞

00:30:20.646 --> 00:30:23.796 A:middle
但不是所有注解视图

00:30:23.796 --> 00:30:25.996 A:middle
都是完美的形状

00:30:26.216 --> 00:30:27.406 A:middle
有一些还是

00:30:27.406 --> 00:30:28.146 A:middle
矩形

00:30:28.636 --> 00:30:30.406 A:middle
碰撞模式的矩形

00:30:30.976 --> 00:30:32.926 A:middle
在碰撞时

00:30:32.926 --> 00:30:33.566 A:middle
用的还是这个矩形

00:30:33.816 --> 00:30:35.546 A:middle
但若把它改成圆形

00:30:35.546 --> 00:30:37.746 A:middle
它就变成了一个圆形

00:30:37.956 --> 00:30:40.256 A:middle
所以 我们就可以利用

00:30:40.336 --> 00:30:41.836 A:middle
矩形里的內接圆形

00:30:41.836 --> 00:30:43.376 A:middle
而不是內接椭圆

00:30:44.646 --> 00:30:45.916 A:middle
这里需要

00:30:45.916 --> 00:30:46.736 A:middle
记一下笔记

00:30:47.106 --> 00:30:49.936 A:middle
有的边框

00:30:49.936 --> 00:30:50.996 A:middle
不是矩形也不是圆形

00:30:50.996 --> 00:30:51.996 A:middle
我们可能有

00:30:51.996 --> 00:30:52.966 A:middle
好看一点的

00:30:53.446 --> 00:30:55.776 A:middle
比如 高尔夫应用程序上的

00:30:55.776 --> 00:30:58.256 A:middle
好看的 3D 的

00:30:58.606 --> 00:31:00.566 A:middle
高尔夫俱乐部的图标

00:30:58.606 --> 00:31:00.566 A:middle
高尔夫俱乐部的图标

00:31:00.726 --> 00:31:02.626 A:middle
我们把地图倾斜到 3D 模式时

00:31:02.626 --> 00:31:04.236 A:middle
把它们合到了一起

00:31:04.236 --> 00:31:05.196 A:middle
其实是想稍稍重叠

00:31:05.196 --> 00:31:06.716 A:middle
因为

00:31:06.716 --> 00:31:07.016 A:middle
这样看起来很酷

00:31:07.796 --> 00:31:09.056 A:middle
其实很好看

00:31:09.476 --> 00:31:10.806 A:middle
所以如果我们只用矩形

00:31:10.806 --> 00:31:13.306 A:middle
这早就

00:31:13.306 --> 00:31:16.226 A:middle
超过了

00:31:16.266 --> 00:31:16.716 A:middle
可察觉的碰撞范围

00:31:17.196 --> 00:31:19.436 A:middle
如果用圆形呢

00:31:19.596 --> 00:31:21.056 A:middle
不行 这不太合适

00:31:21.056 --> 00:31:22.486 A:middle
我想说

00:31:22.486 --> 00:31:23.536 A:middle
我们想要的是

00:31:23.536 --> 00:31:25.566 A:middle
类似这样的

00:31:25.566 --> 00:31:26.666 A:middle
就是底部的

00:31:26.666 --> 00:31:30.076 A:middle
五点外嵌选项的圆形

00:31:30.076 --> 00:31:31.056 A:middle
我们之前没给过你们

00:31:32.916 --> 00:31:34.126 A:middle
对不起

00:31:34.236 --> 00:31:34.536 A:middle
你们没有这个选项

00:31:35.556 --> 00:31:38.256 A:middle
相反

00:31:38.256 --> 00:31:39.716 A:middle
我们回到了

00:31:39.716 --> 00:31:42.446 A:middle
去年 iOS 和 macOS

00:31:42.446 --> 00:31:43.596 A:middle
引入外部布局的时候

00:31:43.976 --> 00:31:45.096 A:middle
你们有

00:31:45.096 --> 00:31:46.996 A:middle
直线矩形嵌入物

00:31:46.996 --> 00:31:49.126 A:middle
若两个视图要排在一起

00:31:49.126 --> 00:31:51.546 A:middle
你可以进行设置

00:31:51.546 --> 00:31:53.686 A:middle
那么

00:31:53.686 --> 00:31:56.246 A:middle
你要用什么样的嵌入物

00:31:56.246 --> 00:31:57.526 A:middle
才能让它们看起来好看

00:31:58.196 --> 00:31:59.626 A:middle
这也是我们正在

00:31:59.626 --> 00:32:00.776 A:middle
对注解视图所做的事情

00:31:59.626 --> 00:32:00.776 A:middle
对注解视图所做的事情

00:32:01.656 --> 00:32:03.396 A:middle
什么是

00:32:04.166 --> 00:32:05.476 A:middle
看起来好看的碰撞矩形

00:32:05.776 --> 00:32:07.016 A:middle
所以 你要做的就是

00:32:07.386 --> 00:32:09.726 A:middle
覆盖它

00:32:09.726 --> 00:32:10.176 A:middle
但是找点什么补上去

00:32:10.356 --> 00:32:11.946 A:middle
所以

00:32:11.946 --> 00:32:13.836 A:middle
上面我们可以设置 50 点

00:32:14.056 --> 00:32:15.156 A:middle
然后把碰撞区域移下来

00:32:15.676 --> 00:32:17.596 A:middle
左边  0

00:32:17.706 --> 00:32:19.026 A:middle
我们不需要改动

00:32:19.406 --> 00:32:21.176 A:middle
底边 我们移动 -5

00:32:21.176 --> 00:32:23.326 A:middle
因为

00:32:23.426 --> 00:32:24.746 A:middle
我们想要外嵌 不是内嵌

00:32:25.206 --> 00:32:26.966 A:middle
然后

00:32:26.966 --> 00:32:27.256 A:middle
右边缘也这样改动

00:32:27.726 --> 00:32:30.756 A:middle
现在就是

00:32:31.056 --> 00:32:32.966 A:middle
底部的一个五点外嵌小圆

00:32:32.966 --> 00:32:34.876 A:middle
是我们想要的

00:32:35.426 --> 00:32:38.356 A:middle
当我们把它们碰在一起的时候

00:32:38.356 --> 00:32:40.366 A:middle
这看起来就很美观了

00:32:41.256 --> 00:32:42.946 A:middle
让我们看看

00:32:42.946 --> 00:32:44.166 A:middle
设置

00:32:44.166 --> 00:32:45.156 A:middle
定制注解视图的代码

00:32:45.516 --> 00:32:48.816 A:middle
有一点建议和技巧

00:32:48.816 --> 00:32:50.516 A:middle
可以代码看起来

00:32:50.516 --> 00:32:53.186 A:middle
更现代化 更美观

00:32:54.046 --> 00:32:55.466 A:middle
开始吧

00:32:57.256 --> 00:32:59.876 A:middle
所以 先运行应用程序

00:32:59.876 --> 00:33:01.816 A:middle
确保正常运转

00:32:59.876 --> 00:33:01.816 A:middle
确保正常运转

00:33:04.196 --> 00:33:05.366 A:middle
建立成功

00:33:05.806 --> 00:33:06.506 A:middle
编译

00:33:07.106 --> 00:33:07.806 A:middle
开始运行了

00:33:08.796 --> 00:33:12.426 A:middle
我们把它们放到一起时

00:33:12.426 --> 00:33:13.476 A:middle
它们发生了碰撞

00:33:14.286 --> 00:33:15.116 A:middle
它们分开了

00:33:16.156 --> 00:33:16.806 A:middle
所以 这是有效的

00:33:18.196 --> 00:33:20.646 A:middle
看看代码

00:33:20.646 --> 00:33:23.056 A:middle
我们有地图视图

00:33:23.056 --> 00:33:23.686 A:middle
注解视图

00:33:25.016 --> 00:33:26.346 A:middle
要做的第一件事是

00:33:26.346 --> 00:33:28.386 A:middle
看看这是不是

00:33:28.386 --> 00:33:29.226 A:middle
我们自己的注解之一

00:33:29.486 --> 00:33:34.606 A:middle
如果是

00:33:34.606 --> 00:33:36.346 A:middle
我们把它进行大规模设置然后准备好

00:33:37.266 --> 00:33:39.856 A:middle
否则

00:33:39.856 --> 00:33:41.206 A:middle
我们要检查它是不是系统提供的

00:33:41.616 --> 00:33:42.706 A:middle
聚类注解

00:33:43.396 --> 00:33:46.246 A:middle
如果是

00:33:46.246 --> 00:33:46.986 A:middle
我们用不同的方法设置

00:33:48.016 --> 00:33:50.286 A:middle
其他情况下

00:33:50.286 --> 00:33:51.846 A:middle
我们恢复零点

00:33:51.846 --> 00:33:52.406 A:middle
回到系统默认

00:33:52.886 --> 00:33:54.526 A:middle
现在是

00:33:54.526 --> 00:33:57.156 A:middle
所有用户的定位

00:33:57.156 --> 00:33:58.836 A:middle
但之后

00:33:58.996 --> 00:34:00.226 A:middle
我们可能会

00:33:58.996 --> 00:34:00.226 A:middle
我们可能会

00:34:00.226 --> 00:34:00.696 A:middle
添加更多的系统注解

00:34:00.696 --> 00:34:02.106 A:middle
所以 很好

00:34:02.776 --> 00:34:05.006 A:middle
不要在默认时

00:34:05.006 --> 00:34:05.486 A:middle
检查用户定位

00:34:05.986 --> 00:34:07.616 A:middle
做其他的事 恢复零值

00:34:07.616 --> 00:34:08.795 A:middle
其他情况下

00:34:08.826 --> 00:34:11.386 A:middle
让系统来正确处理

00:34:12.376 --> 00:34:15.795 A:middle
这有很多代码

00:34:15.795 --> 00:34:18.436 A:middle
但是

00:34:18.755 --> 00:34:19.946 A:middle
在我们的视图管理器看来

00:34:19.946 --> 00:34:21.856 A:middle
这和其将如何显示

00:34:21.856 --> 00:34:24.606 A:middle
或者

00:34:24.606 --> 00:34:26.096 A:middle
所有的东西将如何显示

00:34:26.096 --> 00:34:26.565 A:middle
没有任何关系

00:34:26.856 --> 00:34:29.005 A:middle
所以

00:34:29.005 --> 00:34:30.136 A:middle
我觉得这不应该出现在视图管理器中

00:34:30.746 --> 00:34:35.906 A:middle
所以如果

00:34:35.976 --> 00:34:39.416 A:middle
我把我的项目视图拖过来 加进去

00:34:39.416 --> 00:34:43.045 A:middle
首先我要做的是

00:34:43.045 --> 00:34:44.996 A:middle
把文件加到目标文件里

00:34:45.126 --> 00:34:47.085 A:middle
不然它不会编译

00:34:47.606 --> 00:34:48.045 A:middle
就是这样

00:34:48.946 --> 00:34:51.966 A:middle
注解视图的另一条建议是

00:34:51.966 --> 00:34:54.505 A:middle
你可以不管

00:34:54.505 --> 00:34:56.126 A:middle
设置注解方法

00:34:56.126 --> 00:34:58.186 A:middle
并

00:34:58.186 --> 00:34:58.516 A:middle
进行配置

00:34:58.886 --> 00:35:00.416 A:middle
同样

00:34:58.886 --> 00:35:00.416 A:middle
同样

00:35:00.416 --> 00:35:02.036 A:middle
我知道会有一辆自行车

00:35:02.326 --> 00:35:04.746 A:middle
如果我得到了自行车

00:35:04.746 --> 00:35:07.066 A:middle
我对其进行设置 准备 然后就完成了

00:35:08.876 --> 00:35:11.426 A:middle
这可以让我

00:35:11.746 --> 00:35:20.276 A:middle
回到这里

00:35:20.276 --> 00:35:20.726 A:middle
把这些都删掉

00:35:21.086 --> 00:35:23.846 A:middle
不对 这不行

00:35:23.996 --> 00:35:25.776 A:middle
删掉所有的这些内容

00:35:25.776 --> 00:35:27.816 A:middle
因为这不适合

00:35:27.816 --> 00:35:28.656 A:middle
出现在视图管理器里

00:35:28.656 --> 00:35:30.116 A:middle
这小了很多

00:35:31.546 --> 00:35:33.716 A:middle
另一个可能会惹恼

00:35:33.906 --> 00:35:38.276 A:middle
SWF 开发人员的是

00:35:38.276 --> 00:35:40.376 A:middle
这里的这个视图是可选的

00:35:40.986 --> 00:35:42.926 A:middle
我们不想要可选的

00:35:43.986 --> 00:35:47.416 A:middle
我们想要正常的

00:35:47.416 --> 00:35:48.536 A:middle
需要变量的

00:35:49.146 --> 00:35:52.326 A:middle
现在 有视图的定量重复使用的

00:35:52.416 --> 00:35:56.416 A:middle
注解的确恢复成可选的

00:35:57.366 --> 00:36:00.296 A:middle
但是我们把它固定

00:35:57.366 --> 00:36:00.296 A:middle
但是我们把它固定

00:36:00.296 --> 00:36:00.876 A:middle
然后提供一个差不多的

00:36:01.546 --> 00:36:04.506 A:middle
有标识符的

00:36:04.506 --> 00:36:07.116 A:middle
定量可重复使用注解

00:36:07.976 --> 00:36:09.556 A:middle
这是根据

00:36:09.556 --> 00:36:11.676 A:middle
用户界面表格视图和用户界面结合视图

00:36:11.676 --> 00:36:12.706 A:middle
的定量方法塑造的

00:36:13.366 --> 00:36:15.016 A:middle
所以

00:36:15.016 --> 00:36:15.636 A:middle
它总会恢复

00:36:15.886 --> 00:36:21.066 A:middle
让我们来试试

00:36:21.546 --> 00:36:27.446 A:middle
这是你们打字的方式

00:36:27.446 --> 00:36:30.356 A:middle
然后是注解

00:36:30.896 --> 00:36:32.546 A:middle
你可能注意到了

00:36:32.546 --> 00:36:33.326 A:middle
我没有美语键盘

00:36:34.176 --> 00:36:36.976 A:middle
这样的话

00:36:37.566 --> 00:36:40.206 A:middle
我们就不需要检查

00:36:40.206 --> 00:36:42.886 A:middle
我们到底做了没有

00:36:42.886 --> 00:36:43.296 A:middle
而是直接把它创造出来

00:36:43.916 --> 00:36:45.346 A:middle
我们无需设置注解

00:36:45.346 --> 00:36:46.866 A:middle
因为

00:36:46.946 --> 00:36:48.256 A:middle
我们把它

00:36:48.786 --> 00:36:49.936 A:middle
交给了初始程序

00:36:50.916 --> 00:36:52.656 A:middle
实际上 还可以进一步

00:36:53.866 --> 00:36:56.566 A:middle
我们把这个都删了

00:36:56.606 --> 00:36:57.726 A:middle
我们不需要这个

00:36:58.556 --> 00:37:00.586 A:middle
因为

00:36:58.556 --> 00:37:00.586 A:middle
因为

00:37:00.586 --> 00:37:04.576 A:middle
我们的注解

00:37:04.576 --> 00:37:05.606 A:middle
可以重复使用标识符

00:37:06.456 --> 00:37:08.666 A:middle
在表格视图

00:37:09.196 --> 00:37:10.816 A:middle
和集合视图中

00:37:10.996 --> 00:37:13.406 A:middle
我们倾斜了地图视图

00:37:13.406 --> 00:37:14.086 A:middle
我想注册

00:37:14.476 --> 00:37:17.596 A:middle
利用自行车视图分类

00:37:17.596 --> 00:37:20.516 A:middle
以使用任何重复使用的标识符

00:37:20.516 --> 00:37:22.746 A:middle
你就可以选取

00:37:22.746 --> 00:37:24.666 A:middle
一个或两个

00:37:25.066 --> 00:37:26.566 A:middle
我们提供给你的

00:37:26.566 --> 00:37:26.776 A:middle
常量

00:37:27.146 --> 00:37:29.746 A:middle
我们在任何单独注解视图中

00:37:29.986 --> 00:37:31.496 A:middle
使用的默认注解视图

00:37:31.496 --> 00:37:33.006 A:middle
是由

00:37:33.006 --> 00:37:35.606 A:middle
系统创建的

00:37:35.796 --> 00:37:37.526 A:middle
也是由我们在任何系统中的

00:37:37.526 --> 00:37:39.826 A:middle
默认聚类注解视图

00:37:39.826 --> 00:37:40.006 A:middle
创立的

00:37:40.876 --> 00:37:49.226 A:middle
现在我们运行的时候

00:37:49.496 --> 00:37:50.186 A:middle
它就会编译

00:37:50.626 --> 00:37:52.496 A:middle
运行 启动

00:37:53.066 --> 00:37:55.236 A:middle
我们不用代码把它们移到一起

00:37:55.866 --> 00:37:57.636 A:middle
它们就合起来了

00:37:58.996 --> 00:38:01.136 A:middle
我们把它们组团时

00:37:58.996 --> 00:38:01.136 A:middle
我们把它们组团时

00:38:01.136 --> 00:38:02.626 A:middle
饼图就更好看了

00:38:03.506 --> 00:38:05.416 A:middle
以上就是

00:38:05.416 --> 00:38:06.586 A:middle
为你们提供的建议

00:38:06.586 --> 00:38:08.686 A:middle
以使注解视图更加简洁

00:38:09.456 --> 00:38:10.406 A:middle
回到幻灯片

00:38:11.516 --> 00:38:14.516 A:middle
[掌声]

00:38:15.016 --> 00:38:19.216 A:middle
谢谢大家参加这次会议

00:38:19.846 --> 00:38:21.036 A:middle
今天

00:38:21.036 --> 00:38:21.376 A:middle
我们讲了很多

00:38:21.826 --> 00:38:25.286 A:middle
首先是新的地图类型

00:38:25.286 --> 00:38:28.566 A:middle
可淡去标准地图

00:38:28.566 --> 00:38:30.786 A:middle
可以使你在应用程序中的数据

00:38:30.786 --> 00:38:32.326 A:middle
突出显示

00:38:33.146 --> 00:38:35.446 A:middle
我们提供了所有

00:38:35.516 --> 00:38:37.936 A:middle
合适的地图视图

00:38:37.936 --> 00:38:40.266 A:middle
所以你可以设置显示

00:38:40.266 --> 00:38:42.576 A:middle
随时随地显示

00:38:42.576 --> 00:38:43.666 A:middle
以

00:38:43.666 --> 00:38:44.516 A:middle
适应应用程序

00:38:45.066 --> 00:38:45.686 A:middle
也有新的标记注解视图

00:38:45.686 --> 00:38:47.506 A:middle
可以

00:38:47.506 --> 00:38:49.736 A:middle
让你一眼

00:38:49.736 --> 00:38:51.486 A:middle
就看到更多信息

00:38:51.486 --> 00:38:53.176 A:middle
而不用

00:38:53.176 --> 00:38:54.296 A:middle
一直都在寻找数据

00:38:54.976 --> 00:38:57.006 A:middle
还有 标记注解视图

00:38:57.006 --> 00:38:59.386 A:middle
与新的应用程序界面

00:38:59.416 --> 00:39:03.206 A:middle
在显示优先级和聚类方面运行良好

00:38:59.416 --> 00:39:03.206 A:middle
在显示优先级和聚类方面运行良好

00:39:03.236 --> 00:39:06.276 A:middle
以使

00:39:06.276 --> 00:39:08.906 A:middle
数据更美观

00:39:09.426 --> 00:39:10.236 A:middle
地图更简洁

00:39:10.946 --> 00:39:13.556 A:middle
登陆这个网页

00:39:13.556 --> 00:39:14.036 A:middle
可以查看更多信息

00:39:14.776 --> 00:39:17.666 A:middle
今天

00:39:17.766 --> 00:39:19.146 A:middle
我也给大家展示了

00:39:19.446 --> 00:39:20.326 A:middle
应用程序的简单代码

00:39:20.906 --> 00:39:22.466 A:middle
请思考一下

00:39:22.466 --> 00:39:24.106 A:middle
然后

00:39:24.106 --> 00:39:24.446 A:middle
看看你能用它创造出什么

00:39:24.796 --> 00:39:26.376 A:middle
我非常期待

00:39:26.376 --> 00:39:28.646 A:middle
看到你们将要进行的工作

00:39:29.186 --> 00:39:30.456 A:middle
对了

00:39:30.456 --> 00:39:32.486 A:middle
别忘了看看

00:39:32.706 --> 00:39:34.116 A:middle
昨天

00:39:34.116 --> 00:39:34.666 A:middle
定位技术最新分享的视频

00:39:34.966 --> 00:39:36.956 A:middle
以及去年

00:39:36.956 --> 00:39:38.136 A:middle
MapKit 最新内容视频

00:39:38.636 --> 00:39:39.416 A:middle
非常感谢大家
