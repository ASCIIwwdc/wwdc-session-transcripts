WEBVTT

00:00:07.516 --> 00:00:16.500 A:middle
[ 欢呼 ]

00:00:23.516 --> 00:00:25.896 A:middle
[ 鼓掌 ]

00:00:26.396 --> 00:00:27.726 A:middle
&gt;&gt; 大家下午好

00:00:28.096 --> 00:00:30.256 A:middle
欢迎来到 WWDC 2017

00:00:30.936 --> 00:00:32.206 A:middle
我叫 David Duncan

00:00:32.206 --> 00:00:34.536 A:middle
今天  我将和 Raj Ramamurphy

00:00:34.536 --> 00:00:35.626 A:middle
还有 Kyle Sluder 一起

00:00:35.693 --> 00:00:37.506 A:middle
讲一讲

00:00:37.806 --> 00:00:39.946 A:middle
怎么更新你的 app

00:00:40.016 --> 00:00:40.476 A:middle
来适配 iOS 11

00:00:42.176 --> 00:00:44.076 A:middle
首先说一下

00:00:44.076 --> 00:00:46.416 A:middle
我们今天

00:00:46.416 --> 00:00:46.906 A:middle
都要讲些什么

00:00:47.816 --> 00:00:48.966 A:middle
第一个要和你们

00:00:48.966 --> 00:00:50.116 A:middle
讨论的事情是

00:00:50.366 --> 00:00:52.486 A:middle
如何在 UI 设计套件里

00:00:52.486 --> 00:00:55.586 A:middle
启用新功能

00:00:55.586 --> 00:00:58.426 A:middle
包括 UI 导航栏 UI 标签栏

00:00:58.426 --> 00:00:59.086 A:middle
UI 工具栏和 UI 搜索栏

00:00:59.086 --> 00:01:00.736 A:middle
我们会告诉你

00:00:59.086 --> 00:01:00.736 A:middle
我们会告诉你

00:01:00.736 --> 00:01:02.216 A:middle
这些如何能够使你的 app

00:01:02.216 --> 00:01:04.135 A:middle
变成我们在介绍 iOS 11 时

00:01:04.135 --> 00:01:06.056 A:middle
你所看到的那样

00:01:07.266 --> 00:01:09.956 A:middle
然后 Kyle 会上来

00:01:09.956 --> 00:01:11.116 A:middle
给你们讲一讲

00:01:11.116 --> 00:01:13.116 A:middle
如何调整边缘和嵌入

00:01:13.116 --> 00:01:14.656 A:middle
以及我们对 UI scroll view 和 table view

00:01:14.656 --> 00:01:17.816 A:middle
做出的改变

00:01:17.816 --> 00:01:21.286 A:middle
我们会教你

00:01:21.286 --> 00:01:22.186 A:middle
如何利用这些新功能

00:01:22.186 --> 00:01:22.686 A:middle
让你的 app 变得更棒

00:01:23.256 --> 00:01:25.086 A:middle
首先  我们来看一看

00:01:25.086 --> 00:01:26.936 A:middle
文件夹

00:01:27.616 --> 00:01:29.896 A:middle
如果你安装了

00:01:29.896 --> 00:01:31.616 A:middle
Beta 版

00:01:31.616 --> 00:01:33.176 A:middle
并看了文件夹

00:01:33.176 --> 00:01:35.586 A:middle
你会发现它利用 UI 设计套件

00:01:35.586 --> 00:01:37.586 A:middle
做出的一些改变

00:01:38.126 --> 00:01:39.636 A:middle
你可以看到上面的

00:01:39.636 --> 00:01:41.126 A:middle
这些大标题

00:01:41.126 --> 00:01:42.116 A:middle
显示出浏览功能

00:01:42.926 --> 00:01:43.986 A:middle
它下面

00:01:43.986 --> 00:01:45.246 A:middle
有个搜索栏

00:01:45.246 --> 00:01:46.446 A:middle
这个搜索栏

00:01:46.486 --> 00:01:47.596 A:middle
应该和你之前看到过的

00:01:47.596 --> 00:01:48.526 A:middle
都不太一样

00:01:49.206 --> 00:01:51.266 A:middle
标签栏也有一些变化

00:01:51.266 --> 00:01:53.066 A:middle
但是这里看不出来

00:01:53.066 --> 00:01:54.466 A:middle
所以让我们

00:01:54.466 --> 00:01:56.696 A:middle
变成横屏

00:01:57.136 --> 00:01:58.496 A:middle
标签栏

00:01:58.496 --> 00:02:00.416 A:middle
在横屏和 iPad 里

00:01:58.496 --> 00:02:00.416 A:middle
在横屏和 iPad 里

00:02:00.416 --> 00:02:02.876 A:middle
都采用了新的外观

00:02:02.876 --> 00:02:04.556 A:middle
图标和文字

00:02:04.556 --> 00:02:05.316 A:middle
并排显示

00:02:05.316 --> 00:02:08.436 A:middle
尤其是在 iPhone 里

00:02:08.436 --> 00:02:10.106 A:middle
图标变小了

00:02:10.106 --> 00:02:11.366 A:middle
标签栏也小了一些

00:02:11.366 --> 00:02:12.006 A:middle
使得纵向有更多空间

00:02:12.706 --> 00:02:13.836 A:middle
我们会告诉你

00:02:13.836 --> 00:02:15.576 A:middle
如何个性化

00:02:15.636 --> 00:02:19.066 A:middle
横屏和标签栏的图标

00:02:19.066 --> 00:02:20.796 A:middle
变小之后

00:02:20.796 --> 00:02:22.826 A:middle
有时会对

00:02:22.826 --> 00:02:24.156 A:middle
视力较弱

00:02:24.156 --> 00:02:25.176 A:middle
或者需要借助帮助

00:02:25.176 --> 00:02:26.166 A:middle
才能看清的人

00:02:26.166 --> 00:02:26.636 A:middle
产生一定影响

00:02:27.546 --> 00:02:28.856 A:middle
这个我们也可以解决

00:02:28.856 --> 00:02:32.116 A:middle
如果你选择更大的字体

00:02:32.116 --> 00:02:34.156 A:middle
当你长按这些

00:02:34.156 --> 00:02:35.996 A:middle
无论是标签栏  工具栏

00:02:35.996 --> 00:02:38.356 A:middle
还是导航栏

00:02:38.356 --> 00:02:40.606 A:middle
都会出现这个 HUD

00:02:40.606 --> 00:02:43.026 A:middle
会清晰的显示

00:02:43.026 --> 00:02:45.206 A:middle
文字和图标

00:02:45.206 --> 00:02:47.586 A:middle
接下来我要介绍

00:02:47.586 --> 00:02:48.806 A:middle
如何在你的 app 里

00:02:48.806 --> 00:02:50.066 A:middle
使用这两项功能

00:02:50.066 --> 00:02:50.976 A:middle
非常容易

00:02:52.476 --> 00:02:55.126 A:middle
有一个分类叫 UI Bar Item

00:02:55.126 --> 00:02:56.776 A:middle
你可能没怎么注意过

00:02:56.886 --> 00:02:58.216 A:middle
因为它其实是

00:02:58.216 --> 00:03:00.406 A:middle
UI 设计套件中

00:02:58.216 --> 00:03:00.406 A:middle
UI 设计套件中

00:03:00.406 --> 00:03:02.586 A:middle
两个重要 class 的上级目录

00:03:02.586 --> 00:03:05.136 A:middle
分别是 UI Tab Bar Item

00:03:05.136 --> 00:03:05.666 A:middle
和 UI Bar Button Item

00:03:05.756 --> 00:03:09.286 A:middle
要想个性化

00:03:09.286 --> 00:03:11.766 A:middle
标签栏在横屏的显示

00:03:11.766 --> 00:03:12.946 A:middle
你只需要把这个属性

00:03:12.946 --> 00:03:14.836 A:middle
这个 Landscape Image Phone 的属性

00:03:14.836 --> 00:03:17.166 A:middle
加入你想

00:03:17.236 --> 00:03:18.906 A:middle
放入标签栏的

00:03:18.906 --> 00:03:19.656 A:middle
任何一个标签项中

00:03:19.656 --> 00:03:21.446 A:middle
当然在 storyboard 和其他地方

00:03:21.446 --> 00:03:22.456 A:middle
我们都有相关支持

00:03:22.456 --> 00:03:24.116 A:middle
但这就是

00:03:24.116 --> 00:03:25.096 A:middle
个性化的方法

00:03:25.096 --> 00:03:26.126 A:middle
还有一些

00:03:26.126 --> 00:03:27.226 A:middle
嵌入属性

00:03:27.256 --> 00:03:27.536 A:middle
你可以选择

00:03:28.306 --> 00:03:30.876 A:middle
要显示 HUD

00:03:30.876 --> 00:03:33.436 A:middle
也有一个相关的属性

00:03:33.436 --> 00:03:35.736 A:middle
叫 Large Content Size Image

00:03:36.746 --> 00:03:38.856 A:middle
你可以设置这个

00:03:38.856 --> 00:03:40.186 A:middle
输入大图标

00:03:40.186 --> 00:03:42.726 A:middle
就会显示在 HUD 里  当然如果

00:03:42.726 --> 00:03:45.236 A:middle
你的资源目录里使用的是 PDF 的话

00:03:45.406 --> 00:03:46.386 A:middle
就更简单了

00:03:46.966 --> 00:03:49.676 A:middle
你只需要设定

00:03:49.786 --> 00:03:53.156 A:middle
保存 PDF 数据

00:03:53.156 --> 00:03:55.566 A:middle
我们就能自动提取这个 PDF 数据

00:03:55.566 --> 00:03:57.036 A:middle
调整大小

00:03:57.036 --> 00:03:58.406 A:middle
并在 HUD 中显示

00:03:58.406 --> 00:03:59.516 A:middle
而你完全不需要

00:03:59.516 --> 00:03:59.976 A:middle
做其他任何事情

00:04:04.086 --> 00:04:06.426 A:middle
如果你想了解更多

00:04:06.426 --> 00:04:07.636 A:middle
辅助功能

00:04:07.636 --> 00:04:08.976 A:middle
比如 HUD 以及使用方法

00:04:08.976 --> 00:04:10.526 A:middle
这周三

00:04:10.526 --> 00:04:11.796 A:middle
有专门关于辅助功能

00:04:11.796 --> 00:04:12.946 A:middle
的讲座

00:04:12.946 --> 00:04:14.356 A:middle
建议你们可以去听一听

00:04:14.356 --> 00:04:15.386 A:middle
iOS 11 中

00:04:15.386 --> 00:04:17.016 A:middle
新的辅助功能

00:04:17.016 --> 00:04:19.886 A:middle
接下来我们聊聊

00:04:19.886 --> 00:04:20.956 A:middle
导航栏

00:04:21.026 --> 00:04:22.836 A:middle
我们怎么让这些大标题

00:04:22.836 --> 00:04:24.296 A:middle
显示在文件夹上

00:04:24.296 --> 00:04:25.286 A:middle
和系统里的

00:04:25.286 --> 00:04:25.516 A:middle
其他 app 上

00:04:26.156 --> 00:04:28.926 A:middle
首先  UI 导航栏

00:04:28.966 --> 00:04:31.436 A:middle
有个新的属性

00:04:31.436 --> 00:04:32.296 A:middle
叫 prefers Large Titles

00:04:32.856 --> 00:04:34.566 A:middle
在任何一个导航栏

00:04:34.566 --> 00:04:36.686 A:middle
设定为 true

00:04:36.686 --> 00:04:38.486 A:middle
你就可以在各个系统

00:04:38.486 --> 00:04:39.486 A:middle
和各个 app 里

00:04:39.486 --> 00:04:40.136 A:middle
看到大标题

00:04:41.356 --> 00:04:42.796 A:middle
你可能在想

00:04:42.796 --> 00:04:44.326 A:middle
这一页上的

00:04:44.326 --> 00:04:45.556 A:middle
另外三个词

00:04:45.556 --> 00:04:46.476 A:middle
可能有点看不清

00:04:46.476 --> 00:04:48.026 A:middle
Automatic  Always  Never

00:04:48.026 --> 00:04:48.906 A:middle
这三个词

00:04:48.906 --> 00:04:49.296 A:middle
是干嘛的

00:04:49.946 --> 00:04:51.776 A:middle
当他们出现时

00:04:51.776 --> 00:04:52.996 A:middle
有另一个属性可以控制

00:04:52.996 --> 00:04:55.176 A:middle
叫 large Title Display Mode

00:04:55.886 --> 00:04:57.346 A:middle
它可以让你轻松的

00:04:57.346 --> 00:04:58.546 A:middle
控制

00:04:58.546 --> 00:04:59.846 A:middle
在每个 Navigation Controller

00:04:59.886 --> 00:05:01.126 A:middle
和导航栏 stack

00:04:59.886 --> 00:05:01.126 A:middle
和导航栏 stack

00:05:01.126 --> 00:05:03.436 A:middle
是否让大标题

00:05:03.436 --> 00:05:03.976 A:middle
出现

00:05:04.386 --> 00:05:05.516 A:middle
现在让我来

00:05:05.516 --> 00:05:05.866 A:middle
告诉你们怎么做

00:05:07.326 --> 00:05:09.046 A:middle
我们在这个导航栏中

00:05:09.046 --> 00:05:11.286 A:middle
打开大标题

00:05:11.286 --> 00:05:12.116 A:middle
然后在上面放一个条目

00:05:12.456 --> 00:05:14.346 A:middle
它会默认为 Automatic

00:05:14.346 --> 00:05:16.456 A:middle
意味着

00:05:16.456 --> 00:05:18.506 A:middle
现有状态

00:05:18.506 --> 00:05:20.436 A:middle
无论谁执行了该操作

00:05:20.776 --> 00:05:21.496 A:middle
都会自动保存

00:05:22.046 --> 00:05:23.326 A:middle
现在这个 stack 上没有别的

00:05:23.326 --> 00:05:24.646 A:middle
所以当我们选择大标题

00:05:24.646 --> 00:05:26.226 A:middle
大标题就出现了

00:05:26.226 --> 00:05:28.226 A:middle
但是如果我们选中

00:05:28.226 --> 00:05:29.516 A:middle
一个不希望显示大标题的

00:05:29.516 --> 00:05:30.896 A:middle
Navigation Item

00:05:30.896 --> 00:05:32.996 A:middle
我们只需要把 large Title Display Mode

00:05:32.996 --> 00:05:34.326 A:middle
选为 never

00:05:34.326 --> 00:05:36.526 A:middle
大标题就消失了

00:05:38.076 --> 00:05:38.876 A:middle
现在我们重新选择

00:05:38.876 --> 00:05:40.506 A:middle
Automatic

00:05:40.506 --> 00:05:42.126 A:middle
保存现有设置

00:05:42.126 --> 00:05:43.926 A:middle
就没有大标题了

00:05:43.926 --> 00:05:46.286 A:middle
但如果这时选择 Always

00:05:46.286 --> 00:05:47.026 A:middle
大标题又回来了

00:05:47.026 --> 00:05:48.546 A:middle
这时再选择 Automatic

00:05:48.546 --> 00:05:50.796 A:middle
一切就又保存成这样了

00:05:51.236 --> 00:05:54.266 A:middle
很简单

00:05:54.266 --> 00:05:55.736 A:middle
关于 Navigation Item

00:05:55.736 --> 00:05:58.706 A:middle
还有两件事要说

00:05:58.706 --> 00:06:00.226 A:middle
第一是

00:05:58.706 --> 00:06:00.226 A:middle
第一是

00:06:00.226 --> 00:06:01.486 A:middle
如何在导航栏上

00:06:01.486 --> 00:06:02.916 A:middle
结合 Search Controller

00:06:02.916 --> 00:06:03.256 A:middle
和新的搜索栏

00:06:04.456 --> 00:06:06.316 A:middle
有另一个简单的属性

00:06:06.556 --> 00:06:07.726 A:middle
叫 Navigation Item Search Controller

00:06:08.716 --> 00:06:09.476 A:middle
只要把 Search Controller

00:06:09.476 --> 00:06:10.526 A:middle
分配给 Navigation Item

00:06:10.526 --> 00:06:13.476 A:middle
就可以了

00:06:13.586 --> 00:06:14.556 A:middle
搜索栏出现在正确的位置上

00:06:14.556 --> 00:06:17.326 A:middle
看起来和我们其他

00:06:17.326 --> 00:06:19.436 A:middle
很多 app 里的一样

00:06:19.616 --> 00:06:20.636 A:middle
如果你有机会

00:06:20.636 --> 00:06:22.486 A:middle
探索过文件夹

00:06:22.486 --> 00:06:23.696 A:middle
邮件或者其他一些 app

00:06:23.696 --> 00:06:24.806 A:middle
你会发现有时候

00:06:24.936 --> 00:06:26.396 A:middle
搜索栏会保持不动

00:06:26.396 --> 00:06:27.436 A:middle
当你滑动页面时

00:06:27.436 --> 00:06:28.186 A:middle
搜索栏不会跟着滑动

00:06:28.266 --> 00:06:29.516 A:middle
尤其是在文件夹中

00:06:29.516 --> 00:06:31.216 A:middle
搜索栏会固定位置

00:06:31.216 --> 00:06:33.346 A:middle
这是由 hides Search Bar when Scrolling

00:06:33.386 --> 00:06:35.266 A:middle
这个属性控制的

00:06:36.126 --> 00:06:37.276 A:middle
它默认为 true

00:06:37.276 --> 00:06:38.686 A:middle
所以在邮件里它会

00:06:38.686 --> 00:06:40.916 A:middle
随着滑动而移动

00:06:40.916 --> 00:06:41.936 A:middle
但在文件夹里这个属性被关闭了

00:06:41.936 --> 00:06:43.346 A:middle
所以搜索栏就停留在页面上了

00:06:43.346 --> 00:06:44.396 A:middle
你可以随时搜索

00:06:44.396 --> 00:06:46.726 A:middle
这看起来很棒

00:06:47.356 --> 00:06:49.796 A:middle
这是怎么做到的

00:06:49.796 --> 00:06:51.106 A:middle
我来告诉你们

00:06:51.106 --> 00:06:52.166 A:middle
一些小技巧

00:06:52.956 --> 00:06:54.156 A:middle
首先

00:06:54.156 --> 00:06:55.676 A:middle
你要了解

00:06:55.676 --> 00:06:56.806 A:middle
很多类似的交互

00:06:56.806 --> 00:06:58.626 A:middle
是由 UI Navigation Controller

00:06:58.626 --> 00:06:59.106 A:middle
控制的

00:06:59.566 --> 00:07:01.226 A:middle
所以如果你

00:06:59.566 --> 00:07:01.226 A:middle
所以如果你

00:07:01.226 --> 00:07:03.066 A:middle
在导航栏

00:07:03.066 --> 00:07:04.346 A:middle
自己汇编这些指令

00:07:04.346 --> 00:07:05.746 A:middle
并不是很多人会这么做

00:07:05.746 --> 00:07:07.476 A:middle
不过如果你做了

00:07:07.936 --> 00:07:08.946 A:middle
你就无法得到

00:07:08.946 --> 00:07:09.626 A:middle
现在的某些性能

00:07:10.006 --> 00:07:11.636 A:middle
尤其是没办法

00:07:11.636 --> 00:07:12.576 A:middle
做到 Search Controller

00:07:12.576 --> 00:07:13.186 A:middle
的融合

00:07:13.216 --> 00:07:15.536 A:middle
你没办法做到

00:07:15.536 --> 00:07:17.636 A:middle
提升 Refresh control

00:07:17.636 --> 00:07:18.586 A:middle
也无法做到 Rubber bending

00:07:18.586 --> 00:07:19.956 A:middle
Rubber bending 指的是

00:07:19.956 --> 00:07:21.456 A:middle
当你下拉时

00:07:21.456 --> 00:07:23.496 A:middle
大标题变大

00:07:23.496 --> 00:07:24.086 A:middle
并随着滚动条移动

00:07:25.666 --> 00:07:27.606 A:middle
这些就是关于导航栏

00:07:27.606 --> 00:07:29.386 A:middle
Navigation Controller

00:07:29.386 --> 00:07:30.816 A:middle
和大标题的介绍

00:07:31.846 --> 00:07:33.716 A:middle
当我们做出这些调整时

00:07:33.716 --> 00:07:34.826 A:middle
我们想

00:07:34.826 --> 00:07:36.016 A:middle
不如再做些别的变化

00:07:36.016 --> 00:07:37.346 A:middle
能够让你们

00:07:37.456 --> 00:07:38.636 A:middle
使用的更加方便

00:07:38.636 --> 00:07:42.756 A:middle
所以现在在 iOS 11 里

00:07:42.756 --> 00:07:45.846 A:middle
UI 工具栏和导航栏

00:07:45.846 --> 00:07:47.596 A:middle
都有很多功能

00:07:47.596 --> 00:07:47.976 A:middle
来完成自动布局

00:07:48.516 --> 00:07:54.106 A:middle
[ 鼓掌 ]

00:07:54.606 --> 00:07:56.266 A:middle
这意味着

00:07:56.266 --> 00:07:57.706 A:middle
个性化 Bar Button Items

00:07:57.706 --> 00:07:59.216 A:middle
和个性化 title views

00:07:59.216 --> 00:08:01.126 A:middle
可以使用自动布局

00:07:59.216 --> 00:08:01.126 A:middle
可以使用自动布局

00:08:01.126 --> 00:08:03.276 A:middle
来调整大小

00:08:03.276 --> 00:08:04.466 A:middle
从而达到你想要的状态

00:08:05.326 --> 00:08:06.726 A:middle
还有几件事情

00:08:06.726 --> 00:08:07.346 A:middle
希望你们能记住

00:08:07.926 --> 00:08:08.966 A:middle
一个是

00:08:08.966 --> 00:08:10.216 A:middle
把约束项

00:08:10.216 --> 00:08:10.776 A:middle
保持在 view 里面

00:08:11.286 --> 00:08:12.546 A:middle
所以当你设定个性化 view

00:08:12.546 --> 00:08:13.496 A:middle
你要注意

00:08:13.496 --> 00:08:15.356 A:middle
所有的约束项

00:08:15.356 --> 00:08:16.946 A:middle
只指向某一个 title view

00:08:16.946 --> 00:08:19.566 A:middle
和它的 sub-view

00:08:19.756 --> 00:08:21.776 A:middle
另一个有些大

00:08:21.776 --> 00:08:23.246 A:middle
但是也值得一提

00:08:23.416 --> 00:08:25.136 A:middle
当你使用自动布局时

00:08:25.136 --> 00:08:26.216 A:middle
我们是假设

00:08:26.216 --> 00:08:28.746 A:middle
你知道自己在做什么的  [ 笑 ]

00:08:28.746 --> 00:08:30.866 A:middle
之所以要说这个

00:08:30.866 --> 00:08:32.866 A:middle
是因为我不希望

00:08:32.866 --> 00:08:34.586 A:middle
你们会遇到这种情况

00:08:34.885 --> 00:08:36.586 A:middle
Zero-Sized view

00:08:37.446 --> 00:08:39.155 A:middle
怎么才能不出现

00:08:39.155 --> 00:08:39.876 A:middle
Zero-Sized view 呢

00:08:40.196 --> 00:08:43.155 A:middle
UI 导航栏

00:08:43.155 --> 00:08:44.316 A:middle
和 UI 工具栏

00:08:44.316 --> 00:08:44.876 A:middle
提供位置信息

00:08:45.796 --> 00:08:47.366 A:middle
之所以会出现 Zero-Size view

00:08:47.366 --> 00:08:48.806 A:middle
是因为布局中

00:08:48.806 --> 00:08:49.606 A:middle
有不明确的约束项

00:08:49.606 --> 00:08:51.246 A:middle
所以空间被

00:08:51.246 --> 00:08:51.886 A:middle
自动填补了

00:08:51.886 --> 00:08:52.946 A:middle
你的 view 不会

00:08:52.946 --> 00:08:54.086 A:middle
缩小到左上角

00:08:54.086 --> 00:08:56.366 A:middle
但是你依然需要

00:08:56.366 --> 00:08:57.866 A:middle
给我们提供一个尺寸

00:08:57.946 --> 00:08:59.406 A:middle
有三种方法

00:08:59.406 --> 00:09:00.256 A:middle
可以做到

00:08:59.406 --> 00:09:00.256 A:middle
可以做到

00:09:01.136 --> 00:09:03.096 A:middle
你可以为宽和高

00:09:03.096 --> 00:09:04.376 A:middle
添加约束项

00:09:04.376 --> 00:09:05.756 A:middle
非常合理

00:09:05.756 --> 00:09:07.536 A:middle
你还可以把

00:09:07.536 --> 00:09:08.966 A:middle
其他你想要的条件写入

00:09:08.966 --> 00:09:09.686 A:middle
就完美了

00:09:11.076 --> 00:09:12.376 A:middle
你也可以使用

00:09:12.446 --> 00:09:13.816 A:middle
Intrinsic Content Size

00:09:13.816 --> 00:09:15.626 A:middle
这也为我们

00:09:15.626 --> 00:09:16.856 A:middle
提供了足够的信息

00:09:17.376 --> 00:09:18.446 A:middle
你可以进行

00:09:18.446 --> 00:09:19.336 A:middle
限制内容变大

00:09:19.336 --> 00:09:20.586 A:middle
和变小的设置

00:09:20.586 --> 00:09:21.706 A:middle
这样就行了

00:09:22.736 --> 00:09:24.566 A:middle
最后  当然也是最简单的

00:09:24.566 --> 00:09:26.566 A:middle
对于大多数人来说

00:09:26.566 --> 00:09:27.586 A:middle
你只要确保你的

00:09:27.586 --> 00:09:29.286 A:middle
所有 sub-view

00:09:29.286 --> 00:09:30.486 A:middle
都关联到自动布局

00:09:30.486 --> 00:09:32.826 A:middle
也就是说

00:09:32.826 --> 00:09:34.956 A:middle
比如你有一个想个性化的标题

00:09:35.016 --> 00:09:36.276 A:middle
里面有一个标签和一个按键

00:09:36.276 --> 00:09:38.416 A:middle
如果你想

00:09:38.416 --> 00:09:39.726 A:middle
有一个合适的

00:09:39.726 --> 00:09:41.426 A:middle
水平宽度

00:09:41.426 --> 00:09:43.556 A:middle
你只需要确保

00:09:43.556 --> 00:09:45.426 A:middle
标签和按键之间

00:09:45.426 --> 00:09:46.716 A:middle
有设定好的约束值

00:09:46.716 --> 00:09:48.146 A:middle
这样在这两个 view 中

00:09:48.146 --> 00:09:50.156 A:middle
标题的前沿后沿

00:09:50.246 --> 00:09:51.936 A:middle
以及宽度

00:09:51.936 --> 00:09:53.046 A:middle
就都设定好了

00:09:54.276 --> 00:09:56.266 A:middle
这就是如何

00:09:56.326 --> 00:09:59.006 A:middle
利用自动布局

00:09:59.006 --> 00:10:00.706 A:middle
为你个性化的

00:09:59.006 --> 00:10:00.706 A:middle
为你个性化的

00:10:00.706 --> 00:10:02.006 A:middle
标题和条目

00:10:02.006 --> 00:10:02.706 A:middle
调整大小

00:10:03.436 --> 00:10:05.446 A:middle
接下来

00:10:05.446 --> 00:10:06.656 A:middle
为了演示我们刚才说的内容

00:10:06.656 --> 00:10:07.596 A:middle
让我们邀请 Raj Ramamurphy

00:10:07.596 --> 00:10:07.966 A:middle
给你们进行演示

00:10:08.516 --> 00:10:16.246 A:middle
[ 鼓掌 ]

00:10:16.746 --> 00:10:17.396 A:middle
&gt;&gt; 谢谢 David

00:10:17.766 --> 00:10:19.986 A:middle
就像 David 刚才说的

00:10:19.986 --> 00:10:21.956 A:middle
我们在 iOS 11 里

00:10:22.056 --> 00:10:23.916 A:middle
为这些新的导航栏

00:10:23.916 --> 00:10:24.696 A:middle
添加了很多很棒的新 API

00:10:25.346 --> 00:10:26.326 A:middle
我要告诉你们

00:10:26.326 --> 00:10:28.226 A:middle
如何更新 app 来适配 iOS 11

00:10:29.246 --> 00:10:30.166 A:middle
今天

00:10:30.166 --> 00:10:31.176 A:middle
我的例子

00:10:31.176 --> 00:10:32.826 A:middle
是个很简单的 app

00:10:32.826 --> 00:10:33.586 A:middle
叫 Trail Diary

00:10:34.036 --> 00:10:35.276 A:middle
是一个访问轨迹

00:10:35.276 --> 00:10:35.776 A:middle
的日志

00:10:36.636 --> 00:10:37.846 A:middle
这是主 View Controller

00:10:37.846 --> 00:10:38.936 A:middle
我称它为

00:10:38.936 --> 00:10:40.016 A:middle
Memory View Controller

00:10:40.656 --> 00:10:42.056 A:middle
如果我点中一个条目

00:10:42.056 --> 00:10:43.666 A:middle
你会发现

00:10:43.666 --> 00:10:44.766 A:middle
这是 Detail View Controller

00:10:45.216 --> 00:10:46.586 A:middle
包含一张照片

00:10:46.586 --> 00:10:47.736 A:middle
一个描述

00:10:47.736 --> 00:10:48.646 A:middle
和一些信息

00:10:49.726 --> 00:10:50.776 A:middle
还有一种方法

00:10:50.776 --> 00:10:52.046 A:middle
可以添加评论

00:10:52.046 --> 00:10:52.986 A:middle
我们一会儿会讲到

00:10:53.486 --> 00:10:55.276 A:middle
但是现在让我们

00:10:55.276 --> 00:10:56.436 A:middle
先更新这个 app

00:10:57.316 --> 00:10:58.616 A:middle
首先要介绍

00:10:58.616 --> 00:11:00.686 A:middle
在这个 app 里

00:10:58.616 --> 00:11:00.686 A:middle
在这个 app 里

00:11:00.686 --> 00:11:02.096 A:middle
为这些漂亮的大标题

00:11:02.096 --> 00:11:03.396 A:middle
提供支持

00:11:04.076 --> 00:11:05.136 A:middle
让我们开始吧

00:11:06.066 --> 00:11:07.826 A:middle
我们打开 Navigation

00:11:08.076 --> 00:11:08.976 A:middle
对不起

00:11:08.976 --> 00:11:10.876 A:middle
Memory View Controller

00:11:10.876 --> 00:11:11.726 A:middle
输入

00:11:11.726 --> 00:11:11.976 A:middle
Navigation Controller

00:11:17.186 --> 00:11:19.836 A:middle
然后是 navigation bar

00:11:20.056 --> 00:11:22.256 A:middle
把 prefers Large Titles 属性

00:11:22.256 --> 00:11:24.056 A:middle
设定给导航栏

00:11:24.996 --> 00:11:26.516 A:middle
当你设定了这个属性

00:11:26.886 --> 00:11:29.216 A:middle
所有地方都变成大标题了

00:11:29.916 --> 00:11:31.836 A:middle
如果我重新编译

00:11:31.836 --> 00:11:34.716 A:middle
并重启这个 app

00:11:35.296 --> 00:11:37.106 A:middle
重新打开 Memory View Controller

00:11:37.106 --> 00:11:39.316 A:middle
你可以看到

00:11:39.316 --> 00:11:41.356 A:middle
这个漂亮的大标题

00:11:41.516 --> 00:11:42.616 A:middle
因为我们已经把

00:11:42.616 --> 00:11:44.206 A:middle
Refresh control 设置到

00:11:44.206 --> 00:11:45.686 A:middle
导航栏了

00:11:45.686 --> 00:11:46.926 A:middle
我们就可以看到 Rubber banding

00:11:47.126 --> 00:11:48.036 A:middle
一切看起来都很棒

00:11:48.876 --> 00:11:50.386 A:middle
Prefers Large Titles 会让所有地方

00:11:50.386 --> 00:11:52.266 A:middle
都变成大标题

00:11:52.656 --> 00:11:54.506 A:middle
所以如果我回到

00:11:54.506 --> 00:11:55.946 A:middle
Detail View Controller

00:11:55.946 --> 00:11:57.546 A:middle
可以看到一个很漂亮的过渡

00:11:57.546 --> 00:11:58.386 A:middle
Detail View Controller 里

00:11:58.386 --> 00:11:59.716 A:middle
也显示出

00:11:59.716 --> 00:12:00.126 A:middle
大标题了

00:11:59.716 --> 00:12:00.126 A:middle
大标题了

00:12:01.126 --> 00:12:02.656 A:middle
这很好  但是有时

00:12:02.656 --> 00:12:03.876 A:middle
你并不希望

00:12:03.876 --> 00:12:04.816 A:middle
大标题出现在所有地方

00:12:05.356 --> 00:12:06.966 A:middle
所以就像 David 说的

00:12:06.966 --> 00:12:08.786 A:middle
我们有一个

00:12:08.786 --> 00:12:10.856 A:middle
Navigation Item 属性

00:12:10.856 --> 00:12:11.706 A:middle
Large title Display Mode

00:12:12.956 --> 00:12:15.416 A:middle
我希望在这个 view 里显示

00:12:15.416 --> 00:12:16.596 A:middle
标准的行内标题

00:12:16.916 --> 00:12:18.356 A:middle
让我们来更新这个 View Controller

00:12:18.356 --> 00:12:19.816 A:middle
来显示行内标题

00:12:21.246 --> 00:12:22.936 A:middle
打开 Detail View Controller

00:12:22.936 --> 00:12:24.186 A:middle
把 Navigation Item 的

00:12:24.186 --> 00:12:26.346 A:middle
Large Title Display Mode

00:12:26.346 --> 00:12:28.506 A:middle
设定为 never

00:12:28.506 --> 00:12:29.786 A:middle
就像 David 之前用 stack 展示的那样

00:12:29.786 --> 00:12:33.596 A:middle
如果我们再编译并重启 app

00:12:33.596 --> 00:12:35.446 A:middle
我们一开始会看到

00:12:35.446 --> 00:12:37.996 A:middle
大标题

00:12:37.996 --> 00:12:39.586 A:middle
但是如果我点中 View Controller

00:12:39.586 --> 00:12:41.216 A:middle
就可以看到

00:12:41.216 --> 00:12:42.136 A:middle
标准的行内标题

00:12:42.136 --> 00:12:43.416 A:middle
而且有很好的过渡

00:12:43.416 --> 00:12:44.166 A:middle
看起来很棒

00:12:45.326 --> 00:12:46.066 A:middle
这就是如何使用

00:12:46.066 --> 00:12:48.246 A:middle
Navigation Item 属性

00:12:48.246 --> 00:12:50.536 A:middle
来显示大标题

00:12:50.536 --> 00:12:51.806 A:middle
但我还希望给这个 app

00:12:51.806 --> 00:12:52.426 A:middle
添加搜索栏

00:12:53.256 --> 00:12:54.496 A:middle
我已经提前

00:12:54.496 --> 00:12:55.576 A:middle
安装了一个 Search Controller 例子

00:12:55.576 --> 00:12:57.066 A:middle
我希望在这个

00:12:57.066 --> 00:12:57.986 A:middle
app 里显示

00:12:57.986 --> 00:12:58.566 A:middle
搜索栏

00:12:59.246 --> 00:13:00.486 A:middle
你可以看到

00:12:59.246 --> 00:13:00.486 A:middle
你可以看到

00:13:00.486 --> 00:13:01.696 A:middle
在 iOS 11 里

00:13:01.696 --> 00:13:04.056 A:middle
导航栏里会显示搜索栏

00:13:04.346 --> 00:13:05.476 A:middle
让我们把它加上

00:13:06.556 --> 00:13:08.516 A:middle
我们再次打开 Memory View Controller

00:13:08.516 --> 00:13:10.476 A:middle
然后设定

00:13:10.476 --> 00:13:12.396 A:middle
Navigation Item 的

00:13:12.396 --> 00:13:13.696 A:middle
Search Controller 属性

00:13:13.696 --> 00:13:15.586 A:middle
在这个例子里

00:13:15.586 --> 00:13:16.926 A:middle
就叫 Search Controller

00:13:20.606 --> 00:13:22.646 A:middle
重新编译

00:13:22.646 --> 00:13:22.976 A:middle
并重启 app

00:13:27.116 --> 00:13:28.006 A:middle
你会发现

00:13:28.006 --> 00:13:29.226 A:middle
app 进入

00:13:29.226 --> 00:13:31.386 A:middle
Memory View Controller 时

00:13:31.386 --> 00:13:33.796 A:middle
还是大标题

00:13:33.796 --> 00:13:35.236 A:middle
而当我们下拉时

00:13:35.236 --> 00:13:36.726 A:middle
就出现了搜索栏

00:13:37.546 --> 00:13:38.816 A:middle
现在这个 app

00:13:38.816 --> 00:13:39.166 A:middle
看起来棒极了

00:13:39.766 --> 00:13:42.606 A:middle
这就是如何

00:13:42.606 --> 00:13:44.236 A:middle
更新你的状态栏

00:13:44.236 --> 00:13:45.496 A:middle
来显示成 iOS 11 的样子

00:13:46.096 --> 00:13:47.496 A:middle
下面请 Kyle Sluder

00:13:47.496 --> 00:13:49.016 A:middle
来聊一聊

00:13:49.016 --> 00:13:50.706 A:middle
边缘 嵌入

00:13:50.706 --> 00:13:50.976 A:middle
和 scroll view

00:13:51.516 --> 00:13:56.666 A:middle
[ 鼓掌 ]

00:13:57.166 --> 00:13:58.166 A:middle
&gt;&gt; 干得漂亮

00:13:59.346 --> 00:13:59.976 A:middle
谢谢  Raj

00:14:04.496 --> 00:14:06.156 A:middle
在 iOS 11 里

00:14:06.156 --> 00:14:07.546 A:middle
我们做出了不少改进

00:14:07.546 --> 00:14:09.396 A:middle
让你们有更多信息

00:14:09.396 --> 00:14:10.766 A:middle
也更容易调整 view

00:14:10.766 --> 00:14:11.756 A:middle
来展示用户界面

00:14:12.606 --> 00:14:13.806 A:middle
让我们首先说说

00:14:13.806 --> 00:14:14.756 A:middle
布局边缘

00:14:15.426 --> 00:14:16.756 A:middle
布局边缘是

00:14:16.756 --> 00:14:19.146 A:middle
UI 设计套件中

00:14:19.186 --> 00:14:21.506 A:middle
为内部 view

00:14:21.506 --> 00:14:22.666 A:middle
提供参考的一部分

00:14:22.666 --> 00:14:24.706 A:middle
来布局内容

00:14:24.706 --> 00:14:25.556 A:middle
给其他的用户界面元素之间

00:14:25.556 --> 00:14:26.406 A:middle
添加一些空间

00:14:26.986 --> 00:14:28.116 A:middle
我们通过两种方法

00:14:28.116 --> 00:14:28.906 A:middle
提供信息

00:14:29.356 --> 00:14:30.966 A:middle
首先是 UI 布局指导对象

00:14:30.966 --> 00:14:32.736 A:middle
你可以和

00:14:32.736 --> 00:14:34.546 A:middle
自动布局一起

00:14:34.586 --> 00:14:35.026 A:middle
摆放内容位置

00:14:36.316 --> 00:14:38.116 A:middle
第二种是

00:14:38.116 --> 00:14:38.636 A:middle
一套边缘内嵌

00:14:38.756 --> 00:14:40.086 A:middle
你可以在 view 里

00:14:40.086 --> 00:14:41.886 A:middle
读取和写入

00:14:41.886 --> 00:14:43.206 A:middle
来个性化布局边缘

00:14:44.606 --> 00:14:45.926 A:middle
在 iOS 11 里我们

00:14:45.926 --> 00:14:47.656 A:middle
添加了一个新属性

00:14:47.656 --> 00:14:48.196 A:middle
Directional Layout Margins

00:14:48.786 --> 00:14:49.946 A:middle
可以让你在 view 里

00:14:49.946 --> 00:14:50.996 A:middle
设定布局边缘

00:14:50.996 --> 00:14:52.566 A:middle
不只是在左右

00:14:52.566 --> 00:14:54.126 A:middle
还有前沿

00:14:54.176 --> 00:14:54.556 A:middle
和后沿

00:14:55.556 --> 00:14:57.296 A:middle
这两个属性

00:14:57.296 --> 00:14:58.086 A:middle
是相互同步的

00:14:58.086 --> 00:15:00.676 A:middle
左属性

00:14:58.086 --> 00:15:00.676 A:middle
左属性

00:15:00.676 --> 00:15:01.566 A:middle
和前沿同步

00:15:01.566 --> 00:15:03.106 A:middle
当你写入 LTR

00:15:03.106 --> 00:15:04.196 A:middle
或者从右往左的语言时

00:15:04.526 --> 00:15:05.526 A:middle
右属性

00:15:05.526 --> 00:15:06.686 A:middle
和后沿属性同步

00:15:07.356 --> 00:15:09.106 A:middle
所以我可以给

00:15:09.106 --> 00:15:10.436 A:middle
这个 view 的后沿属性

00:15:10.436 --> 00:15:12.456 A:middle
写入一个数值

00:15:12.456 --> 00:15:15.056 A:middle
使布局调整

00:15:15.056 --> 00:15:15.896 A:middle
当我写入

00:15:15.896 --> 00:15:17.806 A:middle
从右往左的语言

00:15:18.096 --> 00:15:19.516 A:middle
后沿空间会

00:15:19.516 --> 00:15:21.576 A:middle
出现在 view 左边

00:15:21.576 --> 00:15:22.946 A:middle
我的布局代码可以

00:15:22.946 --> 00:15:23.706 A:middle
从布局边缘的

00:15:23.706 --> 00:15:23.956 A:middle
左属性读取

00:15:24.516 --> 00:15:30.546 A:middle
[ 鼓掌 ]

00:15:31.046 --> 00:15:32.046 A:middle
有一个性能

00:15:32.046 --> 00:15:33.336 A:middle
在我们一开始介绍

00:15:33.336 --> 00:15:34.596 A:middle
布局边缘时就提到过

00:15:34.596 --> 00:15:36.296 A:middle
当给 View Controller 添加

00:15:36.296 --> 00:15:38.196 A:middle
一个 view 时 可以给

00:15:38.196 --> 00:15:40.086 A:middle
布局边缘固定一个

00:15:40.086 --> 00:15:40.656 A:middle
UI 设计套件的定义值

00:15:42.516 --> 00:15:44.596 A:middle
从 iOS 11 开始

00:15:44.596 --> 00:15:46.236 A:middle
这些将不再是固定数值

00:15:46.556 --> 00:15:47.736 A:middle
而是最小值

00:15:48.326 --> 00:15:49.776 A:middle
我们通过这个新的属性

00:15:49.776 --> 00:15:51.276 A:middle
System Minimum Layout Margins

00:15:51.276 --> 00:15:53.106 A:middle
来定义

00:15:53.106 --> 00:15:54.106 A:middle
这些数值的大小

00:15:54.586 --> 00:15:55.806 A:middle
你可以把 view 的

00:15:55.806 --> 00:15:57.616 A:middle
布局边缘数值调大

00:15:57.616 --> 00:15:58.976 A:middle
不需要别的改变

00:15:59.516 --> 00:16:03.976 A:middle
[鼓掌]

00:15:59.516 --> 00:16:03.976 A:middle
[鼓掌]

00:16:04.476 --> 00:16:05.976 A:middle
我们又进了一步

00:16:05.976 --> 00:16:07.826 A:middle
给 View Controller 又添加

00:16:07.826 --> 00:16:09.496 A:middle
了一个新的属性

00:16:09.496 --> 00:16:11.096 A:middle
View Respects System Minimum Layout Margins

00:16:11.456 --> 00:16:14.086 A:middle
如果设定为 false

00:16:14.086 --> 00:16:15.156 A:middle
你可以把布局边缘

00:16:15.156 --> 00:16:16.276 A:middle
改成你想要的任何数值

00:16:16.276 --> 00:16:18.276 A:middle
包括零

00:16:18.276 --> 00:16:19.546 A:middle
这样在任何 view 里

00:16:19.546 --> 00:16:21.256 A:middle
你都可以得到全幅的内容

00:16:21.256 --> 00:16:21.926 A:middle
包括那些被

00:16:21.926 --> 00:16:22.346 A:middle
View Controller 管理的 view

00:16:25.256 --> 00:16:27.256 A:middle
从 iOS 7 开始

00:16:27.256 --> 00:16:29.306 A:middle
我们就在操作系统里

00:16:29.306 --> 00:16:30.746 A:middle
提供这样的半透明的栏

00:16:30.746 --> 00:16:31.966 A:middle
我们鼓励你把

00:16:31.966 --> 00:16:33.486 A:middle
内容拉过这些栏

00:16:33.486 --> 00:16:34.396 A:middle
就像我现在

00:16:34.396 --> 00:16:35.036 A:middle
在照片 app 中做的这样

00:16:36.146 --> 00:16:37.206 A:middle
之所以有这样的效果

00:16:37.206 --> 00:16:38.596 A:middle
是利用 UI View Controller 的

00:16:38.596 --> 00:16:40.016 A:middle
属性

00:16:40.016 --> 00:16:40.476 A:middle
Edges for Extended Layout

00:16:41.096 --> 00:16:42.326 A:middle
它可以让

00:16:42.326 --> 00:16:44.096 A:middle
Container View Controllers

00:16:44.096 --> 00:16:46.676 A:middle
定义这些栏下

00:16:46.676 --> 00:16:47.216 A:middle
View 的大小

00:16:48.026 --> 00:16:50.016 A:middle
默认它适用于

00:16:50.016 --> 00:16:53.176 A:middle
所有的边缘

00:16:53.436 --> 00:16:55.186 A:middle
可以通过两个属性

00:16:55.616 --> 00:16:57.176 A:middle
定义悬浮栏的大小

00:16:57.176 --> 00:16:58.556 A:middle
Top Layout Guide

00:16:58.556 --> 00:16:58.806 A:middle
和 bottom Layout Guide

00:16:59.986 --> 00:17:01.176 A:middle
从 iOS 11 开始

00:16:59.986 --> 00:17:01.176 A:middle
从 iOS 11 开始

00:17:01.176 --> 00:17:02.916 A:middle
我们舍弃了这些属性

00:17:02.916 --> 00:17:03.836 A:middle
替换成新的

00:17:03.836 --> 00:17:05.396 A:middle
更强大的架构

00:17:05.396 --> 00:17:05.816 A:middle
叫安全区域

00:17:10.215 --> 00:17:11.726 A:middle
安全区域是用来

00:17:11.726 --> 00:17:13.226 A:middle
描述 view 中

00:17:13.226 --> 00:17:14.826 A:middle
没有被内容

00:17:14.906 --> 00:17:15.476 A:middle
占满的部分

00:17:16.276 --> 00:17:17.826 A:middle
你可以通过一套内嵌

00:17:17.826 --> 00:17:20.695 A:middle
或者用 UI 布局指导对象

00:17:20.695 --> 00:17:21.306 A:middle
来实现

00:17:22.185 --> 00:17:24.116 A:middle
在电视上

00:17:24.116 --> 00:17:26.866 A:middle
它嵌入了

00:17:26.866 --> 00:17:28.226 A:middle
一些很有用的信息

00:17:28.226 --> 00:17:28.796 A:middle
叫 over Scan Compensation Insets

00:17:29.056 --> 00:17:30.736 A:middle
屏幕上的所有 view

00:17:30.736 --> 00:17:32.606 A:middle
都可以布局内容

00:17:32.606 --> 00:17:33.836 A:middle
并确保不会

00:17:33.836 --> 00:17:35.126 A:middle
和电视边框

00:17:35.126 --> 00:17:35.676 A:middle
重叠

00:17:36.176 --> 00:17:38.156 A:middle
如果你有

00:17:38.156 --> 00:17:39.726 A:middle
个性化 Container View Controller

00:17:39.726 --> 00:17:41.176 A:middle
就可以自己添加一些栏

00:17:41.486 --> 00:17:43.506 A:middle
你可以调大

00:17:43.846 --> 00:17:45.096 A:middle
对不起

00:17:45.096 --> 00:17:46.916 A:middle
调大安全区域的嵌入

00:17:46.916 --> 00:17:49.096 A:middle
通过这个新的属性

00:17:49.096 --> 00:17:51.036 A:middle
Additional Safe Area Insets

00:17:52.246 --> 00:17:53.616 A:middle
如果你的

00:17:53.616 --> 00:17:55.396 A:middle
Ancestor View Controller

00:17:55.396 --> 00:17:57.416 A:middle
改变了安全区域嵌入的大小

00:17:57.416 --> 00:17:58.666 A:middle
你可以通过两种方法

00:17:58.666 --> 00:17:59.056 A:middle
重新掌控主导权

00:17:59.276 --> 00:18:01.066 A:middle
每个 view 都可以

00:17:59.276 --> 00:18:01.066 A:middle
每个 view 都可以

00:18:01.066 --> 00:18:02.566 A:middle
改变安全区域嵌入

00:18:02.566 --> 00:18:03.906 A:middle
而 View Controllers 也可以

00:18:03.906 --> 00:18:05.226 A:middle
改变 view 安全区域嵌入

00:18:06.896 --> 00:18:07.816 A:middle
[ 鼓掌 ] 谢谢

00:18:08.456 --> 00:18:10.456 A:middle
[ 鼓掌 ]

00:18:10.896 --> 00:18:12.576 A:middle
一个在 UI View Controller 里

00:18:12.576 --> 00:18:14.086 A:middle
经常使用的 view

00:18:14.086 --> 00:18:14.746 A:middle
就是 UI scroll view

00:18:15.436 --> 00:18:17.026 A:middle
在这个例子中

00:18:17.026 --> 00:18:18.286 A:middle
我在 UI scroll view 里

00:18:18.286 --> 00:18:19.926 A:middle
有一些文字

00:18:19.926 --> 00:18:21.636 A:middle
包含在 Navigation Controller 里

00:18:22.766 --> 00:18:24.386 A:middle
以前 Navigation Controller

00:18:24.386 --> 00:18:26.706 A:middle
会给最高级 View Controller

00:18:26.706 --> 00:18:28.806 A:middle
的 scroll view

00:18:28.806 --> 00:18:30.296 A:middle
一个内容内嵌

00:18:31.786 --> 00:18:33.156 A:middle
在 iOS 11 里

00:18:33.156 --> 00:18:34.886 A:middle
我们做出了很大的改变

00:18:34.886 --> 00:18:36.566 A:middle
我们不再

00:18:36.566 --> 00:18:37.596 A:middle
通过 scroll view

00:18:37.596 --> 00:18:37.876 A:middle
填入内容内嵌属性

00:18:38.386 --> 00:18:40.356 A:middle
我们添加了

00:18:40.356 --> 00:18:42.176 A:middle
一个新属性

00:18:42.176 --> 00:18:44.536 A:middle
Adjusted Content Inset

00:18:44.536 --> 00:18:46.476 A:middle
包括内容内嵌的总和

00:18:46.476 --> 00:18:48.096 A:middle
和其他 Container View Controller

00:18:48.096 --> 00:18:48.716 A:middle
的重叠

00:18:49.876 --> 00:18:51.376 A:middle
这意味着你可以用

00:18:51.376 --> 00:18:52.856 A:middle
内容内嵌属性

00:18:52.856 --> 00:18:54.196 A:middle
来对 app 进行

00:18:54.196 --> 00:18:54.886 A:middle
你希望的任何改进

00:18:54.886 --> 00:18:56.356 A:middle
例如这个

00:18:56.416 --> 00:18:58.436 A:middle
文字的附加信息

00:18:58.436 --> 00:19:00.976 A:middle
我们不会

00:18:58.436 --> 00:19:00.976 A:middle
我们不会

00:19:00.976 --> 00:19:01.456 A:middle
改变它

00:19:02.066 --> 00:19:02.886 A:middle
而且你不需要考虑

00:19:02.886 --> 00:19:04.266 A:middle
保存和恢复

00:19:04.266 --> 00:19:05.906 A:middle
任何 UI 设计套件提供的数值

00:19:05.906 --> 00:19:07.236 A:middle
或者害怕内容覆盖

00:19:07.486 --> 00:19:08.816 A:middle
导航栏

00:19:08.816 --> 00:19:08.936 A:middle
或者状态栏

00:19:09.516 --> 00:19:15.046 A:middle
[ 鼓掌 ]

00:19:15.546 --> 00:19:16.986 A:middle
你可能知道

00:19:16.986 --> 00:19:18.466 A:middle
UI scroll view 里

00:19:18.466 --> 00:19:20.436 A:middle
自动布局的支持

00:19:20.436 --> 00:19:21.806 A:middle
让你可以通过

00:19:21.806 --> 00:19:23.286 A:middle
把 sub-view

00:19:23.286 --> 00:19:25.446 A:middle
约束到 scroll view

00:19:25.446 --> 00:19:26.536 A:middle
来决定可滚动范围的大小

00:19:27.176 --> 00:19:28.406 A:middle
我们添加了

00:19:28.406 --> 00:19:30.056 A:middle
一些 UI 布局指导对象

00:19:30.136 --> 00:19:32.026 A:middle
可以让你的布局

00:19:32.026 --> 00:19:33.436 A:middle
更清楚更强大

00:19:33.986 --> 00:19:35.756 A:middle
第一个是

00:19:35.756 --> 00:19:37.056 A:middle
Frame Layout guide

00:19:37.816 --> 00:19:39.216 A:middle
这个布局指导

00:19:39.266 --> 00:19:41.096 A:middle
负责 scroll view

00:19:41.096 --> 00:19:42.486 A:middle
在屏幕中的大小和位置

00:19:42.486 --> 00:19:44.636 A:middle
也就是说

00:19:44.636 --> 00:19:45.976 A:middle
你可以约束 sub-view

00:19:45.976 --> 00:19:47.126 A:middle
就像这个

00:19:47.126 --> 00:19:48.476 A:middle
页面指示器

00:19:48.596 --> 00:19:50.016 A:middle
当用户滑动页面时

00:19:50.016 --> 00:19:50.616 A:middle
它就会固定在屏幕上

00:19:51.966 --> 00:19:53.216 A:middle
第二个布局指导对象

00:19:53.216 --> 00:19:54.676 A:middle
是这个

00:19:54.676 --> 00:19:55.246 A:middle
Content Layout Guide

00:19:55.766 --> 00:19:56.786 A:middle
你可以约束 sub-view

00:19:56.786 --> 00:19:58.146 A:middle
来控制 scroll view 中

00:19:58.146 --> 00:19:59.656 A:middle
可滚动的区域大小

00:19:59.656 --> 00:20:02.296 A:middle
或者让内容

00:19:59.656 --> 00:20:02.296 A:middle
或者让内容

00:20:02.296 --> 00:20:03.456 A:middle
随着滚动而移动

00:20:04.916 --> 00:20:06.806 A:middle
一个很常见的 UI scroll view

00:20:06.806 --> 00:20:08.786 A:middle
的子类别是 UI table view

00:20:09.066 --> 00:20:09.896 A:middle
我们对它也作出了

00:20:09.896 --> 00:20:11.466 A:middle
一些改变  其中最大的是

00:20:11.466 --> 00:20:13.446 A:middle
table view 会默认

00:20:13.446 --> 00:20:16.516 A:middle
以 iOS 11 自主调节大小

00:20:16.516 --> 00:20:17.906 A:middle
而不是  tvOS

00:20:19.116 --> 00:20:20.396 A:middle
等于说  你的页眉

00:20:20.446 --> 00:20:23.556 A:middle
页脚和单元

00:20:23.556 --> 00:20:25.676 A:middle
使用的是  预估大小

00:20:25.986 --> 00:20:27.066 A:middle
我们把 UI table view

00:20:27.066 --> 00:20:29.076 A:middle
预估大小属性

00:20:29.076 --> 00:20:30.886 A:middle
的默认值

00:20:31.246 --> 00:20:32.576 A:middle
变成这个恒定的

00:20:32.576 --> 00:20:33.006 A:middle
自动尺寸

00:20:34.456 --> 00:20:35.916 A:middle
所以你要

00:20:35.916 --> 00:20:37.736 A:middle
确保单元有

00:20:37.736 --> 00:20:39.166 A:middle
足够的内部约束

00:20:39.166 --> 00:20:40.396 A:middle
来决定 UI table view 的大小

00:20:40.396 --> 00:20:42.296 A:middle
或者你可以

00:20:42.296 --> 00:20:43.726 A:middle
执行委托方法

00:20:43.956 --> 00:20:45.356 A:middle
告诉我们行距

00:20:45.356 --> 00:20:45.586 A:middle
有多大

00:20:45.776 --> 00:20:46.846 A:middle
对于页眉和页脚

00:20:46.846 --> 00:20:48.446 A:middle
也应该执行

00:20:48.706 --> 00:20:49.536 A:middle
这些方法

00:20:50.826 --> 00:20:52.286 A:middle
也许你想把 app

00:20:52.286 --> 00:20:53.806 A:middle
链接到 iOS 11 SDK

00:20:53.876 --> 00:20:55.966 A:middle
但是你不打算

00:20:56.186 --> 00:20:57.186 A:middle
采取这个新性能

00:20:57.516 --> 00:20:59.026 A:middle
你可以取消它

00:20:59.026 --> 00:21:00.426 A:middle
通过把 table view 的预估高度属性

00:20:59.026 --> 00:21:00.426 A:middle
通过把 table view 的预估高度属性

00:21:00.426 --> 00:21:02.096 A:middle
调成零

00:21:02.476 --> 00:21:03.926 A:middle
这样就可以取消

00:21:03.926 --> 00:21:06.236 A:middle
预估大小  同时也使

00:21:06.236 --> 00:21:06.906 A:middle
自动调节大小失效

00:21:09.596 --> 00:21:11.096 A:middle
还有另外一个概念

00:21:11.096 --> 00:21:12.226 A:middle
我们刚才介绍过

00:21:14.936 --> 00:21:16.106 A:middle
它是 view 的一部分

00:21:16.106 --> 00:21:17.516 A:middle
如果把

00:21:17.516 --> 00:21:18.806 A:middle
内容布局在里面

00:21:18.806 --> 00:21:20.056 A:middle
看起来就很舒服

00:21:20.056 --> 00:21:21.876 A:middle
哪怕是在一些较大的设备上

00:21:21.876 --> 00:21:22.416 A:middle
比如横屏的 ipad 上

00:21:22.926 --> 00:21:25.906 A:middle
默认情况下  table view

00:21:25.906 --> 00:21:28.106 A:middle
在可读内容区域

00:21:28.106 --> 00:21:30.146 A:middle
有分隔符内嵌

00:21:30.146 --> 00:21:31.446 A:middle
可以影响

00:21:31.446 --> 00:21:33.556 A:middle
分隔符和

00:21:33.556 --> 00:21:34.796 A:middle
table view 里标签

00:21:34.796 --> 00:21:35.266 A:middle
的位置

00:21:36.316 --> 00:21:38.056 A:middle
如果改变

00:21:38.056 --> 00:21:41.766 A:middle
分隔符内嵌的数值

00:21:41.766 --> 00:21:43.586 A:middle
可以看到分隔符内嵌

00:21:43.586 --> 00:21:45.596 A:middle
随之移动到

00:21:45.596 --> 00:21:46.176 A:middle
可读内容的相应的位置

00:21:47.066 --> 00:21:48.346 A:middle
从 iOS 11 开始

00:21:48.346 --> 00:21:51.436 A:middle
我们做出了调整

00:21:51.436 --> 00:21:53.226 A:middle
分隔符内嵌会一直和

00:21:53.276 --> 00:21:54.366 A:middle
单元自己的边缘相关

00:21:54.366 --> 00:21:55.566 A:middle
也就是 table view

00:21:55.566 --> 00:21:56.966 A:middle
的全屏宽度

00:21:58.016 --> 00:21:59.526 A:middle
你可以把数值设为零

00:21:59.526 --> 00:22:01.416 A:middle
就可以看到

00:21:59.526 --> 00:22:01.416 A:middle
就可以看到

00:22:01.776 --> 00:22:03.476 A:middle
全幅内容

00:22:03.596 --> 00:22:04.866 A:middle
即使针对横屏时的 iPad

00:22:05.296 --> 00:22:08.006 A:middle
这是 iPhone 的 table view

00:22:08.006 --> 00:22:10.726 A:middle
如果我在这调整

00:22:10.726 --> 00:22:12.976 A:middle
分隔符内嵌

00:22:12.976 --> 00:22:14.696 A:middle
你可以看到

00:22:14.736 --> 00:22:16.316 A:middle
单元和 table view 的边缘

00:22:16.316 --> 00:22:17.186 A:middle
也随之改变

00:22:18.276 --> 00:22:19.416 A:middle
我们给 UI table view

00:22:19.416 --> 00:22:21.886 A:middle
添加了一个新属性

00:22:21.886 --> 00:22:23.236 A:middle
Separator Inset Reference

00:22:23.236 --> 00:22:24.426 A:middle
你可以用它

00:22:24.426 --> 00:22:26.036 A:middle
把分隔符内嵌

00:22:26.036 --> 00:22:27.826 A:middle
从默认的自动位置上

00:22:27.826 --> 00:22:28.246 A:middle
加以改变

00:22:30.176 --> 00:22:31.266 A:middle
这个在 iPad 上也适用

00:22:31.846 --> 00:22:34.016 A:middle
有几件事情要注意

00:22:34.016 --> 00:22:34.946 A:middle
关于 table view

00:22:34.946 --> 00:22:36.056 A:middle
是如何与安全区域交互的

00:22:36.056 --> 00:22:38.036 A:middle
这些自动分隔符内嵌

00:22:38.036 --> 00:22:39.646 A:middle
和安全区域内嵌

00:22:39.646 --> 00:22:40.396 A:middle
是相关的

00:22:40.726 --> 00:22:42.476 A:middle
所以我们默认

00:22:42.476 --> 00:22:44.026 A:middle
table view 的全部内容

00:22:44.026 --> 00:22:45.346 A:middle
在安全内边距内

00:22:45.376 --> 00:22:46.556 A:middle
避开它的

00:22:47.296 --> 00:22:49.656 A:middle
UI Table View Cell 和

00:22:49.656 --> 00:22:50.966 A:middle
UI Table View Header Footer View

00:22:50.966 --> 00:22:52.076 A:middle
这可能是设计套件里

00:22:52.076 --> 00:22:53.936 A:middle
最长的名字了

00:22:53.936 --> 00:22:55.236 A:middle
他们都有一个 content view 属性

00:22:55.446 --> 00:22:56.256 A:middle
你应该在这里

00:22:56.256 --> 00:22:57.456 A:middle
添加 sub-view

00:22:58.276 --> 00:22:59.636 A:middle
这两个类可以

00:22:59.636 --> 00:23:01.526 A:middle
确保 content view

00:22:59.636 --> 00:23:01.526 A:middle
确保 content view

00:23:01.526 --> 00:23:03.156 A:middle
也可以避开安全区域嵌入

00:23:03.646 --> 00:23:05.206 A:middle
所以你应该在你的 table view 的

00:23:05.206 --> 00:23:07.176 A:middle
所有的页眉和页脚

00:23:07.176 --> 00:23:08.156 A:middle
使用 UI Table View Header Footer View

00:23:08.156 --> 00:23:09.896 A:middle
表格页眉页脚

00:23:09.896 --> 00:23:11.726 A:middle
还有章节页眉

00:23:12.236 --> 00:23:14.196 A:middle
和页脚

00:23:14.346 --> 00:23:15.496 A:middle
我们还从邮件 app 里

00:23:15.496 --> 00:23:17.296 A:middle
借鉴了很多

00:23:17.986 --> 00:23:19.586 A:middle
滑动操作功能

00:23:19.586 --> 00:23:20.776 A:middle
为你们的 app

00:23:20.776 --> 00:23:21.476 A:middle
服务

00:23:24.176 --> 00:23:25.426 A:middle
会有新的默认的

00:23:25.426 --> 00:23:27.596 A:middle
滑动操作

00:23:27.596 --> 00:23:30.256 A:middle
如果你用了 iOS 11

00:23:30.256 --> 00:23:31.636 A:middle
就可以使用滑动删除

00:23:31.636 --> 00:23:32.986 A:middle
就像以前在

00:23:32.986 --> 00:23:33.786 A:middle
邮件里一样

00:23:34.596 --> 00:23:35.306 A:middle
如果你

00:23:35.966 --> 00:23:36.616 A:middle
[ 鼓掌 ] 我知道有些人

00:23:36.616 --> 00:23:37.516 A:middle
很喜欢这个

00:23:38.406 --> 00:23:39.836 A:middle
[ 鼓掌 ] 如果你

00:23:39.836 --> 00:23:41.736 A:middle
采用一些新的 API

00:23:41.736 --> 00:23:43.026 A:middle
就可以得到一些很棒的功能

00:23:43.386 --> 00:23:44.736 A:middle
像滑动操作的图像

00:23:44.736 --> 00:23:46.736 A:middle
从前沿和后沿

00:23:46.736 --> 00:23:47.876 A:middle
滑动

00:23:47.876 --> 00:23:50.646 A:middle
或者一个完成处理器

00:23:50.646 --> 00:23:51.936 A:middle
让你可以取消

00:23:51.936 --> 00:23:52.606 A:middle
滑动操作

00:23:53.066 --> 00:23:55.286 A:middle
如何在我们的 app

00:23:55.286 --> 00:23:55.886 A:middle
里采用这些功能

00:23:55.886 --> 00:23:57.236 A:middle
Raj会上来

00:23:57.236 --> 00:23:57.926 A:middle
给我们进行

00:23:57.926 --> 00:23:58.216 A:middle
演示

00:23:58.406 --> 00:23:58.706 A:middle
Raj

00:23:59.516 --> 00:24:05.906 A:middle
[ 鼓掌 ]

00:23:59.516 --> 00:24:05.906 A:middle
[ 鼓掌 ]

00:24:06.406 --> 00:24:06.936 A:middle
&gt;&gt; 谢谢  Kyle

00:24:07.596 --> 00:24:08.576 A:middle
让我们重新转到

00:24:08.576 --> 00:24:10.506 A:middle
演示设备上来

00:24:10.506 --> 00:24:12.136 A:middle
你可以看到

00:24:12.136 --> 00:24:13.286 A:middle
这个 app 里的

00:24:13.286 --> 00:24:13.936 A:middle
这些漂亮的栏

00:24:14.286 --> 00:24:15.216 A:middle
看起来很棒

00:24:16.436 --> 00:24:17.116 A:middle
我想要向你们展示

00:24:17.116 --> 00:24:18.106 A:middle
Comments View Controller

00:24:18.106 --> 00:24:19.646 A:middle
如果我点进这个

00:24:19.646 --> 00:24:21.216 A:middle
Comments View Controller

00:24:21.216 --> 00:24:22.266 A:middle
你可以看到这些

00:24:22.266 --> 00:24:24.636 A:middle
有趣的评论

00:24:24.636 --> 00:24:26.046 A:middle
所有的这些评论

00:24:26.046 --> 00:24:27.216 A:middle
都在下面的评论栏里

00:24:28.096 --> 00:24:29.586 A:middle
我们的用户

00:24:29.586 --> 00:24:31.466 A:middle
想要一样东西

00:24:31.466 --> 00:24:31.876 A:middle
就是  时码

00:24:32.436 --> 00:24:33.776 A:middle
所以我告诉了我们的设计师

00:24:33.776 --> 00:24:35.366 A:middle
然后他们提供了

00:24:35.366 --> 00:24:37.086 A:middle
这个超赞的

00:24:37.086 --> 00:24:37.736 A:middle
滚动栏的设计

00:24:38.436 --> 00:24:40.376 A:middle
这个滚动栏不仅

00:24:40.856 --> 00:24:42.506 A:middle
标识出你在

00:24:42.506 --> 00:24:44.446 A:middle
Comment view 里的位置

00:24:44.446 --> 00:24:45.776 A:middle
还有它所在的时码

00:24:46.666 --> 00:24:48.146 A:middle
现在我们来

00:24:48.146 --> 00:24:48.346 A:middle
操作一下

00:24:49.456 --> 00:24:50.606 A:middle
我现在转到

00:24:50.606 --> 00:24:52.456 A:middle
Comments View Controller

00:24:52.456 --> 00:24:54.426 A:middle
然后用我之前写的一个方法

00:24:54.426 --> 00:24:55.086 A:middle
来新建一个滚动栏

00:24:55.876 --> 00:24:58.176 A:middle
当我重新编译并重启

00:24:58.176 --> 00:25:02.026 A:middle
往下滑

00:24:58.176 --> 00:25:02.026 A:middle
往下滑

00:25:03.306 --> 00:25:05.656 A:middle
点击这些单元中的一个

00:25:05.656 --> 00:25:06.346 A:middle
并进入到 Comments View Controller

00:25:06.346 --> 00:25:07.936 A:middle
你就可以看得它了

00:25:08.636 --> 00:25:09.776 A:middle
看起来很棒吧

00:25:09.776 --> 00:25:11.116 A:middle
它显示出你在

00:25:11.116 --> 00:25:12.296 A:middle
Comments View Controller 中的位置

00:25:12.816 --> 00:25:15.436 A:middle
和它所指向的单元

00:25:15.526 --> 00:25:17.456 A:middle
的时码

00:25:18.146 --> 00:25:19.776 A:middle
但是也许你注意到了

00:25:19.776 --> 00:25:20.606 A:middle
还存在一些问题

00:25:21.236 --> 00:25:22.906 A:middle
首先是

00:25:22.906 --> 00:25:24.716 A:middle
这个指示器会稍微遮挡一点

00:25:24.716 --> 00:25:26.306 A:middle
这个 table view 单元

00:25:26.306 --> 00:25:27.466 A:middle
所以看起来

00:25:27.466 --> 00:25:28.346 A:middle
会有点不清楚

00:25:29.286 --> 00:25:30.886 A:middle
第二就是

00:25:30.936 --> 00:25:32.116 A:middle
这个指示器会遮挡

00:25:32.146 --> 00:25:33.496 A:middle
下边的输入区域

00:25:34.376 --> 00:25:36.386 A:middle
所以让我们用一些 iOS 11 里的

00:25:36.466 --> 00:25:37.856 A:middle
新的 API

00:25:37.856 --> 00:25:38.276 A:middle
来解决这些问题

00:25:38.916 --> 00:25:40.596 A:middle
我们会用到

00:25:40.596 --> 00:25:42.146 A:middle
UI View Controller 的

00:25:42.146 --> 00:25:44.586 A:middle
Additional Safe Area Insets 属性

00:25:44.586 --> 00:25:45.706 A:middle
来解决这个问题

00:25:46.406 --> 00:25:47.766 A:middle
所以我现在

00:25:47.766 --> 00:25:49.956 A:middle
打开这两个 view

00:25:49.956 --> 00:25:51.576 A:middle
把 additional Safe Area Insets

00:25:51.576 --> 00:25:52.996 A:middle
添加给 UI 边缘内嵌

00:25:54.366 --> 00:25:56.066 A:middle
所以  上面

00:25:56.066 --> 00:25:57.136 A:middle
我们不添加任何东西

00:25:57.996 --> 00:25:59.376 A:middle
左边

00:25:59.376 --> 00:25:59.796 A:middle
也是一样

00:26:00.346 --> 00:26:01.976 A:middle
下面  我们要把它

00:26:01.976 --> 00:26:04.096 A:middle
变成评论栏的大小

00:26:04.366 --> 00:26:05.456 A:middle
所以我们输入

00:26:05.456 --> 00:26:07.726 A:middle
评论栏的高度

00:26:07.726 --> 00:26:08.636 A:middle
右边有个属性

00:26:08.636 --> 00:26:10.286 A:middle
是我之前给指示器写好的

00:26:10.286 --> 00:26:12.516 A:middle
让它有

00:26:12.516 --> 00:26:13.376 A:middle
合适的宽度

00:26:14.616 --> 00:26:16.106 A:middle
我们设定好

00:26:16.106 --> 00:26:17.406 A:middle
Additional Safe Area Insets

00:26:17.976 --> 00:26:20.676 A:middle
重新编译并重启

00:26:23.846 --> 00:26:25.316 A:middle
打开 detail view

00:26:25.316 --> 00:26:26.806 A:middle
然后进入 Comments View Controller

00:26:26.806 --> 00:26:27.896 A:middle
你会发现

00:26:27.896 --> 00:26:28.756 A:middle
看起来好多了

00:26:29.366 --> 00:26:31.176 A:middle
我们把内容

00:26:31.176 --> 00:26:33.656 A:middle
从右边缘嵌入

00:26:33.656 --> 00:26:35.146 A:middle
滚动指示器也从下边缘嵌入

00:26:35.146 --> 00:26:37.416 A:middle
你会发现

00:26:37.416 --> 00:26:39.356 A:middle
在下边

00:26:39.926 --> 00:26:42.406 A:middle
这个评论区域

00:26:42.606 --> 00:26:43.726 A:middle
从屏幕右边

00:26:43.726 --> 00:26:44.646 A:middle
嵌入了一点

00:26:45.796 --> 00:26:48.526 A:middle
原因是

00:26:48.526 --> 00:26:51.306 A:middle
评论区域的文字区

00:26:51.306 --> 00:26:53.056 A:middle
被限制到它的

00:26:53.106 --> 00:26:54.046 A:middle
super view 布局边缘中了

00:26:54.836 --> 00:26:57.076 A:middle
在 iOS 11 里

00:26:57.076 --> 00:26:59.046 A:middle
布局边缘是

00:26:59.046 --> 00:27:01.286 A:middle
嵌入安全区域的  因为我们

00:26:59.046 --> 00:27:01.286 A:middle
嵌入安全区域的  因为我们

00:27:01.286 --> 00:27:02.686 A:middle
在 view 的右边

00:27:02.686 --> 00:27:04.506 A:middle
添加了 additional Safe Area Insets

00:27:04.986 --> 00:27:06.316 A:middle
所以布局边缘

00:27:06.316 --> 00:27:06.896 A:middle
也相应嵌入

00:27:07.836 --> 00:27:09.206 A:middle
大部分时候

00:27:09.206 --> 00:27:10.376 A:middle
这就是你想要的效果

00:27:10.376 --> 00:27:12.476 A:middle
但是我们

00:27:12.476 --> 00:27:14.736 A:middle
还有另外一个属性

00:27:14.736 --> 00:27:16.746 A:middle
Insets Layout Margins From Safe Area

00:27:16.746 --> 00:27:17.896 A:middle
让你可以控制这个属性

00:27:18.586 --> 00:27:20.236 A:middle
在这个例子里

00:27:20.236 --> 00:27:20.966 A:middle
让我们把这个属性设定为false

00:27:27.046 --> 00:27:27.836 A:middle
如果我这么做了

00:27:28.526 --> 00:27:30.166 A:middle
重新编译并重启 app

00:27:30.166 --> 00:27:33.906 A:middle
然后进入到

00:27:33.906 --> 00:27:35.256 A:middle
Detail View Controller

00:27:35.256 --> 00:27:36.186 A:middle
然后再进入 Comments View Controller

00:27:36.186 --> 00:27:38.056 A:middle
你会发现

00:27:38.056 --> 00:27:38.896 A:middle
看起来很不错

00:27:39.646 --> 00:27:40.916 A:middle
评论出现在

00:27:40.916 --> 00:27:41.726 A:middle
合适的位置

00:27:41.966 --> 00:27:42.836 A:middle
新的滚动指示器

00:27:42.836 --> 00:27:43.626 A:middle
也在

00:27:44.036 --> 00:27:45.896 A:middle
所有都嵌入了

00:27:45.896 --> 00:27:47.296 A:middle
评论区也有全屏宽

00:27:47.746 --> 00:27:50.816 A:middle
赞  接下来

00:27:50.816 --> 00:27:53.006 A:middle
我要展示  给这个 app

00:27:53.006 --> 00:27:54.436 A:middle
添加滑动操作

00:27:55.236 --> 00:27:57.136 A:middle
如果我想

00:27:57.136 --> 00:27:59.216 A:middle
收藏

00:27:59.216 --> 00:28:00.126 A:middle
或者删除

00:27:59.216 --> 00:28:00.126 A:middle
或者删除

00:28:00.126 --> 00:28:00.386 A:middle
一些东西

00:28:01.656 --> 00:28:03.306 A:middle
那让我们进入 Memory View Controller

00:28:03.306 --> 00:28:06.266 A:middle
然后在 iOS 11 里

00:28:06.346 --> 00:28:08.296 A:middle
给这个新滑动操作添加支持

00:28:08.866 --> 00:28:12.256 A:middle
看起来好像很复杂

00:28:12.256 --> 00:28:12.946 A:middle
但是我会告诉你怎么做

00:28:13.916 --> 00:28:15.366 A:middle
我执行了两个新方法

00:28:15.366 --> 00:28:17.296 A:middle
前沿滑动操作配置

00:28:17.296 --> 00:28:18.736 A:middle
索引路径

00:28:18.736 --> 00:28:20.296 A:middle
和后沿

00:28:20.296 --> 00:28:21.646 A:middle
滑动操作配置

00:28:21.646 --> 00:28:22.196 A:middle
索引路径

00:28:22.956 --> 00:28:23.646 A:middle
我们先来看看

00:28:23.646 --> 00:28:24.186 A:middle
前沿的这个

00:28:24.926 --> 00:28:26.286 A:middle
创建一个

00:28:26.286 --> 00:28:27.786 A:middle
UI 情景动作

00:28:27.786 --> 00:28:29.266 A:middle
样式选为 normal

00:28:29.266 --> 00:28:31.096 A:middle
标题是  收藏

00:28:31.096 --> 00:28:31.516 A:middle
还有一个分块处理器

00:28:32.636 --> 00:28:34.056 A:middle
把收藏状态更新

00:28:34.256 --> 00:28:35.536 A:middle
用我之前写好的一个代码

00:28:35.536 --> 00:28:37.046 A:middle
把完成处理器

00:28:37.046 --> 00:28:39.146 A:middle
的参数设为

00:28:39.916 --> 00:28:40.016 A:middle
true

00:28:40.246 --> 00:28:41.326 A:middle
为了让一切都看起来没问题

00:28:41.326 --> 00:28:42.856 A:middle
我再把它设定为  取消收藏

00:28:42.856 --> 00:28:44.246 A:middle
取决于这个条目

00:28:44.246 --> 00:28:45.476 A:middle
是否已经被收藏

00:28:46.586 --> 00:28:48.586 A:middle
然后设置

00:28:48.586 --> 00:28:49.926 A:middle
这个我之前做好的

00:28:49.996 --> 00:28:52.026 A:middle
星星图标

00:28:52.026 --> 00:28:53.356 A:middle
背景色选为漂亮的

00:28:53.356 --> 00:28:53.776 A:middle
橙色

00:28:54.436 --> 00:28:56.106 A:middle
接下来只需要

00:28:56.106 --> 00:28:57.296 A:middle
创建一个 UI 滑动操作配置

00:28:57.296 --> 00:28:59.216 A:middle
用 UI 情景动作

00:28:59.216 --> 00:29:00.966 A:middle
然后归还

00:28:59.216 --> 00:29:00.966 A:middle
然后归还

00:29:02.386 --> 00:29:03.496 A:middle
后沿动作

00:29:03.496 --> 00:29:05.046 A:middle
也差不多

00:29:05.046 --> 00:29:06.406 A:middle
我只是把样式选成 disruptive

00:29:07.376 --> 00:29:08.916 A:middle
重新编译并重启

00:29:08.916 --> 00:29:13.716 A:middle
进入然后滑动

00:29:13.716 --> 00:29:15.386 A:middle
可以注意到

00:29:15.446 --> 00:29:17.606 A:middle
有了选项滑动操作

00:29:17.606 --> 00:29:18.706 A:middle
在前沿可以出现

00:29:18.706 --> 00:29:19.976 A:middle
滑动操作  就像这样

00:29:19.976 --> 00:29:21.156 A:middle
以前完全做不到

00:29:22.836 --> 00:29:24.456 A:middle
还有

00:29:24.456 --> 00:29:26.036 A:middle
可以滑动

00:29:26.036 --> 00:29:27.046 A:middle
把这个条目删除

00:29:27.416 --> 00:29:29.166 A:middle
只要

00:29:29.166 --> 00:29:30.596 A:middle
整体滑过去

00:29:30.596 --> 00:29:30.976 A:middle
就可以了

00:29:31.516 --> 00:29:37.666 A:middle
[ 鼓掌 ]

00:29:38.166 --> 00:29:39.436 A:middle
这就是关于  边缘

00:29:39.436 --> 00:29:40.676 A:middle
嵌入  scroll view

00:29:41.036 --> 00:29:42.996 A:middle
还有栏的新 API

00:29:42.996 --> 00:29:43.466 A:middle
的演示

00:29:43.696 --> 00:29:44.726 A:middle
看起来很棒

00:29:44.726 --> 00:29:46.026 A:middle
而且绝对适合 iOS 11

00:29:46.476 --> 00:29:47.736 A:middle
接下来 Kyle 会再度登台

00:29:47.776 --> 00:29:48.726 A:middle
为大家介绍相关

00:29:48.726 --> 00:29:48.976 A:middle
内容

00:29:49.516 --> 00:29:56.866 A:middle
[ 鼓掌 ]

00:29:57.366 --> 00:29:58.236 A:middle
&gt;&gt; 再次谢谢 Raj

00:29:59.136 --> 00:30:00.456 A:middle
复习一下今天的内容

00:29:59.136 --> 00:30:00.456 A:middle
复习一下今天的内容

00:30:00.456 --> 00:30:02.026 A:middle
我们学习了

00:30:02.026 --> 00:30:03.716 A:middle
采用大导航标题

00:30:04.006 --> 00:30:05.076 A:middle
和新融入的

00:30:05.076 --> 00:30:06.706 A:middle
搜索栏

00:30:06.806 --> 00:30:07.616 A:middle
在 iOS 11 里

00:30:09.006 --> 00:30:10.516 A:middle
我们还学习了

00:30:10.516 --> 00:30:11.936 A:middle
布局边缘的

00:30:11.936 --> 00:30:13.296 A:middle
新改进  让我们可以

00:30:13.296 --> 00:30:15.686 A:middle
完全掌控

00:30:15.686 --> 00:30:17.616 A:middle
View 和布局

00:30:17.616 --> 00:30:18.826 A:middle
还有一个叫做

00:30:18.826 --> 00:30:20.206 A:middle
安全区域的新概念

00:30:20.206 --> 00:30:22.006 A:middle
是关于内容覆盖的

00:30:22.006 --> 00:30:23.376 A:middle
比如在 Apple TV 上

00:30:23.376 --> 00:30:24.446 A:middle
嵌入扫描补偿

00:30:24.996 --> 00:30:27.046 A:middle
我们学习了

00:30:27.046 --> 00:30:28.476 A:middle
UI scroll view 的改进功能

00:30:28.896 --> 00:30:30.276 A:middle
让我们可以

00:30:30.276 --> 00:30:32.456 A:middle
更好的控制内容嵌入

00:30:32.456 --> 00:30:34.286 A:middle
还有 UI table view 的新性能

00:30:34.286 --> 00:30:35.526 A:middle
以及它如何跟安全区域

00:30:35.776 --> 00:30:36.636 A:middle
之类的内容互动

00:30:37.276 --> 00:30:40.096 A:middle
如果你还有更多的问题

00:30:40.096 --> 00:30:41.436 A:middle
请访问这个课程

00:30:41.436 --> 00:30:41.856 A:middle
的网址

00:30:42.436 --> 00:30:42.976 A:middle
希望你们享受 WWDC
