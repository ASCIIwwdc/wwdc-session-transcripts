WEBVTT

00:00:17.551 --> 00:00:22.956 align:middle line:0
<c.magenta>（构建视觉丰富的用户体验）</c>

00:00:31.131 --> 00:00:31.999 align:middle line:-1
<c.magenta>下午好</c>

00:00:32.332 --> 00:00:34.101 align:middle line:-2
<c.magenta>感谢你们的到来</c>
<c.magenta>我叫Noah</c>

00:00:34.168 --> 00:00:35.602 align:middle line:-1
<c.magenta>我是和我的同事Warren一起来的</c>

00:00:35.702 --> 00:00:39.339 align:middle line:-2
<c.magenta>我们会给你们介绍一下</c>
<c.magenta>有关构建视觉丰富的用户体验</c>

00:00:40.607 --> 00:00:42.342 align:middle line:-1
<c.magenta>我们今天主要会介绍三个方面的内容</c>

00:00:44.011 --> 00:00:46.079 align:middle line:-1
<c.magenta>第一个是平台概览</c>

00:00:46.146 --> 00:00:49.850 align:middle line:-1
<c.magenta>我们会很快地介绍下</c>

00:00:50.184 --> 00:00:52.186 align:middle line:-1
<c.magenta>平台上的图形框架</c>

00:00:52.252 --> 00:00:54.454 align:middle line:-2
<c.magenta>它们会实现什么功能</c>
<c.magenta>它们是如何结合到一起使用的</c>

00:00:55.455 --> 00:00:59.493 align:middle line:-1
<c.magenta>接着我们会介绍一个</c>

00:00:59.560 --> 00:01:03.664 align:middle line:-1
<c.magenta>图形平台协调的重要组成部分</c>

00:00:59.560 --> 00:01:03.664 align:middle line:-1
<c.magenta>图形平台协调的重要组成部分</c>

00:01:04.298 --> 00:01:08.168 align:middle line:-2
<c.magenta>还有一些你可以用来避免</c>
<c.magenta>常见错误的最优方法</c>

00:01:08.235 --> 00:01:10.704 align:middle line:-2
<c.magenta>人们在使用CA的时候</c>
<c.magenta>经常会犯这样的错误</c>

00:01:12.172 --> 00:01:15.242 align:middle line:-1
<c.magenta>最后我们会花点时间介绍一些小技巧</c>

00:01:15.309 --> 00:01:18.846 align:middle line:-1
<c.magenta>一些很小很有趣并且很有用的技巧</c>

00:01:18.912 --> 00:01:21.181 align:middle line:-2
<c.magenta>它们能给你的应用增添一些</c>
<c.magenta>很酷的视觉色彩</c>

00:01:23.417 --> 00:01:24.251 align:middle line:-1
<c.magenta>那么</c>

00:01:24.384 --> 00:01:27.221 align:middle line:-1
<c.magenta>如果你花时间看过文档</c>

00:01:27.287 --> 00:01:29.056 align:middle line:-2
<c.magenta>或者只是浏览了一下</c>
<c.magenta>stackoverflow</c>

00:01:29.122 --> 00:01:32.526 align:middle line:-1
<c.magenta>你就会发现很多的概念</c>

00:01:32.993 --> 00:01:35.028 align:middle line:-1
<c.magenta>这些概念很多</c>

00:01:35.095 --> 00:01:38.966 align:middle line:-1
<c.magenta>如果有时间把每个都看一下当然最好</c>

00:01:39.666 --> 00:01:42.503 align:middle line:-2
<c.magenta>基本得花上一整天的时间</c>
<c.magenta>但是我们不能这么做</c>

00:01:42.836 --> 00:01:44.271 align:middle line:-1
<c.magenta>所以我们只会从大体上讲一下</c>

00:01:45.239 --> 00:01:49.443 align:middle line:-2
<c.magenta>让我们谈一下iOS</c>
<c.magenta>macOS和tvOS上有什么吧</c>

00:01:50.878 --> 00:01:51.712 align:middle line:-1
<c.magenta>首先</c>

00:01:52.045 --> 00:01:53.514 align:middle line:-1
<c.magenta>你们当中有些人可能很熟悉这个概念</c>

00:01:53.580 --> 00:01:56.550 align:middle line:-2
<c.magenta>你可以用UIKit和AppKit</c>
<c.magenta>这两个框架构建</c>

00:01:57.084 --> 00:01:59.586 align:middle line:-1
<c.magenta>你们应用中的绝大多数UI</c>

00:01:59.653 --> 00:02:02.055 align:middle line:-1
<c.magenta>它们会给你提供系统控制的标准集</c>

00:01:59.653 --> 00:02:02.055 align:middle line:-1
<c.magenta>它们会给你提供系统控制的标准集</c>

00:02:02.356 --> 00:02:03.957 align:middle line:-1
<c.magenta>它们在一定程度上是可以定制化的</c>

00:02:04.024 --> 00:02:06.994 align:middle line:-2
<c.magenta>所以你可以让你的滑动条</c>
<c.magenta>变得比一般的酷得多</c>

00:02:07.995 --> 00:02:11.565 align:middle line:-1
<c.magenta>它们还有一些很实用的内置功能</c>

00:02:11.632 --> 00:02:13.300 align:middle line:-1
<c.magenta>你会获得这些标准外观</c>

00:02:13.367 --> 00:02:15.836 align:middle line:-1
<c.magenta>转换动画还有诸如此类的东西</c>

00:02:15.903 --> 00:02:19.239 align:middle line:-2
<c.magenta>而且你还会得到有关易用性功能</c>
<c.magenta>和创新动态类型的支持</c>

00:02:20.807 --> 00:02:23.777 align:middle line:-2
<c.magenta>所以我说它们可以让你</c>
<c.magenta>在某种程度上定制一些内容</c>

00:02:23.844 --> 00:02:27.114 align:middle line:-2
<c.magenta>但是如果你想做的</c>
<c.magenta>不仅仅是设定个颜色</c>

00:02:27.181 --> 00:02:29.249 align:middle line:-1
<c.magenta>或者是图像覆盖这类操作的话</c>

00:02:30.250 --> 00:02:32.653 align:middle line:-2
<c.magenta>你可能就得用到像是</c>
<c.magenta>Core Animation这类框架</c>

00:02:33.620 --> 00:02:38.625 align:middle line:-2
<c.magenta>你可能已经注意到了 在iOS上</c>
<c.magenta>Core Animation是UIKit的基础</c>

00:02:38.692 --> 00:02:41.962 align:middle line:-2
<c.magenta>而且它还跟Mac上的</c>
<c.magenta>AppKit有紧密的联系</c>

00:02:43.096 --> 00:02:47.201 align:middle line:-1
<c.magenta>iOS上的视图就像是一个层</c>

00:02:47.434 --> 00:02:50.571 align:middle line:-1
<c.magenta>而你应用中显示的内容</c>

00:02:50.838 --> 00:02:52.773 align:middle line:-2
<c.magenta>就是这些层的体系结构</c>
<c.magenta>它们会一起出现</c>

00:02:53.106 --> 00:02:57.444 align:middle line:-1
<c.magenta>CA很擅长处理这种问题</c>

00:02:57.511 --> 00:03:01.248 align:middle line:-2
<c.magenta>它可以将已有的内容整合到一起</c>
<c.magenta>然后将其在层级结构中进行显示</c>

00:02:57.511 --> 00:03:01.248 align:middle line:-2
<c.magenta>它可以将已有的内容整合到一起</c>
<c.magenta>然后将其在层级结构中进行显示</c>

00:03:01.315 --> 00:03:03.283 align:middle line:-2
<c.magenta>这些内容是可以移动的</c>
<c.magenta>还可以动画化等</c>

00:03:03.750 --> 00:03:06.620 align:middle line:-2
<c.magenta>最后将所有的内容整合到一起</c>
<c.magenta>然后显示到屏幕上</c>

00:03:08.589 --> 00:03:09.423 align:middle line:-1
<c.magenta>那么</c>

00:03:11.992 --> 00:03:12.926 align:middle line:-1
<c.magenta>除此之外</c>

00:03:13.093 --> 00:03:14.394 align:middle line:-1
<c.magenta>我们还有其他一些框架</c>

00:03:14.461 --> 00:03:16.630 align:middle line:-1
<c.magenta>可以用来实现某些特殊功能</c>

00:03:18.765 --> 00:03:19.600 align:middle line:-1
<c.magenta>Core Graphics</c>

00:03:20.200 --> 00:03:21.702 align:middle line:-2
<c.magenta>就是其中之一</c>
<c.magenta>你可能已经接触过了</c>

00:03:21.768 --> 00:03:26.540 align:middle line:-2
<c.magenta>它可以让你实现非常精细地</c>
<c.magenta>定制化2D图像绘制</c>

00:03:26.607 --> 00:03:29.643 align:middle line:-1
<c.magenta>你可以选择一条路径和一些颜色</c>

00:03:29.710 --> 00:03:32.379 align:middle line:-2
<c.magenta>然后将它们变成这里</c>
<c.magenta>好看的信息泡泡</c>

00:03:33.647 --> 00:03:37.551 align:middle line:-2
<c.magenta>如果你想在运行时间构建图形</c>
<c.magenta>就需要用到Core Graphics</c>

00:03:37.618 --> 00:03:39.953 align:middle line:-1
<c.magenta>你可以提前就把图形构建好</c>

00:03:40.020 --> 00:03:42.422 align:middle line:-2
<c.magenta>你可以使用像是Photoshop</c>
<c.magenta>Sketch或是Illustrator这类软件</c>

00:03:42.756 --> 00:03:45.425 align:middle line:-2
<c.magenta>但是Core Graphics</c>
<c.magenta>可以让你在代码运行期间</c>

00:03:45.492 --> 00:03:47.127 align:middle line:-1
<c.magenta>在设备上就将图形构建好</c>

00:03:47.761 --> 00:03:48.629 align:middle line:-1
<c.magenta>这真的很实用</c>

00:03:50.163 --> 00:03:50.998 align:middle line:-1
<c.magenta>那么</c>

00:03:51.932 --> 00:03:53.834 align:middle line:-2
<c.magenta>Core Graphics</c>
<c.magenta>对于绘制图形很实用</c>

00:03:53.901 --> 00:03:55.836 align:middle line:-1
<c.magenta>我们还有另一个处理图像的框架</c>

00:03:55.903 --> 00:03:59.039 align:middle line:-2
<c.magenta>它可以处理你已经有的图像</c>
<c.magenta>这个框架叫Core Image</c>

00:04:00.407 --> 00:04:02.543 align:middle line:-1
<c.magenta>它会给图像加上一些滤镜</c>

00:04:02.609 --> 00:04:09.149 align:middle line:-2
<c.magenta>你可以提供一些输入图像</c>
<c.magenta>把它们传到Core Image</c>

00:04:09.516 --> 00:04:11.919 align:middle line:-1
<c.magenta>给它们加上个滤镜</c>

00:04:12.786 --> 00:04:16.822 align:middle line:-2
<c.magenta>它最后就可以生成渲染好的</c>
<c.magenta>加上了滤镜的输出图像</c>

00:04:17.724 --> 00:04:20.726 align:middle line:-1
<c.magenta>这里就是些简单的颜色转换效果</c>

00:04:20.961 --> 00:04:22.396 align:middle line:-2
<c.magenta>就像是这样</c>
<c.magenta>看起来挺不错的</c>

00:04:23.130 --> 00:04:24.631 align:middle line:-2
<c.magenta>深褐色</c>
<c.magenta>有点不太像深褐色</c>

00:04:25.065 --> 00:04:26.433 align:middle line:-2
<c.magenta>我不知道这个颜色应该叫什么</c>
<c.magenta>这个无所谓</c>

00:04:28.235 --> 00:04:30.671 align:middle line:-1
<c.magenta>你还可以实现一些有趣的风格化效果</c>

00:04:31.205 --> 00:04:33.273 align:middle line:-1
<c.magenta>像是这样的卡通画效果</c>

00:04:34.308 --> 00:04:39.112 align:middle line:-2
<c.magenta>Core Image的绝妙之处</c>
<c.magenta>就在于它优化得非常好</c>

00:04:39.179 --> 00:04:41.415 align:middle line:-1
<c.magenta>我们替你实现了很多功能</c>

00:04:42.382 --> 00:04:43.483 align:middle line:-1
<c.magenta>所以在你实现某些更复杂的功能</c>

00:04:43.550 --> 00:04:47.554 align:middle line:-2
<c.magenta>比如同时使用多个滤镜的时候</c>
<c.magenta>我们就可以替你完成优化</c>

00:04:47.621 --> 00:04:49.323 align:middle line:-1
<c.magenta>你可以不必</c>

00:04:50.224 --> 00:04:51.058 align:middle line:-1
<c.magenta>那个</c>

00:04:51.325 --> 00:04:53.126 align:middle line:-2
<c.magenta>在你的图片上一遍遍地</c>
<c.magenta>重复这个流程</c>

00:04:53.193 --> 00:04:55.662 align:middle line:-2
<c.magenta>对每个滤镜都这么做</c>
<c.magenta>我们可以使其流水线化</c>

00:04:56.897 --> 00:04:58.298 align:middle line:-1
<c.magenta>更棒的是</c>

00:04:58.932 --> 00:05:01.068 align:middle line:-1
<c.magenta>所有这些功能基本都可以运行</c>

00:04:58.932 --> 00:05:01.068 align:middle line:-1
<c.magenta>所有这些功能基本都可以运行</c>

00:05:01.301 --> 00:05:03.470 align:middle line:-1
<c.magenta>不管你设备的平行硬件是怎样的</c>

00:05:03.670 --> 00:05:06.473 align:middle line:-1
<c.magenta>如果你可用的GPU资源不是很多</c>

00:05:06.540 --> 00:05:09.343 align:middle line:-2
<c.magenta>它就会利用Grand Central Dispatch</c>
<c.magenta>这类技术在CPU上运行</c>

00:05:09.610 --> 00:05:11.545 align:middle line:-2
<c.magenta>它完全是在底层运行的</c>
<c.magenta>而且对你是透明的</c>

00:05:11.979 --> 00:05:14.014 align:middle line:-1
<c.magenta>如果你的设备支持Metal</c>

00:05:14.081 --> 00:05:17.618 align:middle line:-2
<c.magenta>那么它就可以使用Metal</c>
<c.magenta>这很酷</c>

00:05:20.521 --> 00:05:23.423 align:middle line:-2
<c.magenta>你还需要将一些其他的内容</c>
<c.magenta>加入到你的应用中</c>

00:05:23.490 --> 00:05:26.593 align:middle line:-2
<c.magenta>我们有一些很实用的框架</c>
<c.magenta>可以帮助你实现这一点</c>

00:05:27.294 --> 00:05:30.264 align:middle line:-2
<c.magenta>针对3D的内容 我们推出了</c>
<c.magenta>叫作SceneKit的工具</c>

00:05:30.831 --> 00:05:34.301 align:middle line:-1
<c.magenta>它可以将3D内容加入到你的应用中</c>

00:05:34.368 --> 00:05:36.837 align:middle line:-2
<c.magenta>它在Xcode中</c>
<c.magenta>一些非常好的集成工具</c>

00:05:36.904 --> 00:05:39.406 align:middle line:-2
<c.magenta>可以让你完成一些操作</c>
<c.magenta>像是设置场景</c>

00:05:39.840 --> 00:05:42.709 align:middle line:-2
<c.magenta>这类操作</c>
<c.magenta>我们过会儿还会提到它</c>

00:05:44.311 --> 00:05:46.246 align:middle line:-2
<c.magenta>我要介绍的另一个框架</c>
<c.magenta>是SpriteKit</c>

00:05:46.313 --> 00:05:50.317 align:middle line:-2
<c.magenta>它主要适用于游戏开发</c>
<c.magenta>它会给你提供许多动画基元</c>

00:05:50.384 --> 00:05:53.954 align:middle line:-1
<c.magenta>它可以实现</c>

00:05:54.021 --> 00:05:55.589 align:middle line:-1
<c.magenta>物体在屏幕上的移动和交互</c>

00:05:57.624 --> 00:05:59.960 align:middle line:-1
<c.magenta>还有一个框架</c>

00:06:00.027 --> 00:06:02.696 align:middle line:-1
<c.magenta>是我想要介绍的</c>

00:06:02.763 --> 00:06:04.531 align:middle line:-2
<c.magenta>你可能听过它的名字</c>
<c.magenta>它就是Metal</c>

00:06:06.300 --> 00:06:07.201 align:middle line:-1
<c.magenta>并且</c>

00:06:07.668 --> 00:06:10.637 align:middle line:-1
<c.magenta>Metal就是最基本的图形API</c>

00:06:10.804 --> 00:06:11.905 align:middle line:-1
<c.magenta>在我们的平台上</c>

00:06:12.139 --> 00:06:13.807 align:middle line:-1
<c.magenta>其它的东西都构建在它的上面</c>

00:06:13.874 --> 00:06:17.544 align:middle line:-2
<c.magenta>我刚才只说了Core Image会使用Metal</c>
<c.magenta>其实SceneKit会使用Metal绘图</c>

00:06:17.611 --> 00:06:19.346 align:middle line:-2
<c.magenta>在支持它的设备上</c>
<c.magenta>SpriteKit也会使用Metal</c>

00:06:19.680 --> 00:06:22.783 align:middle line:-2
<c.magenta>而且Core Animation本身</c>
<c.magenta>也是使用Metal的</c>

00:06:24.151 --> 00:06:27.688 align:middle line:-1
<c.magenta>其实很难确切地描述Metal</c>

00:06:28.222 --> 00:06:31.225 align:middle line:-2
<c.magenta>是干什么用的</c>
<c.magenta>因为你基本上可以利用它实现任何功能</c>

00:06:31.291 --> 00:06:33.227 align:middle line:-1
<c.magenta>如果你想要使用它的话</c>

00:06:34.461 --> 00:06:36.997 align:middle line:-1
<c.magenta>它其实就是能让你</c>

00:06:37.064 --> 00:06:40.300 align:middle line:-1
<c.magenta>以最快的速度接入到底层</c>

00:06:40.367 --> 00:06:42.102 align:middle line:-1
<c.magenta>的图形硬件</c>

00:06:42.669 --> 00:06:45.138 align:middle line:-2
<c.magenta>大多数情况下</c>
<c.magenta>你都不会直接使用Metal</c>

00:06:45.205 --> 00:06:46.673 align:middle line:-1
<c.magenta>你会通过这些框架来使用它</c>

00:06:46.940 --> 00:06:48.609 align:middle line:-1
<c.magenta>但是如果你要构建一些很定制化的东西</c>

00:06:48.675 --> 00:06:51.078 align:middle line:-1
<c.magenta>这些框架都不能实现此功能的话</c>

00:06:51.311 --> 00:06:52.279 align:middle line:-1
<c.magenta>这时候你就应该使用Metal了</c>

00:06:53.347 --> 00:06:55.582 align:middle line:-1
<c.magenta>比如说 在iPhone 7上</c>

00:06:56.250 --> 00:06:57.317 align:middle line:-1
<c.magenta>抱歉 应该是7 Plus</c>

00:06:57.818 --> 00:07:01.388 align:middle line:-2
<c.magenta>我们在相机应用中</c>
<c.magenta>有个不错的深度域效果</c>

00:06:57.818 --> 00:07:01.388 align:middle line:-2
<c.magenta>我们在相机应用中</c>
<c.magenta>有个不错的深度域效果</c>

00:07:02.222 --> 00:07:04.491 align:middle line:-1
<c.magenta>它会对相机拍摄的照片</c>

00:07:04.558 --> 00:07:07.427 align:middle line:-1
<c.magenta>进行一些深度重构操作</c>

00:07:07.594 --> 00:07:10.531 align:middle line:-1
<c.magenta>这些数学问题已经超出我的能力范围了</c>

00:07:11.398 --> 00:07:14.568 align:middle line:-1
<c.magenta>它能得到场景中每个编辑点的深度像素</c>

00:07:14.635 --> 00:07:17.204 align:middle line:-1
<c.magenta>然后给它们添加一个智能的模糊滤镜</c>

00:07:17.271 --> 00:07:18.906 align:middle line:-1
<c.magenta>然后你就能得到这个很棒的柔和背景了</c>

00:07:19.673 --> 00:07:20.507 align:middle line:-1
<c.magenta>这</c>

00:07:20.607 --> 00:07:22.876 align:middle line:-2
<c.magenta>听起来不像是我给你介绍过的其他框架</c>
<c.magenta>对吗？</c>

00:07:22.943 --> 00:07:27.381 align:middle line:-2
<c.magenta>它是在iOS 10中开发的</c>
<c.magenta>而在iOS 11中 又重新开发了</c>

00:07:27.447 --> 00:07:28.348 align:middle line:-1
<c.magenta>我不知道你们是否注意到了</c>

00:07:28.415 --> 00:07:30.250 align:middle line:-1
<c.magenta>这些效果在测试版本中变得更棒了</c>

00:07:31.385 --> 00:07:32.319 align:middle line:-1
<c.magenta>在Metal之上</c>

00:07:33.954 --> 00:07:34.922 align:middle line:-1
<c.magenta>那么</c>

00:07:35.222 --> 00:07:36.190 align:middle line:-1
<c.magenta>这就是快速概览</c>

00:07:36.523 --> 00:07:38.258 align:middle line:-1
<c.magenta>我们就是逐渐深入介绍了这些层</c>

00:07:38.825 --> 00:07:40.961 align:middle line:-1
<c.magenta>我的目的不是要给你们详细地</c>

00:07:41.028 --> 00:07:42.729 align:middle line:-1
<c.magenta>解释每个东西都是做什么的</c>

00:07:42.796 --> 00:07:45.499 align:middle line:-2
<c.magenta>我只是想让你们知道</c>
<c.magenta>这些内容能在哪找到</c>

00:07:45.566 --> 00:07:46.700 align:middle line:-1
<c.magenta>所以如果你的</c>

00:07:46.767 --> 00:07:48.202 align:middle line:-1
<c.magenta>应用中有些问题需要解决的话</c>

00:07:48.669 --> 00:07:50.137 align:middle line:-1
<c.magenta>你就可以回忆起</c>

00:07:50.871 --> 00:07:54.074 align:middle line:-2
<c.magenta>我记得有个固件能实现这个功能</c>
<c.magenta>让我来查一下</c>

00:07:55.242 --> 00:07:57.744 align:middle line:-1
<c.magenta>为了让你们能更多地了解</c>

00:07:57.811 --> 00:08:00.013 align:middle line:-2
<c.magenta>如何使用它们</c>
<c.magenta>还有它们的工作原理</c>

00:07:57.811 --> 00:08:00.013 align:middle line:-2
<c.magenta>如何使用它们</c>
<c.magenta>还有它们的工作原理</c>

00:08:00.681 --> 00:08:02.482 align:middle line:-1
<c.magenta>我想让我的同事Warren上来做个演示</c>

00:08:08.522 --> 00:08:09.356 align:middle line:-1
<c.magenta>谢谢 Noah</c>

00:08:17.464 --> 00:08:19.900 align:middle line:-2
<c.magenta>在这一系列的演示中</c>
<c.magenta>我会给你们介绍下</c>

00:08:19.967 --> 00:08:21.902 align:middle line:-1
<c.magenta>刚才Noah提到过的一些框架</c>

00:08:21.969 --> 00:08:24.671 align:middle line:-1
<c.magenta>让我们从UIKit定制化开始看吧</c>

00:08:25.205 --> 00:08:26.740 align:middle line:-1
<c.magenta>先要说明的是</c>

00:08:26.807 --> 00:08:29.309 align:middle line:-1
<c.magenta>你不需要关注每一行代码</c>

00:08:29.376 --> 00:08:30.911 align:middle line:-1
<c.magenta>对于所着重标出或提到的代码</c>

00:08:31.311 --> 00:08:34.748 align:middle line:-2
<c.magenta>你可以在网上找到这些示例代码</c>
<c.magenta>你可以把代码下载了</c>

00:08:34.815 --> 00:08:36.549 align:middle line:-1
<c.magenta>然后根据自己的时间慢慢研究</c>

00:08:36.616 --> 00:08:38.519 align:middle line:-1
<c.magenta>在接下来的几分钟里</c>

00:08:38.585 --> 00:08:41.154 align:middle line:-1
<c.magenta>我会给你们介绍一些平台功能</c>

00:08:41.221 --> 00:08:44.324 align:middle line:-2
<c.magenta>还有你应该如何使用它们</c>
<c.magenta>来增强你应用的用户体验</c>

00:08:48.529 --> 00:08:50.030 align:middle line:-1
<c.magenta>首先我要给你们展示下</c>

00:08:50.097 --> 00:08:52.766 align:middle line:-2
<c.magenta>这个UIKit定制化例子</c>
<c.magenta>实现了什么功能</c>

00:08:55.969 --> 00:08:59.673 align:middle line:-2
<c.magenta>这里我有一个可能是</c>
<c.magenta>从视频编辑应用中得到的图片</c>

00:08:59.940 --> 00:09:02.309 align:middle line:-1
<c.magenta>它可以让我控制照片的白平衡</c>

00:08:59.940 --> 00:09:02.309 align:middle line:-1
<c.magenta>它可以让我控制照片的白平衡</c>

00:09:02.943 --> 00:09:05.612 align:middle line:-2
<c.magenta>如你所见</c>
<c.magenta>我已经修改了UI滑动条</c>

00:09:05.679 --> 00:09:06.947 align:middle line:-1
<c.magenta>图片底部的滑动条</c>

00:09:07.347 --> 00:09:11.218 align:middle line:-1
<c.magenta>带有表示每个滑动条实现功能的颜色</c>

00:09:11.652 --> 00:09:14.454 align:middle line:-1
<c.magenta>上面的滑动条会控制色温</c>

00:09:14.855 --> 00:09:17.324 align:middle line:-1
<c.magenta>而下面的滑动条会控制色彩</c>

00:09:17.558 --> 00:09:18.725 align:middle line:-1
<c.magenta>而这些滑动条结合起来</c>

00:09:18.792 --> 00:09:22.429 align:middle line:-1
<c.magenta>就能让我们控制照片中的白点</c>

00:09:25.098 --> 00:09:27.434 align:middle line:-1
<c.magenta>我现在想再加点功能</c>

00:09:27.501 --> 00:09:28.702 align:middle line:-1
<c.magenta>让我添加一个图片吧</c>

00:09:29.069 --> 00:09:31.505 align:middle line:-2
<c.magenta>我现在就实现一下</c>
<c.magenta>并且给你们展示下效果</c>

00:09:39.646 --> 00:09:41.615 align:middle line:-1
<c.magenta>如你所见 我将一个梯度图片</c>

00:09:41.682 --> 00:09:43.584 align:middle line:-2
<c.magenta>加到了每个滑动条上</c>
<c.magenta>而且滑动条的末尾是圆形的</c>

00:09:43.650 --> 00:09:46.353 align:middle line:-1
<c.magenta>这会让滑动条看上去更漂亮</c>

00:09:46.720 --> 00:09:50.023 align:middle line:-1
<c.magenta>还可以提示下这些滑动条是干什么用的</c>

00:09:50.624 --> 00:09:52.292 align:middle line:-1
<c.magenta>如果我现在调节这些滑动条的话</c>

00:09:52.359 --> 00:09:54.595 align:middle line:-1
<c.magenta>你会发现图像没有什么变化</c>

00:09:54.661 --> 00:09:55.662 align:middle line:-1
<c.magenta>在下个例子中</c>

00:09:55.729 --> 00:09:59.766 align:middle line:-2
<c.magenta>我会给你们介绍如何</c>
<c.magenta>真正地实现更改图像的效果</c>

00:10:00.801 --> 00:10:03.537 align:middle line:-1
<c.magenta>与此同时 我还会</c>

00:10:03.737 --> 00:10:08.108 align:middle line:-2
<c.magenta>更详细地解释下这个例子</c>
<c.magenta>这里我实例化了一个UI图像</c>

00:10:11.512 --> 00:10:14.548 align:middle line:-1
<c.magenta>然后使其大小是可调节的</c>

00:10:16.650 --> 00:10:18.151 align:middle line:-1
<c.magenta>利用UI图像的某个API</c>

00:10:18.485 --> 00:10:23.524 align:middle line:-2
<c.magenta>然后我就可以给每个滑动条</c>
<c.magenta>设置不同的图像了</c>

00:10:23.590 --> 00:10:26.493 align:middle line:-1
<c.magenta>最小追踪图像和最大追踪图像</c>

00:10:26.860 --> 00:10:28.128 align:middle line:-1
<c.magenta>随着我拖动滑动条</c>

00:10:28.195 --> 00:10:30.430 align:middle line:-1
<c.magenta>它就会重绘并且使用合适的图像</c>

00:10:30.731 --> 00:10:32.566 align:middle line:-1
<c.magenta>来绘制出已经追踪到的部分</c>

00:10:35.435 --> 00:10:37.504 align:middle line:-2
<c.magenta>我说过会给你们演示</c>
<c.magenta>如何实现这个效果的</c>

00:10:37.571 --> 00:10:38.872 align:middle line:-1
<c.magenta>现在我就告诉你们如何实现</c>

00:10:39.439 --> 00:10:40.307 align:middle line:-1
<c.magenta>那么</c>

00:10:40.607 --> 00:10:42.075 align:middle line:-1
<c.magenta>我会使用Core Image来实现</c>

00:10:43.043 --> 00:10:45.345 align:middle line:-1
<c.magenta>如你所见 这是个完全相同的UI</c>

00:10:45.412 --> 00:10:46.947 align:middle line:-1
<c.magenta>但现在当我调节滑动条的时候</c>

00:10:47.548 --> 00:10:49.917 align:middle line:-2
<c.magenta>我应该会进行调节的</c>
<c.magenta>因为这张照片是水下拍摄的</c>

00:10:49.983 --> 00:10:51.218 align:middle line:-1
<c.magenta>我想让颜色变得更暖一些</c>

00:10:51.485 --> 00:10:53.387 align:middle line:-1
<c.magenta>我会移除一点水藻的绿色</c>

00:10:55.355 --> 00:10:57.491 align:middle line:-1
<c.magenta>你可以看到照片实时地更新了</c>

00:10:58.125 --> 00:10:59.259 align:middle line:-1
<c.magenta>让我来介绍下这个功能是如何实现的</c>

00:11:06.800 --> 00:11:09.236 align:middle line:-2
<c.magenta>Noah已经提过了</c>
<c.magenta>Core Image有许多</c>

00:11:09.303 --> 00:11:10.470 align:middle line:-1
<c.magenta>可用的滤镜</c>

00:11:10.571 --> 00:11:12.606 align:middle line:-1
<c.magenta>这里我们所使用的滤镜</c>

00:11:13.173 --> 00:11:14.975 align:middle line:-1
<c.magenta>就是CI温度和色彩滤镜</c>

00:11:15.843 --> 00:11:17.211 align:middle line:-1
<c.magenta>值得一提的是</c>

00:11:17.678 --> 00:11:21.081 align:middle line:-2
<c.magenta>实际上不是CI滤镜解决了</c>
<c.magenta>Core Image中图像过滤的难题</c>

00:11:21.448 --> 00:11:24.518 align:middle line:-2
<c.magenta>解决了这些难题的是</c>
<c.magenta>一个叫作CIContext的对象</c>

00:11:24.918 --> 00:11:27.988 align:middle line:-2
<c.magenta>CIContext就是面向</c>
<c.magenta>所依赖硬件的接口</c>

00:11:28.055 --> 00:11:30.724 align:middle line:-1
<c.magenta>就是它实现了图像过滤</c>

00:11:30.991 --> 00:11:34.828 align:middle line:-2
<c.magenta>我已经写好了一个CIContext</c>
<c.magenta>我会在这个方法中直接用它</c>

00:11:36.129 --> 00:11:37.397 align:middle line:-1
<c.magenta>首先我要做的是</c>

00:11:37.464 --> 00:11:40.267 align:middle line:-2
<c.magenta>根据当前正被显示的照片</c>
<c.magenta>实例化一个CIImage</c>

00:11:40.334 --> 00:11:44.705 align:middle line:-2
<c.magenta>该照片是由我屏幕中的</c>
<c.magenta>UIImageView显示的</c>

00:11:46.206 --> 00:11:49.276 align:middle line:-1
<c.magenta>CI温度和色彩滤镜有很多不同的参数</c>

00:11:49.343 --> 00:11:52.980 align:middle line:-1
<c.magenta>可以让我控制白点</c>

00:11:53.313 --> 00:11:56.650 align:middle line:-2
<c.magenta>这些能让我控制白点的参数</c>
<c.magenta>叫作中性和目标中性矢量</c>

00:11:57.184 --> 00:12:01.154 align:middle line:-1
<c.magenta>每个参数都代表了一种特定色温和色彩</c>

00:11:57.184 --> 00:12:01.154 align:middle line:-1
<c.magenta>每个参数都代表了一种特定色温和色彩</c>

00:12:01.989 --> 00:12:03.457 align:middle line:-1
<c.magenta>我知道</c>

00:12:03.824 --> 00:12:08.562 align:middle line:-1
<c.magenta>我想要的色温和色彩是6500开氏度</c>

00:12:08.896 --> 00:12:13.033 align:middle line:-2
<c.magenta>以及完美的中性零</c>
<c.magenta>不会泛紫红色 也不会泛绿</c>

00:12:13.400 --> 00:12:15.836 align:middle line:-1
<c.magenta>我可以利用这些参数来构建一个矢量</c>

00:12:16.170 --> 00:12:19.907 align:middle line:-2
<c.magenta>然后我可以利用这些参数</c>
<c.magenta>构建另一个矢量</c>

00:12:19.973 --> 00:12:21.542 align:middle line:-1
<c.magenta>该矢量来自于我的滑动条的数值</c>

00:12:22.376 --> 00:12:25.412 align:middle line:-1
<c.magenta>接着我会新建一个词典来保存这些参数</c>

00:12:25.479 --> 00:12:29.082 align:middle line:-2
<c.magenta>其中包括了输入图像</c>
<c.magenta>我还会请求CI给我新建一个滤镜</c>

00:12:30.250 --> 00:12:32.152 align:middle line:-1
<c.magenta>根据CI温度和色彩</c>

00:12:33.587 --> 00:12:35.322 align:middle line:-1
<c.magenta>为了实现滤镜的功能</c>

00:12:36.690 --> 00:12:37.558 align:middle line:-1
<c.magenta>我要用一点</c>

00:12:37.624 --> 00:12:39.593 align:middle line:-2
<c.magenta>Grand Central Dispatch技术</c>
<c.magenta>来脱离主线程</c>

00:12:40.194 --> 00:12:42.896 align:middle line:-2
<c.magenta>因为图像处理是一个</c>
<c.magenta>相当繁重的操作</c>

00:12:43.697 --> 00:12:46.366 align:middle line:-1
<c.magenta>所以我会用到一个之前创建好的队列</c>

00:12:46.867 --> 00:12:49.469 align:middle line:-2
<c.magenta>然后请求我的上下文环境</c>
<c.magenta>创建一个CG图像</c>

00:12:49.536 --> 00:12:52.472 align:middle line:-1
<c.magenta>根据我刚刚创建的滤镜的输出图像</c>

00:12:52.806 --> 00:12:53.740 align:middle line:-1
<c.magenta>这样做所达到的效果就是</c>

00:12:53.807 --> 00:12:57.144 align:middle line:-2
<c.magenta>让需要使用滤镜的图像通过滤镜</c>
<c.magenta>应用滤镜的效果</c>

00:12:58.378 --> 00:12:59.246 align:middle line:-1
<c.magenta>而完成了这步之后</c>

00:12:59.313 --> 00:13:01.582 align:middle line:-1
<c.magenta>我会异步发送回主队列</c>

00:12:59.313 --> 00:13:01.582 align:middle line:-1
<c.magenta>我会异步发送回主队列</c>

00:13:02.082 --> 00:13:05.619 align:middle line:-2
<c.magenta>并且再一次在UI图像视图中</c>
<c.magenta>设置结果图像</c>

00:13:07.921 --> 00:13:09.056 align:middle line:-1
<c.magenta>有时候</c>

00:13:09.623 --> 00:13:11.425 align:middle line:-1
<c.magenta>仅使用UIKit或Core Image</c>

00:13:11.692 --> 00:13:13.227 align:middle line:-1
<c.magenta>或是其他的高级框架</c>

00:13:13.293 --> 00:13:14.628 align:middle line:-1
<c.magenta>是不够的</c>

00:13:14.695 --> 00:13:17.865 align:middle line:-1
<c.magenta>你需要当场绘制用户界面的元素</c>

00:13:18.465 --> 00:13:21.101 align:middle line:-2
<c.magenta>正如Noah提到过的</c>
<c.magenta>你可以使用Core Graphics</c>

00:13:21.168 --> 00:13:22.002 align:middle line:-1
<c.magenta>来实现这个功能</c>

00:13:22.669 --> 00:13:25.038 align:middle line:-2
<c.magenta>这是对于Core Graphics</c>
<c.magenta>非常简单的应用</c>

00:13:25.105 --> 00:13:27.374 align:middle line:-1
<c.magenta>比方说我想画个五角星</c>

00:13:30.444 --> 00:13:31.278 align:middle line:-1
<c.magenta>要实现这个功能</c>

00:13:32.045 --> 00:13:34.915 align:middle line:-2
<c.magenta>我会用到iOS 10中</c>
<c.magenta>引入的一个API</c>

00:13:35.349 --> 00:13:37.117 align:middle line:-2
<c.magenta>它叫作</c>
<c.magenta>UIGraphicsImageRenderer</c>

00:13:38.886 --> 00:13:42.489 align:middle line:-2
<c.magenta>它能让我轻松接入</c>
<c.magenta>Core Graphics的上下文环境</c>

00:13:42.756 --> 00:13:45.459 align:middle line:-1
<c.magenta>我就可以在里面发布绘画命令了</c>

00:13:46.293 --> 00:13:48.428 align:middle line:-2
<c.magenta>为了使用这个API</c>
<c.magenta>我需要</c>

00:13:49.663 --> 00:13:51.798 align:middle line:-1
<c.magenta>确定下来 我想在哪画这个星星</c>

00:13:53.467 --> 00:13:54.968 align:middle line:-1
<c.magenta>在本例中 是我视图的中心</c>

00:13:56.603 --> 00:13:59.239 align:middle line:-2
<c.magenta>我会以特定大小新建一个</c>
<c.magenta>UIGraphicsImageRenderer</c>

00:14:00.040 --> 00:14:02.776 align:middle line:-2
<c.magenta>然后调用图像的方法</c>
<c.magenta>此方法有一个代码段</c>

00:14:03.477 --> 00:14:05.812 align:middle line:-1
<c.magenta>我会把绘制命令发布在代码段中</c>

00:14:06.446 --> 00:14:08.248 align:middle line:-2
<c.magenta>它在这个渲染上下文环境中</c>
<c.magenta>给我传值</c>

00:14:08.615 --> 00:14:10.984 align:middle line:-1
<c.magenta>我可以从那里获得一个CG上下文环境</c>

00:14:11.385 --> 00:14:13.687 align:middle line:-1
<c.magenta>这个CG上下文环境有一大堆的方法</c>

00:14:14.054 --> 00:14:15.289 align:middle line:-1
<c.magenta>能让我实现像是</c>

00:14:15.455 --> 00:14:19.860 align:middle line:-2
<c.magenta>绘制路径 绘制文本信息</c>
<c.magenta>绘制图像 还有填充和画线这些功能</c>

00:14:21.228 --> 00:14:25.165 align:middle line:-2
<c.magenta>这里的数学问题不是很重要</c>
<c.magenta>最重要的就是这个API</c>

00:14:25.933 --> 00:14:28.435 align:middle line:-2
<c.magenta>在该上下文环境中</c>
<c.magenta>我要设置下填充的颜色</c>

00:14:28.836 --> 00:14:32.406 align:middle line:-2
<c.magenta>这里填充的颜色是黄色</c>
<c.magenta>因为星星是黄色的</c>

00:14:33.140 --> 00:14:36.109 align:middle line:-2
<c.magenta>然后我会将上下文环境中</c>
<c.magenta>当前的点放到</c>

00:14:36.176 --> 00:14:39.112 align:middle line:-2
<c.magenta>星星的上面</c>
<c.magenta>通过使用move方法</c>

00:14:39.613 --> 00:14:40.480 align:middle line:-1
<c.magenta>应该是moveTo方法</c>

00:14:42.082 --> 00:14:44.651 align:middle line:-2
<c.magenta>然后我会在循环中</c>
<c.magenta>加入一些代码</c>

00:14:45.085 --> 00:14:47.487 align:middle line:-1
<c.magenta>在五角星的内部点和外部点之间</c>

00:14:48.055 --> 00:14:50.424 align:middle line:-1
<c.magenta>我加完了代码之后 就可以填充该路径</c>

00:14:50.757 --> 00:14:52.926 align:middle line:0
<c.magenta>其效果就是会填充星星的轮廓</c>

00:14:52.993 --> 00:14:54.127 align:middle line:0
<c.magenta>并且创建你所见到的图像</c>

00:14:55.329 --> 00:14:58.165 align:middle line:0
<c.magenta>当然了</c>
<c.magenta>没有人想让一个巨大的星星</c>

00:14:58.232 --> 00:14:59.833 align:middle line:0
<c.magenta>孤零零地出现在应用的中间</c>

00:15:00.367 --> 00:15:01.335 align:middle line:0
<c.magenta>让我们再进一步</c>

00:15:01.401 --> 00:15:02.970 align:middle line:0
<c.magenta>谈一下你可以如何使用它</c>

00:15:03.036 --> 00:15:05.939 align:middle line:-1
<c.magenta>作为应用的用户界面元素</c>

00:15:08.041 --> 00:15:09.409 align:middle line:-2
<c.magenta>我们会通过</c>
<c.magenta>Core Animation来实现</c>

00:15:09.943 --> 00:15:14.014 align:middle line:-2
<c.magenta>Core Animation</c>
<c.magenta>十分擅长于呈现位图内容</c>

00:15:14.481 --> 00:15:16.483 align:middle line:-1
<c.magenta>我们可以使用刚刚生成的图像</c>

00:15:16.550 --> 00:15:18.051 align:middle line:-1
<c.magenta>作为CALayer的内容</c>

00:15:19.152 --> 00:15:20.687 align:middle line:-2
<c.magenta>这就是为了给你们展示下</c>
<c.magenta>我所追求的效果</c>

00:15:20.921 --> 00:15:26.059 align:middle line:-2
<c.magenta>这里我有一个按钮</c>
<c.magenta>UI按钮是很常见的</c>

00:15:26.894 --> 00:15:30.564 align:middle line:-2
<c.magenta>它们的使用情况会根据</c>
<c.magenta>上下文环境而有所不同</c>

00:15:31.465 --> 00:15:34.434 align:middle line:-2
<c.magenta>如果我想让这个UI按钮</c>
<c.magenta>看起来更好看的话</c>

00:15:34.501 --> 00:15:36.737 align:middle line:-1
<c.magenta>我就可以试着实现这样的效果</c>

00:15:38.672 --> 00:15:40.107 align:middle line:-1
<c.magenta>让我再给你们演示一次</c>

00:15:43.677 --> 00:15:44.611 align:middle line:-1
<c.magenta>挺可爱的 不是吗？</c>

00:15:44.678 --> 00:15:46.180 align:middle line:-1
<c.magenta>这个效果有点浮夸</c>

00:15:46.246 --> 00:15:47.881 align:middle line:-1
<c.magenta>你可能不会在应用中用到这样的效果</c>

00:15:47.948 --> 00:15:49.983 align:middle line:-1
<c.magenta>这个效果就是为了演示用的</c>

00:15:50.551 --> 00:15:51.852 align:middle line:-1
<c.magenta>让我们来说下如何实现这个效果</c>

00:15:55.789 --> 00:15:58.859 align:middle line:-1
<c.magenta>我会配置一下想要显示的星星的参数</c>

00:15:59.393 --> 00:16:01.895 align:middle line:-1
<c.magenta>然后我会给按钮添加一个动作</c>

00:15:59.393 --> 00:16:01.895 align:middle line:-1
<c.magenta>然后我会给按钮添加一个动作</c>

00:16:01.962 --> 00:16:04.598 align:middle line:-2
<c.magenta>来调用</c>
<c.magenta>playStarAnimation方法</c>

00:16:07.401 --> 00:16:08.435 align:middle line:-1
<c.magenta>这里我会创建一个循环</c>

00:16:08.502 --> 00:16:10.404 align:middle line:-1
<c.magenta>这个循环实际上是我想新建的星星数</c>

00:16:10.470 --> 00:16:12.239 align:middle line:-2
<c.magenta>我会给每个星星</c>
<c.magenta>都创建一个CALayer</c>

00:16:12.639 --> 00:16:14.708 align:middle line:-2
<c.magenta>CALayer可以实现</c>
<c.magenta>Core Animation</c>

00:16:14.942 --> 00:16:18.712 align:middle line:-1
<c.magenta>它在屏幕上有个位置</c>

00:16:18.779 --> 00:16:21.715 align:middle line:-2
<c.magenta>它可以被动画化 来回移动</c>
<c.magenta>并且它有自己的内容集</c>

00:16:22.916 --> 00:16:25.485 align:middle line:-1
<c.magenta>我会将它的内容设成cgImage</c>

00:16:25.786 --> 00:16:28.155 align:middle line:-1
<c.magenta>它代表的是我刚刚渲染的其中一个星星</c>

00:16:28.222 --> 00:16:30.023 align:middle line:-1
<c.magenta>我是使用刚才提到的类来渲染的</c>

00:16:31.792 --> 00:16:35.062 align:middle line:-2
<c.magenta>我会将每个星星的initialPosition</c>
<c.magenta>属性设成围绕按钮周围的圆形范围</c>

00:16:36.930 --> 00:16:38.765 align:middle line:-2
<c.magenta>并且将它的余量</c>
<c.magenta>设成initialSize</c>

00:16:40.267 --> 00:16:41.735 align:middle line:-1
<c.magenta>为了将它显示在屏幕上</c>

00:16:41.802 --> 00:16:44.471 align:middle line:-1
<c.magenta>我需要把它作为子层加到按钮的层上面</c>

00:16:47.341 --> 00:16:49.176 align:middle line:-1
<c.magenta>你肯定会发现 星星是有动画效果的</c>

00:16:49.243 --> 00:16:51.645 align:middle line:-1
<c.magenta>它们会从初始位置逐渐变远</c>

00:16:52.045 --> 00:16:53.814 align:middle line:-1
<c.magenta>伴随着从按钮中心发射出的光线</c>

00:16:54.481 --> 00:16:55.549 align:middle line:-1
<c.magenta>这里我要做一些数学运算</c>

00:16:55.616 --> 00:16:57.451 align:middle line:-1
<c.magenta>来计算一下星星的最终位置</c>

00:16:58.218 --> 00:17:00.320 align:middle line:-1
<c.magenta>然后我就能构造一个变换</c>

00:16:58.218 --> 00:17:00.320 align:middle line:-1
<c.magenta>然后我就能构造一个变换</c>

00:17:00.621 --> 00:17:05.157 align:middle line:-2
<c.magenta>该变换会同时旋转 放大</c>
<c.magenta>并且将层转换</c>

00:17:05.224 --> 00:17:06.159 align:middle line:-1
<c.magenta>到它的最终位置</c>

00:17:07.160 --> 00:17:08.729 align:middle line:-1
<c.magenta>我会把CABasicAnimation</c>

00:17:08.795 --> 00:17:11.298 align:middle line:-1
<c.magenta>插入到CALayer的初始位置</c>

00:17:11.365 --> 00:17:12.398 align:middle line:-1
<c.magenta>与其目标位置之间</c>

00:17:13.165 --> 00:17:14.968 align:middle line:-1
<c.magenta>我可以用个更复杂的动画效果</c>

00:17:15.035 --> 00:17:17.371 align:middle line:-2
<c.magenta>如果需要的话可以用</c>
<c.magenta>像是关键框动画之类的效果</c>

00:17:17.436 --> 00:17:18.672 align:middle line:-1
<c.magenta>使其沿着一个路径移动</c>

00:17:19.439 --> 00:17:21.974 align:middle line:-2
<c.magenta>我会将fromValue</c>
<c.magenta>设成当前的层转换</c>

00:17:22.041 --> 00:17:24.478 align:middle line:-2
<c.magenta>而将toValue</c>
<c.magenta>设成我刚刚构造的转换</c>

00:17:25.078 --> 00:17:27.047 align:middle line:-1
<c.magenta>我还会使用个定制的持续时间</c>

00:17:27.446 --> 00:17:29.583 align:middle line:-1
<c.magenta>因为默认的持续时间为0.25秒</c>

00:17:29.650 --> 00:17:31.985 align:middle line:-1
<c.magenta>这对于我想实现的效果来说有点太快了</c>

00:17:32.753 --> 00:17:34.454 align:middle line:-1
<c.magenta>我还会使用一个EaseOut方法</c>

00:17:35.189 --> 00:17:40.460 align:middle line:-1
<c.magenta>这样星星在接近目标位置的时候会变慢</c>

00:17:44.798 --> 00:17:47.434 align:middle line:-1
<c.magenta>这里我不会用太多的层</c>

00:17:47.501 --> 00:17:50.437 align:middle line:-1
<c.magenta>在几秒后我会从层的超视图中将其移除</c>

00:17:50.504 --> 00:17:51.505 align:middle line:-1
<c.magenta>当动画结束的时候</c>

00:17:56.243 --> 00:17:57.110 align:middle line:-1
<c.magenta>这些看上去都不错</c>

00:17:57.177 --> 00:17:58.178 align:middle line:-1
<c.magenta>但有时候你可能还想</c>

00:17:58.245 --> 00:18:00.480 align:middle line:-1
<c.magenta>更多的元素在屏幕上飞动</c>

00:17:58.245 --> 00:18:00.480 align:middle line:-1
<c.magenta>更多的元素在屏幕上飞动</c>

00:18:00.814 --> 00:18:02.549 align:middle line:-1
<c.magenta>对于这种情况你应该使用</c>

00:18:02.916 --> 00:18:05.953 align:middle line:-1
<c.magenta>一个高级别的图形框架</c>

00:18:06.186 --> 00:18:07.287 align:middle line:-1
<c.magenta>它是专门用来开发游戏的</c>

00:18:07.354 --> 00:18:10.090 align:middle line:-1
<c.magenta>但你也可以在你的应用中使用它们</c>

00:18:10.624 --> 00:18:12.292 align:middle line:-2
<c.magenta>让我们快速介绍一下</c>
<c.magenta>SpriteKit</c>

00:18:13.694 --> 00:18:14.761 align:middle line:-1
<c.magenta>这是个很相似的</c>

00:18:14.828 --> 00:18:17.297 align:middle line:-2
<c.magenta>我在SpriteKit中</c>
<c.magenta>创建的粒子效果</c>

00:18:18.098 --> 00:18:22.236 align:middle line:-2
<c.magenta>你可以很容易地</c>
<c.magenta>将其用在你应用的内容中</c>

00:18:22.569 --> 00:18:24.605 align:middle line:-2
<c.magenta>让我来介绍下 你应该如何</c>
<c.magenta>将SpriteKit轻松整合到</c>

00:18:24.838 --> 00:18:26.106 align:middle line:-1
<c.magenta>你自己的应用中</c>

00:18:30.043 --> 00:18:32.412 align:middle line:-1
<c.magenta>这差不多就是所有的代码了</c>

00:18:32.579 --> 00:18:34.815 align:middle line:-1
<c.magenta>我们之所有能很轻松地实现它</c>

00:18:35.349 --> 00:18:39.620 align:middle line:-2
<c.magenta>其实就是因为这个</c>
<c.magenta>我之前创建好的SKS文件</c>

00:18:40.921 --> 00:18:43.790 align:middle line:-2
<c.magenta>而且Xcode对于粒子系统</c>
<c.magenta>有个挺不错的可视化编辑器</c>

00:18:44.324 --> 00:18:48.328 align:middle line:-2
<c.magenta>你在这看不到纹理</c>
<c.magenta>因为我是通过变成的方式创建它的</c>

00:18:48.795 --> 00:18:51.198 align:middle line:-2
<c.magenta>但是你会发现</c>
<c.magenta>如果我打开Xcode中的检查器</c>

00:18:51.532 --> 00:18:54.501 align:middle line:-1
<c.magenta>我实际上可以控制许多参数</c>

00:18:54.568 --> 00:18:57.004 align:middle line:-1
<c.magenta>也就是这个粒子系统的参数</c>

00:18:57.804 --> 00:19:00.974 align:middle line:-2
<c.magenta>包括像是生命周期内的透明度</c>
<c.magenta>初始速度</c>

00:18:57.804 --> 00:19:00.974 align:middle line:-2
<c.magenta>包括像是生命周期内的透明度</c>
<c.magenta>初始速度</c>

00:19:01.041 --> 00:19:04.344 align:middle line:-1
<c.magenta>还有它速度的分布参数等等</c>

00:19:05.412 --> 00:19:08.148 align:middle line:-1
<c.magenta>这样我就能通过视觉验证</c>

00:19:08.215 --> 00:19:10.184 align:middle line:-1
<c.magenta>我在这个粒子系统中要实现的效果</c>

00:19:10.651 --> 00:19:12.019 align:middle line:-1
<c.magenta>更棒的是我做完了这些操作后</c>

00:19:12.085 --> 00:19:14.021 align:middle line:-2
<c.magenta>根本不用再写任何代码</c>
<c.magenta>就能实现这个效果</c>

00:19:14.621 --> 00:19:17.090 align:middle line:-2
<c.magenta>相关代码其实已经被</c>
<c.magenta>保存在其SKS文件中了</c>

00:19:19.059 --> 00:19:20.027 align:middle line:-1
<c.magenta>让我们再回来</c>

00:19:20.093 --> 00:19:24.064 align:middle line:-2
<c.magenta>讲一下如何将SpriteKit</c>
<c.magenta>集成到你的应用中</c>

00:19:24.565 --> 00:19:26.600 align:middle line:-1
<c.magenta>不管要显示什么内容</c>

00:19:26.667 --> 00:19:28.235 align:middle line:-1
<c.magenta>我都得创建一个SKScene</c>

00:19:28.869 --> 00:19:32.005 align:middle line:-2
<c.magenta>SKScene就是你</c>
<c.magenta>所有对象的生存阶段</c>

00:19:32.606 --> 00:19:36.076 align:middle line:-2
<c.magenta>SKScene通过SKView</c>
<c.magenta>被呈现在你的应用中</c>

00:19:36.577 --> 00:19:37.778 align:middle line:-1
<c.magenta>这里我创建了一个SKScene</c>

00:19:37.845 --> 00:19:40.848 align:middle line:-1
<c.magenta>它有着与要呈现的视图相同的大小</c>

00:19:40.914 --> 00:19:42.549 align:middle line:-1
<c.magenta>然后我会在视图上呈现这个场景</c>

00:19:43.550 --> 00:19:45.152 align:middle line:-2
<c.magenta>然后我会创建一个</c>
<c.magenta>SKEmitterNode</c>

00:19:45.219 --> 00:19:48.222 align:middle line:-1
<c.magenta>它会载入粒子系统的参数</c>

00:19:49.089 --> 00:19:52.960 align:middle line:-1
<c.magenta>然后它还会驱动粒子动画</c>

00:19:53.026 --> 00:19:54.161 align:middle line:-1
<c.magenta>在它运行的时候</c>

00:19:54.895 --> 00:19:57.464 align:middle line:-2
<c.magenta>我还想创建一个著名的</c>
<c.magenta>starImages对象</c>

00:19:57.631 --> 00:20:01.335 align:middle line:-2
<c.magenta>然后在我的发射器上将其设为纹理</c>
<c.magenta>这样每个粒子就都有星星的形状</c>

00:19:57.631 --> 00:20:01.335 align:middle line:-2
<c.magenta>然后在我的发射器上将其设为纹理</c>
<c.magenta>这样每个粒子就都有星星的形状</c>

00:20:02.369 --> 00:20:03.904 align:middle line:-1
<c.magenta>我会把它放到屏幕的中间</c>

00:20:04.538 --> 00:20:07.574 align:middle line:-2
<c.magenta>接着我会把这个发射器</c>
<c.magenta>添加到场景的孩子类中</c>

00:20:07.741 --> 00:20:08.876 align:middle line:-1
<c.magenta>这就是所有你要做的事情了</c>

00:20:08.942 --> 00:20:10.077 align:middle line:-1
<c.magenta>我不需要开始动画化</c>

00:20:10.477 --> 00:20:13.914 align:middle line:-2
<c.magenta>SpriteKit会接管</c>
<c.magenta>并且开始运行动画化</c>

00:20:15.349 --> 00:20:18.352 align:middle line:-2
<c.magenta>2D效果挺棒的</c>
<c.magenta>不过你们知道什么会更酷吗？3D效果</c>

00:20:18.852 --> 00:20:22.689 align:middle line:-2
<c.magenta>所以让我们在最后一个例子中</c>
<c.magenta>讲一下SceneKit的基本内容吧</c>

00:20:24.124 --> 00:20:25.425 align:middle line:-1
<c.magenta>这里有一个类似的演示</c>

00:20:25.492 --> 00:20:28.095 align:middle line:-2
<c.magenta>唯一不同的是</c>
<c.magenta>你会发现 星星在到处飞</c>

00:20:28.161 --> 00:20:29.196 align:middle line:-1
<c.magenta>互相反弹</c>

00:20:29.530 --> 00:20:32.366 align:middle line:-2
<c.magenta>最重要的是</c>
<c.magenta>它们是3D的效果 看起来更真实了</c>

00:20:33.066 --> 00:20:36.136 align:middle line:-2
<c.magenta>让我们来看一下</c>
<c.magenta>SceneKit的基本内容吧</c>

00:20:37.871 --> 00:20:40.541 align:middle line:-2
<c.magenta>在SceneKit中有个跟</c>
<c.magenta>SKScene相似的内容</c>

00:20:40.607 --> 00:20:43.544 align:middle line:-2
<c.magenta>它叫作</c>
<c.magenta>S…in SceneKit to…</c>

00:20:45.312 --> 00:20:52.085 align:middle line:-2
<c.magenta>在SceneKit中有个与</c>
<c.magenta>SpriteKit中SKScene相类似的类</c>

00:20:52.152 --> 00:20:53.220 align:middle line:-1
<c.magenta>那就是SC</c>

00:20:55.355 --> 00:20:58.759 align:middle line:-2
<c.magenta>那就是SCNScene</c>
<c.magenta>就跟之前提到的一样</c>

00:20:58.825 --> 00:21:00.093 align:middle line:-1
<c.magenta>它保存了你</c>

00:20:58.825 --> 00:21:00.093 align:middle line:-1
<c.magenta>它保存了你</c>

00:21:00.160 --> 00:21:01.595 align:middle line:-1
<c.magenta>场景中所有的对象</c>

00:21:02.062 --> 00:21:03.730 align:middle line:-1
<c.magenta>我会把它设成个很漂亮的星场文字</c>

00:21:03.797 --> 00:21:05.632 align:middle line:-1
<c.magenta>把它的背景设成星场纹理</c>

00:21:06.033 --> 00:21:08.168 align:middle line:-1
<c.magenta>不过为了将它显示出来</c>

00:21:08.235 --> 00:21:09.670 align:middle line:-1
<c.magenta>我们还需要创建一个节点</c>

00:21:09.970 --> 00:21:12.439 align:middle line:-2
<c.magenta>在SCNCamera中</c>
<c.magenta>表示我们的观点</c>

00:21:13.073 --> 00:21:14.975 align:middle line:-1
<c.magenta>我可以在这个照相机上设置很多属性</c>

00:21:15.042 --> 00:21:17.244 align:middle line:-1
<c.magenta>不过我现在只关心它的位置</c>

00:21:17.611 --> 00:21:20.347 align:middle line:-2
<c.magenta>我会把它放到离初始位置</c>
<c.magenta>往后的几个单位</c>

00:21:21.315 --> 00:21:25.419 align:middle line:-1
<c.magenta>这样它就可以指向星星粒子系统了</c>

00:21:26.220 --> 00:21:29.122 align:middle line:-2
<c.magenta>接着我会把它作为孩子节点</c>
<c.magenta>添加到场景的根节点上</c>

00:21:29.890 --> 00:21:33.093 align:middle line:-1
<c.magenta>我现在还没有在屏幕上显示任何内容</c>

00:21:33.660 --> 00:21:36.697 align:middle line:-2
<c.magenta>所以现在我要使用这个叫</c>
<c.magenta>Model I/O的框架</c>

00:21:37.030 --> 00:21:40.534 align:middle line:-2
<c.magenta>Model I/O有很多</c>
<c.magenta>处理3D数据的功能</c>

00:21:41.335 --> 00:21:43.837 align:middle line:-1
<c.magenta>在本例中 我会载入一个3D模型</c>

00:21:43.904 --> 00:21:47.174 align:middle line:-2
<c.magenta>该模型是我之前以</c>
<c.magenta>MDLAsset的形式创建的</c>

00:21:48.408 --> 00:21:51.912 align:middle line:-2
<c.magenta>在SceneKit和Model I/O间</c>
<c.magenta>有很多的互操作</c>

00:21:52.312 --> 00:21:55.148 align:middle line:-2
<c.magenta>我可以提取一个</c>
<c.magenta>SCNGeometry</c>

00:21:55.449 --> 00:22:00.287 align:middle line:-2
<c.magenta>它是通过我刚才载入的</c>
<c.magenta>MDL mesh得到的</c>

00:21:55.449 --> 00:22:00.287 align:middle line:-2
<c.magenta>它是通过我刚才载入的</c>
<c.magenta>MDL mesh得到的</c>

00:22:02.322 --> 00:22:03.257 align:middle line:-1
<c.magenta>这个模型</c>

00:22:03.323 --> 00:22:05.859 align:middle line:-1
<c.magenta>没有任何与它相关联的材料信息</c>

00:22:06.260 --> 00:22:08.629 align:middle line:-2
<c.magenta>我可以通过编程来创建一个</c>
<c.magenta>SCNMaterial对象</c>

00:22:08.695 --> 00:22:12.499 align:middle line:-2
<c.magenta>并且将漫射色设成</c>
<c.magenta>跟之前演示一样的黄色</c>

00:22:13.834 --> 00:22:15.435 align:middle line:-1
<c.magenta>最后 为了点亮我的对象</c>

00:22:15.502 --> 00:22:19.106 align:middle line:-2
<c.magenta>我需要创建一个SCNLight</c>
<c.magenta>并且将它关联到一个节点上</c>

00:22:19.439 --> 00:22:21.175 align:middle line:-1
<c.magenta>还要给它提供一些属性</c>

00:22:21.575 --> 00:22:23.443 align:middle line:-1
<c.magenta>包括位置 光的类型</c>

00:22:24.411 --> 00:22:26.513 align:middle line:-2
<c.magenta>SceneKit有很多</c>
<c.magenta>不同类型的光效</c>

00:22:26.580 --> 00:22:28.348 align:middle line:-2
<c.magenta>包括方向性的 点式的</c>
<c.magenta>还有聚光灯式的</c>

00:22:28.682 --> 00:22:30.784 align:middle line:-1
<c.magenta>你可以选个最适合你用的</c>

00:22:32.419 --> 00:22:34.988 align:middle line:-1
<c.magenta>接着我要开始动画化了</c>

00:22:35.055 --> 00:22:36.823 align:middle line:-2
<c.magenta>通过调用</c>
<c.magenta>startStarEmitter这个方法</c>

00:22:37.524 --> 00:22:39.359 align:middle line:-1
<c.magenta>这个方法会新建一个定时器</c>

00:22:40.260 --> 00:22:43.163 align:middle line:-1
<c.magenta>这个定时器会每秒运行多次</c>

00:22:43.230 --> 00:22:45.465 align:middle line:-1
<c.magenta>并且新建一个SCNNode</c>

00:22:45.732 --> 00:22:48.502 align:middle line:-1
<c.magenta>它有一个我刚才加载的几何图形的实例</c>

00:22:49.303 --> 00:22:50.437 align:middle line:-1
<c.magenta>我会把它们都加进来</c>

00:22:50.504 --> 00:22:53.373 align:middle line:-2
<c.magenta>随着我将它们引入到场景中</c>
<c.magenta>引入到根节点上</c>

00:22:53.440 --> 00:22:55.676 align:middle line:-2
<c.magenta>并且给每个图形都关联一个</c>
<c.magenta>physicsBody</c>

00:22:55.943 --> 00:23:00.447 align:middle line:-1
<c.magenta>这样它就免费获得了符合物理学的动画</c>

00:22:55.943 --> 00:23:00.447 align:middle line:-1
<c.magenta>这样它就免费获得了符合物理学的动画</c>

00:23:00.981 --> 00:23:03.383 align:middle line:-1
<c.magenta>接着我会新建一个随机上升速度</c>

00:23:03.450 --> 00:23:04.952 align:middle line:-1
<c.magenta>这样可以更多样性一点</c>

00:23:05.886 --> 00:23:09.223 align:middle line:-2
<c.magenta>最后我会把每个星星</c>
<c.magenta>从它的父节点中移除</c>

00:23:09.423 --> 00:23:12.025 align:middle line:-2
<c.magenta>在几秒之后</c>
<c.magenta>这么做是为了清除内存</c>

00:23:13.527 --> 00:23:14.895 align:middle line:-1
<c.magenta>这些演示是为了</c>

00:23:14.962 --> 00:23:17.497 align:middle line:-1
<c.magenta>给你们介绍一些基本功能</c>

00:23:17.831 --> 00:23:19.900 align:middle line:-1
<c.magenta>也就是我们系统上图形框架的基本功能</c>

00:23:20.734 --> 00:23:24.938 align:middle line:-2
<c.magenta>现在我想请回Noah来给你们</c>
<c.magenta>深入介绍一下Core Animation</c>

00:23:32.246 --> 00:23:33.080 align:middle line:-1
<c.magenta>谢谢 Warren</c>

00:23:35.682 --> 00:23:39.386 align:middle line:-2
<c.magenta>你们有多少人已经用过</c>
<c.magenta>Core Animation了呢？</c>

00:23:40.654 --> 00:23:41.755 align:middle line:-2
<c.magenta>很好</c>
<c.magenta>我很高兴能听到这一点</c>

00:23:42.523 --> 00:23:45.726 align:middle line:-2
<c.magenta>你们有多少人在使用它的时候遇到了</c>
<c.magenta>一些奇怪的或者不能预见的问题呢？</c>

00:23:46.927 --> 00:23:47.761 align:middle line:-1
<c.magenta>是的</c>

00:23:48.929 --> 00:23:52.165 align:middle line:-1
<c.magenta>CA有一些关键的概念</c>

00:23:52.232 --> 00:23:54.902 align:middle line:-1
<c.magenta>有时候不是马上就能明白</c>

00:23:55.435 --> 00:23:57.304 align:middle line:-1
<c.magenta>所以就很容易在这些概念上遇到问题</c>

00:23:57.371 --> 00:23:58.772 align:middle line:-1
<c.magenta>所以我想给你们介绍下这些问题</c>

00:23:59.239 --> 00:24:03.377 align:middle line:-2
<c.magenta>并且给你们解释下问题到底出在哪里</c>
<c.magenta>以及为什么会出问题</c>

00:23:59.239 --> 00:24:03.377 align:middle line:-2
<c.magenta>并且给你们解释下问题到底出在哪里</c>
<c.magenta>以及为什么会出问题</c>

00:24:03.710 --> 00:24:05.179 align:middle line:-1
<c.magenta>我可以直接给你们答案</c>

00:24:05.245 --> 00:24:06.079 align:middle line:-1
<c.magenta>在很多这种例子当中</c>

00:24:06.146 --> 00:24:07.714 align:middle line:-1
<c.magenta>答案是非常简单的</c>

00:24:08.015 --> 00:24:11.151 align:middle line:-2
<c.magenta>不过我觉得</c>
<c.magenta>知道为什么会出问题更为重要</c>

00:24:11.218 --> 00:24:13.754 align:middle line:-1
<c.magenta>在你开始解决问题之前</c>

00:24:14.888 --> 00:24:18.692 align:middle line:-1
<c.magenta>让我们从动画化开始讲起吧</c>

00:24:18.759 --> 00:24:23.463 align:middle line:-2
<c.magenta>它是非常重要的 对于…</c>
<c.magenta>我不是有意这么说的</c>

00:24:24.665 --> 00:24:25.499 align:middle line:-1
<c.magenta>让我们回到正题</c>

00:24:27.067 --> 00:24:30.003 align:middle line:-1
<c.magenta>有一个问题是你会经常碰到的</c>

00:24:30.070 --> 00:24:32.806 align:middle line:-1
<c.magenta>在你刚开始接触CA动画的时候</c>

00:24:33.373 --> 00:24:36.043 align:middle line:-1
<c.magenta>你会新建一个动画 把它加到层上</c>

00:24:36.343 --> 00:24:39.012 align:middle line:-2
<c.magenta>你可以看到</c>
<c.magenta>层会从点A移动到点B</c>

00:24:39.546 --> 00:24:41.949 align:middle line:-2
<c.magenta>然后它会跳回来</c>
<c.magenta>你就会说“这太奇怪了”</c>

00:24:43.717 --> 00:24:47.654 align:middle line:-1
<c.magenta>而问题应该是出在调用了模型</c>

00:24:47.721 --> 00:24:48.889 align:middle line:-1
<c.magenta>和表示层的内容上面</c>

00:24:48.956 --> 00:24:52.526 align:middle line:-1
<c.magenta>有两个东西是马上就出现的</c>

00:24:52.593 --> 00:24:54.795 align:middle line:-1
<c.magenta>了解它们之间的区别</c>

00:24:54.862 --> 00:24:56.196 align:middle line:-1
<c.magenta>对于搞清楚问题出现的原因是挺重要的</c>

00:24:57.798 --> 00:24:59.833 align:middle line:-1
<c.magenta>你经常需要进行交互的布局</c>

00:25:00.000 --> 00:25:02.836 align:middle line:-2
<c.magenta>你要在它上面设置属性</c>
<c.magenta>还有添加动画等等</c>

00:25:03.203 --> 00:25:04.071 align:middle line:-1
<c.magenta>就是模型层</c>

00:25:04.771 --> 00:25:07.441 align:middle line:-1
<c.magenta>而显示在屏幕上的是表示层</c>

00:25:08.141 --> 00:25:10.344 align:middle line:-1
<c.magenta>表示层有点像是模型层的复制</c>

00:25:10.410 --> 00:25:13.447 align:middle line:-1
<c.magenta>它会根据模型层的状态来计算每个框</c>

00:25:13.747 --> 00:25:16.650 align:middle line:-1
<c.magenta>还有模型层当时所有的动画</c>

00:25:17.684 --> 00:25:20.454 align:middle line:-1
<c.magenta>而在上个例子中出现的问题就是</c>

00:25:20.821 --> 00:25:22.890 align:middle line:-1
<c.magenta>你在这个时间点加入了动画</c>

00:25:24.157 --> 00:25:26.593 align:middle line:-1
<c.magenta>你可以发现</c>

00:25:27.461 --> 00:25:29.730 align:middle line:-1
<c.magenta>表示层也跟着添加了动画</c>

00:25:29.796 --> 00:25:31.431 align:middle line:-1
<c.magenta>但是当动画效果结束的时候</c>

00:25:31.498 --> 00:25:33.267 align:middle line:-1
<c.magenta>它就变回了模型层所显示的内容</c>

00:25:35.035 --> 00:25:37.237 align:middle line:-1
<c.magenta>如果你上网看一下的话</c>

00:25:37.304 --> 00:25:40.641 align:middle line:-2
<c.magenta>就会发现有好多人</c>
<c.magenta>给出了错误的解决方案</c>

00:25:42.209 --> 00:25:45.979 align:middle line:0
<c.magenta>他们会说</c>
<c.magenta>“将动画设成结束时不会被移除”</c>

00:25:46.313 --> 00:25:48.448 align:middle line:0
<c.magenta>“将动画设成影片模式就解决了”</c>

00:25:50.184 --> 00:25:54.288 align:middle line:0
<c.magenta>而问题在于这样的解决方案</c>
<c.magenta>会带来一些不一致性</c>

00:25:54.354 --> 00:25:55.989 align:middle line:0
<c.magenta>因为在你的动画结束之后</c>

00:25:56.390 --> 00:25:58.458 align:middle line:0
<c.magenta>模型层还有它的初始值</c>

00:25:59.126 --> 00:26:00.827 align:middle line:0
<c.magenta>这看起来是对的</c>

00:25:59.126 --> 00:26:00.827 align:middle line:0
<c.magenta>这看起来是对的</c>

00:26:01.228 --> 00:26:03.864 align:middle line:0
<c.magenta>但是如果你看一下这两个图像的属性值</c>

00:26:04.298 --> 00:26:07.000 align:middle line:0
<c.magenta>就会发现表示层所显示的内容</c>
<c.magenta>和模型层不太一样</c>

00:26:07.835 --> 00:26:09.036 align:middle line:0
<c.magenta>这就会导致问题的出现</c>

00:26:09.436 --> 00:26:12.606 align:middle line:0
<c.magenta>当你要在一层上对齐某个物体的时候</c>

00:26:12.673 --> 00:26:14.875 align:middle line:-2
<c.magenta>该物体是你之前动画化了的</c>
<c.magenta>你将它设成层上的位置</c>

00:26:15.242 --> 00:26:18.679 align:middle line:-2
<c.magenta>而这个位置是它差不多两分钟前</c>
<c.magenta>所在的位置 这就很奇怪了</c>

00:26:18.879 --> 00:26:20.147 align:middle line:-1
<c.magenta>这样子说不通 对吧？</c>

00:26:21.748 --> 00:26:25.152 align:middle line:0
<c.magenta>幸运的是 这个问题的解决措施很简单</c>

00:26:25.219 --> 00:26:27.020 align:middle line:0
<c.magenta>你可以完全忘掉</c>

00:26:27.087 --> 00:26:28.755 align:middle line:0
<c.magenta>我刚才所解释的那些概念性的东西</c>

00:26:29.456 --> 00:26:31.225 align:middle line:-1
<c.magenta>你只需要</c>

00:26:31.291 --> 00:26:33.227 align:middle line:-1
<c.magenta>在将动画添加到层上的时候</c>

00:26:33.927 --> 00:26:36.230 align:middle line:-1
<c.magenta>同时设置层的模型属性</c>

00:26:37.264 --> 00:26:40.133 align:middle line:-1
<c.magenta>这样的话 在动画开始的时候</c>

00:26:40.200 --> 00:26:42.002 align:middle line:-1
<c.magenta>模型层会跳到它的最终状态</c>

00:26:42.970 --> 00:26:44.605 align:middle line:-1
<c.magenta>而表示层能平滑地动画化</c>

00:26:44.972 --> 00:26:47.107 align:middle line:-1
<c.magenta>然后它们就是一致的了</c>

00:26:47.608 --> 00:26:48.442 align:middle line:-1
<c.magenta>更棒的是</c>

00:26:48.642 --> 00:26:51.478 align:middle line:-1
<c.magenta>在你的模型层上就不会再有动画</c>

00:26:51.912 --> 00:26:53.814 align:middle line:-1
<c.magenta>干扰状态的设定</c>

00:26:53.881 --> 00:26:56.283 align:middle line:-1
<c.magenta>以致于在后面可能会出现问题了</c>

00:26:57.718 --> 00:27:01.455 align:middle line:-1
<c.magenta>而它的代码就是这样的</c>

00:26:57.718 --> 00:27:01.455 align:middle line:-1
<c.magenta>而它的代码就是这样的</c>

00:27:01.622 --> 00:27:02.623 align:middle line:-1
<c.magenta>首先你要有个动画</c>

00:27:03.290 --> 00:27:05.692 align:middle line:-2
<c.magenta>你要设定你的duration</c>
<c.magenta>你的fromValue和toValue</c>

00:27:05.959 --> 00:27:07.995 align:middle line:-1
<c.magenta>然后在你将它添加到层上的时候</c>

00:27:08.061 --> 00:27:10.631 align:middle line:-1
<c.magenta>需要同时在层上设定实际的属性值</c>

00:27:11.031 --> 00:27:12.132 align:middle line:-1
<c.magenta>就是这么简单</c>

00:27:13.634 --> 00:27:16.069 align:middle line:-1
<c.magenta>你需要注意下模型 表示层二分法</c>

00:27:16.737 --> 00:27:19.940 align:middle line:-2
<c.magenta>还有在你添加动画的时候</c>
<c.magenta>要将最终状态应用到你的层上</c>

00:27:22.843 --> 00:27:24.344 align:middle line:-1
<c.magenta>下面我想介绍的</c>

00:27:24.411 --> 00:27:28.348 align:middle line:-2
<c.magenta>问题是我不想承认</c>
<c.magenta>但确实遇到过很多次的</c>

00:27:29.383 --> 00:27:32.653 align:middle line:-1
<c.magenta>就是转换和框之间的交叉</c>

00:27:33.687 --> 00:27:35.489 align:middle line:-1
<c.magenta>你们对于框这个概念已经相当熟悉了</c>

00:27:35.556 --> 00:27:38.525 align:middle line:-2
<c.magenta>你可以设定这个矩形来定义</c>
<c.magenta>你的层在哪以及它有多大</c>

00:27:40.060 --> 00:27:41.929 align:middle line:-1
<c.magenta>在你设置好层之后</c>

00:27:42.930 --> 00:27:44.398 align:middle line:-1
<c.magenta>你想要缩小它</c>

00:27:44.765 --> 00:27:47.768 align:middle line:-1
<c.magenta>通过转换把它缩小到百分之25大小</c>

00:27:49.403 --> 00:27:51.672 align:middle line:-1
<c.magenta>然后在你代码的某个地方</c>

00:27:51.972 --> 00:27:52.973 align:middle line:-1
<c.magenta>你将框又设回了原来的大小</c>

00:27:53.674 --> 00:27:55.976 align:middle line:-1
<c.magenta>然后你的层就变回了原来的大小</c>

00:27:58.011 --> 00:27:59.646 align:middle line:-1
<c.magenta>这看起来没什么问题 对吗？</c>

00:28:00.914 --> 00:28:05.219 align:middle line:-2
<c.magenta>但是当你设置层上的另一个转换时</c>
<c.magenta>就会出现问题</c>

00:28:05.285 --> 00:28:07.454 align:middle line:-1
<c.magenta>换句话说 就是你移除了已有的转换</c>

00:28:07.688 --> 00:28:08.655 align:middle line:-1
<c.magenta>而设置了一些新的转换</c>

00:28:09.356 --> 00:28:10.757 align:middle line:-1
<c.magenta>假如说你想旋转这个层</c>

00:28:11.725 --> 00:28:14.561 align:middle line:-1
<c.magenta>将其保持原有的大小 或是改变大小</c>

00:28:15.095 --> 00:28:17.664 align:middle line:-2
<c.magenta>这里你要设置一个</c>
<c.magenta>CGAffineTransform</c>

00:28:18.298 --> 00:28:22.035 align:middle line:-2
<c.magenta>给它一个旋转角度</c>
<c.magenta>然后你的层就会实现这样的效果</c>

00:28:23.070 --> 00:28:23.937 align:middle line:-1
<c.magenta>这样是不对的</c>

00:28:25.806 --> 00:28:27.374 align:middle line:-1
<c.magenta>为什么会出现这样的问题呢？</c>

00:28:28.442 --> 00:28:34.648 align:middle line:-2
<c.magenta>你需要知道的是</c>
<c.magenta>框是从外面开始算的层的大小</c>

00:28:34.848 --> 00:28:36.683 align:middle line:-1
<c.magenta>而边是从里面开始算的层的大小</c>

00:28:37.017 --> 00:28:40.354 align:middle line:-1
<c.magenta>如果你询问层框在哪里的话</c>

00:28:40.420 --> 00:28:42.422 align:middle line:-1
<c.magenta>它是通过边和转换进行计算的</c>

00:28:43.390 --> 00:28:47.361 align:middle line:-2
<c.magenta>换句话说</c>
<c.magenta>当你的层恢复其初始大小的时候</c>

00:28:47.995 --> 00:28:49.930 align:middle line:-1
<c.magenta>它实际上是四倍的大小</c>

00:28:49.997 --> 00:28:51.765 align:middle line:-1
<c.magenta>因为它上面还有比例转换</c>

00:28:52.165 --> 00:28:54.535 align:middle line:-2
<c.magenta>你告诉它“在屏幕上</c>
<c.magenta>我想要这么大的尺寸”</c>

00:28:54.735 --> 00:28:57.070 align:middle line:-1
<c.magenta>它会按比例缩小四倍</c>

00:28:57.137 --> 00:28:59.540 align:middle line:-2
<c.magenta>它就会说“好的 我需要</c>
<c.magenta>比初始尺寸大四倍”</c>

00:29:00.040 --> 00:29:03.076 align:middle line:-2
<c.magenta>这样看起来是没问题的</c>
<c.magenta>因为它在屏幕上看上去是同样的大小</c>

00:29:03.410 --> 00:29:04.945 align:middle line:-1
<c.magenta>但是当你取消了转换的设置时</c>

00:29:05.012 --> 00:29:07.714 align:middle line:-1
<c.magenta>它就会恢复到其初始的巨大尺寸</c>

00:29:09.082 --> 00:29:13.187 align:middle line:-1
<c.magenta>总之如果你要使用转换的话</c>

00:29:13.253 --> 00:29:15.155 align:middle line:-1
<c.magenta>请在使用框属性时一定要小心</c>

00:29:15.222 --> 00:29:18.725 align:middle line:-1
<c.magenta>你最好不要仅设置框</c>

00:29:19.193 --> 00:29:23.497 align:middle line:-2
<c.magenta>你需要考虑下</c>
<c.magenta>你所希望的层的大小和位置</c>

00:29:24.031 --> 00:29:28.602 align:middle line:-2
<c.magenta>换句话说 在本例中</c>
<c.magenta>就是你想要的框的宽度和高度</c>

00:29:28.869 --> 00:29:30.871 align:middle line:-1
<c.magenta>而位置就是框的中心</c>

00:29:32.039 --> 00:29:33.407 align:middle line:-1
<c.magenta>差不多就是这样了</c>

00:29:34.107 --> 00:29:37.211 align:middle line:-2
<c.magenta>如果框被转换所影响了</c>
<c.magenta>它们就会以一种奇怪的方式进行交互</c>

00:29:37.277 --> 00:29:39.713 align:middle line:-2
<c.magenta>如果你将它们结合到一起</c>
<c.magenta>你应该会碰到很糟糕的问题</c>

00:29:40.080 --> 00:29:41.782 align:middle line:-1
<c.magenta>所以请你设置下边和位置吧</c>

00:29:41.849 --> 00:29:43.150 align:middle line:-1
<c.magenta>这样你就能省去很多的烦恼</c>

00:29:46.186 --> 00:29:47.387 align:middle line:-1
<c.magenta>接下来</c>

00:29:47.454 --> 00:29:49.723 align:middle line:-2
<c.magenta>我想在应用的上下文环境中</c>
<c.magenta>审视一下它们</c>

00:29:51.625 --> 00:29:55.963 align:middle line:0
<c.magenta>我们这个闪亮的小应用</c>
<c.magenta>可以让你将表情符号</c>

00:29:56.029 --> 00:29:57.197 align:middle line:0
<c.magenta>放到你的照片上</c>

00:29:57.264 --> 00:29:58.131 align:middle line:0
<c.magenta>它是我独创的</c>

00:29:58.198 --> 00:30:00.400 align:middle line:0
<c.magenta>我已经考虑开发它很久了</c>

00:29:58.198 --> 00:30:00.400 align:middle line:0
<c.magenta>我已经考虑开发它很久了</c>

00:30:01.635 --> 00:30:04.705 align:middle line:0
<c.magenta>有两个东西是用来显示这样的效果的</c>

00:30:05.239 --> 00:30:09.009 align:middle line:0
<c.magenta>第一个就是切割了层边的遮盖物</c>

00:30:09.610 --> 00:30:12.179 align:middle line:0
<c.magenta>而第二个就是它下面的阴影</c>

00:30:13.247 --> 00:30:14.781 align:middle line:0
<c.magenta>首先 让我们谈一下遮盖物</c>

00:30:16.250 --> 00:30:20.721 align:middle line:0
<c.magenta>这里我们有个定制的圆的形状</c>

00:30:20.787 --> 00:30:23.023 align:middle line:0
<c.magenta>用来裁剪表情符号的边</c>

00:30:23.423 --> 00:30:26.593 align:middle line:0
<c.magenta>你需要给CA另外一个层</c>

00:30:26.660 --> 00:30:28.962 align:middle line:0
<c.magenta>该层上有你需要的形状</c>

00:30:29.429 --> 00:30:34.535 align:middle line:0
<c.magenta>你可以用它来影响主层的透明度</c>

00:30:36.336 --> 00:30:37.237 align:middle line:0
<c.magenta>就是这样</c>

00:30:37.604 --> 00:30:42.943 align:middle line:0
<c.magenta>CA可以在接收透明度后</c>
<c.magenta>使用它来裁剪层的形状</c>

00:30:44.011 --> 00:30:46.213 align:middle line:0
<c.magenta>你可以用它实现很多有意思的功能</c>

00:30:46.280 --> 00:30:48.582 align:middle line:0
<c.magenta>很多情况下</c>
<c.magenta>人们只用了一种简单的形状 而你可以</c>

00:30:48.749 --> 00:30:50.918 align:middle line:0
<c.magenta>加个淡出效果 你可以在上面挖洞</c>
<c.magenta>它能让你</c>

00:30:51.218 --> 00:30:53.053 align:middle line:0
<c.magenta>在层上实现所有那些有趣的功能</c>

00:30:54.588 --> 00:30:58.825 align:middle line:0
<c.magenta>如果你想实现这样的效果</c>

00:30:58.992 --> 00:31:01.962 align:middle line:0
<c.magenta>也就是表情符号在底部有点淡出的效果</c>

00:30:58.992 --> 00:31:01.962 align:middle line:0
<c.magenta>也就是表情符号在底部有点淡出的效果</c>

00:31:02.029 --> 00:31:04.164 align:middle line:0
<c.magenta>还对其进行了裁剪 你可能会想</c>

00:31:04.231 --> 00:31:08.402 align:middle line:0
<c.magenta>“我可以用遮盖物来设置物体的透明度</c>
<c.magenta>来实现淡出的效果</c>

00:31:08.468 --> 00:31:10.170 align:middle line:0
<c.magenta>我这里用两个遮盖物就行了 对吧？”</c>

00:31:11.038 --> 00:31:15.943 align:middle line:-2
<c.magenta>你可以这么做 但这样的实现不是很好</c>
<c.magenta>因为性能表现很糟</c>

00:31:16.510 --> 00:31:18.612 align:middle line:-1
<c.magenta>每个遮盖物都有开销</c>

00:31:18.846 --> 00:31:22.816 align:middle line:-2
<c.magenta>所以当你在一层上有多个遮盖物时</c>
<c.magenta>CA就得把它们就结合起来</c>

00:31:22.883 --> 00:31:25.986 align:middle line:-2
<c.magenta>形成一个序列</c>
<c.magenta>这样才能生成最终显示在屏幕上的图像</c>

00:31:26.220 --> 00:31:29.756 align:middle line:-2
<c.magenta>这里你有表情符号层</c>
<c.magenta>淡出遮盖物</c>

00:31:30.224 --> 00:31:32.259 align:middle line:-2
<c.magenta>将它们结合起来</c>
<c.magenta>就得到了淡出效果的表情符号</c>

00:31:32.492 --> 00:31:34.695 align:middle line:-2
<c.magenta>接着你还要有另一个</c>
<c.magenta>包含了表情符号的层</c>

00:31:34.761 --> 00:31:39.132 align:middle line:-1
<c.magenta>该层被这个改变形状的东西遮盖了</c>

00:31:39.833 --> 00:31:43.370 align:middle line:-2
<c.magenta>这么做是可以的</c>
<c.magenta>但还不是最理想的解决措施</c>

00:31:43.437 --> 00:31:45.906 align:middle line:-1
<c.magenta>你会发现这里要花很长的时间</c>

00:31:45.973 --> 00:31:48.976 align:middle line:-2
<c.magenta>光是绘制像素点 判断哪里是透明的</c>
<c.magenta>等等就会花很久</c>

00:31:49.576 --> 00:31:55.249 align:middle line:-2
<c.magenta>会出现的这种问题都是因为</c>
<c.magenta>CA必须在底层绘制这些东西</c>

00:31:55.415 --> 00:31:57.317 align:middle line:-1
<c.magenta>通常在你绘制普通路径的时候</c>

00:31:57.384 --> 00:31:59.253 align:middle line:-1
<c.magenta>CA只需要提取一个物体中的内容</c>

00:31:59.319 --> 00:32:00.821 align:middle line:-1
<c.magenta>把它放到最终的合成图像上</c>

00:31:59.319 --> 00:32:00.821 align:middle line:-1
<c.magenta>把它放到最终的合成图像上</c>

00:32:00.888 --> 00:32:01.989 align:middle line:-2
<c.magenta>然后提取另一个物体中的内容</c>
<c.magenta>把它也放到最终的合成图像上</c>

00:32:02.055 --> 00:32:03.056 align:middle line:-1
<c.magenta>以此类推</c>

00:32:03.223 --> 00:32:07.094 align:middle line:-2
<c.magenta>但是在本例中</c>
<c.magenta>它得创建一个单独的上下文环境</c>

00:32:07.160 --> 00:32:10.197 align:middle line:-2
<c.magenta>来绘制所有这些东西</c>
<c.magenta>然后把它放到屏幕上</c>

00:32:10.531 --> 00:32:14.067 align:middle line:-2
<c.magenta>你要绘制的东西越多</c>
<c.magenta>堆积的效果实现的内容就越多</c>

00:32:15.502 --> 00:32:19.106 align:middle line:-1
<c.magenta>如果你还是想实现这个效果</c>

00:32:20.541 --> 00:32:22.376 align:middle line:-1
<c.magenta>最好的办法就是走个捷径</c>

00:32:23.844 --> 00:32:27.581 align:middle line:-2
<c.magenta>也就是你要伪装至少一个</c>
<c.magenta>你使用的遮盖物</c>

00:32:27.981 --> 00:32:31.051 align:middle line:-1
<c.magenta>这里你可以将一个梯度覆盖放到</c>

00:32:31.418 --> 00:32:35.589 align:middle line:-2
<c.magenta>这层的上面</c>
<c.magenta>然后将其列入所有遮盖物内容中</c>

00:32:37.124 --> 00:32:39.626 align:middle line:-1
<c.magenta>而这种方法明显对某些情况不适用</c>

00:32:39.793 --> 00:32:42.930 align:middle line:-2
<c.magenta>如果你的背景不是纯色的</c>
<c.magenta>那么你就不能用纯色梯度</c>

00:32:43.130 --> 00:32:45.899 align:middle line:-1
<c.magenta>不过你可以实现一些其他功能 像是</c>

00:32:46.333 --> 00:32:50.404 align:middle line:-1
<c.magenta>将你的背景绘制到另一个图片上</c>

00:32:50.637 --> 00:32:53.307 align:middle line:-2
<c.magenta>然后将其淡出</c>
<c.magenta>作为覆盖来使用</c>

00:32:53.373 --> 00:32:56.710 align:middle line:-2
<c.magenta>那…这样做一次</c>
<c.magenta>比让CA每帧都做要来得快</c>

00:32:58.412 --> 00:33:01.048 align:middle line:-1
<c.magenta>总之就是</c>

00:32:58.412 --> 00:33:01.048 align:middle line:-1
<c.magenta>总之就是</c>

00:33:02.349 --> 00:33:03.851 align:middle line:-1
<c.magenta>每个遮盖物都有开销</c>

00:33:03.917 --> 00:33:06.386 align:middle line:-1
<c.magenta>它们很有趣也很实用 不过开销有点大</c>

00:33:07.154 --> 00:33:10.557 align:middle line:-2
<c.magenta>在你遮盖某些东西的时候</c>
<c.magenta>你层的大小会起到很大的作用</c>

00:33:10.624 --> 00:33:13.293 align:middle line:-2
<c.magenta>如果你有个很大的层</c>
<c.magenta>却用了个小角的遮盖物</c>

00:33:13.360 --> 00:33:16.096 align:middle line:-2
<c.magenta>CA还是得绘制整个图形</c>
<c.magenta>这样不是很理想</c>

00:33:16.663 --> 00:33:20.200 align:middle line:-2
<c.magenta>所以如果可以 就用我刚才说的捷径吧</c>
<c.magenta>关于这个内容我就介绍完了</c>

00:33:22.069 --> 00:33:24.338 align:middle line:-1
<c.magenta>下面让我们谈下阴影</c>

00:33:26.106 --> 00:33:30.377 align:middle line:-1
<c.magenta>你可能很熟悉CA的阴影属性</c>

00:33:30.444 --> 00:33:32.779 align:middle line:-2
<c.magenta>像是阴影透明度 阴影偏移量</c>
<c.magenta>阴影半径等等</c>

00:33:33.046 --> 00:33:36.783 align:middle line:-2
<c.magenta>如果你使用了这些属性</c>
<c.magenta>你的阴影就可以正常显示</c>

00:33:36.950 --> 00:33:40.587 align:middle line:-2
<c.magenta>但是如果你的应用中</c>
<c.magenta>有很多带有阴影的视图</c>

00:33:40.654 --> 00:33:42.689 align:middle line:-1
<c.magenta>你就会发现 性能表现有点捉襟见肘了</c>

00:33:42.956 --> 00:33:45.459 align:middle line:-1
<c.magenta>原因就是CA必须要</c>

00:33:45.526 --> 00:33:47.928 align:middle line:-2
<c.magenta>单独为每个视图绘制阴影</c>
<c.magenta>而且它必须在绘制时</c>

00:33:47.995 --> 00:33:51.932 align:middle line:-1
<c.magenta>包含每个视图中全部的层级结构</c>

00:33:52.933 --> 00:33:57.004 align:middle line:-1
<c.magenta>我的意思是 当你的层被阴影化的时候</c>

00:33:57.504 --> 00:34:01.542 align:middle line:-2
<c.magenta>CA必须首先绘制它的背景</c>
<c.magenta>然后绘制每个子层</c>

00:33:57.504 --> 00:34:01.542 align:middle line:-2
<c.magenta>CA必须首先绘制它的背景</c>
<c.magenta>然后绘制每个子层</c>

00:34:03.410 --> 00:34:04.344 align:middle line:-1
<c.magenta>稍等一下</c>

00:34:05.479 --> 00:34:10.583 align:middle line:-2
<c.magenta>还得计算出它的透明度</c>
<c.magenta>其结果看起来就像是这样</c>

00:34:10.984 --> 00:34:12.452 align:middle line:-1
<c.magenta>这好像是在浪费时间 对吗？</c>

00:34:12.518 --> 00:34:14.054 align:middle line:-2
<c.magenta>我们花了这么长时间</c>
<c.magenta>绘制这些可爱的符号表情</c>

00:34:14.121 --> 00:34:16.356 align:middle line:-1
<c.magenta>而现在我们只能看到它们不透明的样子</c>

00:34:17.291 --> 00:34:20.726 align:middle line:-1
<c.magenta>所以当子层的内容不是很重要时</c>

00:34:20.793 --> 00:34:24.898 align:middle line:-1
<c.magenta>使用常规的阴影系统就有点浪费时间了</c>

00:34:25.632 --> 00:34:28.768 align:middle line:-1
<c.magenta>你可以使用阴影路径属性</c>

00:34:29.503 --> 00:34:32.672 align:middle line:-2
<c.magenta>我们之前提到过</c>
<c.magenta>你可以用Core Graphics</c>

00:34:32.739 --> 00:34:37.277 align:middle line:-2
<c.magenta>来绘制不同形状的路径</c>
<c.magenta>然后用这些路径来实现某些功能</c>

00:34:37.444 --> 00:34:40.647 align:middle line:-1
<c.magenta>CG路径在系统的其他地方也会被用到</c>

00:34:40.714 --> 00:34:42.416 align:middle line:-2
<c.magenta>它会被用来实现一些跟路径有关的功能</c>
<c.magenta>在本例中</c>

00:34:42.850 --> 00:34:46.253 align:middle line:-1
<c.magenta>你只需要创建一个层形状的路径</c>

00:34:46.853 --> 00:34:50.791 align:middle line:-2
<c.magenta>将该路径传给CA 它就会绘制路径</c>
<c.magenta>并模糊处理它 这样来生成阴影</c>

00:34:50.858 --> 00:34:53.860 align:middle line:-1
<c.magenta>会比绘制层与子层要快得多</c>

00:34:55.128 --> 00:34:58.532 align:middle line:-1
<c.magenta>这就是采用此方法的主要性能优势</c>

00:34:58.599 --> 00:35:00.534 align:middle line:-1
<c.magenta>另一个优势是 如果你有很多层</c>

00:34:58.599 --> 00:35:00.534 align:middle line:-1
<c.magenta>另一个优势是 如果你有很多层</c>

00:35:00.601 --> 00:35:02.169 align:middle line:-1
<c.magenta>都使用了同样的阴影路径实例</c>

00:35:02.436 --> 00:35:05.572 align:middle line:-1
<c.magenta>CA就根本不用重新绘制阴影了</c>

00:35:05.639 --> 00:35:08.175 align:middle line:-2
<c.magenta>它就可以在任何地方重用这些阴影</c>
<c.magenta>这是个巨大的性能提升</c>

00:35:09.042 --> 00:35:11.245 align:middle line:-1
<c.magenta>当你在处理层阴影的时候</c>

00:35:12.946 --> 00:35:16.750 align:middle line:-1
<c.magenta>要注意层与子层的混合 开销是很大的</c>

00:35:16.817 --> 00:35:19.887 align:middle line:-2
<c.magenta>你应该尽可能地避免这么做</c>
<c.magenta>你可以使用阴影路径</c>

00:35:20.554 --> 00:35:21.555 align:middle line:-1
<c.magenta>很简单 对吗？</c>

00:35:23.590 --> 00:35:28.061 align:middle line:-2
<c.magenta>我已经给你们介绍了一些</c>
<c.magenta>CA的最优解决方案</c>

00:35:28.128 --> 00:35:32.232 align:middle line:-1
<c.magenta>有些方法可以让你的实现更为高效</c>

00:35:33.367 --> 00:35:34.401 align:middle line:-1
<c.magenta>让我们来看一些小技巧</c>

00:35:34.468 --> 00:35:36.970 align:middle line:-1
<c.magenta>让我们看一些你可能没有用过的东西</c>

00:35:38.939 --> 00:35:44.645 align:middle line:-2
<c.magenta>CA有一个叫作CAShapeLayer的</c>
<c.magenta>CALayer子类</c>

00:35:45.345 --> 00:35:47.581 align:middle line:-2
<c.magenta>它会获取</c>
<c.magenta>Core Graphics路径</c>

00:35:47.648 --> 00:35:50.117 align:middle line:-2
<c.magenta>像是我之前提过的那些</c>
<c.magenta>你可以给它一个线的颜色</c>

00:35:50.184 --> 00:35:53.287 align:middle line:-2
<c.magenta>还有填充颜色 它就给你绘制图形了</c>
<c.magenta>你可能之前接触过这个类</c>

00:35:53.520 --> 00:35:57.324 align:middle line:-2
<c.magenta>CA有个很酷的功能就是</c>
<c.magenta>它有非常多的层属性</c>

00:35:57.391 --> 00:35:59.660 align:middle line:-1
<c.magenta>是可动画化的</c>

00:36:00.060 --> 00:36:03.430 align:middle line:-1
<c.magenta>你可以通过这些属性来设置一个动画</c>

00:36:03.497 --> 00:36:06.266 align:middle line:-1
<c.magenta>CA会正确地将其插入</c>

00:36:06.333 --> 00:36:08.502 align:middle line:-1
<c.magenta>然后给你一个动画化的层</c>

00:36:09.236 --> 00:36:10.871 align:middle line:-1
<c.magenta>你能通过它实现一些很酷的功能</c>

00:36:11.205 --> 00:36:13.607 align:middle line:-1
<c.magenta>你可以给线的颜色加个动画</c>

00:36:13.674 --> 00:36:16.076 align:middle line:-2
<c.magenta>或给填充颜色加</c>
<c.magenta>这些有点太显而易见了 对吧？</c>

00:36:16.710 --> 00:36:17.978 align:middle line:-1
<c.magenta>我们还能实现什么功能呢？</c>

00:36:18.545 --> 00:36:21.615 align:middle line:-2
<c.magenta>CAShapeLayer</c>
<c.magenta>有两个属性</c>

00:36:21.682 --> 00:36:25.319 align:middle line:-2
<c.magenta>分别叫作strokeStart和strokeEnd</c>
<c.magenta>它们可以让你创建一个特效</c>

00:36:25.385 --> 00:36:28.856 align:middle line:-1
<c.magenta>层会随着路径的长度自动绘制</c>

00:36:29.022 --> 00:36:31.158 align:middle line:-1
<c.magenta>或是反复绘制和取消绘制</c>

00:36:33.026 --> 00:36:33.927 align:middle line:-1
<c.magenta>这挺有意思的</c>

00:36:33.994 --> 00:36:36.964 align:middle line:-2
<c.magenta>你可以将其用在UI的</c>
<c.magenta>许多不同效果上</c>

00:36:37.030 --> 00:36:40.367 align:middle line:-2
<c.magenta>商标可以自动绘制</c>
<c.magenta>然后填充某些内容等等</c>

00:36:41.502 --> 00:36:45.772 align:middle line:-2
<c.magenta>你还可以利用虚线模式属性</c>
<c.magenta>来实现一些有趣的功能</c>

00:36:45.839 --> 00:36:48.475 align:middle line:-2
<c.magenta>特别是动画化</c>
<c.magenta>lineDashPhase</c>

00:36:48.909 --> 00:36:52.746 align:middle line:-1
<c.magenta>如果你的层被设置成虚线样式绘制</c>

00:36:53.080 --> 00:36:55.949 align:middle line:-2
<c.magenta>你就可以动画化</c>
<c.magenta>lineDashPhase</c>

00:36:56.016 --> 00:36:58.485 align:middle line:-1
<c.magenta>从某些像素值到另外一些像素值</c>

00:36:58.685 --> 00:37:00.521 align:middle line:-1
<c.magenta>它会沿着形状的边缘移动</c>

00:36:58.685 --> 00:37:00.521 align:middle line:-1
<c.magenta>它会沿着形状的边缘移动</c>

00:37:00.954 --> 00:37:03.624 align:middle line:-2
<c.magenta>形成这种很酷的</c>
<c.magenta>像是行军蚁般的效果</c>

00:37:05.659 --> 00:37:08.462 align:middle line:-2
<c.magenta>这就是形状层的内容</c>
<c.magenta>让我们来谈下梯度层</c>

00:37:09.396 --> 00:37:10.931 align:middle line:0
<c.magenta>你可能原来用过这些内容</c>

00:37:10.998 --> 00:37:13.534 align:middle line:0
<c.magenta>但是我猜</c>
<c.magenta>你们可能还没有试过将它们动画化</c>

00:37:14.101 --> 00:37:16.470 align:middle line:0
<c.magenta>所有这些属性都是可动画化的</c>
<c.magenta>所以你可以</c>

00:37:16.537 --> 00:37:17.804 align:middle line:0
<c.magenta>试一下 看看会得到什么效果</c>

00:37:18.639 --> 00:37:21.375 align:middle line:0
<c.magenta>你可能会得到一个层</c>

00:37:21.542 --> 00:37:23.877 align:middle line:0
<c.magenta>这是个遮盖着星星形状的梯度层</c>

00:37:23.944 --> 00:37:26.446 align:middle line:0
<c.magenta>如果你将开始点和结束点动画化</c>

00:37:26.513 --> 00:37:28.615 align:middle line:0
<c.magenta>从一边到另一边的话</c>

00:37:28.815 --> 00:37:32.753 align:middle line:0
<c.magenta>你就会得到这个闪亮的金属特效</c>
<c.magenta>看起来不错 对吧？</c>

00:37:33.620 --> 00:37:37.391 align:middle line:0
<c.magenta>我们其实已经把它用</c>
<c.magenta>在iOS UI的某个地方了</c>

00:37:37.457 --> 00:37:38.625 align:middle line:0
<c.magenta>抱歉 应该是Watch UI</c>

00:37:38.926 --> 00:37:41.828 align:middle line:0
<c.magenta>如果你用过Apple Pay</c>
<c.magenta>里面划卡的效果</c>

00:37:41.895 --> 00:37:43.897 align:middle line:0
<c.magenta>用的就是梯度层</c>

00:37:45.432 --> 00:37:48.368 align:middle line:0
<c.magenta>我想介绍的最后一点是层速度</c>

00:37:49.136 --> 00:37:51.972 align:middle line:-2
<c.magenta>这是个挺有意思的技巧</c>
<c.magenta>它可能有点难用</c>

00:37:52.039 --> 00:37:53.674 align:middle line:-1
<c.magenta>但是你可以用它实现一些相当酷的效果</c>

00:37:54.441 --> 00:37:55.342 align:middle line:-1
<c.magenta>那么</c>

00:37:57.277 --> 00:38:00.314 align:middle line:-1
<c.magenta>在CA中没有全局时间这样的概念</c>

00:37:57.277 --> 00:38:00.314 align:middle line:-1
<c.magenta>在CA中没有全局时间这样的概念</c>

00:38:00.380 --> 00:38:05.018 align:middle line:-1
<c.magenta>它只有从一层到其子层的相对时间</c>

00:38:05.085 --> 00:38:06.520 align:middle line:-1
<c.magenta>还有其子层到子子层的相对时间</c>

00:38:07.554 --> 00:38:10.057 align:middle line:-1
<c.magenta>所以每层都会有不同的时间量程</c>

00:38:10.123 --> 00:38:12.893 align:middle line:-1
<c.magenta>就像是 它超层上过了一秒</c>

00:38:12.960 --> 00:38:14.294 align:middle line:0
<c.magenta>而子层上过了两秒</c>

00:38:15.095 --> 00:38:17.865 align:middle line:0
<c.magenta>结果就是</c>

00:38:18.131 --> 00:38:21.535 align:middle line:0
<c.magenta>对于被加到两层中其中一层的动画</c>
<c.magenta>如果动画是被加到速度为2的层上</c>

00:38:21.602 --> 00:38:24.304 align:middle line:0
<c.magenta>它就会以两倍速播放</c>
<c.magenta>如果它是被加到0.5倍速的层上</c>

00:38:24.605 --> 00:38:27.140 align:middle line:0
<c.magenta>它就会以半倍速播放</c>

00:38:28.075 --> 00:38:32.813 align:middle line:0
<c.magenta>它可以让你将动画</c>
<c.magenta>或多或少地慢点播放</c>

00:38:32.880 --> 00:38:34.915 align:middle line:0
<c.magenta>不过这似乎有点没必要</c>
<c.magenta>你只需要</c>

00:38:36.483 --> 00:38:38.485 align:middle line:0
<c.magenta>在刚开始的时候</c>
<c.magenta>设好它们的持续时间就行了 对吧？</c>

00:38:39.019 --> 00:38:42.256 align:middle line:0
<c.magenta>但是当你把层速度设为0的时候</c>
<c.magenta>就会实现一个很酷的效果</c>

00:38:43.357 --> 00:38:46.426 align:middle line:0
<c.magenta>动画不会再变化</c>

00:38:47.327 --> 00:38:48.762 align:middle line:-1
<c.magenta>动画暂停了</c>

00:38:49.062 --> 00:38:50.664 align:middle line:-1
<c.magenta>这可能看上去也没什么用</c>

00:38:50.731 --> 00:38:54.234 align:middle line:-2
<c.magenta>对于调用了Core Animation的对象来说</c>
<c.magenta>但是它会赋予你</c>

00:38:54.301 --> 00:38:58.105 align:middle line:-2
<c.magenta>动画过程的控制权</c>
<c.magenta>通过一个叫作timeOffset的属性</c>

00:38:58.805 --> 00:39:03.477 align:middle line:-1
<c.magenta>你可以让用户或是</c>

00:38:58.805 --> 00:39:03.477 align:middle line:-1
<c.magenta>你可以让用户或是</c>

00:39:03.544 --> 00:39:05.546 align:middle line:-2
<c.magenta>应用中的其他进程</c>
<c.magenta>与动画进行交互</c>

00:39:05.612 --> 00:39:09.550 align:middle line:-2
<c.magenta>你可以获得一个复杂的动画</c>
<c.magenta>或者一系列子动画</c>

00:39:09.850 --> 00:39:14.221 align:middle line:-2
<c.magenta>而设定某一层上的timeOffset属性</c>
<c.magenta>就可以让所有层</c>

00:39:14.288 --> 00:39:19.293 align:middle line:-1
<c.magenta>都根据其超层的位置来进行动画化</c>

00:39:20.060 --> 00:39:23.230 align:middle line:-1
<c.magenta>它可以让你实现像是这样的效果</c>

00:39:24.531 --> 00:39:28.135 align:middle line:-2
<c.magenta>随着用户上下拖动</c>
<c.magenta>层会自己逐渐地显示出来</c>

00:39:28.435 --> 00:39:32.472 align:middle line:-2
<c.magenta>而这些符号表情就会随着这个过程</c>
<c.magenta>来回出现消失</c>

00:39:33.540 --> 00:39:34.408 align:middle line:-1
<c.magenta>还有</c>

00:39:35.108 --> 00:39:37.377 align:middle line:-2
<c.magenta>这挺酷的</c>
<c.magenta>不过可能是我乱编的 对吗？</c>

00:39:37.444 --> 00:39:38.979 align:middle line:-1
<c.magenta>这可能就是个关键框动画</c>

00:39:39.213 --> 00:39:43.150 align:middle line:-1
<c.magenta>让我们看下关于它的演示吧</c>

00:39:46.119 --> 00:39:49.556 align:middle line:-1
<c.magenta>这里我们有个设置好的简单测试应用</c>

00:39:49.723 --> 00:39:54.862 align:middle line:-2
<c.magenta>它有个基础的视图子类</c>
<c.magenta>设置了所有符号表情并将它们显示出来</c>

00:39:55.896 --> 00:39:56.997 align:middle line:-1
<c.magenta>没有什么花哨的东西</c>

00:39:57.998 --> 00:40:02.035 align:middle line:-1
<c.magenta>主要是它提供一个列表的符号表情层</c>

00:39:57.998 --> 00:40:02.035 align:middle line:-1
<c.magenta>主要是它提供一个列表的符号表情层</c>

00:40:02.102 --> 00:40:04.204 align:middle line:-2
<c.magenta>我们能抓取这些符号表情层</c>
<c.magenta>然后将其动画化</c>

00:40:05.439 --> 00:40:07.174 align:middle line:-1
<c.magenta>如果你看下我们的视图控制器代码</c>

00:40:07.407 --> 00:40:10.611 align:middle line:-1
<c.magenta>这里没有太多东西 让我们修改一下</c>

00:40:14.715 --> 00:40:17.351 align:middle line:-1
<c.magenta>我们首先要构建动画集</c>

00:40:17.518 --> 00:40:20.621 align:middle line:-1
<c.magenta>来让面板层显示出来</c>

00:40:22.222 --> 00:40:24.091 align:middle line:-1
<c.magenta>稍等一下</c>

00:40:26.226 --> 00:40:28.629 align:middle line:-1
<c.magenta>这样我们就有一对基本的动画了</c>

00:40:29.229 --> 00:40:31.465 align:middle line:-2
<c.magenta>其中一个影响边的宽度</c>
<c.magenta>另一个影响高度</c>

00:40:31.865 --> 00:40:35.536 align:middle line:-2
<c.magenta>你会发现</c>
<c.magenta>我将第一个动画的持续时间设成了1</c>

00:40:35.702 --> 00:40:38.739 align:middle line:-1
<c.magenta>因为它是序列中最长的动画</c>

00:40:38.939 --> 00:40:43.043 align:middle line:-2
<c.magenta>这样在你计算动画所需的持续时间时</c>
<c.magenta>就很容易了</c>

00:40:43.210 --> 00:40:46.446 align:middle line:-2
<c.magenta>0秒到1秒 0到1</c>
<c.magenta>百分之0到百分之100</c>

00:40:48.148 --> 00:40:50.450 align:middle line:-1
<c.magenta>接着我们把这两个动画加到层中</c>

00:40:52.419 --> 00:40:53.453 align:middle line:-1
<c.magenta>当我们运行的时候</c>

00:40:57.257 --> 00:41:00.294 align:middle line:-2
<c.magenta>就能看到动画效果 动画只出现了一次</c>
<c.magenta>没有别的效果了对吧？</c>

00:40:57.257 --> 00:41:00.294 align:middle line:-2
<c.magenta>就能看到动画效果 动画只出现了一次</c>
<c.magenta>没有别的效果了对吧？</c>

00:41:00.527 --> 00:41:04.298 align:middle line:-2
<c.magenta>我们还发现符号表情没有动画</c>
<c.magenta>这样子挺没意思</c>

00:41:05.999 --> 00:41:07.000 align:middle line:-1
<c.magenta>那么</c>

00:41:08.001 --> 00:41:09.603 align:middle line:-1
<c.magenta>让我再多变动一点东西</c>

00:41:15.976 --> 00:41:16.910 align:middle line:-1
<c.magenta>那么</c>

00:41:18.178 --> 00:41:20.614 align:middle line:-1
<c.magenta>这是很直观的</c>

00:41:20.681 --> 00:41:22.783 align:middle line:-1
<c.magenta>我们就是设置了一系列的动画</c>

00:41:22.850 --> 00:41:26.587 align:middle line:-2
<c.magenta>每层上都有一个动画且给每个动画设置</c>
<c.magenta>一个比前面稍晚一些的开始时间</c>

00:41:27.421 --> 00:41:30.257 align:middle line:-1
<c.magenta>你会发现 我不能把开始时间设成</c>

00:41:30.324 --> 00:41:32.159 align:middle line:-1
<c.magenta>未来的某个时间点</c>

00:41:32.226 --> 00:41:34.461 align:middle line:-1
<c.magenta>我必须要计算出开始时间</c>

00:41:34.528 --> 00:41:38.599 align:middle line:-1
<c.magenta>将父层认可的时间添加上去</c>

00:41:38.832 --> 00:41:41.468 align:middle line:-1
<c.magenta>如果我将它设成0加上这个数值</c>

00:41:41.635 --> 00:41:44.071 align:middle line:-1
<c.magenta>那么动画就会在原来某处开始</c>

00:41:44.137 --> 00:41:46.073 align:middle line:-1
<c.magenta>这样所有代码就写好了</c>

00:41:47.641 --> 00:41:49.776 align:middle line:-1
<c.magenta>如果我们重新运行下代码</c>

00:41:51.311 --> 00:41:55.082 align:middle line:-2
<c.magenta>我们现在就能看到视图的入场动画</c>
<c.magenta>所有的符号表情都在动</c>

00:41:55.616 --> 00:41:59.419 align:middle line:-2
<c.magenta>不过现在还是不能交互</c>
<c.magenta>让我们解决下这个问题</c>

00:42:02.222 --> 00:42:03.156 align:middle line:-1
<c.magenta>那么</c>

00:42:05.025 --> 00:42:07.194 align:middle line:-1
<c.magenta>让我在这设一个变量来追踪</c>

00:42:07.461 --> 00:42:10.397 align:middle line:-1
<c.magenta>容器面板扩展了多少</c>

00:42:11.498 --> 00:42:14.067 align:middle line:-1
<c.magenta>然后我们要设置一个简单的手势识别器</c>

00:42:14.334 --> 00:42:17.538 align:middle line:-1
<c.magenta>来控制视图</c>

00:42:19.840 --> 00:42:20.707 align:middle line:-1
<c.magenta>那么</c>

00:42:23.944 --> 00:42:27.147 align:middle line:-2
<c.magenta>这里所实现的功能是</c>
<c.magenta>当这个平面手势识别器</c>

00:42:27.214 --> 00:42:30.017 align:middle line:-2
<c.magenta>在视图中移动的时候</c>
<c.magenta>我们就可以获得它移动的距离</c>

00:42:30.083 --> 00:42:31.818 align:middle line:-1
<c.magenta>截至上次有事件发生的时候</c>

00:42:32.753 --> 00:42:36.657 align:middle line:-1
<c.magenta>我们会将屏幕上某个像素点</c>

00:42:36.924 --> 00:42:38.425 align:middle line:-1
<c.magenta>设成一个0到1之间的值</c>

00:42:39.860 --> 00:42:42.429 align:middle line:-1
<c.magenta>然后我们将当前的容器扩展设成该值</c>

00:42:42.930 --> 00:42:45.032 align:middle line:-1
<c.magenta>最后我们就不用再追踪</c>

00:42:45.098 --> 00:42:48.502 align:middle line:-2
<c.magenta>识别器是从哪开始的了</c>
<c.magenta>我们只需要将它的转换设回0</c>

00:42:48.769 --> 00:42:51.972 align:middle line:-2
<c.magenta>这样在它下次被调用的时候</c>
<c.magenta>它就会给出其移动的距离</c>

00:42:52.039 --> 00:42:54.641 align:middle line:-1
<c.magenta>从上一次你将它设为0的时候</c>

00:42:56.743 --> 00:42:57.678 align:middle line:-1
<c.magenta>那么</c>

00:42:58.846 --> 00:43:01.215 align:middle line:-1
<c.magenta>差不多就完成了</c>

00:42:58.846 --> 00:43:01.215 align:middle line:-1
<c.magenta>差不多就完成了</c>

00:43:02.149 --> 00:43:05.853 align:middle line:-1
<c.magenta>你只需要将容器这个最后的关键部分</c>

00:43:08.121 --> 00:43:10.023 align:middle line:-1
<c.magenta>的容器层速度设为0就可以了</c>

00:43:11.792 --> 00:43:13.160 align:middle line:-1
<c.magenta>这样</c>

00:43:14.561 --> 00:43:15.596 align:middle line:-1
<c.magenta>稍等一下</c>

00:43:17.698 --> 00:43:18.732 align:middle line:-1
<c.magenta>这样你就实现了这个效果</c>

00:43:19.399 --> 00:43:21.235 align:middle line:-1
<c.magenta>我拖动下 它就会出现</c>

00:43:21.902 --> 00:43:23.136 align:middle line:-1
<c.magenta>我向上拖动 它就会消失</c>

00:43:23.871 --> 00:43:25.772 align:middle line:-1
<c.magenta>向下 向上 向下</c>

00:43:26.340 --> 00:43:27.307 align:middle line:-1
<c.magenta>很简单 对吧？</c>

00:43:34.781 --> 00:43:39.152 align:middle line:-1
<c.magenta>这就是一些你会在CA中用到的技巧</c>

00:43:39.419 --> 00:43:41.021 align:middle line:-1
<c.magenta>你可以在应用中使用这些技巧</c>

00:43:41.088 --> 00:43:44.925 align:middle line:-2
<c.magenta>使应用变得更加动人</c>
<c.magenta>或者说拥有更加丰富的视觉感受</c>

00:43:46.260 --> 00:43:48.629 align:middle line:-1
<c.magenta>现在让我们总结一下</c>

00:43:50.297 --> 00:43:51.231 align:middle line:-1
<c.magenta>首先</c>

00:43:52.332 --> 00:43:53.700 align:middle line:-1
<c.magenta>就是拓展了你的工具集</c>

00:43:53.767 --> 00:43:56.937 align:middle line:-2
<c.magenta>我们介绍了一些API</c>
<c.magenta>对它们有了个大概的印象</c>

00:43:57.004 --> 00:43:59.173 align:middle line:-1
<c.magenta>你可能会用它们来解决不同的问题</c>

00:43:59.239 --> 00:44:01.875 align:middle line:-2
<c.magenta>如果你要处理3D内容</c>
<c.magenta>你现在就知道要用SceneKit了</c>

00:43:59.239 --> 00:44:01.875 align:middle line:-2
<c.magenta>如果你要处理3D内容</c>
<c.magenta>你现在就知道要用SceneKit了</c>

00:44:02.209 --> 00:44:05.112 align:middle line:-2
<c.magenta>你需要过滤一些图像的话</c>
<c.magenta>就要用Core Image</c>

00:44:07.381 --> 00:44:08.615 align:middle line:-1
<c.magenta>我们还介绍了一些最优解决方案</c>

00:44:08.782 --> 00:44:09.783 align:middle line:-1
<c.magenta>你们不是非得用</c>

00:44:09.850 --> 00:44:11.952 align:middle line:-2
<c.magenta>但它能给你节省很多时间</c>
<c.magenta>还能解决些麻烦的问题</c>

00:44:12.019 --> 00:44:14.588 align:middle line:-1
<c.magenta>而且如果你团队中有人说</c>

00:44:14.655 --> 00:44:16.490 align:middle line:-1
<c.magenta>“这个荒谬的动画问题是怎么回事？”</c>

00:44:16.557 --> 00:44:19.626 align:middle line:-2
<c.magenta>你就可以说“我知道是怎么回事”</c>
<c.magenta>所以它们是相当实用的</c>

00:44:20.627 --> 00:44:23.497 align:middle line:-1
<c.magenta>最后就是关于API的一些体验</c>

00:44:23.564 --> 00:44:26.333 align:middle line:-1
<c.magenta>我讲过每个CA层属性差不多</c>

00:44:26.400 --> 00:44:29.203 align:middle line:-2
<c.magenta>都是可以动画化的</c>
<c.magenta>而我们只介绍了其中的五个</c>

00:44:29.469 --> 00:44:31.905 align:middle line:-2
<c.magenta>还有很多的层属性</c>
<c.magenta>还有很多你能实现的很棒的效果</c>

00:44:32.139 --> 00:44:34.908 align:middle line:-2
<c.magenta>如果你将这些属性结合起来用的话</c>
<c.magenta>就会发现</c>

00:44:34.975 --> 00:44:37.211 align:middle line:-2
<c.magenta>当你把属性结合起来的时候</c>
<c.magenta>能实现的效果如此之多</c>

00:44:37.711 --> 00:44:40.214 align:middle line:-2
<c.magenta>我们有一些不错的</c>
<c.magenta>讲解这些属性的示例代码</c>

00:44:40.280 --> 00:44:43.317 align:middle line:-2
<c.magenta>这些代码涵盖了比我们所讲</c>
<c.magenta>多得多的细节</c>

00:44:44.218 --> 00:44:48.155 align:middle line:-2
<c.magenta>所以你们在演讲结束后要做的第一件事</c>
<c.magenta>就是下载演讲的示例代码</c>

00:44:48.622 --> 00:44:50.691 align:middle line:-2
<c.magenta>把这些示例代码看一下</c>
<c.magenta>不幸的是</c>

00:44:50.891 --> 00:44:54.194 align:middle line:-2
<c.magenta>那个演示还没有被放到上面</c>
<c.magenta>不过我们会尽快把它放上去</c>

00:44:54.895 --> 00:44:58.065 align:middle line:-1
<c.magenta>不幸的是 你们错过了很多的演讲</c>

00:44:59.533 --> 00:45:01.568 align:middle line:-2
<c.magenta>但是我强烈建议</c>
<c.magenta>你们回去看看这些演讲的视频</c>

00:44:59.533 --> 00:45:01.568 align:middle line:-2
<c.magenta>但是我强烈建议</c>
<c.magenta>你们回去看看这些演讲的视频</c>

00:45:01.635 --> 00:45:05.405 align:middle line:-2
<c.magenta>今年我们加了些很酷的功能</c>
<c.magenta>特别是在UIKit和SceneKit中</c>

00:45:06.573 --> 00:45:09.710 align:middle line:-2
<c.magenta>明天有关于SpriteKit的演讲</c>
<c.magenta>如果你觉得可以这么早来就去听一下</c>

00:45:10.077 --> 00:45:11.278 align:middle line:-1
<c.magenta>我不能确定会不会来</c>

00:45:12.980 --> 00:45:14.815 align:middle line:-1
<c.magenta>这就是我要讲的所有内容了</c>

00:45:14.882 --> 00:45:16.617 align:middle line:-2
<c.magenta>我希望能在狂欢中看到你们</c>
<c.magenta>谢谢你们</c>
