WEBVTT

00:00:07.516 --> 00:00:16.500 A:middle
[ Cheers ]

00:00:23.516 --> 00:00:25.896 A:middle
[ Applause ]

00:00:26.396 --> 00:00:27.726 A:middle
&gt;&gt; Good afternoon everybody!

00:00:28.096 --> 00:00:30.256 A:middle
Welcome to WWDC2017.

00:00:30.936 --> 00:00:32.206 A:middle
My name is David Duncan.

00:00:32.206 --> 00:00:34.536 A:middle
I'll be joined by Raj Ramamurphy

00:00:34.536 --> 00:00:35.626 A:middle
[phonetic] and Kyle Sluder

00:00:35.626 --> 00:00:35.693 A:middle
[phonetic].

00:00:35.693 --> 00:00:37.506 A:middle
And we're here to talk to you

00:00:37.806 --> 00:00:39.946 A:middle
about updating your app for iOS

00:00:40.016 --> 00:00:40.476 A:middle
11.

00:00:42.176 --> 00:00:44.076 A:middle
So first a little agenda for

00:00:44.076 --> 00:00:46.416 A:middle
what we're going to talk about

00:00:46.416 --> 00:00:46.906 A:middle
today.

00:00:47.816 --> 00:00:48.966 A:middle
The first thing that I'm going

00:00:48.966 --> 00:00:50.116 A:middle
to be discussing with you is

00:00:50.366 --> 00:00:52.486 A:middle
adopting new functionality in UI

00:00:52.486 --> 00:00:55.586 A:middle
kits bars; UI navigation bar, UI

00:00:55.586 --> 00:00:58.426 A:middle
tab bar, UI toolbar, and UI

00:00:58.426 --> 00:00:59.086 A:middle
search bar.

00:00:59.086 --> 00:01:00.736 A:middle
And we're going to talk to you

00:01:00.736 --> 00:01:02.216 A:middle
about how these can update your

00:01:02.216 --> 00:01:04.136 A:middle
app to the new looks that we've

00:01:04.136 --> 00:01:06.056 A:middle
introduced throughout iOS 11.

00:01:07.266 --> 00:01:09.956 A:middle
Next Kyle will come up and talk

00:01:09.956 --> 00:01:11.116 A:middle
to you a bit about managing

00:01:11.116 --> 00:01:13.116 A:middle
margins and insets, changes that

00:01:13.116 --> 00:01:14.656 A:middle
we've made to UI scroll view and

00:01:14.656 --> 00:01:17.816 A:middle
table view will come after that,

00:01:17.816 --> 00:01:21.286 A:middle
and we're going to use all that

00:01:21.286 --> 00:01:22.186 A:middle
to show you how you can make

00:01:22.186 --> 00:01:22.686 A:middle
your app better.

00:01:23.256 --> 00:01:25.086 A:middle
So let's start by taking a look

00:01:25.086 --> 00:01:26.936 A:middle
at the files app.

00:01:27.616 --> 00:01:29.896 A:middle
So if you've gotten the chance

00:01:29.896 --> 00:01:31.616 A:middle
to install the beta and take a

00:01:31.616 --> 00:01:33.176 A:middle
look at the files app, you'll

00:01:33.176 --> 00:01:35.586 A:middle
see some changes that it's

00:01:35.586 --> 00:01:37.586 A:middle
taking advantage of from UI kit.

00:01:38.126 --> 00:01:39.636 A:middle
You can see that giant, large

00:01:39.636 --> 00:01:41.126 A:middle
title view up there showing the

00:01:41.126 --> 00:01:42.116 A:middle
browse feature.

00:01:42.926 --> 00:01:43.986 A:middle
You've got a search bar right

00:01:43.986 --> 00:01:45.246 A:middle
below it that has a bit of a

00:01:45.246 --> 00:01:46.446 A:middle
different appearance from any

00:01:46.486 --> 00:01:47.596 A:middle
search bar you've probably seen

00:01:47.596 --> 00:01:48.526 A:middle
before.

00:01:49.206 --> 00:01:51.266 A:middle
Now the tab bar actually has

00:01:51.266 --> 00:01:53.066 A:middle
some changes, but you won't see

00:01:53.066 --> 00:01:54.466 A:middle
them here so let's go ahead and

00:01:54.466 --> 00:01:56.696 A:middle
rotate this to landscape.

00:01:57.136 --> 00:01:58.496 A:middle
We've got this brand new

00:01:58.496 --> 00:02:00.416 A:middle
appearance for the tab bar, both

00:02:00.416 --> 00:02:02.876 A:middle
in landscape and on iPad, where

00:02:02.876 --> 00:02:04.556 A:middle
we show the icon and the text

00:02:04.556 --> 00:02:05.316 A:middle
side by side.

00:02:05.316 --> 00:02:08.436 A:middle
And in particular on iPhones the

00:02:08.436 --> 00:02:10.106 A:middle
icon is smaller and the tab bar

00:02:10.106 --> 00:02:11.366 A:middle
is smaller to give a bit more

00:02:11.366 --> 00:02:12.006 A:middle
room vertically.

00:02:12.706 --> 00:02:13.836 A:middle
We're going to discuss how you

00:02:13.836 --> 00:02:15.576 A:middle
can customize the icons for

00:02:15.636 --> 00:02:19.066 A:middle
landscape and tab bar as well.

00:02:19.066 --> 00:02:20.796 A:middle
Now things getting smaller can

00:02:20.796 --> 00:02:22.826 A:middle
sometimes be a problem for users

00:02:22.826 --> 00:02:24.156 A:middle
that are hard of vision or

00:02:24.156 --> 00:02:25.176 A:middle
otherwise need a little

00:02:25.176 --> 00:02:26.166 A:middle
assistance to see things

00:02:26.166 --> 00:02:26.636 A:middle
clearer.

00:02:27.546 --> 00:02:28.856 A:middle
We've got you covered there too.

00:02:28.856 --> 00:02:32.116 A:middle
If you turn on larger text then

00:02:32.116 --> 00:02:34.156 A:middle
when you long press on one of

00:02:34.156 --> 00:02:35.996 A:middle
these items -- this is in tab

00:02:35.996 --> 00:02:38.356 A:middle
bar, tool bar, and navigation

00:02:38.356 --> 00:02:40.606 A:middle
bar -- we'll put up this HUD

00:02:40.606 --> 00:02:43.026 A:middle
that shows you clearly what the

00:02:43.026 --> 00:02:45.206 A:middle
text is and what the icon is.

00:02:45.206 --> 00:02:47.586 A:middle
And now I'm going to explain how

00:02:47.586 --> 00:02:48.806 A:middle
both of these features can be

00:02:48.806 --> 00:02:50.066 A:middle
adopted in your app and they're

00:02:50.066 --> 00:02:50.976 A:middle
really, really easy.

00:02:52.476 --> 00:02:55.126 A:middle
So there's this class called UI

00:02:55.126 --> 00:02:56.776 A:middle
Bar Item that you probably never

00:02:56.886 --> 00:02:58.216 A:middle
thought much about because it's

00:02:58.216 --> 00:03:00.406 A:middle
actually the super class of two

00:03:00.406 --> 00:03:02.586 A:middle
important bar item classes in UI

00:03:02.586 --> 00:03:05.136 A:middle
kit; UI tab bar item and UI bar

00:03:05.136 --> 00:03:05.666 A:middle
button item.

00:03:05.756 --> 00:03:09.286 A:middle
And so to customize the image in

00:03:09.286 --> 00:03:11.766 A:middle
landscape on that tab bar all

00:03:11.766 --> 00:03:12.946 A:middle
you have to do is set this

00:03:12.946 --> 00:03:14.836 A:middle
property, the landscape image

00:03:14.836 --> 00:03:17.166 A:middle
phone property, on any UI tab

00:03:17.236 --> 00:03:18.906 A:middle
bar items that you're placing in

00:03:18.906 --> 00:03:19.656 A:middle
your tab bars.

00:03:19.656 --> 00:03:21.446 A:middle
And of course we'll have support

00:03:21.446 --> 00:03:22.456 A:middle
for this in storyboards and

00:03:22.456 --> 00:03:24.116 A:middle
everywhere else, but that's how

00:03:24.116 --> 00:03:25.096 A:middle
you would customize that.

00:03:25.096 --> 00:03:26.126 A:middle
And there are also some inset

00:03:26.126 --> 00:03:27.226 A:middle
properties in case you need

00:03:27.256 --> 00:03:27.536 A:middle
those.

00:03:28.306 --> 00:03:30.876 A:middle
For that HUD image we've got

00:03:30.876 --> 00:03:33.436 A:middle
another related property called

00:03:33.436 --> 00:03:35.736 A:middle
the Large Content Size Image.

00:03:36.746 --> 00:03:38.856 A:middle
Now you can set this, put a big

00:03:38.856 --> 00:03:40.186 A:middle
image in there, it'll appear in

00:03:40.186 --> 00:03:42.726 A:middle
the HUD, but if you're using PDF

00:03:42.726 --> 00:03:45.236 A:middle
assets in your asset catalogue

00:03:45.406 --> 00:03:46.386 A:middle
it's even easier.

00:03:46.966 --> 00:03:49.676 A:middle
All you have to do is set that

00:03:49.786 --> 00:03:53.156 A:middle
preserve PDF data and we'll

00:03:53.156 --> 00:03:55.566 A:middle
automatically pick up the PDF

00:03:55.566 --> 00:03:57.036 A:middle
data, resize it larger, and

00:03:57.036 --> 00:03:58.406 A:middle
display it in that HUD without

00:03:58.406 --> 00:03:59.516 A:middle
you having to do anything to

00:03:59.516 --> 00:03:59.976 A:middle
your assets.

00:04:04.086 --> 00:04:06.426 A:middle
So if you wanted to learn more

00:04:06.426 --> 00:04:07.636 A:middle
about accessibility features

00:04:07.636 --> 00:04:08.976 A:middle
such as the HUD and how you can

00:04:08.976 --> 00:04:10.526 A:middle
pick that up, there's the What's

00:04:10.526 --> 00:04:11.796 A:middle
New in Accessibility session

00:04:11.796 --> 00:04:12.946 A:middle
happening this Wednesday.

00:04:12.946 --> 00:04:14.356 A:middle
I recommend you go there to

00:04:14.356 --> 00:04:15.386 A:middle
learn all about what's new in

00:04:15.386 --> 00:04:17.016 A:middle
accessibility in iOS 11.

00:04:17.016 --> 00:04:19.886 A:middle
And so let's talk next about

00:04:19.886 --> 00:04:20.956 A:middle
navigation bar.

00:04:21.026 --> 00:04:22.836 A:middle
How do we get those large titles

00:04:22.836 --> 00:04:24.296 A:middle
that appeared in the files app

00:04:24.296 --> 00:04:25.286 A:middle
and other apps across the

00:04:25.286 --> 00:04:25.516 A:middle
system?

00:04:26.156 --> 00:04:28.926 A:middle
So first there's a new property

00:04:28.966 --> 00:04:31.436 A:middle
on UI navigation bar, prefers

00:04:31.436 --> 00:04:32.296 A:middle
large titles.

00:04:32.856 --> 00:04:34.566 A:middle
If you set this to "true" on any

00:04:34.566 --> 00:04:36.686 A:middle
given navigation bar then you'll

00:04:36.686 --> 00:04:38.486 A:middle
start seeing large titles all

00:04:38.486 --> 00:04:39.486 A:middle
across the system -- all across

00:04:39.486 --> 00:04:40.136 A:middle
your application.

00:04:41.356 --> 00:04:42.796 A:middle
Now you might be wondering; what

00:04:42.796 --> 00:04:44.326 A:middle
do these other three words that

00:04:44.326 --> 00:04:45.556 A:middle
I've got here on this slide --

00:04:45.556 --> 00:04:46.476 A:middle
maybe they're a little hard to

00:04:46.476 --> 00:04:48.026 A:middle
see, but automatic, always, and

00:04:48.026 --> 00:04:48.906 A:middle
never -- what does that have to

00:04:48.906 --> 00:04:49.296 A:middle
do with?

00:04:49.946 --> 00:04:51.776 A:middle
Well, there's a second property

00:04:51.776 --> 00:04:52.996 A:middle
to control when these appear;

00:04:52.996 --> 00:04:55.176 A:middle
the large title display mode.

00:04:55.886 --> 00:04:57.346 A:middle
This is what easily allows you

00:04:57.346 --> 00:04:58.546 A:middle
to determine for each view

00:04:58.546 --> 00:04:59.846 A:middle
control you push onto a nav

00:04:59.886 --> 00:05:01.126 A:middle
controller or to a navigation

00:05:01.126 --> 00:05:03.436 A:middle
bar stack when the large title

00:05:03.436 --> 00:05:03.976 A:middle
appears.

00:05:04.386 --> 00:05:05.516 A:middle
And let me show you how that

00:05:05.516 --> 00:05:05.866 A:middle
works.

00:05:07.326 --> 00:05:09.046 A:middle
So we turned on large titles on

00:05:09.046 --> 00:05:11.286 A:middle
this navigation bar and we put

00:05:11.286 --> 00:05:12.116 A:middle
an item on there.

00:05:12.456 --> 00:05:14.346 A:middle
It defaults to automatic and

00:05:14.346 --> 00:05:16.456 A:middle
automatic means whatever the

00:05:16.456 --> 00:05:18.506 A:middle
current state is, whoever asked

00:05:18.506 --> 00:05:20.436 A:middle
last for that bar to appear,

00:05:20.776 --> 00:05:21.496 A:middle
keep it.

00:05:22.046 --> 00:05:23.326 A:middle
Since nothing else is on the

00:05:23.326 --> 00:05:24.646 A:middle
stack and we turned on large

00:05:24.646 --> 00:05:26.226 A:middle
titles, we have a large title.

00:05:26.226 --> 00:05:28.226 A:middle
But let's go ahead and push a

00:05:28.226 --> 00:05:29.516 A:middle
navigation item that we don't

00:05:29.516 --> 00:05:30.896 A:middle
want to display that large title

00:05:30.896 --> 00:05:32.996 A:middle
on and we just set the large

00:05:32.996 --> 00:05:34.326 A:middle
title display mode to "never"

00:05:34.326 --> 00:05:36.526 A:middle
and the large title goes away.

00:05:38.076 --> 00:05:38.876 A:middle
Now again we'll push an

00:05:38.876 --> 00:05:40.506 A:middle
"automatic," preserve whatever

00:05:40.506 --> 00:05:42.126 A:middle
we have now, and so we don't get

00:05:42.126 --> 00:05:43.926 A:middle
a large title, and then we'll

00:05:43.926 --> 00:05:46.286 A:middle
push "always," and now the large

00:05:46.286 --> 00:05:47.026 A:middle
title is back.

00:05:47.026 --> 00:05:48.546 A:middle
And again, we can push an

00:05:48.546 --> 00:05:50.796 A:middle
"automatic" and we're all there.

00:05:51.236 --> 00:05:54.266 A:middle
Simple. So there are two more

00:05:54.266 --> 00:05:55.736 A:middle
things we want to talk about on

00:05:55.736 --> 00:05:58.706 A:middle
navigation item and the first is

00:05:58.706 --> 00:06:00.226 A:middle
how to integrate the search

00:06:00.226 --> 00:06:01.486 A:middle
controller and the new search

00:06:01.486 --> 00:06:02.916 A:middle
bar look with your navigation

00:06:02.916 --> 00:06:03.256 A:middle
bars.

00:06:04.456 --> 00:06:06.316 A:middle
There's a single property again,

00:06:06.556 --> 00:06:07.726 A:middle
navigation item search

00:06:07.726 --> 00:06:08.256 A:middle
controller.

00:06:08.716 --> 00:06:09.476 A:middle
You assign your search

00:06:09.476 --> 00:06:10.526 A:middle
controller to the navigation

00:06:10.526 --> 00:06:13.476 A:middle
item and you're done.

00:06:13.586 --> 00:06:14.556 A:middle
The search bar is placed

00:06:14.556 --> 00:06:17.326 A:middle
correctly and it behaves just as

00:06:17.326 --> 00:06:19.436 A:middle
it does in a lot of our apps.

00:06:19.616 --> 00:06:20.636 A:middle
Now if you've actually gotten a

00:06:20.636 --> 00:06:22.486 A:middle
chance to play with "files" or

00:06:22.486 --> 00:06:23.696 A:middle
"mail" or some of the others

00:06:23.696 --> 00:06:24.806 A:middle
you'll notice that sometimes

00:06:24.936 --> 00:06:26.396 A:middle
that search bar stays pegged

00:06:26.396 --> 00:06:27.436 A:middle
when you scroll, sometimes it

00:06:27.436 --> 00:06:28.186 A:middle
does not.

00:06:28.266 --> 00:06:29.516 A:middle
In particular in "files" it

00:06:29.516 --> 00:06:31.216 A:middle
stays pegged and that's

00:06:31.216 --> 00:06:33.346 A:middle
controlled by this "hide search

00:06:33.386 --> 00:06:35.266 A:middle
bar when scrolling" property.

00:06:36.126 --> 00:06:37.276 A:middle
It defaults to "true."

00:06:37.276 --> 00:06:38.686 A:middle
So, for example in "mail" it

00:06:38.686 --> 00:06:40.916 A:middle
scrolls away, but in "files"

00:06:40.916 --> 00:06:41.936 A:middle
they've turned it off.

00:06:41.936 --> 00:06:43.346 A:middle
And so it stays pegged.

00:06:43.346 --> 00:06:44.396 A:middle
You can always reach the search

00:06:44.396 --> 00:06:46.726 A:middle
bar and it looks great.

00:06:47.356 --> 00:06:49.796 A:middle
So how does all this work?

00:06:49.796 --> 00:06:51.106 A:middle
A little bit of behind the

00:06:51.106 --> 00:06:52.166 A:middle
scenes on some of these things.

00:06:52.956 --> 00:06:54.156 A:middle
And the first thing you should

00:06:54.156 --> 00:06:55.676 A:middle
know is that a lot of these

00:06:55.676 --> 00:06:56.806 A:middle
interactions are actually

00:06:56.806 --> 00:06:58.626 A:middle
mediated by UI navigation

00:06:58.626 --> 00:06:59.106 A:middle
controller.

00:06:59.566 --> 00:07:01.226 A:middle
So if you're taking the

00:07:01.226 --> 00:07:03.066 A:middle
navigation bar and assembling

00:07:03.066 --> 00:07:04.346 A:middle
kind of the entire push and pop

00:07:04.346 --> 00:07:05.746 A:middle
experience yourself, and not

00:07:05.746 --> 00:07:07.476 A:middle
many people do, but if you are

00:07:07.936 --> 00:07:08.946 A:middle
you're not going to get some of

00:07:08.946 --> 00:07:09.626 A:middle
these features.

00:07:10.006 --> 00:07:11.636 A:middle
In particular you're not going

00:07:11.636 --> 00:07:12.576 A:middle
to get the search controller

00:07:12.576 --> 00:07:13.186 A:middle
integration.

00:07:13.216 --> 00:07:15.536 A:middle
You're not going to get refresh

00:07:15.536 --> 00:07:17.636 A:middle
controls hoisting and you're not

00:07:17.636 --> 00:07:18.586 A:middle
going to get rubber bending.

00:07:18.586 --> 00:07:19.956 A:middle
Rubber bending is when you start

00:07:19.956 --> 00:07:21.456 A:middle
pulling down, that large title

00:07:21.456 --> 00:07:23.496 A:middle
grows larger, and responds to

00:07:23.496 --> 00:07:24.086 A:middle
that scroller.

00:07:25.666 --> 00:07:27.606 A:middle
So that's navigation bar,

00:07:27.606 --> 00:07:29.386 A:middle
navigation controller, and those

00:07:29.386 --> 00:07:30.816 A:middle
new large title features.

00:07:31.846 --> 00:07:33.716 A:middle
But while we're here making all

00:07:33.716 --> 00:07:34.826 A:middle
of these changes we figured

00:07:34.826 --> 00:07:36.016 A:middle
let's actually make some other

00:07:36.016 --> 00:07:37.346 A:middle
changes to help your lives be

00:07:37.456 --> 00:07:38.636 A:middle
easier as well.

00:07:38.636 --> 00:07:42.756 A:middle
And so now in iOS 11, UI toolbar

00:07:42.756 --> 00:07:45.846 A:middle
and UI navigation bar both have

00:07:45.846 --> 00:07:47.596 A:middle
intricate and express support

00:07:47.596 --> 00:07:47.976 A:middle
for auto layout.

00:07:48.516 --> 00:07:54.106 A:middle
[ Applause ]

00:07:54.606 --> 00:07:56.266 A:middle
So what this means is that your

00:07:56.266 --> 00:07:57.706 A:middle
custom bar button items, your

00:07:57.706 --> 00:07:59.216 A:middle
custom title of use, can now use

00:07:59.216 --> 00:08:01.126 A:middle
layout to express their size to

00:08:01.126 --> 00:08:03.276 A:middle
us and get the proper layout

00:08:03.276 --> 00:08:04.466 A:middle
that you would otherwise expect.

00:08:05.326 --> 00:08:06.726 A:middle
Now there are a few things to

00:08:06.726 --> 00:08:07.346 A:middle
keep in mind.

00:08:07.926 --> 00:08:08.966 A:middle
One of them is you kind of want

00:08:08.966 --> 00:08:10.216 A:middle
to keep your constraints inside

00:08:10.216 --> 00:08:10.776 A:middle
of that view.

00:08:11.286 --> 00:08:12.546 A:middle
So if you give us a custom title

00:08:12.546 --> 00:08:13.496 A:middle
view you want to make sure that

00:08:13.496 --> 00:08:15.356 A:middle
any constraints there only

00:08:15.356 --> 00:08:16.946 A:middle
reference that title view and

00:08:16.946 --> 00:08:19.566 A:middle
any of its sub-views.

00:08:19.756 --> 00:08:21.776 A:middle
And this one is kind of big, but

00:08:21.776 --> 00:08:23.246 A:middle
it's kind of worth bringing out,

00:08:23.416 --> 00:08:25.136 A:middle
is that when you use auto layout

00:08:25.136 --> 00:08:26.216 A:middle
we also assume you know what

00:08:26.216 --> 00:08:28.746 A:middle
you're doing [laughter] and the

00:08:28.746 --> 00:08:30.866 A:middle
reason why I bring this up is

00:08:30.866 --> 00:08:32.866 A:middle
because otherwise you end up in

00:08:32.866 --> 00:08:34.586 A:middle
this case where you have to --

00:08:34.886 --> 00:08:36.586 A:middle
you get zero sized views.

00:08:37.446 --> 00:08:39.156 A:middle
So how do you avoid these zero

00:08:39.156 --> 00:08:39.876 A:middle
sized views?

00:08:40.196 --> 00:08:43.156 A:middle
Well, UI navigation bar and UI

00:08:43.156 --> 00:08:44.316 A:middle
toolbar provide positioning

00:08:44.316 --> 00:08:44.876 A:middle
information.

00:08:45.796 --> 00:08:47.366 A:middle
Zero sized views end up becoming

00:08:47.366 --> 00:08:48.806 A:middle
because you have some ambiguous

00:08:48.806 --> 00:08:49.606 A:middle
constraint layout.

00:08:49.606 --> 00:08:51.246 A:middle
And so the position is taken

00:08:51.246 --> 00:08:51.886 A:middle
care of for you.

00:08:51.886 --> 00:08:52.946 A:middle
You won't get your views shoved

00:08:52.946 --> 00:08:54.086 A:middle
up in an upper left corner

00:08:54.086 --> 00:08:56.366 A:middle
somewhere, but you still have to

00:08:56.366 --> 00:08:57.866 A:middle
provide sizing for us.

00:08:57.946 --> 00:08:59.406 A:middle
And there are three ways you can

00:08:59.406 --> 00:09:00.256 A:middle
do that.

00:09:01.136 --> 00:09:03.096 A:middle
You could add constraints for

00:09:03.096 --> 00:09:04.376 A:middle
width and height; perfectly

00:09:04.376 --> 00:09:05.756 A:middle
legal, perfectly legitimate.

00:09:05.756 --> 00:09:07.536 A:middle
Do that. You can put whatever

00:09:07.536 --> 00:09:08.966 A:middle
else you want in there and

00:09:08.966 --> 00:09:09.686 A:middle
you're golden.

00:09:11.076 --> 00:09:12.376 A:middle
You could also implement

00:09:12.446 --> 00:09:13.816 A:middle
intrinsic content size.

00:09:13.816 --> 00:09:15.626 A:middle
That'll also give us as much

00:09:15.626 --> 00:09:16.856 A:middle
information as we need.

00:09:17.376 --> 00:09:18.446 A:middle
You go along with the content

00:09:18.446 --> 00:09:19.336 A:middle
compression hugging and

00:09:19.336 --> 00:09:20.586 A:middle
compression resistance and

00:09:20.586 --> 00:09:21.706 A:middle
you're set.

00:09:22.736 --> 00:09:24.566 A:middle
But finally, the most easy way,

00:09:24.566 --> 00:09:26.566 A:middle
for most people, is to actually

00:09:26.566 --> 00:09:27.586 A:middle
make sure that all of your

00:09:27.586 --> 00:09:29.286 A:middle
sub-views are properly connected

00:09:29.286 --> 00:09:30.486 A:middle
and set up with auto layout.

00:09:30.486 --> 00:09:32.826 A:middle
And what that means is let's say

00:09:32.826 --> 00:09:34.956 A:middle
you have a custom title view and

00:09:35.016 --> 00:09:36.276 A:middle
you have a label and a button in

00:09:36.276 --> 00:09:38.416 A:middle
there, if you want to make sure

00:09:38.416 --> 00:09:39.726 A:middle
that you get the proper

00:09:39.726 --> 00:09:41.426 A:middle
horizontal width of that title

00:09:41.426 --> 00:09:43.556 A:middle
view you just need to make sure

00:09:43.556 --> 00:09:45.426 A:middle
that there are constraints set

00:09:45.426 --> 00:09:46.716 A:middle
up between those labels and

00:09:46.716 --> 00:09:48.146 A:middle
buttons such that the leading

00:09:48.146 --> 00:09:50.156 A:middle
and trailing edge, or the width,

00:09:50.246 --> 00:09:51.936 A:middle
of that title view is defined in

00:09:51.936 --> 00:09:53.046 A:middle
terms of those two views.

00:09:54.276 --> 00:09:56.266 A:middle
And so that's how you can use

00:09:56.326 --> 00:09:59.006 A:middle
auto layout to add precise

00:09:59.006 --> 00:10:00.706 A:middle
control to the size of your

00:10:00.706 --> 00:10:02.006 A:middle
custom title views and bar

00:10:02.006 --> 00:10:02.706 A:middle
button items.

00:10:03.436 --> 00:10:05.446 A:middle
Now, to demonstrate all the

00:10:05.446 --> 00:10:06.656 A:middle
things we've talked about today

00:10:06.656 --> 00:10:07.596 A:middle
we bring up Raj Ramamurphy to

00:10:07.596 --> 00:10:07.966 A:middle
give you a demo.

00:10:08.516 --> 00:10:16.246 A:middle
[ Applause ]

00:10:16.746 --> 00:10:17.396 A:middle
&gt;&gt; Thanks David.

00:10:17.766 --> 00:10:19.986 A:middle
So as David just explained, we

00:10:19.986 --> 00:10:21.956 A:middle
have a bunch of great new API in

00:10:22.056 --> 00:10:23.916 A:middle
iOS 11 for these new, large

00:10:23.916 --> 00:10:24.696 A:middle
navigation bars.

00:10:25.346 --> 00:10:26.326 A:middle
I'm going to walk you through

00:10:26.326 --> 00:10:28.226 A:middle
updating an app for iOS 11.

00:10:29.246 --> 00:10:30.166 A:middle
So here's a sample app we're

00:10:30.166 --> 00:10:31.176 A:middle
going to be working with today.

00:10:31.176 --> 00:10:32.826 A:middle
It's a pretty simple app called

00:10:32.826 --> 00:10:33.586 A:middle
"Trail Diary."

00:10:34.036 --> 00:10:35.276 A:middle
It's just a diary of some trails

00:10:35.276 --> 00:10:35.776 A:middle
I visited.

00:10:36.636 --> 00:10:37.846 A:middle
So here we are in the main view

00:10:37.846 --> 00:10:38.936 A:middle
controller, which I called the

00:10:38.936 --> 00:10:40.016 A:middle
"memory view controller."

00:10:40.656 --> 00:10:42.056 A:middle
Now, if I tap on one of these

00:10:42.056 --> 00:10:43.666 A:middle
cells you'll notice I get a

00:10:43.666 --> 00:10:44.766 A:middle
detail view controller.

00:10:45.216 --> 00:10:46.586 A:middle
This contains a photo, a

00:10:46.586 --> 00:10:47.736 A:middle
description, and some

00:10:47.736 --> 00:10:48.646 A:middle
information about this.

00:10:49.726 --> 00:10:50.776 A:middle
There's also a way to add

00:10:50.776 --> 00:10:52.046 A:middle
comments, and we're going to get

00:10:52.046 --> 00:10:52.986 A:middle
into that a little bit later,

00:10:53.486 --> 00:10:55.276 A:middle
but for now let's start updating

00:10:55.276 --> 00:10:56.436 A:middle
this app for iOS 11.

00:10:57.316 --> 00:10:58.616 A:middle
One of the first things I'd like

00:10:58.616 --> 00:11:00.686 A:middle
to do is introduce support in

00:11:00.686 --> 00:11:02.096 A:middle
this application for those

00:11:02.096 --> 00:11:03.396 A:middle
beautiful, new large titles.

00:11:04.076 --> 00:11:05.136 A:middle
So let's go ahead and do that.

00:11:06.066 --> 00:11:07.826 A:middle
We'll go over to the navigation

00:11:08.076 --> 00:11:08.976 A:middle
-- or sorry -- to the memory

00:11:08.976 --> 00:11:10.876 A:middle
view controller here and we're

00:11:10.876 --> 00:11:11.726 A:middle
going to get the navigation

00:11:11.726 --> 00:11:11.976 A:middle
controller.

00:11:17.186 --> 00:11:19.836 A:middle
Get the navigation bar and set

00:11:20.056 --> 00:11:22.256 A:middle
the "prefers large titles"

00:11:22.256 --> 00:11:24.056 A:middle
property on the navigation bar.

00:11:24.996 --> 00:11:26.516 A:middle
Now, when we set this property

00:11:26.886 --> 00:11:29.216 A:middle
we get large titles everywhere.

00:11:29.916 --> 00:11:31.836 A:middle
And if I recompile and rerun the

00:11:31.836 --> 00:11:34.716 A:middle
application, head back over to

00:11:35.296 --> 00:11:37.106 A:middle
it, and bring up the memory view

00:11:37.106 --> 00:11:39.316 A:middle
controller you'll notice we have

00:11:39.316 --> 00:11:41.356 A:middle
this beautiful, large title, and

00:11:41.516 --> 00:11:42.616 A:middle
since we already have a refresh

00:11:42.616 --> 00:11:44.206 A:middle
control that gets hoisted into

00:11:44.206 --> 00:11:45.686 A:middle
the navigation bar and we get

00:11:45.686 --> 00:11:46.926 A:middle
the rubber banding experience --

00:11:47.126 --> 00:11:48.036 A:middle
everything's looking great.

00:11:48.876 --> 00:11:50.386 A:middle
Now, "prefers large titles" will

00:11:50.386 --> 00:11:52.266 A:middle
turn large titles on everywhere.

00:11:52.656 --> 00:11:54.506 A:middle
So if I tap back into the detail

00:11:54.506 --> 00:11:55.946 A:middle
view controller you'll see we

00:11:55.946 --> 00:11:57.546 A:middle
get a really nice transition and

00:11:57.546 --> 00:11:58.386 A:middle
we have the detail view

00:11:58.386 --> 00:11:59.716 A:middle
controller showing a large title

00:11:59.716 --> 00:12:00.126 A:middle
as well.

00:12:01.126 --> 00:12:02.656 A:middle
Now this is great, but sometimes

00:12:02.656 --> 00:12:03.876 A:middle
the large title isn't what you

00:12:03.876 --> 00:12:04.816 A:middle
want everywhere.

00:12:05.356 --> 00:12:06.966 A:middle
And so for that, as David

00:12:06.966 --> 00:12:08.786 A:middle
explained, we have the

00:12:08.786 --> 00:12:10.856 A:middle
navigation item property, "large

00:12:10.856 --> 00:12:11.706 A:middle
title display mode."

00:12:12.956 --> 00:12:15.416 A:middle
So in this view I'd like to show

00:12:15.416 --> 00:12:16.596 A:middle
the standard inline title.

00:12:16.916 --> 00:12:18.356 A:middle
So let's update this view

00:12:18.356 --> 00:12:19.816 A:middle
controller to show that.

00:12:21.246 --> 00:12:22.936 A:middle
If I go over to the detail view

00:12:22.936 --> 00:12:24.186 A:middle
controller and set its

00:12:24.186 --> 00:12:26.346 A:middle
navigation items' large title

00:12:26.346 --> 00:12:28.506 A:middle
display mode to "never," as

00:12:28.506 --> 00:12:29.786 A:middle
David showed you before with the

00:12:29.786 --> 00:12:33.596 A:middle
stack, if we recompile and rerun

00:12:33.596 --> 00:12:35.446 A:middle
the application, we'll start out

00:12:35.446 --> 00:12:37.996 A:middle
with the large title, but if I

00:12:37.996 --> 00:12:39.586 A:middle
push view controller now we have

00:12:39.586 --> 00:12:41.216 A:middle
this standard inline title and

00:12:41.216 --> 00:12:42.136 A:middle
you get a great transition

00:12:42.136 --> 00:12:43.416 A:middle
between them and everything's

00:12:43.416 --> 00:12:44.166 A:middle
looking really great.

00:12:45.326 --> 00:12:46.066 A:middle
So that's how to use the

00:12:46.066 --> 00:12:48.246 A:middle
navigation item properties for

00:12:48.246 --> 00:12:50.536 A:middle
showing the large title, but I'd

00:12:50.536 --> 00:12:51.806 A:middle
also like to add search to this

00:12:51.806 --> 00:12:52.426 A:middle
application.

00:12:53.256 --> 00:12:54.496 A:middle
So I've already gone ahead and

00:12:54.496 --> 00:12:55.576 A:middle
configured a search controller

00:12:55.576 --> 00:12:57.066 A:middle
instance and I just need to show

00:12:57.066 --> 00:12:57.986 A:middle
the search bar in the

00:12:57.986 --> 00:12:58.566 A:middle
application.

00:12:59.246 --> 00:13:00.486 A:middle
As you may have seen, we're

00:13:00.486 --> 00:13:01.696 A:middle
showing search bars in the

00:13:01.696 --> 00:13:04.056 A:middle
navigation in iOS 11.

00:13:04.346 --> 00:13:05.476 A:middle
So let's add that appearance.

00:13:06.556 --> 00:13:08.516 A:middle
If I go over to the memory view

00:13:08.516 --> 00:13:10.476 A:middle
controller again and set the

00:13:10.476 --> 00:13:12.396 A:middle
navigation item's search

00:13:12.396 --> 00:13:13.696 A:middle
controller property to our

00:13:13.696 --> 00:13:15.586 A:middle
instance -- in this case it's

00:13:15.586 --> 00:13:16.926 A:middle
just called "search controller."

00:13:20.606 --> 00:13:22.646 A:middle
Recompile and rerun the

00:13:22.646 --> 00:13:22.976 A:middle
application.

00:13:27.116 --> 00:13:28.006 A:middle
You'll notice when the

00:13:28.006 --> 00:13:29.226 A:middle
application comes up into the

00:13:29.226 --> 00:13:31.386 A:middle
memory view controller, we still

00:13:31.386 --> 00:13:33.796 A:middle
have the large title, but now if

00:13:33.796 --> 00:13:35.236 A:middle
we pull down we get this

00:13:35.236 --> 00:13:36.726 A:middle
beautiful new search appearance.

00:13:37.546 --> 00:13:38.816 A:middle
So this app is looking really

00:13:38.816 --> 00:13:39.166 A:middle
great.

00:13:39.766 --> 00:13:42.606 A:middle
So that's just how to update

00:13:42.606 --> 00:13:44.236 A:middle
some of your bars for the new

00:13:44.236 --> 00:13:45.496 A:middle
appearance in iOS 11.

00:13:46.096 --> 00:13:47.496 A:middle
Now I'd like to bring Kyle

00:13:47.496 --> 00:13:49.016 A:middle
Sluder up who's going to talk to

00:13:49.016 --> 00:13:50.706 A:middle
you about margins, insets, and

00:13:50.706 --> 00:13:50.976 A:middle
scroll views.

00:13:51.516 --> 00:13:56.666 A:middle
[ Applause ]

00:13:57.166 --> 00:13:58.166 A:middle
&gt;&gt; Well done.

00:13:59.346 --> 00:13:59.976 A:middle
Thank you Raj.

00:14:04.496 --> 00:14:06.156 A:middle
So in iOS 11 we've made a number

00:14:06.156 --> 00:14:07.546 A:middle
of improvements to give you more

00:14:07.546 --> 00:14:09.396 A:middle
information and better control

00:14:09.396 --> 00:14:10.766 A:middle
over how your views lay out

00:14:10.766 --> 00:14:11.756 A:middle
their user interfaces.

00:14:12.606 --> 00:14:13.806 A:middle
And let's start by talking about

00:14:13.806 --> 00:14:14.756 A:middle
layout margins.

00:14:15.426 --> 00:14:16.756 A:middle
Layout margins are a portion of

00:14:16.756 --> 00:14:19.146 A:middle
the interior of your views that

00:14:19.186 --> 00:14:21.506 A:middle
UI kit gives you as a guide to

00:14:21.506 --> 00:14:22.666 A:middle
layout your content and give a

00:14:22.666 --> 00:14:24.706 A:middle
little breathing room between it

00:14:24.706 --> 00:14:25.556 A:middle
and the surrounding user

00:14:25.556 --> 00:14:26.406 A:middle
interface elements.

00:14:26.986 --> 00:14:28.116 A:middle
And we give this information to

00:14:28.116 --> 00:14:28.906 A:middle
you in two ways.

00:14:29.356 --> 00:14:30.966 A:middle
The first is a UI layout guide

00:14:30.966 --> 00:14:32.736 A:middle
object, which you can use with

00:14:32.736 --> 00:14:34.546 A:middle
auto layout to position your

00:14:34.586 --> 00:14:35.026 A:middle
content.

00:14:36.316 --> 00:14:38.116 A:middle
The second is a set of edge

00:14:38.116 --> 00:14:38.636 A:middle
insets.

00:14:38.756 --> 00:14:40.086 A:middle
And you can read these from your

00:14:40.086 --> 00:14:41.886 A:middle
view and write to them to

00:14:41.886 --> 00:14:43.206 A:middle
customize your layout margins.

00:14:44.606 --> 00:14:45.926 A:middle
In iOS 11 we're adding a new

00:14:45.926 --> 00:14:47.656 A:middle
property; directional layout

00:14:47.656 --> 00:14:48.196 A:middle
margins.

00:14:48.786 --> 00:14:49.946 A:middle
And this allows you to express

00:14:49.946 --> 00:14:50.996 A:middle
the layout margins in your

00:14:50.996 --> 00:14:52.566 A:middle
views, not just in left and

00:14:52.566 --> 00:14:54.126 A:middle
right terms, but in leading and

00:14:54.176 --> 00:14:54.556 A:middle
trailing.

00:14:55.556 --> 00:14:57.296 A:middle
And these two properties are in

00:14:57.296 --> 00:14:58.086 A:middle
sync with each other.

00:14:58.086 --> 00:15:00.676 A:middle
The left property is in sync

00:15:00.676 --> 00:15:01.566 A:middle
with the leading, when you're

00:15:01.566 --> 00:15:03.106 A:middle
writing in an LTR or left to

00:15:03.106 --> 00:15:04.196 A:middle
right language.

00:15:04.526 --> 00:15:05.526 A:middle
And the right property and the

00:15:05.526 --> 00:15:06.686 A:middle
trailing property are in sync.

00:15:07.356 --> 00:15:09.106 A:middle
So I can do something like write

00:15:09.106 --> 00:15:10.436 A:middle
a value to the trailing property

00:15:10.436 --> 00:15:12.456 A:middle
of this view, which will cause

00:15:12.456 --> 00:15:15.056 A:middle
its layout to adjust, and then

00:15:15.056 --> 00:15:15.896 A:middle
when I'm running in a right to

00:15:15.896 --> 00:15:17.806 A:middle
left language that trailing

00:15:18.096 --> 00:15:19.516 A:middle
space will be put on the left

00:15:19.516 --> 00:15:21.576 A:middle
side of the view and my layout

00:15:21.576 --> 00:15:22.946 A:middle
code can then read it from the

00:15:22.946 --> 00:15:23.706 A:middle
left property of the layout

00:15:23.706 --> 00:15:23.956 A:middle
margin.

00:15:24.516 --> 00:15:30.546 A:middle
[ Applause ]

00:15:31.046 --> 00:15:32.046 A:middle
You may also be familiar with a

00:15:32.046 --> 00:15:33.336 A:middle
behavior that has existed since

00:15:33.336 --> 00:15:34.596 A:middle
we introduced layout margins

00:15:34.596 --> 00:15:36.296 A:middle
where adding a view to a view

00:15:36.296 --> 00:15:38.196 A:middle
controller would fix its layout

00:15:38.196 --> 00:15:40.086 A:middle
margins to UI kit defined

00:15:40.086 --> 00:15:40.656 A:middle
values.

00:15:42.516 --> 00:15:44.596 A:middle
Well starting in iOS 11 these

00:15:44.596 --> 00:15:46.236 A:middle
are no longer fixed values.

00:15:46.556 --> 00:15:47.736 A:middle
They're actually minimums.

00:15:48.326 --> 00:15:49.776 A:middle
And we communicate the size of

00:15:49.776 --> 00:15:51.276 A:middle
these values to you with this

00:15:51.276 --> 00:15:53.106 A:middle
new property, system minimum

00:15:53.106 --> 00:15:54.106 A:middle
layout margins.

00:15:54.586 --> 00:15:55.806 A:middle
And you can change your view's

00:15:55.806 --> 00:15:57.616 A:middle
layout margins to any greater

00:15:57.616 --> 00:15:58.976 A:middle
value, no changes needed.

00:15:59.516 --> 00:16:03.976 A:middle
[ Applause ]

00:16:04.476 --> 00:16:05.976 A:middle
But we went one step further and

00:16:05.976 --> 00:16:07.826 A:middle
we added another new property on

00:16:07.826 --> 00:16:09.496 A:middle
view controller; view respects

00:16:09.496 --> 00:16:11.096 A:middle
system minimum layout margins.

00:16:11.456 --> 00:16:14.086 A:middle
If you set this to "false" you

00:16:14.086 --> 00:16:15.156 A:middle
can actually change your layout

00:16:15.156 --> 00:16:16.276 A:middle
margins to whatever value you

00:16:16.276 --> 00:16:18.276 A:middle
want, including zero, and you

00:16:18.276 --> 00:16:19.546 A:middle
can have full width content in

00:16:19.546 --> 00:16:21.256 A:middle
any view including those that

00:16:21.256 --> 00:16:21.926 A:middle
are managed by a view

00:16:21.926 --> 00:16:22.346 A:middle
controller.

00:16:25.256 --> 00:16:27.256 A:middle
Since iOS 7 we've had these

00:16:27.256 --> 00:16:29.306 A:middle
translucent bars throughout the

00:16:29.306 --> 00:16:30.746 A:middle
operating system and we've

00:16:30.746 --> 00:16:31.966 A:middle
encouraged you to draw your

00:16:31.966 --> 00:16:33.486 A:middle
content through those bars, as

00:16:33.486 --> 00:16:34.396 A:middle
you can see happening here in

00:16:34.396 --> 00:16:35.036 A:middle
the photos app.

00:16:36.146 --> 00:16:37.206 A:middle
The way that you do this is

00:16:37.206 --> 00:16:38.596 A:middle
using the edges for extended

00:16:38.596 --> 00:16:40.016 A:middle
layout property on UI view

00:16:40.016 --> 00:16:40.476 A:middle
controller.

00:16:41.096 --> 00:16:42.326 A:middle
And what this does is it causes

00:16:42.326 --> 00:16:44.096 A:middle
container view controllers to

00:16:44.096 --> 00:16:46.676 A:middle
size your views underneath the

00:16:46.676 --> 00:16:47.216 A:middle
bars.

00:16:48.026 --> 00:16:50.016 A:middle
By default it applies to all

00:16:50.016 --> 00:16:53.176 A:middle
edges and we communicate to you

00:16:53.436 --> 00:16:55.186 A:middle
the size of the overhanging bars

00:16:55.616 --> 00:16:57.176 A:middle
via these two properties; top

00:16:57.176 --> 00:16:58.556 A:middle
layout guide and bottom layout

00:16:58.556 --> 00:16:58.806 A:middle
guide.

00:16:59.986 --> 00:17:01.176 A:middle
Starting in iOS 11 we're

00:17:01.176 --> 00:17:02.916 A:middle
deprecating these properties and

00:17:02.916 --> 00:17:03.836 A:middle
replacing them with a new, more

00:17:03.836 --> 00:17:05.396 A:middle
powerful construct that we call

00:17:05.396 --> 00:17:05.816 A:middle
the "safe area."

00:17:10.216 --> 00:17:11.726 A:middle
The safe area is a way of

00:17:11.726 --> 00:17:13.226 A:middle
describing the portion of your

00:17:13.226 --> 00:17:14.826 A:middle
view that isn't occluded by any

00:17:14.906 --> 00:17:15.476 A:middle
content.

00:17:16.276 --> 00:17:17.826 A:middle
It's available to you as a set

00:17:17.826 --> 00:17:20.696 A:middle
of insets or as a UI layout

00:17:20.696 --> 00:17:21.306 A:middle
guide object.

00:17:22.186 --> 00:17:24.116 A:middle
And on TV it incorporates a very

00:17:24.116 --> 00:17:26.866 A:middle
useful bit of information called

00:17:26.866 --> 00:17:28.226 A:middle
the "over scan compensation

00:17:28.226 --> 00:17:28.796 A:middle
insets."

00:17:29.056 --> 00:17:30.736 A:middle
So any view on the screen can

00:17:30.736 --> 00:17:32.606 A:middle
layout its content and make sure

00:17:32.606 --> 00:17:33.836 A:middle
that it isn't overlapped by the

00:17:33.836 --> 00:17:35.126 A:middle
physical bezel of the

00:17:35.126 --> 00:17:35.676 A:middle
television.

00:17:36.176 --> 00:17:38.156 A:middle
Now if you have a custom

00:17:38.156 --> 00:17:39.726 A:middle
container view controller, you

00:17:39.726 --> 00:17:41.176 A:middle
might be adding your own bars

00:17:41.486 --> 00:17:43.506 A:middle
and you can increase the size of

00:17:43.846 --> 00:17:45.096 A:middle
the -- excuse me -- you can

00:17:45.096 --> 00:17:46.916 A:middle
increase the size of the safe

00:17:46.916 --> 00:17:49.096 A:middle
area insets via this new

00:17:49.096 --> 00:17:51.036 A:middle
property; additional safe area

00:17:51.036 --> 00:17:51.666 A:middle
insets.

00:17:52.246 --> 00:17:53.616 A:middle
And if any of your ancestor view

00:17:53.616 --> 00:17:55.396 A:middle
controllers change their size of

00:17:55.396 --> 00:17:57.416 A:middle
their safe area insets you will

00:17:57.416 --> 00:17:58.666 A:middle
get a call back in two different

00:17:58.666 --> 00:17:59.056 A:middle
ways.

00:17:59.276 --> 00:18:01.066 A:middle
Every view can get safe area

00:18:01.066 --> 00:18:02.566 A:middle
insets to change and view

00:18:02.566 --> 00:18:03.906 A:middle
controllers can get view safe

00:18:03.906 --> 00:18:05.226 A:middle
area insets to change.

00:18:06.896 --> 00:18:07.816 A:middle
[applause] Thank you.

00:18:08.456 --> 00:18:10.456 A:middle
[ Applause ]

00:18:10.896 --> 00:18:12.576 A:middle
So one really common view that's

00:18:12.576 --> 00:18:14.086 A:middle
used with UI view controller is

00:18:14.086 --> 00:18:14.746 A:middle
UI scroll view.

00:18:15.436 --> 00:18:17.026 A:middle
And in this little sample here I

00:18:17.026 --> 00:18:18.286 A:middle
have some text that's inside of

00:18:18.286 --> 00:18:19.926 A:middle
the UI scroll view and contained

00:18:19.926 --> 00:18:21.636 A:middle
within a navigation controller.

00:18:22.766 --> 00:18:24.386 A:middle
Now traditionally navigation

00:18:24.386 --> 00:18:26.706 A:middle
controllers would impart a

00:18:26.706 --> 00:18:28.806 A:middle
content inset to the scroll

00:18:28.806 --> 00:18:30.296 A:middle
views of their topmost view

00:18:30.296 --> 00:18:30.766 A:middle
controller.

00:18:31.786 --> 00:18:33.156 A:middle
We're making a really big change

00:18:33.156 --> 00:18:34.886 A:middle
here in iOS 11 and we're no

00:18:34.886 --> 00:18:36.566 A:middle
longer populating the content

00:18:36.566 --> 00:18:37.596 A:middle
inset property through scroll

00:18:37.596 --> 00:18:37.876 A:middle
views.

00:18:38.386 --> 00:18:40.356 A:middle
Instead we've added a new

00:18:40.356 --> 00:18:42.176 A:middle
property, adjusted content

00:18:42.176 --> 00:18:44.536 A:middle
inset, that includes the sum of

00:18:44.536 --> 00:18:46.476 A:middle
the content inset and any

00:18:46.476 --> 00:18:48.096 A:middle
overlap from container view

00:18:48.096 --> 00:18:48.716 A:middle
controllers.

00:18:49.876 --> 00:18:51.376 A:middle
This means you can use the

00:18:51.376 --> 00:18:52.856 A:middle
content inset property for

00:18:52.856 --> 00:18:54.196 A:middle
whatever purposes are

00:18:54.196 --> 00:18:54.886 A:middle
appropriate for your

00:18:54.886 --> 00:18:56.356 A:middle
application, such as this

00:18:56.416 --> 00:18:58.436 A:middle
additional information about

00:18:58.436 --> 00:19:00.976 A:middle
this text here, and we won't

00:19:00.976 --> 00:19:01.456 A:middle
change it.

00:19:02.066 --> 00:19:02.886 A:middle
And you don't have to worry

00:19:02.886 --> 00:19:04.266 A:middle
about saving and restoring any

00:19:04.266 --> 00:19:05.906 A:middle
UI kit provided values and

00:19:05.906 --> 00:19:07.236 A:middle
having content underlapping

00:19:07.486 --> 00:19:08.816 A:middle
navigation bars or the status

00:19:08.816 --> 00:19:08.936 A:middle
bar.

00:19:09.516 --> 00:19:15.046 A:middle
[ Applause ]

00:19:15.546 --> 00:19:16.986 A:middle
You may be familiar with our

00:19:16.986 --> 00:19:18.466 A:middle
auto layout support in UI scroll

00:19:18.466 --> 00:19:20.436 A:middle
view that lets you dictate how

00:19:20.436 --> 00:19:21.806 A:middle
big the scrollable region of

00:19:21.806 --> 00:19:23.286 A:middle
your scroll view is by

00:19:23.286 --> 00:19:25.446 A:middle
constraining sub-views to the

00:19:25.446 --> 00:19:26.536 A:middle
scroll view itself.

00:19:27.176 --> 00:19:28.406 A:middle
And we've added a couple of UI

00:19:28.406 --> 00:19:30.056 A:middle
layout guide objects that make

00:19:30.136 --> 00:19:32.026 A:middle
your layout more clear and more

00:19:32.026 --> 00:19:33.436 A:middle
expressive and more powerful.

00:19:33.986 --> 00:19:35.756 A:middle
The first is a UI layout guide

00:19:35.756 --> 00:19:37.056 A:middle
object called the frame layout

00:19:37.096 --> 00:19:37.406 A:middle
guide.

00:19:37.816 --> 00:19:39.216 A:middle
And this layout guide

00:19:39.266 --> 00:19:41.096 A:middle
corresponds to the position and

00:19:41.096 --> 00:19:42.486 A:middle
size of your scroll view in

00:19:42.486 --> 00:19:44.636 A:middle
screen space, which means you

00:19:44.636 --> 00:19:45.976 A:middle
can do things like constrain the

00:19:45.976 --> 00:19:47.126 A:middle
sub-view, like this page

00:19:47.126 --> 00:19:48.476 A:middle
indicator, and it will stay

00:19:48.596 --> 00:19:50.016 A:middle
fixed on screen as the user

00:19:50.016 --> 00:19:50.616 A:middle
scrolls.

00:19:51.966 --> 00:19:53.216 A:middle
The second layout guide object

00:19:53.216 --> 00:19:54.676 A:middle
we've added is the content

00:19:54.676 --> 00:19:55.246 A:middle
layout guide.

00:19:55.766 --> 00:19:56.786 A:middle
And you can contain your

00:19:56.786 --> 00:19:58.146 A:middle
sub-views in order to influence

00:19:58.146 --> 00:19:59.656 A:middle
the scrollable size of your

00:19:59.656 --> 00:20:02.296 A:middle
scroll view or have things move

00:20:02.296 --> 00:20:03.456 A:middle
as the user scrolls.

00:20:04.916 --> 00:20:06.806 A:middle
One really common sub class of

00:20:06.806 --> 00:20:08.786 A:middle
UI scroll view is UI table view

00:20:09.066 --> 00:20:09.896 A:middle
and we've made a number of

00:20:09.896 --> 00:20:11.466 A:middle
changes here too, the biggest of

00:20:11.466 --> 00:20:13.446 A:middle
which is that table views use

00:20:13.446 --> 00:20:16.516 A:middle
self-sizing by default on iOS

00:20:16.516 --> 00:20:17.906 A:middle
11, not on TVOS.

00:20:19.116 --> 00:20:20.396 A:middle
This means that your headers,

00:20:20.446 --> 00:20:23.556 A:middle
your footers, and your cells are

00:20:23.556 --> 00:20:25.676 A:middle
using estimated sizes.

00:20:25.986 --> 00:20:27.066 A:middle
We've done this by changing the

00:20:27.066 --> 00:20:29.076 A:middle
default value of the estimated

00:20:29.076 --> 00:20:30.886 A:middle
size properties on UI table view

00:20:31.246 --> 00:20:32.576 A:middle
to this constant, automatic

00:20:32.576 --> 00:20:33.006 A:middle
dimension.

00:20:34.456 --> 00:20:35.916 A:middle
This means that you need to

00:20:35.916 --> 00:20:37.736 A:middle
ensure that your cells all have

00:20:37.736 --> 00:20:39.166 A:middle
sufficient internal constraints

00:20:39.166 --> 00:20:40.396 A:middle
to tell UI table view how big

00:20:40.396 --> 00:20:42.296 A:middle
they should be or you need to

00:20:42.296 --> 00:20:43.726 A:middle
implement the delegate methods

00:20:43.956 --> 00:20:45.356 A:middle
that tell us how big your rows

00:20:45.356 --> 00:20:45.586 A:middle
are.

00:20:45.776 --> 00:20:46.846 A:middle
You should also implement those

00:20:46.846 --> 00:20:48.446 A:middle
delicate methods for you headers

00:20:48.706 --> 00:20:49.536 A:middle
and your footers.

00:20:50.826 --> 00:20:52.286 A:middle
Now maybe you want to link your

00:20:52.286 --> 00:20:53.806 A:middle
application against the iOS 11

00:20:53.876 --> 00:20:55.966 A:middle
SDK, but you're not ready to

00:20:56.186 --> 00:20:57.186 A:middle
adopt this new behavior.

00:20:57.516 --> 00:20:59.026 A:middle
You can opt out of it by setting

00:20:59.026 --> 00:21:00.426 A:middle
the estimated height properties

00:21:00.426 --> 00:21:02.096 A:middle
on your table views to zero.

00:21:02.476 --> 00:21:03.926 A:middle
That will turn off estimated

00:21:03.926 --> 00:21:06.236 A:middle
sizes, which will also disable

00:21:06.236 --> 00:21:06.906 A:middle
self-sizing.

00:21:09.596 --> 00:21:11.096 A:middle
Now you may be familiar with

00:21:11.096 --> 00:21:12.226 A:middle
another concept we introduced a

00:21:12.226 --> 00:21:13.636 A:middle
while back called the readable

00:21:13.636 --> 00:21:14.466 A:middle
content guide.

00:21:14.936 --> 00:21:16.106 A:middle
And this is a portion of your

00:21:16.106 --> 00:21:17.516 A:middle
views that if you lay out your

00:21:17.516 --> 00:21:18.806 A:middle
content within, will be

00:21:18.806 --> 00:21:20.056 A:middle
comfortable to read even on a

00:21:20.056 --> 00:21:21.876 A:middle
large device like an iPad in

00:21:21.876 --> 00:21:22.416 A:middle
landscape.

00:21:22.926 --> 00:21:25.906 A:middle
Now by default table views have

00:21:25.906 --> 00:21:28.106 A:middle
a separator inset that is within

00:21:28.106 --> 00:21:30.146 A:middle
the readable content area and

00:21:30.146 --> 00:21:31.446 A:middle
this influences the position of

00:21:31.446 --> 00:21:33.556 A:middle
the separators and of the labels

00:21:33.556 --> 00:21:34.796 A:middle
in the table use content view

00:21:34.796 --> 00:21:35.266 A:middle
itself.

00:21:36.316 --> 00:21:38.056 A:middle
And if you change the separator

00:21:38.056 --> 00:21:41.766 A:middle
insets' values you would see

00:21:41.766 --> 00:21:43.586 A:middle
that the separator inset moves

00:21:43.586 --> 00:21:45.596 A:middle
relative to its readable content

00:21:45.596 --> 00:21:46.176 A:middle
guide position.

00:21:47.066 --> 00:21:48.346 A:middle
Starting in iOS 11 we're

00:21:48.346 --> 00:21:51.436 A:middle
changing this and the separator

00:21:51.436 --> 00:21:53.226 A:middle
insets will always be relative

00:21:53.276 --> 00:21:54.366 A:middle
to the edges of the cells

00:21:54.366 --> 00:21:55.566 A:middle
themselves, which are the full

00:21:55.566 --> 00:21:56.966 A:middle
width of the table view, which

00:21:58.016 --> 00:21:59.526 A:middle
means you can set these values

00:21:59.526 --> 00:22:01.416 A:middle
to zero and have full width,

00:22:01.776 --> 00:22:03.476 A:middle
full bleed content even on an

00:22:03.596 --> 00:22:04.866 A:middle
iPad running in landscape.

00:22:05.296 --> 00:22:08.006 A:middle
And this is a table view on an

00:22:08.006 --> 00:22:10.726 A:middle
iPhone and if I change the

00:22:10.726 --> 00:22:12.976 A:middle
separator inset here you can see

00:22:12.976 --> 00:22:14.696 A:middle
that it is also defined relative

00:22:14.736 --> 00:22:16.316 A:middle
to the edges of the cell -- to

00:22:16.316 --> 00:22:17.186 A:middle
the edge of the table view.

00:22:18.276 --> 00:22:19.416 A:middle
We've added a new property to UI

00:22:19.416 --> 00:22:21.886 A:middle
table view, separator inset

00:22:21.886 --> 00:22:23.236 A:middle
reference, that you can use to

00:22:23.236 --> 00:22:24.426 A:middle
tell us that you actually just

00:22:24.426 --> 00:22:26.036 A:middle
want to adjust the separator

00:22:26.036 --> 00:22:27.826 A:middle
inset from its default automatic

00:22:27.826 --> 00:22:28.246 A:middle
position.

00:22:30.176 --> 00:22:31.266 A:middle
And this works on iPad too.

00:22:31.846 --> 00:22:34.016 A:middle
A couple of things to keep in

00:22:34.016 --> 00:22:34.946 A:middle
mind about the way the table

00:22:34.946 --> 00:22:36.056 A:middle
views interact with the safe

00:22:36.056 --> 00:22:38.036 A:middle
area; those automatic separator

00:22:38.036 --> 00:22:39.646 A:middle
insets are relative to the safe

00:22:39.646 --> 00:22:40.396 A:middle
area insets.

00:22:40.726 --> 00:22:42.476 A:middle
So by default the entire content

00:22:42.476 --> 00:22:44.026 A:middle
of your table view avoids the

00:22:44.026 --> 00:22:45.346 A:middle
safe area insets from its

00:22:45.376 --> 00:22:46.556 A:middle
ancestor view controllers.

00:22:47.296 --> 00:22:49.656 A:middle
UI table view cell and UI table

00:22:49.656 --> 00:22:50.966 A:middle
view header/footer view, which

00:22:50.966 --> 00:22:52.076 A:middle
might be one of the longer names

00:22:52.076 --> 00:22:53.936 A:middle
in the kit, they both have a

00:22:53.936 --> 00:22:55.236 A:middle
content view property.

00:22:55.446 --> 00:22:56.256 A:middle
That's where you should be

00:22:56.256 --> 00:22:57.456 A:middle
adding your sub-views.

00:22:58.276 --> 00:22:59.636 A:middle
Both of these classes make sure

00:22:59.636 --> 00:23:01.526 A:middle
that that content view also

00:23:01.526 --> 00:23:03.156 A:middle
avoids the safe area insets.

00:23:03.646 --> 00:23:05.206 A:middle
So you should be using UI table

00:23:05.206 --> 00:23:07.176 A:middle
view header/footer view for all

00:23:07.176 --> 00:23:08.156 A:middle
of the headers and footers in

00:23:08.156 --> 00:23:09.896 A:middle
your table views; table headers

00:23:09.896 --> 00:23:11.726 A:middle
and footers and section headers

00:23:12.236 --> 00:23:14.196 A:middle
and footers.

00:23:14.346 --> 00:23:15.496 A:middle
We've also brought over the

00:23:15.496 --> 00:23:17.296 A:middle
really rich swipe action

00:23:17.986 --> 00:23:19.586 A:middle
functionality from the mail

00:23:19.586 --> 00:23:20.776 A:middle
application to your

00:23:20.776 --> 00:23:21.476 A:middle
applications.

00:23:22.146 --> 00:23:24.176 A:middle
So on iOS 11 your applications

00:23:24.176 --> 00:23:25.426 A:middle
will get the new swipe action

00:23:25.426 --> 00:23:27.596 A:middle
look and feel by default, and if

00:23:27.596 --> 00:23:30.256 A:middle
you link against iOS 11, you can

00:23:30.256 --> 00:23:31.636 A:middle
get full swipe to delete

00:23:31.636 --> 00:23:32.986 A:middle
behavior, just like you're used

00:23:32.986 --> 00:23:33.786 A:middle
to from the mail app.

00:23:34.596 --> 00:23:35.306 A:middle
And if you go ahead --

00:23:35.966 --> 00:23:36.616 A:middle
[applause] some people are very

00:23:36.616 --> 00:23:37.516 A:middle
excited about this I know.

00:23:38.406 --> 00:23:39.836 A:middle
[applause] And if you go ahead

00:23:39.836 --> 00:23:41.736 A:middle
and adopt a few new APIs you can

00:23:41.736 --> 00:23:43.026 A:middle
get some really cool features,

00:23:43.386 --> 00:23:44.736 A:middle
like images in your swipe

00:23:44.736 --> 00:23:46.736 A:middle
actions, or swipe actions from

00:23:46.736 --> 00:23:47.876 A:middle
both the leading and the

00:23:47.876 --> 00:23:50.646 A:middle
trailing edges, or a completion

00:23:50.646 --> 00:23:51.936 A:middle
handler that lets you cancel the

00:23:51.936 --> 00:23:52.606 A:middle
swipe action.

00:23:53.066 --> 00:23:55.286 A:middle
And to show us how to adopt all

00:23:55.286 --> 00:23:55.886 A:middle
these features in our

00:23:55.886 --> 00:23:57.236 A:middle
application, Raj is going to

00:23:57.236 --> 00:23:57.926 A:middle
come up and give us another

00:23:57.926 --> 00:23:58.216 A:middle
demo.

00:23:58.406 --> 00:23:58.706 A:middle
Raj?

00:23:59.516 --> 00:24:05.906 A:middle
[ Applause ]

00:24:06.406 --> 00:24:06.936 A:middle
&gt;&gt; Thanks Kyle.

00:24:07.596 --> 00:24:08.576 A:middle
So we're going to switch over to

00:24:08.576 --> 00:24:10.506 A:middle
the demo machine again and as

00:24:10.506 --> 00:24:12.136 A:middle
you can see we've got these big

00:24:12.136 --> 00:24:13.286 A:middle
beautiful bars in this new

00:24:13.286 --> 00:24:13.936 A:middle
application.

00:24:14.286 --> 00:24:15.216 A:middle
It's looking really great.

00:24:16.436 --> 00:24:17.116 A:middle
But I want to show you the

00:24:17.116 --> 00:24:18.106 A:middle
comments view controller.

00:24:18.106 --> 00:24:19.646 A:middle
Now if I push into the comments

00:24:19.646 --> 00:24:21.216 A:middle
view controller here, you'll

00:24:21.216 --> 00:24:22.266 A:middle
notice we have some really

00:24:22.266 --> 00:24:24.636 A:middle
interesting comments and we've

00:24:24.636 --> 00:24:26.046 A:middle
got all the comments here in a

00:24:26.046 --> 00:24:27.216 A:middle
comment bar at the bottom.

00:24:28.096 --> 00:24:29.586 A:middle
Now our users have been asking

00:24:29.586 --> 00:24:31.466 A:middle
us for one thing and that's time

00:24:31.466 --> 00:24:31.876 A:middle
stamps.

00:24:32.436 --> 00:24:33.776 A:middle
And so I went and spoke to our

00:24:33.776 --> 00:24:35.366 A:middle
designer and got this really

00:24:35.366 --> 00:24:37.086 A:middle
cool design for this awesome new

00:24:37.086 --> 00:24:37.736 A:middle
scroll bar.

00:24:38.436 --> 00:24:40.376 A:middle
This scroll bar also indicates,

00:24:40.856 --> 00:24:42.506 A:middle
not only where you are in the

00:24:42.506 --> 00:24:44.446 A:middle
comments view, but also the time

00:24:44.446 --> 00:24:45.776 A:middle
stamp where it's pointing.

00:24:46.666 --> 00:24:48.146 A:middle
So let's go ahead and implement

00:24:48.146 --> 00:24:48.346 A:middle
that.

00:24:49.456 --> 00:24:50.606 A:middle
I'll switch over to the comments

00:24:50.606 --> 00:24:52.456 A:middle
view controller and create our

00:24:52.456 --> 00:24:54.426 A:middle
scroll bar using a method I

00:24:54.426 --> 00:24:55.086 A:middle
wrote earlier.

00:24:55.876 --> 00:24:58.176 A:middle
And when I recompile and rerun

00:24:58.176 --> 00:25:02.026 A:middle
the application, scroll down,

00:25:03.306 --> 00:25:05.656 A:middle
tap on one of these cells, and

00:25:05.656 --> 00:25:06.346 A:middle
into the comments view

00:25:06.346 --> 00:25:07.936 A:middle
controller you'll see there it

00:25:08.566 --> 00:25:08.636 A:middle
is.

00:25:08.636 --> 00:25:09.776 A:middle
So it's looking pretty cool.

00:25:09.776 --> 00:25:11.116 A:middle
It shows you where you are in

00:25:11.116 --> 00:25:12.296 A:middle
this comments view controller

00:25:12.816 --> 00:25:15.436 A:middle
and the time stamp of the cell

00:25:15.526 --> 00:25:17.456 A:middle
that it's pointing at.

00:25:18.146 --> 00:25:19.776 A:middle
But, as you might notice, there

00:25:19.776 --> 00:25:20.606 A:middle
are a few issues here.

00:25:21.236 --> 00:25:22.906 A:middle
The first issue is that this

00:25:22.906 --> 00:25:24.716 A:middle
indicator actually overlaps with

00:25:24.716 --> 00:25:26.306 A:middle
the table view cell a little bit

00:25:26.306 --> 00:25:27.466 A:middle
and so it makes things maybe a

00:25:27.466 --> 00:25:28.346 A:middle
little bit hard to read.

00:25:29.286 --> 00:25:30.886 A:middle
The second thing is that this

00:25:30.936 --> 00:25:32.116 A:middle
indicator overlaps with this

00:25:32.146 --> 00:25:33.496 A:middle
input field here at the bottom.

00:25:34.376 --> 00:25:36.386 A:middle
So let's use some new APIs in

00:25:36.466 --> 00:25:37.856 A:middle
iOS 11 to help solve these

00:25:37.856 --> 00:25:38.276 A:middle
problems.

00:25:38.916 --> 00:25:40.596 A:middle
We're going to use the

00:25:40.596 --> 00:25:42.146 A:middle
additional safe area insets

00:25:42.146 --> 00:25:44.586 A:middle
property on UI view controller

00:25:44.586 --> 00:25:45.706 A:middle
to help solve this.

00:25:46.406 --> 00:25:47.766 A:middle
So I'll go ahead and unwrap our

00:25:47.766 --> 00:25:49.956 A:middle
two views and I'll set our

00:25:49.956 --> 00:25:51.576 A:middle
additional safe area insets to a

00:25:51.576 --> 00:25:52.996 A:middle
UA edge insets.

00:25:54.366 --> 00:25:56.066 A:middle
So on the top we don't have

00:25:56.066 --> 00:25:57.136 A:middle
anything additional to add.

00:25:57.996 --> 00:25:59.376 A:middle
On the left that's the same

00:25:59.376 --> 00:25:59.796 A:middle
story.

00:26:00.346 --> 00:26:01.976 A:middle
On the bottom we want to make it

00:26:01.976 --> 00:26:04.096 A:middle
the comment bar's size.

00:26:04.366 --> 00:26:05.456 A:middle
So we'll get the height of the

00:26:05.456 --> 00:26:07.726 A:middle
comment bar and on the right we

00:26:07.726 --> 00:26:08.636 A:middle
have a property that I've

00:26:08.636 --> 00:26:10.286 A:middle
written earlier on the side

00:26:10.286 --> 00:26:12.516 A:middle
indicator that gives its

00:26:12.516 --> 00:26:13.376 A:middle
preferred width.

00:26:14.616 --> 00:26:16.106 A:middle
So now we've set up our

00:26:16.106 --> 00:26:17.406 A:middle
additional safe area insets.

00:26:17.976 --> 00:26:20.676 A:middle
If I recompile and rerun the

00:26:20.676 --> 00:26:23.846 A:middle
application, head into the

00:26:23.846 --> 00:26:25.316 A:middle
detail view and again into the

00:26:25.316 --> 00:26:26.806 A:middle
comments view controller, you'll

00:26:26.806 --> 00:26:27.896 A:middle
notice things are starting to

00:26:27.896 --> 00:26:28.756 A:middle
look pretty good.

00:26:29.366 --> 00:26:31.176 A:middle
We've got our content inset from

00:26:31.176 --> 00:26:33.656 A:middle
the right edge and the scroll

00:26:33.656 --> 00:26:35.146 A:middle
indicator's also inset from the

00:26:35.146 --> 00:26:37.416 A:middle
bottom edge, but you'll notice

00:26:37.416 --> 00:26:39.356 A:middle
here, down at the bottom, that

00:26:39.926 --> 00:26:42.406 A:middle
this comment field actually is

00:26:42.606 --> 00:26:43.726 A:middle
inset a little bit from the

00:26:43.726 --> 00:26:44.646 A:middle
right edge of the screen.

00:26:45.796 --> 00:26:48.526 A:middle
So the reason for that is the

00:26:48.526 --> 00:26:51.306 A:middle
comment field's text field is

00:26:51.306 --> 00:26:53.056 A:middle
constrained to its super views

00:26:53.106 --> 00:26:54.046 A:middle
layout margins.

00:26:54.836 --> 00:26:57.076 A:middle
Now in iOS 11 your layout

00:26:57.076 --> 00:26:59.046 A:middle
margins are actually inset from

00:26:59.046 --> 00:27:01.286 A:middle
the safe area and because we

00:27:01.286 --> 00:27:02.686 A:middle
added additional safe area

00:27:02.686 --> 00:27:04.506 A:middle
insets on the right of this view

00:27:04.986 --> 00:27:06.316 A:middle
our layout margins get inset

00:27:06.316 --> 00:27:06.896 A:middle
accordingly.

00:27:07.836 --> 00:27:09.206 A:middle
Now most of the time this is

00:27:09.206 --> 00:27:10.376 A:middle
going to be exactly what you

00:27:10.376 --> 00:27:12.476 A:middle
want, but we do have a property

00:27:12.476 --> 00:27:14.736 A:middle
on UI view, "insets layout

00:27:14.736 --> 00:27:16.746 A:middle
margins from safe area," which

00:27:16.746 --> 00:27:17.896 A:middle
lets you control this property.

00:27:18.586 --> 00:27:20.236 A:middle
So for this use case let's go

00:27:20.236 --> 00:27:20.966 A:middle
ahead and set that to "false."

00:27:27.046 --> 00:27:27.836 A:middle
When I go ahead and do that,

00:27:28.526 --> 00:27:30.166 A:middle
recompile and rerun the

00:27:30.166 --> 00:27:33.906 A:middle
application, go back into the

00:27:33.906 --> 00:27:35.256 A:middle
detail view controller and

00:27:35.256 --> 00:27:36.186 A:middle
finally into the comments view

00:27:36.186 --> 00:27:38.056 A:middle
controller, you'll see things

00:27:38.056 --> 00:27:38.896 A:middle
are starting to look really

00:27:38.896 --> 00:27:39.156 A:middle
good.

00:27:39.646 --> 00:27:40.916 A:middle
We've got our content at the

00:27:40.916 --> 00:27:41.726 A:middle
right spot.

00:27:41.966 --> 00:27:42.836 A:middle
We've got our beautiful new

00:27:42.836 --> 00:27:43.626 A:middle
scroll indicator.

00:27:44.036 --> 00:27:45.896 A:middle
Everything is inset and the

00:27:45.896 --> 00:27:47.296 A:middle
comment field is a full width.

00:27:47.746 --> 00:27:50.816 A:middle
Awesome! The next thing I'd like

00:27:50.816 --> 00:27:53.006 A:middle
to show you is adding swipe

00:27:53.006 --> 00:27:54.436 A:middle
actions to this application.

00:27:55.236 --> 00:27:57.136 A:middle
So I've decided that I'd like to

00:27:57.136 --> 00:27:59.216 A:middle
add the ability to favorite and

00:27:59.216 --> 00:28:00.126 A:middle
maybe delete some of these

00:28:00.126 --> 00:28:00.386 A:middle
things.

00:28:01.656 --> 00:28:03.306 A:middle
So let's go to the memory view

00:28:03.306 --> 00:28:06.266 A:middle
controller and add support for

00:28:06.346 --> 00:28:08.296 A:middle
the new swipe actions in iOS 11.

00:28:08.866 --> 00:28:12.256 A:middle
So it looks like a lot, but I'll

00:28:12.256 --> 00:28:12.946 A:middle
walk you through it.

00:28:13.916 --> 00:28:15.366 A:middle
All I've done is implemented two

00:28:15.366 --> 00:28:17.296 A:middle
new methods; leading swipe

00:28:17.296 --> 00:28:18.736 A:middle
actions configuration for road

00:28:18.736 --> 00:28:20.296 A:middle
indexpath and trailing swipe

00:28:20.296 --> 00:28:21.646 A:middle
actions configurations for road

00:28:21.646 --> 00:28:22.196 A:middle
indexpath.

00:28:22.956 --> 00:28:23.646 A:middle
So let's walk through the

00:28:23.646 --> 00:28:24.186 A:middle
leading one.

00:28:24.926 --> 00:28:26.286 A:middle
All I do is I create a UI

00:28:26.286 --> 00:28:27.786 A:middle
contextual action here, with a

00:28:27.786 --> 00:28:29.266 A:middle
style of "normal," a title of

00:28:29.266 --> 00:28:31.096 A:middle
"favorite," and a block based

00:28:31.096 --> 00:28:31.516 A:middle
handler.

00:28:32.636 --> 00:28:34.056 A:middle
I update our favorites state,

00:28:34.256 --> 00:28:35.536 A:middle
using a method I wrote earlier,

00:28:35.536 --> 00:28:37.046 A:middle
and then I call the completion

00:28:37.046 --> 00:28:39.146 A:middle
handler with the parameter of

00:28:39.916 --> 00:28:40.016 A:middle
"true."

00:28:40.246 --> 00:28:41.326 A:middle
Just so everything's looking

00:28:41.326 --> 00:28:42.856 A:middle
right, I'll also set it to

00:28:42.856 --> 00:28:44.246 A:middle
"unfavorite," based on whether

00:28:44.246 --> 00:28:45.476 A:middle
that item's already favorited.

00:28:46.586 --> 00:28:48.586 A:middle
And then I'll set the image to

00:28:48.586 --> 00:28:49.926 A:middle
this beautiful star that I had

00:28:49.996 --> 00:28:52.026 A:middle
made earlier and the background

00:28:52.026 --> 00:28:53.356 A:middle
color to this awesome looking

00:28:53.356 --> 00:28:53.776 A:middle
orange.

00:28:54.436 --> 00:28:56.106 A:middle
And then all I need to do is

00:28:56.106 --> 00:28:57.296 A:middle
create a UI swipe actions

00:28:57.296 --> 00:28:59.216 A:middle
configuration using that UI

00:28:59.216 --> 00:29:00.966 A:middle
contextual action and return it.

00:29:02.386 --> 00:29:03.496 A:middle
The story's pretty much the same

00:29:03.496 --> 00:29:05.046 A:middle
for the trailing actions; I just

00:29:05.046 --> 00:29:06.406 A:middle
use the style of disruptive.

00:29:07.376 --> 00:29:08.916 A:middle
So when I recompile and rerun

00:29:08.916 --> 00:29:13.716 A:middle
this time, go back over, and

00:29:13.716 --> 00:29:15.386 A:middle
swipe, you'll notice we get this

00:29:15.446 --> 00:29:17.606 A:middle
option swipe actions and you can

00:29:17.606 --> 00:29:18.706 A:middle
even have a swipe action on the

00:29:18.706 --> 00:29:19.976 A:middle
leading edge, as you see here,

00:29:19.976 --> 00:29:21.156 A:middle
which you were never able to do

00:29:21.156 --> 00:29:21.456 A:middle
before.

00:29:22.836 --> 00:29:24.456 A:middle
For full -- furthermore, you get

00:29:24.456 --> 00:29:26.036 A:middle
full swipe to delete support out

00:29:26.036 --> 00:29:27.046 A:middle
of the box.

00:29:27.416 --> 00:29:29.166 A:middle
So all I need to do is swipe all

00:29:29.166 --> 00:29:30.596 A:middle
the way across and it just

00:29:30.596 --> 00:29:30.976 A:middle
works.

00:29:31.516 --> 00:29:37.666 A:middle
[ Applause ]

00:29:38.166 --> 00:29:39.436 A:middle
So that's a look at some of the

00:29:39.436 --> 00:29:40.676 A:middle
new APIs for margins, insets,

00:29:41.036 --> 00:29:42.996 A:middle
scroll views, and bars in this

00:29:42.996 --> 00:29:43.466 A:middle
demo app.

00:29:43.696 --> 00:29:44.726 A:middle
It's looking really great and

00:29:44.726 --> 00:29:46.026 A:middle
definitely ready for iOS 11.

00:29:46.476 --> 00:29:47.736 A:middle
Now Kyle's going to come back up

00:29:47.776 --> 00:29:48.726 A:middle
to tell you about some related

00:29:48.726 --> 00:29:48.976 A:middle
sessions.

00:29:49.516 --> 00:29:56.866 A:middle
[ Applause ]

00:29:57.366 --> 00:29:58.236 A:middle
&gt;&gt; Thank you again Raj.

00:29:59.136 --> 00:30:00.456 A:middle
So just to recap what we've

00:30:00.456 --> 00:30:02.026 A:middle
learned today; we've learned how

00:30:02.026 --> 00:30:03.716 A:middle
to adopt large navigation titles

00:30:04.006 --> 00:30:05.076 A:middle
and the new integrated search

00:30:05.076 --> 00:30:06.706 A:middle
experience into our applications

00:30:06.806 --> 00:30:07.616 A:middle
for iOS 11.

00:30:09.006 --> 00:30:10.516 A:middle
We've also learned about some

00:30:10.516 --> 00:30:11.936 A:middle
new improvements to layout

00:30:11.936 --> 00:30:13.296 A:middle
margins that give us complete

00:30:13.296 --> 00:30:15.686 A:middle
control over our views and the

00:30:15.686 --> 00:30:17.616 A:middle
way they layout, as well as a

00:30:17.616 --> 00:30:18.826 A:middle
new concept called the safe

00:30:18.826 --> 00:30:20.206 A:middle
area, which tells us about

00:30:20.206 --> 00:30:22.006 A:middle
overlapping contents and things

00:30:22.006 --> 00:30:23.376 A:middle
like over scan compensation

00:30:23.376 --> 00:30:24.446 A:middle
insets on Apple TV.

00:30:24.996 --> 00:30:27.046 A:middle
We've learned about some new

00:30:27.046 --> 00:30:28.476 A:middle
enhancements to UI scroll view

00:30:28.896 --> 00:30:30.276 A:middle
that give us better control over

00:30:30.276 --> 00:30:32.456 A:middle
our content inset and some new

00:30:32.456 --> 00:30:34.286 A:middle
features in UI table view and

00:30:34.286 --> 00:30:35.526 A:middle
how it interacts with concepts

00:30:35.776 --> 00:30:36.636 A:middle
like the safe area.

00:30:37.276 --> 00:30:40.096 A:middle
If you have more questions be

00:30:40.096 --> 00:30:41.436 A:middle
sure to visit the site for this

00:30:41.436 --> 00:30:41.856 A:middle
session.

00:30:42.436 --> 00:30:42.976 A:middle
Have a great WWDC.

00:30:43.516 --> 00:30:49.500 A:middle
[ Applause ]