WEBVTT

00:00:24.516 --> 00:00:30.716 A:middle
[ Applause ]

00:00:31.216 --> 00:00:31.816 A:middle
&gt;&gt; Good afternoon.

00:00:32.376 --> 00:00:33.046 A:middle
Thank you for coming.

00:00:33.106 --> 00:00:34.556 A:middle
I'm Noah. I'm here with my

00:00:34.556 --> 00:00:36.156 A:middle
colleague Warren and we're going

00:00:36.156 --> 00:00:37.386 A:middle
to talk to you about building

00:00:37.386 --> 00:00:39.346 A:middle
visually-rich user experiences.

00:00:39.666 --> 00:00:41.526 A:middle
So, there's three main areas

00:00:41.526 --> 00:00:43.286 A:middle
that we're going to cover today.

00:00:44.016 --> 00:00:45.686 A:middle
The first is a platform

00:00:45.686 --> 00:00:46.126 A:middle
overview.

00:00:46.126 --> 00:00:48.436 A:middle
Kind of a quick tour, kind of

00:00:48.436 --> 00:00:50.446 A:middle
the lay of the land of what the

00:00:50.446 --> 00:00:51.576 A:middle
graphics frameworks are on our

00:00:51.576 --> 00:00:53.096 A:middle
platforms, what they can do, how

00:00:53.096 --> 00:00:55.136 A:middle
you kind of fit them together.

00:00:55.526 --> 00:00:56.866 A:middle
Next, we're going to kind of

00:00:56.866 --> 00:00:59.046 A:middle
dive deep into one of the more

00:00:59.046 --> 00:01:01.386 A:middle
essential parts of the graphics

00:01:01.936 --> 00:01:04.706 A:middle
platform coordination and some

00:01:04.706 --> 00:01:06.826 A:middle
best practices that you can use

00:01:06.826 --> 00:01:08.166 A:middle
to kind of avoid common pitfalls

00:01:08.166 --> 00:01:10.346 A:middle
that people run into a lot with

00:01:10.406 --> 00:01:10.476 A:middle
CA.

00:01:10.476 --> 00:01:12.176 A:middle
And, finally, we're going to

00:01:12.176 --> 00:01:14.236 A:middle
spend a little more time on some

00:01:14.236 --> 00:01:14.816 A:middle
tips and tricks.

00:01:14.816 --> 00:01:17.696 A:middle
Some kind of small, fun, like,

00:01:17.696 --> 00:01:18.996 A:middle
useful things you can do to

00:01:18.996 --> 00:01:20.306 A:middle
really add some cool visual

00:01:20.306 --> 00:01:22.596 A:middle
flair to your apps.

00:01:23.486 --> 00:01:25.976 A:middle
So, if you spend any time

00:01:26.126 --> 00:01:26.556 A:middle
digging through the

00:01:26.556 --> 00:01:28.056 A:middle
documentation or just reading

00:01:28.056 --> 00:01:29.016 A:middle
just like overflow or anything,

00:01:29.016 --> 00:01:30.996 A:middle
you've probably seen a lot of

00:01:30.996 --> 00:01:32.636 A:middle
concepts kind of come up.

00:01:33.006 --> 00:01:35.116 A:middle
And there are a lot of them and

00:01:35.116 --> 00:01:36.256 A:middle
it would be great to have time

00:01:36.256 --> 00:01:37.386 A:middle
to kind of go into every single

00:01:37.386 --> 00:01:40.036 A:middle
one of these and just basically

00:01:40.036 --> 00:01:41.126 A:middle
spend all day here, but we

00:01:41.126 --> 00:01:41.846 A:middle
aren't really allowed to do

00:01:41.846 --> 00:01:42.066 A:middle
that.

00:01:42.096 --> 00:01:43.496 A:middle
So, instead, we're going to keep

00:01:43.496 --> 00:01:44.346 A:middle
it pretty high level.

00:01:44.886 --> 00:01:47.356 A:middle
Let's talk about what we have on

00:01:47.356 --> 00:01:49.326 A:middle
iOS, macOS, and tvOS.

00:01:49.326 --> 00:01:51.356 A:middle
First off, some of you are

00:01:52.086 --> 00:01:53.346 A:middle
probably already familiar with

00:01:53.476 --> 00:01:55.076 A:middle
UIKit and AppKit are the

00:01:55.076 --> 00:01:56.546 A:middle
frameworks with which you build

00:01:57.086 --> 00:01:58.356 A:middle
the UIs on most of your

00:01:58.356 --> 00:01:59.566 A:middle
applications.

00:01:59.566 --> 00:02:00.436 A:middle
They kind of provide you a

00:02:00.436 --> 00:02:01.976 A:middle
standard set of system controls.

00:02:01.976 --> 00:02:03.516 A:middle
They're customizable to a

00:02:03.516 --> 00:02:05.286 A:middle
degree, so you can make our

00:02:05.286 --> 00:02:06.376 A:middle
sliders look way cooler than

00:02:06.376 --> 00:02:06.936 A:middle
usual ones.

00:02:07.306 --> 00:02:09.096 A:middle
And they also come with some

00:02:09.096 --> 00:02:11.156 A:middle
really useful kind of built-in

00:02:11.156 --> 00:02:11.646 A:middle
behaviors.

00:02:11.646 --> 00:02:12.286 A:middle
You get these standard

00:02:12.286 --> 00:02:14.226 A:middle
appearances and transition

00:02:14.226 --> 00:02:15.116 A:middle
animations and that kind of

00:02:15.116 --> 00:02:16.456 A:middle
thing, but you also get support

00:02:16.456 --> 00:02:17.846 A:middle
for accessibility features and

00:02:17.846 --> 00:02:18.816 A:middle
dynamic type right out of the

00:02:18.816 --> 00:02:19.236 A:middle
box.

00:02:19.716 --> 00:02:22.296 A:middle
So, I said that these let you

00:02:22.296 --> 00:02:23.636 A:middle
customize things to some degree,

00:02:23.846 --> 00:02:24.706 A:middle
but as soon as you want to kind

00:02:24.706 --> 00:02:26.776 A:middle
of go beyond just setting a tint

00:02:26.776 --> 00:02:28.786 A:middle
color or an image override on

00:02:28.786 --> 00:02:30.846 A:middle
something, you might have to

00:02:30.846 --> 00:02:31.586 A:middle
start dropping down into

00:02:31.586 --> 00:02:32.756 A:middle
something like Core Animation.

00:02:33.686 --> 00:02:35.306 A:middle
And, as you might already be

00:02:35.306 --> 00:02:37.596 A:middle
aware, Core Animation underlies

00:02:37.596 --> 00:02:39.526 A:middle
UIKit on iOS and is also pretty

00:02:39.526 --> 00:02:41.496 A:middle
heavily integrated into AppKit

00:02:41.496 --> 00:02:43.176 A:middle
on the Mac.

00:02:43.176 --> 00:02:44.746 A:middle
And so, a view on iOS is

00:02:44.746 --> 00:02:46.546 A:middle
composed of a-- like has a layer

00:02:46.546 --> 00:02:48.856 A:middle
and the stuff that appears in

00:02:48.856 --> 00:02:51.176 A:middle
your application is this

00:02:51.176 --> 00:02:52.316 A:middle
hierarchy of layers kind of all

00:02:52.316 --> 00:02:52.756 A:middle
appearing together.

00:02:52.756 --> 00:02:55.276 A:middle
And that's what CA is good for.

00:02:55.276 --> 00:02:57.376 A:middle
It's kind of-- it's a thing to

00:02:57.556 --> 00:02:58.876 A:middle
take existing content, put it

00:02:58.876 --> 00:03:00.656 A:middle
together, display it in this

00:03:00.656 --> 00:03:02.136 A:middle
hierarchy that can move around

00:03:02.136 --> 00:03:03.306 A:middle
and animate and so on so forth

00:03:03.306 --> 00:03:05.336 A:middle
and finally composite it all

00:03:05.336 --> 00:03:06.756 A:middle
together and get it onscreen.

00:03:08.666 --> 00:03:12.356 A:middle
So, beyond that, there are a

00:03:12.356 --> 00:03:14.266 A:middle
couple other frameworks that we

00:03:14.266 --> 00:03:15.286 A:middle
have for some kind of more

00:03:15.286 --> 00:03:16.636 A:middle
specialized purposes.

00:03:16.866 --> 00:03:20.566 A:middle
Core Graphics is one that you

00:03:20.616 --> 00:03:21.726 A:middle
also might have encountered.

00:03:21.726 --> 00:03:24.116 A:middle
It lets you do kind of really

00:03:24.596 --> 00:03:26.286 A:middle
elaborate customizable 2D

00:03:26.286 --> 00:03:26.786 A:middle
drawings.

00:03:26.786 --> 00:03:29.256 A:middle
So, you can take a path and some

00:03:29.256 --> 00:03:30.316 A:middle
colors and turn them into these

00:03:30.316 --> 00:03:31.996 A:middle
kind of nice message bubbles

00:03:31.996 --> 00:03:33.076 A:middle
over here.

00:03:33.686 --> 00:03:35.096 A:middle
And Core Graphics is what you

00:03:35.096 --> 00:03:36.586 A:middle
use when you need to build

00:03:36.586 --> 00:03:37.516 A:middle
images at runtime.

00:03:37.716 --> 00:03:39.056 A:middle
For something-- for building it,

00:03:39.056 --> 00:03:40.376 A:middle
like beforehand, you probably

00:03:40.376 --> 00:03:41.426 A:middle
use something like Photoshop or

00:03:41.426 --> 00:03:43.336 A:middle
Sketch or Illustrator, but Core

00:03:43.336 --> 00:03:44.576 A:middle
Graphics lets you do that on the

00:03:44.576 --> 00:03:46.586 A:middle
device, you know, as your code

00:03:46.586 --> 00:03:46.996 A:middle
is running.

00:03:47.766 --> 00:03:50.316 A:middle
Which is really useful.

00:03:50.316 --> 00:03:53.136 A:middle
So, Core Graphics is useful for

00:03:53.136 --> 00:03:54.086 A:middle
drawing things, but there's

00:03:54.086 --> 00:03:54.916 A:middle
another framework that we have

00:03:54.916 --> 00:03:55.976 A:middle
for working with images that you

00:03:55.976 --> 00:03:57.786 A:middle
already have and that is

00:03:57.786 --> 00:03:59.076 A:middle
appropriately named Core Image.

00:03:59.926 --> 00:04:01.836 A:middle
And what that does is apply

00:04:01.836 --> 00:04:02.756 A:middle
filters to things.

00:04:02.756 --> 00:04:04.686 A:middle
You provide some set of input

00:04:05.016 --> 00:04:07.596 A:middle
images, you hand that to Core

00:04:07.596 --> 00:04:10.126 A:middle
Image, get a-- and get a filter

00:04:10.126 --> 00:04:12.736 A:middle
that does some thing, and it

00:04:12.786 --> 00:04:14.466 A:middle
produces the final rendered

00:04:14.466 --> 00:04:16.446 A:middle
output of the thing-- of the

00:04:16.446 --> 00:04:17.586 A:middle
filter, rather.

00:04:17.736 --> 00:04:19.486 A:middle
So, you have obviously simple

00:04:19.486 --> 00:04:20.556 A:middle
color transformation effects,

00:04:20.556 --> 00:04:23.786 A:middle
like this kind of nice sepia--

00:04:23.786 --> 00:04:25.556 A:middle
that's not sepia-- I don't know

00:04:25.556 --> 00:04:26.246 A:middle
what to call that.

00:04:26.246 --> 00:04:27.796 A:middle
Don't worry about it.

00:04:28.226 --> 00:04:29.426 A:middle
But you can also do kind of

00:04:29.426 --> 00:04:30.816 A:middle
interesting stylization effects,

00:04:31.206 --> 00:04:33.316 A:middle
like this cartoon drawing kind

00:04:33.996 --> 00:04:34.616 A:middle
of thing.

00:04:34.616 --> 00:04:36.096 A:middle
And what's neat about Core Image

00:04:36.146 --> 00:04:38.576 A:middle
is that it's really heavily

00:04:38.576 --> 00:04:40.096 A:middle
optimized and we kind of do a

00:04:40.096 --> 00:04:41.056 A:middle
lot of the work for you.

00:04:41.056 --> 00:04:43.156 A:middle
So, when you're doing something

00:04:43.156 --> 00:04:44.456 A:middle
more complicated like chaining

00:04:44.456 --> 00:04:46.296 A:middle
multiple filters together, we

00:04:46.296 --> 00:04:47.556 A:middle
kind of can optimize that for

00:04:47.556 --> 00:04:49.186 A:middle
you and instead of having to

00:04:49.186 --> 00:04:51.406 A:middle
kind of go through this process

00:04:51.406 --> 00:04:52.656 A:middle
over and over again on your

00:04:52.656 --> 00:04:54.596 A:middle
images for each filter, we can

00:04:54.726 --> 00:04:55.626 A:middle
kind of pipeline that.

00:04:55.626 --> 00:04:58.346 A:middle
And what's even better is that

00:04:58.966 --> 00:05:00.116 A:middle
all of this stuff can run on

00:05:00.116 --> 00:05:01.066 A:middle
basically whatever

00:05:01.066 --> 00:05:02.736 A:middle
parallelization hardware your

00:05:02.736 --> 00:05:03.346 A:middle
device has.

00:05:03.726 --> 00:05:05.806 A:middle
If you don't have much GPU

00:05:05.806 --> 00:05:06.826 A:middle
resources available, it runs on

00:05:06.826 --> 00:05:08.426 A:middle
the CPU and makes use of Grand

00:05:08.426 --> 00:05:09.676 A:middle
Central Dispatch and all that.

00:05:09.676 --> 00:05:10.896 A:middle
Completely under the hood,

00:05:10.896 --> 00:05:11.556 A:middle
transparent to you.

00:05:11.986 --> 00:05:14.496 A:middle
If it has Metal available, then

00:05:14.496 --> 00:05:16.096 A:middle
it can run using that.

00:05:16.426 --> 00:05:18.996 A:middle
So, that's pretty cool.

00:05:20.596 --> 00:05:21.976 A:middle
There are a couple other kinds

00:05:21.976 --> 00:05:22.806 A:middle
of contents you might want to

00:05:22.806 --> 00:05:23.876 A:middle
get into your apps that we have

00:05:23.876 --> 00:05:26.076 A:middle
some really useful frameworks

00:05:26.076 --> 00:05:26.616 A:middle
for.

00:05:27.306 --> 00:05:29.486 A:middle
And for 3D content, we have this

00:05:29.486 --> 00:05:31.496 A:middle
thing called SceneKit which

00:05:31.606 --> 00:05:33.616 A:middle
basically lets you get your 3D

00:05:33.616 --> 00:05:34.686 A:middle
content into your app and has

00:05:34.686 --> 00:05:36.246 A:middle
some really nicely integrated

00:05:36.246 --> 00:05:37.796 A:middle
tools in Xcode that let you kind

00:05:37.796 --> 00:05:39.416 A:middle
of manipulate it, set up scenes,

00:05:39.826 --> 00:05:40.366 A:middle
do all this.

00:05:40.366 --> 00:05:41.586 A:middle
And you'll see a little bit of

00:05:41.586 --> 00:05:42.596 A:middle
what that looks like a bit later

00:05:42.596 --> 00:05:42.806 A:middle
on.

00:05:44.306 --> 00:05:46.286 A:middle
SpriteKit is another framework

00:05:46.286 --> 00:05:47.876 A:middle
that's kind of built heavily for

00:05:47.876 --> 00:05:48.416 A:middle
games.

00:05:48.416 --> 00:05:50.186 A:middle
It gives you a lot of animation

00:05:50.186 --> 00:05:50.976 A:middle
primitives and that kind of

00:05:50.976 --> 00:05:53.706 A:middle
thing for having things, you

00:05:53.706 --> 00:05:54.726 A:middle
know, move around and interact

00:05:54.726 --> 00:05:55.626 A:middle
with each other onscreen.

00:05:56.586 --> 00:05:59.476 A:middle
So, there's one more framework

00:05:59.476 --> 00:06:00.776 A:middle
that I'd like to talk about

00:06:00.776 --> 00:06:02.806 A:middle
before we move on and that is

00:06:02.806 --> 00:06:04.536 A:middle
one you've probably heard of

00:06:05.126 --> 00:06:05.556 A:middle
called Metal.

00:06:06.346 --> 00:06:08.686 A:middle
And what Metal is is kind of the

00:06:08.686 --> 00:06:11.236 A:middle
fundamental graphics API on our

00:06:11.236 --> 00:06:11.896 A:middle
platforms.

00:06:12.136 --> 00:06:12.876 A:middle
It's what all of these other

00:06:12.876 --> 00:06:13.906 A:middle
things are built on top of.

00:06:13.906 --> 00:06:14.946 A:middle
I mentioned that Core Image can

00:06:14.946 --> 00:06:16.966 A:middle
use Metal, but SceneKit draws

00:06:16.966 --> 00:06:18.006 A:middle
using Metal on devices that

00:06:18.006 --> 00:06:19.016 A:middle
support it, SpriteKit does the

00:06:19.016 --> 00:06:20.976 A:middle
same, and Core Animation itself

00:06:21.846 --> 00:06:23.386 A:middle
is using Metal as well.

00:06:24.216 --> 00:06:26.556 A:middle
And so, Metal is-- it's kind of

00:06:26.556 --> 00:06:28.536 A:middle
hard to describe exactly what

00:06:28.536 --> 00:06:29.736 A:middle
you use it for because you can

00:06:29.736 --> 00:06:31.656 A:middle
do basically anything with it if

00:06:31.656 --> 00:06:32.806 A:middle
you are willing to put the work

00:06:32.806 --> 00:06:33.036 A:middle
in.

00:06:34.426 --> 00:06:36.966 A:middle
But what it lets you do is just

00:06:36.966 --> 00:06:38.426 A:middle
kind of get the fastest possible

00:06:38.426 --> 00:06:40.356 A:middle
access to the lowest level of

00:06:40.356 --> 00:06:41.576 A:middle
the graphics hardware we have

00:06:41.576 --> 00:06:42.136 A:middle
available.

00:06:42.756 --> 00:06:44.206 A:middle
And so, a lot of the times

00:06:44.206 --> 00:06:45.316 A:middle
you're not using Metal directly,

00:06:45.316 --> 00:06:46.006 A:middle
you're using it through one of

00:06:46.006 --> 00:06:47.126 A:middle
these other frameworks, but if

00:06:47.126 --> 00:06:48.236 A:middle
you need to build something

00:06:48.236 --> 00:06:49.996 A:middle
custom, something that isn't

00:06:49.996 --> 00:06:50.746 A:middle
really supported by any of

00:06:50.746 --> 00:06:51.956 A:middle
these, that's what you're using

00:06:51.956 --> 00:06:52.246 A:middle
it for.

00:06:52.816 --> 00:06:55.576 A:middle
As an example, on the iPhone 7--

00:06:55.916 --> 00:06:58.266 A:middle
sorry, the 7 Plus-- we have this

00:06:58.266 --> 00:06:59.416 A:middle
kind of neat depth of field

00:06:59.416 --> 00:07:02.526 A:middle
effect in the camera and that

00:07:02.776 --> 00:07:03.916 A:middle
basically takes the camera

00:07:03.916 --> 00:07:05.816 A:middle
image, does some kind of depth

00:07:05.816 --> 00:07:08.026 A:middle
reconstruction stuff on it, some

00:07:08.126 --> 00:07:10.526 A:middle
math that is way beyond me, and

00:07:11.386 --> 00:07:12.886 A:middle
can figure out kind of the depth

00:07:12.886 --> 00:07:14.346 A:middle
of the pixels in each-- at each

00:07:14.386 --> 00:07:15.496 A:middle
point in the scene and then

00:07:15.526 --> 00:07:16.446 A:middle
apply an intelligent kind of

00:07:16.446 --> 00:07:17.506 A:middle
blur filter to them so you get

00:07:17.506 --> 00:07:19.076 A:middle
this nice soft background.

00:07:19.686 --> 00:07:21.466 A:middle
And that doesn't sound like any

00:07:21.466 --> 00:07:22.256 A:middle
of the other frameworks that I

00:07:22.256 --> 00:07:22.866 A:middle
told you about, right?

00:07:22.946 --> 00:07:25.756 A:middle
So, that was built for iOS 10

00:07:26.166 --> 00:07:27.526 A:middle
and rebuilt for iOS 11.

00:07:27.526 --> 00:07:28.206 A:middle
I don't know if you've noticed

00:07:28.206 --> 00:07:29.486 A:middle
that the effects just got better

00:07:29.606 --> 00:07:33.256 A:middle
in the betas on top of Metal.

00:07:34.026 --> 00:07:36.236 A:middle
So, that was kind of a quick

00:07:36.236 --> 00:07:36.456 A:middle
tour.

00:07:36.456 --> 00:07:37.436 A:middle
We just went down through all

00:07:37.436 --> 00:07:39.406 A:middle
these layers and the idea here

00:07:39.406 --> 00:07:40.976 A:middle
is not to kind of give you an

00:07:40.976 --> 00:07:42.316 A:middle
exhaustive explanation of what

00:07:42.316 --> 00:07:43.346 A:middle
each one does, but I just want

00:07:43.346 --> 00:07:45.116 A:middle
to kind of have you know where

00:07:45.116 --> 00:07:45.646 A:middle
things are.

00:07:45.646 --> 00:07:47.246 A:middle
So, if you have some problem

00:07:47.246 --> 00:07:48.066 A:middle
that you want to solve in your

00:07:48.066 --> 00:07:49.716 A:middle
app, you can kind of look back

00:07:49.716 --> 00:07:51.526 A:middle
and be like I think I heard that

00:07:51.526 --> 00:07:52.396 A:middle
there's a firmware that does

00:07:52.396 --> 00:07:52.676 A:middle
that.

00:07:52.676 --> 00:07:54.896 A:middle
Let me check that out.

00:07:55.296 --> 00:07:56.836 A:middle
So, to give you a little bit

00:07:56.836 --> 00:07:58.766 A:middle
more of an idea of how you use

00:07:58.806 --> 00:08:00.816 A:middle
these and how they work, I'd

00:08:00.816 --> 00:08:01.546 A:middle
like to bring up my colleague,

00:08:01.546 --> 00:08:02.646 A:middle
Warren, for a demo.

00:08:03.516 --> 00:08:08.186 A:middle
[ Applause ]

00:08:08.686 --> 00:08:09.086 A:middle
&gt;&gt; Thanks, Noah.

00:08:17.516 --> 00:08:18.826 A:middle
So, with this series of demos,

00:08:18.826 --> 00:08:19.916 A:middle
I'm going to walk you through

00:08:19.966 --> 00:08:21.126 A:middle
some of the frameworks that Noah

00:08:21.126 --> 00:08:22.506 A:middle
just introduced and we'll start

00:08:22.506 --> 00:08:23.406 A:middle
right at the beginning with

00:08:23.436 --> 00:08:24.676 A:middle
UIKit customization.

00:08:25.106 --> 00:08:25.996 A:middle
I want to say right from the

00:08:25.996 --> 00:08:27.466 A:middle
start that it's not important

00:08:27.466 --> 00:08:28.346 A:middle
for you to pay attention to

00:08:28.346 --> 00:08:29.576 A:middle
every single line that I

00:08:29.676 --> 00:08:30.926 A:middle
highlight or talk about.

00:08:31.316 --> 00:08:32.706 A:middle
The sample is already available

00:08:32.706 --> 00:08:33.896 A:middle
online and you can definitely

00:08:33.896 --> 00:08:35.716 A:middle
pull it down and follow along on

00:08:35.716 --> 00:08:36.336 A:middle
your own time.

00:08:36.626 --> 00:08:37.976 A:middle
But, over the course of the next

00:08:37.976 --> 00:08:39.026 A:middle
several minutes, I'll walk

00:08:39.026 --> 00:08:40.066 A:middle
through some of the platform

00:08:40.066 --> 00:08:41.386 A:middle
features that we have and how

00:08:41.386 --> 00:08:42.516 A:middle
you can use them to enhance the

00:08:42.516 --> 00:08:43.356 A:middle
user experience of your

00:08:43.356 --> 00:08:43.896 A:middle
application.

00:08:44.546 --> 00:08:49.536 A:middle
So, to start, I'll just go ahead

00:08:49.536 --> 00:08:50.686 A:middle
show you what this particular

00:08:50.686 --> 00:08:52.126 A:middle
UIKit customization example

00:08:52.126 --> 00:08:52.626 A:middle
does.

00:08:53.986 --> 00:08:57.856 A:middle
I have here a screen, perhaps

00:08:57.856 --> 00:08:59.016 A:middle
it's from a video-editing

00:08:59.016 --> 00:09:00.436 A:middle
application that allows me to

00:09:00.436 --> 00:09:01.816 A:middle
control the white balance of a

00:09:01.816 --> 00:09:02.796 A:middle
photograph.

00:09:02.986 --> 00:09:04.166 A:middle
As you can see, I've already

00:09:04.166 --> 00:09:05.896 A:middle
customized the UI sliders at the

00:09:05.896 --> 00:09:08.096 A:middle
bottom of this screen with track

00:09:08.226 --> 00:09:10.036 A:middle
tint colors to signify the

00:09:10.036 --> 00:09:11.246 A:middle
purpose of each slider.

00:09:11.666 --> 00:09:13.186 A:middle
So, the slider on top will

00:09:13.186 --> 00:09:14.526 A:middle
control the color temperature

00:09:14.866 --> 00:09:15.916 A:middle
while the slider on bottom will

00:09:15.916 --> 00:09:17.036 A:middle
control the color tint.

00:09:17.586 --> 00:09:18.596 A:middle
And the combined effect of these

00:09:18.596 --> 00:09:19.966 A:middle
sliders will allow us to control

00:09:19.966 --> 00:09:21.876 A:middle
the white point of the

00:09:21.876 --> 00:09:23.066 A:middle
photograph.

00:09:24.816 --> 00:09:26.226 A:middle
But, I might actually want to

00:09:26.226 --> 00:09:27.356 A:middle
punch this up a little bit more

00:09:27.516 --> 00:09:28.686 A:middle
by adding a track image.

00:09:29.056 --> 00:09:30.126 A:middle
I'll go ahead and do that now

00:09:30.126 --> 00:09:31.396 A:middle
and show you the effect.

00:09:39.316 --> 00:09:40.796 A:middle
So, as you can see, I've added a

00:09:40.796 --> 00:09:41.846 A:middle
gradient image to each of these

00:09:41.846 --> 00:09:43.246 A:middle
sliders with rounded end caps.

00:09:43.686 --> 00:09:45.006 A:middle
And this actually creates a much

00:09:45.006 --> 00:09:47.576 A:middle
nicer visual appearance and also

00:09:47.576 --> 00:09:48.556 A:middle
hints a little bit further at

00:09:48.556 --> 00:09:49.666 A:middle
what these sliders actually are

00:09:49.666 --> 00:09:50.016 A:middle
for.

00:09:50.646 --> 00:09:51.866 A:middle
Now, if I adjust these sliders

00:09:51.866 --> 00:09:52.906 A:middle
right now, you'll notice that

00:09:52.906 --> 00:09:54.286 A:middle
the image itself doesn't change.

00:09:54.736 --> 00:09:55.976 A:middle
But, in the next sample, I'll

00:09:55.976 --> 00:09:57.676 A:middle
show you how to actually

00:09:57.676 --> 00:09:58.956 A:middle
implement the effect of

00:09:58.956 --> 00:09:59.806 A:middle
modifying the image.

00:09:59.976 --> 00:10:01.606 A:middle
In the meantime, I'll walk

00:10:01.786 --> 00:10:03.556 A:middle
through this particular example

00:10:03.616 --> 00:10:04.626 A:middle
in a little bit more detail.

00:10:05.286 --> 00:10:07.396 A:middle
So, I instantiate a UI image and

00:10:11.216 --> 00:10:12.626 A:middle
then I-- and then make it

00:10:12.626 --> 00:10:16.426 A:middle
resizable by using one of the

00:10:16.656 --> 00:10:18.126 A:middle
APIs on UI image.

00:10:18.536 --> 00:10:20.806 A:middle
And then I can actually set each

00:10:21.646 --> 00:10:23.636 A:middle
of the images on the sliders.

00:10:24.016 --> 00:10:25.536 A:middle
The minimum track image and then

00:10:25.536 --> 00:10:26.486 A:middle
maximum track image.

00:10:26.916 --> 00:10:28.146 A:middle
And, as I move the slider, it

00:10:28.146 --> 00:10:29.696 A:middle
will be redrawn and use the

00:10:29.696 --> 00:10:31.096 A:middle
appropriate image to draw the

00:10:31.096 --> 00:10:32.106 A:middle
portion of the track to which it

00:10:32.106 --> 00:10:32.566 A:middle
applies.

00:10:35.076 --> 00:10:36.096 A:middle
So, I mentioned that I'd show

00:10:36.096 --> 00:10:37.126 A:middle
you how to actually implement

00:10:37.126 --> 00:10:38.016 A:middle
this effect and that's what I'd

00:10:38.016 --> 00:10:38.646 A:middle
like to do now.

00:10:39.426 --> 00:10:41.476 A:middle
So-- and I'll do that with Core

00:10:41.476 --> 00:10:41.806 A:middle
Image.

00:10:42.906 --> 00:10:43.876 A:middle
So, as you can see, this is the

00:10:43.876 --> 00:10:46.116 A:middle
exact same UI, but now when I

00:10:46.116 --> 00:10:47.986 A:middle
adjust the sliders, which I

00:10:47.986 --> 00:10:49.266 A:middle
might do because this image was

00:10:49.266 --> 00:10:50.286 A:middle
shot underwater and I want to

00:10:50.286 --> 00:10:51.666 A:middle
make it a little bit warmer and

00:10:51.666 --> 00:10:52.696 A:middle
remove some of that green tint

00:10:52.696 --> 00:10:53.146 A:middle
from the algae.

00:10:53.146 --> 00:10:56.126 A:middle
You can see that the image

00:10:56.126 --> 00:10:57.396 A:middle
actually updates in real time.

00:10:57.936 --> 00:10:59.066 A:middle
Let's talk about how we actually

00:10:59.066 --> 00:10:59.906 A:middle
do that.

00:11:06.496 --> 00:11:08.106 A:middle
So, Noah mentioned that Core

00:11:08.106 --> 00:11:09.596 A:middle
Image has numerous different

00:11:09.626 --> 00:11:11.136 A:middle
filters available and the filter

00:11:11.136 --> 00:11:11.846 A:middle
that we'll be using

00:11:11.946 --> 00:11:13.736 A:middle
appropriately enough is the CI

00:11:13.736 --> 00:11:14.896 A:middle
temperature and tint filter.

00:11:15.856 --> 00:11:17.876 A:middle
Now, it bears a mention that CI

00:11:17.876 --> 00:11:18.966 A:middle
filters don't actually do the

00:11:18.966 --> 00:11:20.486 A:middle
hard work of image filtering in

00:11:20.486 --> 00:11:21.036 A:middle
Core Image.

00:11:21.496 --> 00:11:22.426 A:middle
Rather, what does most of the

00:11:22.426 --> 00:11:23.996 A:middle
work is an object called a CI

00:11:24.056 --> 00:11:24.656 A:middle
context.

00:11:24.656 --> 00:11:26.426 A:middle
The CI context is basically the

00:11:26.426 --> 00:11:27.806 A:middle
interface to the underlying

00:11:27.806 --> 00:11:29.406 A:middle
hardware that actually performs

00:11:29.966 --> 00:11:30.896 A:middle
the image filtering.

00:11:31.066 --> 00:11:31.956 A:middle
So, I've already created one of

00:11:31.956 --> 00:11:34.236 A:middle
those and I'll be using it in

00:11:34.236 --> 00:11:36.626 A:middle
this function, but first what I

00:11:36.626 --> 00:11:38.236 A:middle
want to do is instantiate a CI

00:11:38.286 --> 00:11:40.336 A:middle
image that's based on the image

00:11:40.376 --> 00:11:41.506 A:middle
that's currently being displayed

00:11:41.666 --> 00:11:43.886 A:middle
by the UI image view in my

00:11:44.216 --> 00:11:44.656 A:middle
screen.

00:11:46.266 --> 00:11:47.726 A:middle
Now, CI temperature and tint

00:11:47.726 --> 00:11:49.096 A:middle
filter has a couple of different

00:11:49.096 --> 00:11:50.036 A:middle
parameters that allow me to

00:11:50.036 --> 00:11:51.606 A:middle
control the white point and in

00:11:51.606 --> 00:11:52.976 A:middle
particular the-- these

00:11:53.206 --> 00:11:54.746 A:middle
parameters are called the

00:11:54.746 --> 00:11:56.146 A:middle
neutral and target neutral

00:11:56.146 --> 00:11:56.646 A:middle
vectors.

00:11:57.206 --> 00:11:58.736 A:middle
And each of these represents a

00:11:58.736 --> 00:12:00.546 A:middle
particular color temperature and

00:12:00.546 --> 00:12:01.136 A:middle
a color tint.

00:12:01.996 --> 00:12:04.206 A:middle
And so, I know that the

00:12:04.556 --> 00:12:05.726 A:middle
temperature and tint that I'm

00:12:05.726 --> 00:12:08.146 A:middle
shooting for are 6500 degrees

00:12:08.146 --> 00:12:10.006 A:middle
Kelvin and a perfectly neutral

00:12:10.406 --> 00:12:12.656 A:middle
0, neither too magenta nor too

00:12:12.656 --> 00:12:13.036 A:middle
green.

00:12:13.416 --> 00:12:15.076 A:middle
So, I construct a vector with

00:12:15.076 --> 00:12:16.446 A:middle
those parameters and then I

00:12:16.446 --> 00:12:19.366 A:middle
construct another vector with

00:12:19.366 --> 00:12:20.526 A:middle
the parameters that come from

00:12:20.526 --> 00:12:21.556 A:middle
the values of my slider.

00:12:22.376 --> 00:12:23.726 A:middle
I then construct a dictionary

00:12:24.386 --> 00:12:25.116 A:middle
that holds all of these

00:12:25.116 --> 00:12:26.226 A:middle
parameters, including the input

00:12:26.226 --> 00:12:28.456 A:middle
image, and ask CI to create a

00:12:28.456 --> 00:12:31.016 A:middle
filter for me based on the name

00:12:31.146 --> 00:12:32.766 A:middle
CI temperature and tint.

00:12:33.316 --> 00:12:34.516 A:middle
Then, in order to actually

00:12:34.516 --> 00:12:36.886 A:middle
perform the filtering, I'm going

00:12:36.886 --> 00:12:37.816 A:middle
to use a little bit of Grand

00:12:37.816 --> 00:12:39.036 A:middle
Central Dispatch to get off the

00:12:39.036 --> 00:12:40.926 A:middle
main thread because image

00:12:40.926 --> 00:12:42.306 A:middle
processing is a fairly intensive

00:12:42.306 --> 00:12:42.896 A:middle
operation.

00:12:43.706 --> 00:12:45.156 A:middle
So, I'll dispatch to a queue

00:12:45.156 --> 00:12:47.056 A:middle
that I created previously and

00:12:47.056 --> 00:12:48.966 A:middle
then ask my context to create a

00:12:48.966 --> 00:12:50.876 A:middle
CG image based on the output

00:12:50.876 --> 00:12:52.076 A:middle
image of the filter that I just

00:12:52.076 --> 00:12:53.536 A:middle
created, which will have the

00:12:53.536 --> 00:12:54.616 A:middle
effect of pulling the filtered

00:12:54.616 --> 00:12:56.156 A:middle
image through the filter,

00:12:56.376 --> 00:12:57.096 A:middle
applying the effect.

00:12:58.426 --> 00:12:59.756 A:middle
Once that's done, I'll then

00:12:59.756 --> 00:13:00.976 A:middle
dispatch asynchronously back to

00:13:00.976 --> 00:13:02.626 A:middle
the main queue and set the

00:13:02.626 --> 00:13:04.926 A:middle
resulting image on my UI image

00:13:04.926 --> 00:13:05.546 A:middle
view once more.

00:13:07.956 --> 00:13:10.916 A:middle
Now, sometimes using UIKit or

00:13:10.916 --> 00:13:12.366 A:middle
Core Image or many of these

00:13:12.366 --> 00:13:13.396 A:middle
other high-level frameworks is

00:13:13.396 --> 00:13:14.316 A:middle
not quite enough and you

00:13:14.316 --> 00:13:16.516 A:middle
actually want to draw user

00:13:16.516 --> 00:13:17.906 A:middle
interface elements on the fly.

00:13:18.536 --> 00:13:19.596 A:middle
Well, like Noah mentioned, you

00:13:19.596 --> 00:13:21.206 A:middle
can actually use Core Graphics

00:13:21.206 --> 00:13:21.646 A:middle
to do that.

00:13:22.316 --> 00:13:23.656 A:middle
This is a very simple

00:13:23.656 --> 00:13:25.006 A:middle
application of Core Graphics,

00:13:25.106 --> 00:13:26.616 A:middle
but let's say I want to draw a

00:13:26.616 --> 00:13:27.406 A:middle
star polygon.

00:13:29.176 --> 00:13:32.216 A:middle
Now, in order to do that, I'll

00:13:32.216 --> 00:13:33.656 A:middle
actually use an API that was

00:13:33.656 --> 00:13:35.756 A:middle
introduced in iOS 10 called UI

00:13:35.756 --> 00:13:37.046 A:middle
Graphics Image Renderer.

00:13:38.616 --> 00:13:40.116 A:middle
This actually gives me much

00:13:40.116 --> 00:13:42.036 A:middle
easier access to a Core Graphics

00:13:42.036 --> 00:13:43.576 A:middle
context that I can issue drawing

00:13:43.576 --> 00:13:45.876 A:middle
commands into than in the past.

00:13:46.206 --> 00:13:47.646 A:middle
So, in order to use it, I'll

00:13:47.646 --> 00:13:50.626 A:middle
basically determine where I want

00:13:50.626 --> 00:13:51.656 A:middle
to draw the star.

00:13:52.296 --> 00:13:54.446 A:middle
In this case, in the center of

00:13:54.446 --> 00:13:54.816 A:middle
my view.

00:13:56.356 --> 00:13:57.846 A:middle
Create a UI graphics image

00:13:57.846 --> 00:13:59.326 A:middle
renderer at a particular size,

00:14:00.036 --> 00:14:01.166 A:middle
and then call the image method,

00:14:01.386 --> 00:14:03.836 A:middle
which takes a closure in which

00:14:03.836 --> 00:14:05.356 A:middle
I'll actually issue the drawing

00:14:05.356 --> 00:14:05.806 A:middle
commands.

00:14:06.436 --> 00:14:07.616 A:middle
So, it passes me in this render

00:14:07.616 --> 00:14:09.396 A:middle
context and from that I can

00:14:09.396 --> 00:14:11.546 A:middle
retrieve a CG context which

00:14:11.546 --> 00:14:13.266 A:middle
actually has a huge bevy of

00:14:13.266 --> 00:14:14.706 A:middle
methods that allow me to do

00:14:14.706 --> 00:14:16.396 A:middle
things like draw paths, draw

00:14:16.396 --> 00:14:19.136 A:middle
text, draw images, and fill and

00:14:19.136 --> 00:14:19.856 A:middle
stroke paths.

00:14:21.256 --> 00:14:22.646 A:middle
Now, the math here is not all

00:14:22.646 --> 00:14:23.146 A:middle
important.

00:14:23.146 --> 00:14:24.666 A:middle
What is most important is the

00:14:24.666 --> 00:14:24.946 A:middle
API.

00:14:25.896 --> 00:14:27.816 A:middle
So, on that context, I'll set

00:14:27.886 --> 00:14:29.586 A:middle
the fill color, which in this

00:14:29.586 --> 00:14:32.096 A:middle
case is yellow because stars are

00:14:32.096 --> 00:14:34.156 A:middle
yellow, and then I'll go ahead

00:14:34.156 --> 00:14:35.496 A:middle
and position the current point

00:14:35.496 --> 00:14:36.756 A:middle
of the context at the top of the

00:14:36.756 --> 00:14:39.046 A:middle
star with the move method.

00:14:39.616 --> 00:14:40.376 A:middle
Move to method.

00:14:40.896 --> 00:14:43.536 A:middle
And then in a loop I'll go ahead

00:14:43.586 --> 00:14:46.116 A:middle
and add lines between the inner

00:14:46.116 --> 00:14:47.496 A:middle
and outer points of my polygon

00:14:48.116 --> 00:14:50.036 A:middle
and once I'm done I can actually

00:14:50.036 --> 00:14:51.196 A:middle
fill that path, which has the

00:14:51.196 --> 00:14:52.336 A:middle
effect of filling in the star

00:14:52.336 --> 00:14:53.656 A:middle
outline and creating the image

00:14:53.656 --> 00:14:54.116 A:middle
that you saw.

00:14:55.436 --> 00:14:56.656 A:middle
But, of course, nobody wants to

00:14:56.656 --> 00:14:57.846 A:middle
actually just have a gigantic

00:14:57.846 --> 00:14:59.106 A:middle
star sitting in the middle of

00:14:59.106 --> 00:15:00.766 A:middle
their application, so let's go

00:15:00.766 --> 00:15:01.796 A:middle
one step further and talk about

00:15:01.796 --> 00:15:03.226 A:middle
how you can actually use this as

00:15:03.226 --> 00:15:05.586 A:middle
a user interface element in your

00:15:05.586 --> 00:15:07.766 A:middle
own app.

00:15:08.036 --> 00:15:08.626 A:middle
We'll do that with Core

00:15:08.626 --> 00:15:09.106 A:middle
Animation.

00:15:09.946 --> 00:15:10.946 A:middle
Core Animation happens to be

00:15:10.946 --> 00:15:12.966 A:middle
really good at presenting bitmap

00:15:13.236 --> 00:15:13.746 A:middle
content.

00:15:14.496 --> 00:15:15.326 A:middle
So, we can actually use the

00:15:15.326 --> 00:15:16.676 A:middle
image that we just generated as

00:15:16.676 --> 00:15:17.906 A:middle
the contents of a CALayer.

00:15:18.616 --> 00:15:20.056 A:middle
Just to show you the effect that

00:15:20.056 --> 00:15:21.546 A:middle
we're after, I have this button

00:15:21.546 --> 00:15:24.886 A:middle
here and UI buttons are, you

00:15:24.886 --> 00:15:27.526 A:middle
know, very common and their

00:15:27.526 --> 00:15:29.586 A:middle
usage-- their usage varies

00:15:29.586 --> 00:15:30.926 A:middle
depending on the context, but if

00:15:31.016 --> 00:15:32.426 A:middle
I want to add a little bit of

00:15:32.426 --> 00:15:33.826 A:middle
pizazz to this particular UI

00:15:33.826 --> 00:15:35.986 A:middle
button, then I can go for an

00:15:36.046 --> 00:15:38.016 A:middle
effect like this.

00:15:38.176 --> 00:15:39.616 A:middle
Let me show you that one more

00:15:39.616 --> 00:15:39.936 A:middle
time.

00:15:41.516 --> 00:15:44.396 A:middle
Kind of cute, right?

00:15:44.686 --> 00:15:45.586 A:middle
Now, this is a little bit

00:15:45.586 --> 00:15:46.556 A:middle
ostentatious and you probably

00:15:46.556 --> 00:15:47.526 A:middle
wouldn't want to do exactly this

00:15:47.526 --> 00:15:48.346 A:middle
in your app, but this is

00:15:48.346 --> 00:15:49.496 A:middle
strictly for illustrative

00:15:49.496 --> 00:15:49.966 A:middle
purposes.

00:15:50.586 --> 00:15:51.426 A:middle
Let's talk about how to achieve

00:15:51.576 --> 00:15:54.906 A:middle
that effect.

00:15:55.496 --> 00:15:56.946 A:middle
So, I'll configure some

00:15:56.946 --> 00:15:58.156 A:middle
parameters for the stars that I

00:15:58.156 --> 00:16:00.556 A:middle
want to display and then I'll

00:16:00.556 --> 00:16:02.076 A:middle
add an action to my button to

00:16:02.076 --> 00:16:03.786 A:middle
actually call this play star

00:16:03.786 --> 00:16:04.606 A:middle
animation method.

00:16:05.176 --> 00:16:08.296 A:middle
In there, I'll create a loop

00:16:08.486 --> 00:16:09.396 A:middle
that actually loops over the

00:16:09.396 --> 00:16:10.256 A:middle
number of stars that I want to

00:16:10.256 --> 00:16:11.136 A:middle
create and for each of them I'll

00:16:11.136 --> 00:16:12.226 A:middle
create a CALayer.

00:16:12.626 --> 00:16:14.146 A:middle
CALayer is the workhorse of Core

00:16:14.146 --> 00:16:15.496 A:middle
Animation and it's the thing

00:16:15.496 --> 00:16:18.386 A:middle
that actually has a position on

00:16:18.386 --> 00:16:19.536 A:middle
the screen and can be animated,

00:16:19.536 --> 00:16:20.426 A:middle
moved around, and have its

00:16:20.486 --> 00:16:21.706 A:middle
contents set.

00:16:22.576 --> 00:16:23.716 A:middle
So, I'll actually set its

00:16:23.716 --> 00:16:25.936 A:middle
contents to a CG image that

00:16:25.936 --> 00:16:27.116 A:middle
represents one of the stars that

00:16:27.116 --> 00:16:28.836 A:middle
I just rendered using the class

00:16:28.836 --> 00:16:29.936 A:middle
that I introduced previously.

00:16:30.186 --> 00:16:33.126 A:middle
I'll set the initial position of

00:16:33.126 --> 00:16:35.666 A:middle
each star in a circle around the

00:16:36.646 --> 00:16:37.876 A:middle
button and also set its balance

00:16:37.876 --> 00:16:38.806 A:middle
to some initial size.

00:16:38.866 --> 00:16:41.106 A:middle
In order to actually get it to

00:16:41.106 --> 00:16:42.126 A:middle
show up on the screen, I need to

00:16:42.176 --> 00:16:43.816 A:middle
add it as a sublayer of the

00:16:43.816 --> 00:16:44.456 A:middle
button's layer.

00:16:47.016 --> 00:16:47.946 A:middle
Now, you'll notice that of

00:16:47.946 --> 00:16:49.396 A:middle
course the star is animated from

00:16:49.396 --> 00:16:50.556 A:middle
their initial positions to a

00:16:50.556 --> 00:16:51.636 A:middle
position that's further out

00:16:52.046 --> 00:16:53.336 A:middle
along a ray from the center of

00:16:53.336 --> 00:16:53.826 A:middle
the button.

00:16:54.466 --> 00:16:55.346 A:middle
So, I can do a little bit more

00:16:55.346 --> 00:16:56.416 A:middle
math to calculate the final

00:16:56.416 --> 00:16:58.926 A:middle
position of the star, then I can

00:16:58.926 --> 00:17:01.146 A:middle
construct a transform that will

00:17:01.296 --> 00:17:04.086 A:middle
simultaneously rotate, scale,

00:17:04.086 --> 00:17:05.496 A:middle
and translate the layer to its

00:17:05.496 --> 00:17:06.186 A:middle
final position.

00:17:07.166 --> 00:17:08.916 A:middle
I'll use CA basic animation to

00:17:08.916 --> 00:17:10.266 A:middle
interpolate between the initial

00:17:10.266 --> 00:17:11.696 A:middle
position of the CALayer and its

00:17:11.696 --> 00:17:12.366 A:middle
destination.

00:17:13.156 --> 00:17:14.666 A:middle
I could use a more sophisticated

00:17:14.666 --> 00:17:15.826 A:middle
animation like a key frame

00:17:15.826 --> 00:17:17.106 A:middle
animation if I wanted to, for

00:17:17.106 --> 00:17:18.086 A:middle
example, make it move along a

00:17:18.086 --> 00:17:18.206 A:middle
path.

00:17:19.396 --> 00:17:20.506 A:middle
I'll set the from value to the

00:17:20.506 --> 00:17:21.516 A:middle
current transformation of the

00:17:21.516 --> 00:17:22.946 A:middle
layer and the to value to the

00:17:22.946 --> 00:17:23.846 A:middle
transformation that I just

00:17:23.846 --> 00:17:24.446 A:middle
constructed.

00:17:25.036 --> 00:17:26.516 A:middle
And I'll also use a custom

00:17:26.516 --> 00:17:28.206 A:middle
duration because the default

00:17:28.206 --> 00:17:29.696 A:middle
duration of 0.25 seconds is a

00:17:29.696 --> 00:17:31.206 A:middle
little bit-- little bit fast for

00:17:31.206 --> 00:17:32.006 A:middle
the effect that I'm after.

00:17:32.786 --> 00:17:33.946 A:middle
And I'll apply an ease out

00:17:33.946 --> 00:17:36.566 A:middle
function so that as the star

00:17:36.566 --> 00:17:39.516 A:middle
approaches its target position

00:17:39.516 --> 00:17:40.496 A:middle
it will slow down.

00:17:40.496 --> 00:17:45.836 A:middle
And just to be a good citizen so

00:17:45.836 --> 00:17:46.786 A:middle
I don't have a bunch of layers

00:17:46.786 --> 00:17:48.276 A:middle
laying around, after several

00:17:48.276 --> 00:17:49.386 A:middle
seconds I'll go ahead and remove

00:17:49.386 --> 00:17:50.466 A:middle
that layer from its super view

00:17:50.466 --> 00:17:51.496 A:middle
when the animation completes.

00:17:55.916 --> 00:17:57.006 A:middle
Well, that's all well and good,

00:17:57.166 --> 00:17:58.276 A:middle
but sometimes you actually want

00:17:58.276 --> 00:17:59.556 A:middle
to have even more elements

00:17:59.556 --> 00:18:01.276 A:middle
flying around the screen and for

00:18:01.276 --> 00:18:03.106 A:middle
that you might want to use one

00:18:03.106 --> 00:18:05.576 A:middle
of these high-level graphics

00:18:05.576 --> 00:18:06.826 A:middle
frameworks that are intended for

00:18:06.826 --> 00:18:08.506 A:middle
games, but there's no reason you

00:18:08.506 --> 00:18:10.076 A:middle
can't use them in your own apps.

00:18:10.646 --> 00:18:11.866 A:middle
So, let's take a quick look at

00:18:11.866 --> 00:18:12.436 A:middle
SpriteKit.

00:18:13.706 --> 00:18:15.016 A:middle
Well, here's a similar-- here's

00:18:15.016 --> 00:18:16.716 A:middle
a particle effect that I created

00:18:16.716 --> 00:18:19.846 A:middle
in SpriteKit and this could

00:18:19.846 --> 00:18:21.096 A:middle
easily be overlaid in your own

00:18:21.096 --> 00:18:22.226 A:middle
app's contents.

00:18:22.556 --> 00:18:23.536 A:middle
So, let's take a look at how you

00:18:23.536 --> 00:18:25.146 A:middle
can incorporate SpriteKit very

00:18:25.146 --> 00:18:29.086 A:middle
easily into your own app.

00:18:29.736 --> 00:18:31.376 A:middle
That's literally the entire--

00:18:31.616 --> 00:18:32.406 A:middle
the entire code.

00:18:32.566 --> 00:18:34.106 A:middle
And what makes it easy for us to

00:18:34.106 --> 00:18:36.056 A:middle
do this tersely is that we're

00:18:36.056 --> 00:18:38.076 A:middle
actually relying on this SKS

00:18:38.076 --> 00:18:39.156 A:middle
file that I've created

00:18:39.156 --> 00:18:39.666 A:middle
previously.

00:18:40.916 --> 00:18:42.156 A:middle
And Xcode has a really nice

00:18:42.156 --> 00:18:43.376 A:middle
visual editor for particle

00:18:43.376 --> 00:18:43.806 A:middle
systems.

00:18:44.346 --> 00:18:46.296 A:middle
Now, you're not seeing the

00:18:46.296 --> 00:18:47.616 A:middle
texture here because I created

00:18:47.616 --> 00:18:48.986 A:middle
it programmatically, but you'll

00:18:48.986 --> 00:18:50.006 A:middle
notice that if I open up this

00:18:50.006 --> 00:18:51.786 A:middle
inspector in Xcode, I can

00:18:51.786 --> 00:18:53.946 A:middle
actually control many different

00:18:53.946 --> 00:18:55.736 A:middle
parameters of this particular

00:18:55.736 --> 00:18:58.256 A:middle
particle system, including

00:18:58.256 --> 00:18:59.386 A:middle
things like its opacity over

00:18:59.386 --> 00:19:01.396 A:middle
life, initial velocity, and the

00:19:01.396 --> 00:19:03.206 A:middle
distribution parameters for its

00:19:03.206 --> 00:19:04.356 A:middle
velocity and so on.

00:19:04.766 --> 00:19:06.976 A:middle
So, that allows me to very-- to

00:19:06.976 --> 00:19:08.716 A:middle
verify visually the effect that

00:19:08.716 --> 00:19:09.796 A:middle
I'm after with this particle

00:19:09.796 --> 00:19:11.356 A:middle
system and what's great is that

00:19:11.356 --> 00:19:12.316 A:middle
once I'm done with that I don't

00:19:12.316 --> 00:19:13.326 A:middle
have to write any code to

00:19:13.326 --> 00:19:14.036 A:middle
achieve that effect.

00:19:14.636 --> 00:19:16.046 A:middle
It's actually already persisted

00:19:16.106 --> 00:19:17.076 A:middle
in its SKS file.

00:19:17.686 --> 00:19:20.196 A:middle
Let's take one step back and

00:19:20.226 --> 00:19:21.286 A:middle
talk about how to actually

00:19:21.286 --> 00:19:23.356 A:middle
integrate scene-- SpriteKit into

00:19:23.356 --> 00:19:24.066 A:middle
your application.

00:19:24.576 --> 00:19:25.766 A:middle
So, in order for anything to

00:19:25.766 --> 00:19:26.996 A:middle
show up whatsoever, I need to

00:19:26.996 --> 00:19:28.226 A:middle
create an SKScene.

00:19:28.856 --> 00:19:30.286 A:middle
And the SKScene is really just

00:19:30.286 --> 00:19:31.296 A:middle
the stage on which all of your

00:19:31.296 --> 00:19:32.006 A:middle
objects live.

00:19:32.616 --> 00:19:34.356 A:middle
And an SKScene is presented in

00:19:34.356 --> 00:19:36.086 A:middle
your application within SKView.

00:19:36.586 --> 00:19:37.826 A:middle
So, I've created an SKScene

00:19:37.826 --> 00:19:39.536 A:middle
that's the same size as the view

00:19:39.536 --> 00:19:40.436 A:middle
that it's going to be presented

00:19:40.436 --> 00:19:41.976 A:middle
in and I present the scene on

00:19:41.976 --> 00:19:42.356 A:middle
the view.

00:19:43.346 --> 00:19:45.116 A:middle
I then create an SKEmitterNode

00:19:45.116 --> 00:19:47.336 A:middle
that actually loads the particle

00:19:47.336 --> 00:19:50.486 A:middle
system parameters and then will

00:19:50.486 --> 00:19:51.286 A:middle
actually be the thing that

00:19:51.286 --> 00:19:53.246 A:middle
drives the particle animation as

00:19:53.246 --> 00:19:53.996 A:middle
it's running.

00:19:54.876 --> 00:19:55.756 A:middle
I'll go ahead and create one

00:19:55.756 --> 00:19:57.406 A:middle
more of those famous star images

00:19:57.646 --> 00:19:58.836 A:middle
and set it as the texture on my

00:19:58.836 --> 00:20:00.216 A:middle
emitter so that each particle

00:20:00.216 --> 00:20:01.336 A:middle
has that star shape.

00:20:02.376 --> 00:20:03.206 A:middle
And I'll position it in the

00:20:03.206 --> 00:20:03.896 A:middle
middle of the screen.

00:20:04.526 --> 00:20:05.496 A:middle
I'll then go ahead and add the

00:20:05.496 --> 00:20:07.356 A:middle
emitter as a child of that scene

00:20:07.356 --> 00:20:08.596 A:middle
and that's really all there is

00:20:08.596 --> 00:20:08.906 A:middle
to it.

00:20:08.906 --> 00:20:10.036 A:middle
I don't have to start animating.

00:20:10.486 --> 00:20:12.476 A:middle
It just-- SpriteKit takes over

00:20:12.476 --> 00:20:13.396 A:middle
from there and just runs the

00:20:13.396 --> 00:20:13.906 A:middle
animation.

00:20:15.336 --> 00:20:16.886 A:middle
So, 2D is great, but you know

00:20:16.886 --> 00:20:18.296 A:middle
what's really cool, 3D.

00:20:18.886 --> 00:20:20.116 A:middle
So, let's-- as our final

00:20:20.116 --> 00:20:22.126 A:middle
sample-- talk about the basics

00:20:22.176 --> 00:20:22.726 A:middle
of SceneKit.

00:20:24.146 --> 00:20:25.466 A:middle
Well, here's a similar demo,

00:20:25.496 --> 00:20:26.456 A:middle
except that you can see the

00:20:26.456 --> 00:20:27.806 A:middle
stars are flying all over the

00:20:27.806 --> 00:20:28.896 A:middle
place, bouncing off of each

00:20:28.896 --> 00:20:30.356 A:middle
other, and most importantly

00:20:30.426 --> 00:20:31.806 A:middle
they're in 3D and they're lit

00:20:31.806 --> 00:20:32.376 A:middle
realistically.

00:20:32.686 --> 00:20:34.196 A:middle
So, let's walk through the

00:20:34.196 --> 00:20:36.146 A:middle
basics of SceneKit.

00:20:36.576 --> 00:20:38.906 A:middle
Well, there's a similar idea in

00:20:38.906 --> 00:20:40.856 A:middle
SceneKit to the SKScene and it's

00:20:40.856 --> 00:20:43.456 A:middle
called the S-- in SceneKit to--

00:20:45.306 --> 00:20:47.816 A:middle
there's an analogous class in

00:20:47.816 --> 00:20:51.136 A:middle
SceneKit to the SKScene in

00:20:51.136 --> 00:20:55.776 A:middle
SpriteKit which is SC-- which is

00:20:55.776 --> 00:20:58.826 A:middle
SCNScene and, exactly as before,

00:20:58.826 --> 00:20:59.786 A:middle
this is the thing that contains

00:20:59.786 --> 00:21:00.526 A:middle
all of your-- all of your

00:21:00.526 --> 00:21:01.626 A:middle
various objects in your scene.

00:21:02.016 --> 00:21:02.846 A:middle
I'll go ahead and set it to a

00:21:02.846 --> 00:21:04.106 A:middle
nice starfield text-- its

00:21:04.106 --> 00:21:05.166 A:middle
background to a nice starfield

00:21:05.166 --> 00:21:06.616 A:middle
texture, but in order to

00:21:06.616 --> 00:21:08.506 A:middle
actually see anything, we'll go

00:21:08.506 --> 00:21:09.666 A:middle
ahead and also create a node

00:21:09.906 --> 00:21:11.046 A:middle
that represents our vantage

00:21:11.046 --> 00:21:12.336 A:middle
point in SCNCamera.

00:21:13.066 --> 00:21:14.356 A:middle
I can set numerous properties on

00:21:14.356 --> 00:21:15.736 A:middle
this camera, but all I really

00:21:15.736 --> 00:21:16.726 A:middle
care about right now is its

00:21:16.776 --> 00:21:17.226 A:middle
position.

00:21:17.626 --> 00:21:18.626 A:middle
I'll go ahead and position it a

00:21:18.626 --> 00:21:20.336 A:middle
few units back from the origin

00:21:21.156 --> 00:21:23.496 A:middle
so that it's pointing to the

00:21:23.496 --> 00:21:25.416 A:middle
star particle system.

00:21:26.206 --> 00:21:27.106 A:middle
Then I go ahead and add it as a

00:21:27.106 --> 00:21:28.836 A:middle
child node to the scene's root

00:21:28.896 --> 00:21:29.016 A:middle
node.

00:21:29.906 --> 00:21:31.666 A:middle
Now, I don't actually have any

00:21:31.666 --> 00:21:32.896 A:middle
content to display on the screen

00:21:32.896 --> 00:21:35.406 A:middle
yet, so I can go ahead and use

00:21:35.406 --> 00:21:36.686 A:middle
this framework called Model I/O

00:21:36.686 --> 00:21:37.936 A:middle
and Model I/O has a lot of

00:21:37.936 --> 00:21:39.386 A:middle
different facilities for working

00:21:39.386 --> 00:21:40.526 A:middle
with 3D data.

00:21:41.356 --> 00:21:42.686 A:middle
In this case, I'm just going to

00:21:42.686 --> 00:21:43.956 A:middle
go ahead and load a 3D model

00:21:43.956 --> 00:21:45.896 A:middle
that I created previously in the

00:21:45.896 --> 00:21:47.176 A:middle
form of an MDLAsset.

00:21:48.186 --> 00:21:49.466 A:middle
There's a lot of interoperation

00:21:49.466 --> 00:21:51.926 A:middle
between SceneKit and Model I/O,

00:21:52.296 --> 00:21:55.136 A:middle
so I can extract an SCNGeometry,

00:21:55.436 --> 00:21:57.606 A:middle
which is SceneKit's notion of a

00:21:57.606 --> 00:21:59.616 A:middle
3D mesh, from the MDL mesh that

00:21:59.616 --> 00:22:00.136 A:middle
I just loaded.

00:22:00.136 --> 00:22:03.336 A:middle
Now, that particular model

00:22:03.336 --> 00:22:04.446 A:middle
didn't have any material

00:22:04.636 --> 00:22:05.876 A:middle
information associated with it,

00:22:06.266 --> 00:22:07.436 A:middle
so I can programmatically create

00:22:07.436 --> 00:22:09.146 A:middle
an SCNMaterial object and set

00:22:09.146 --> 00:22:10.646 A:middle
the diffuse color to yellow as

00:22:10.646 --> 00:22:12.506 A:middle
before in the previous demos.

00:22:13.536 --> 00:22:14.886 A:middle
Finally, in order to actually

00:22:14.886 --> 00:22:16.696 A:middle
light my objects, I'll create an

00:22:17.076 --> 00:22:18.706 A:middle
SCNLight and associate it with a

00:22:18.706 --> 00:22:20.876 A:middle
node and provide some properties

00:22:20.876 --> 00:22:22.396 A:middle
there, including the position

00:22:22.676 --> 00:22:24.266 A:middle
and the type of light.

00:22:24.406 --> 00:22:25.606 A:middle
SceneKit has a lot of different

00:22:25.926 --> 00:22:26.896 A:middle
types of lights, including

00:22:26.896 --> 00:22:27.926 A:middle
directional, point, and spot,

00:22:28.466 --> 00:22:29.486 A:middle
and you can select the one

00:22:29.486 --> 00:22:30.816 A:middle
that's appropriate for your use.

00:22:30.946 --> 00:22:33.446 A:middle
And I'll go ahead and kickoff

00:22:33.446 --> 00:22:35.436 A:middle
the actual animation by calling

00:22:35.436 --> 00:22:36.556 A:middle
this method start star emitter.

00:22:37.566 --> 00:22:39.226 A:middle
Well, this just creates a timer.

00:22:39.666 --> 00:22:42.586 A:middle
A timer that runs numerous times

00:22:42.586 --> 00:22:44.246 A:middle
per second and actually creates

00:22:44.636 --> 00:22:46.566 A:middle
an SCNNode that has an instance

00:22:46.646 --> 00:22:48.226 A:middle
of this geometry that I just

00:22:48.226 --> 00:22:48.506 A:middle
loaded.

00:22:48.866 --> 00:22:50.256 A:middle
I'll go ahead and add each of

00:22:50.256 --> 00:22:51.786 A:middle
these, as I introduced them to

00:22:51.786 --> 00:22:53.586 A:middle
the scene, to the root node, and

00:22:53.586 --> 00:22:54.966 A:middle
also associate with each one a

00:22:54.966 --> 00:22:56.426 A:middle
physics body so that it gets

00:22:56.426 --> 00:22:58.596 A:middle
physically plausible physical

00:22:58.596 --> 00:23:00.436 A:middle
animation pretty much for free.

00:23:00.966 --> 00:23:02.286 A:middle
I'll also go ahead and create a

00:23:02.286 --> 00:23:03.746 A:middle
random upward velocity just so

00:23:03.746 --> 00:23:04.456 A:middle
that there's a little bit of

00:23:04.456 --> 00:23:04.946 A:middle
variety.

00:23:05.646 --> 00:23:07.226 A:middle
And, finally, I'll remove it--

00:23:07.416 --> 00:23:09.146 A:middle
each star from its parent node

00:23:09.436 --> 00:23:10.676 A:middle
after some number of seconds

00:23:10.676 --> 00:23:11.946 A:middle
just to clean up memory.

00:23:12.606 --> 00:23:14.976 A:middle
So, the purpose of these demos

00:23:14.976 --> 00:23:16.436 A:middle
has been to walk you through the

00:23:16.436 --> 00:23:18.166 A:middle
basic capabilities of the

00:23:18.166 --> 00:23:19.346 A:middle
graphical frameworks that are on

00:23:19.346 --> 00:23:21.266 A:middle
our system and now I'd like to

00:23:21.266 --> 00:23:23.966 A:middle
bring back Noah to talk in-depth

00:23:23.966 --> 00:23:24.866 A:middle
about Core Animation.

00:23:26.516 --> 00:23:31.746 A:middle
[ Applause ]

00:23:32.246 --> 00:23:32.726 A:middle
&gt;&gt; Thanks, Warren.

00:23:33.326 --> 00:23:38.526 A:middle
So, how many of you have used

00:23:38.526 --> 00:23:39.406 A:middle
Core Animation for something?

00:23:40.676 --> 00:23:41.796 A:middle
Good. Glad to hear it.

00:23:42.236 --> 00:23:43.606 A:middle
How many of you have run into

00:23:43.606 --> 00:23:45.186 A:middle
something weird or unexpected

00:23:45.186 --> 00:23:45.766 A:middle
while using it?

00:23:46.936 --> 00:23:50.496 A:middle
Yeah. So, there's a couple of

00:23:50.496 --> 00:23:52.216 A:middle
kind of key concepts to CA,

00:23:52.216 --> 00:23:53.886 A:middle
which are sometimes not entirely

00:23:53.886 --> 00:23:56.076 A:middle
intuitive at first and it's

00:23:56.156 --> 00:23:57.166 A:middle
really easy to get tripped up on

00:23:57.166 --> 00:23:57.376 A:middle
them.

00:23:57.376 --> 00:23:58.156 A:middle
So, I want to take you through

00:23:58.156 --> 00:24:00.436 A:middle
some of those and explain kind

00:24:01.016 --> 00:24:02.756 A:middle
of both what's going on and why

00:24:02.756 --> 00:24:03.386 A:middle
it's happening.

00:24:03.706 --> 00:24:04.876 A:middle
I could just kind of give you

00:24:04.876 --> 00:24:05.226 A:middle
the answer.

00:24:05.226 --> 00:24:06.216 A:middle
In a lot of these cases, the

00:24:06.216 --> 00:24:07.156 A:middle
answer is going to be something

00:24:07.156 --> 00:24:09.026 A:middle
really simple, but I think it's

00:24:09.026 --> 00:24:10.516 A:middle
important to kind of know why

00:24:10.516 --> 00:24:11.526 A:middle
something is happening before

00:24:11.526 --> 00:24:14.996 A:middle
you start dealing with it.

00:24:14.996 --> 00:24:17.076 A:middle
So, let's start out by talking

00:24:17.076 --> 00:24:19.236 A:middle
about animations, which are

00:24:19.236 --> 00:24:21.856 A:middle
pretty core to the-- wow, I did

00:24:21.856 --> 00:24:23.486 A:middle
not intend to say that.

00:24:23.926 --> 00:24:26.516 A:middle
Moving on.

00:24:27.056 --> 00:24:29.116 A:middle
So, there's a behavior that

00:24:29.116 --> 00:24:30.346 A:middle
you'll see pretty often when

00:24:30.346 --> 00:24:31.296 A:middle
you're first starting to play

00:24:31.296 --> 00:24:32.816 A:middle
around with CA animations.

00:24:33.376 --> 00:24:34.786 A:middle
You'll create an animation,

00:24:34.786 --> 00:24:36.396 A:middle
you'll add it to your layer, and

00:24:36.396 --> 00:24:37.906 A:middle
you'll see the layer animate say

00:24:37.906 --> 00:24:39.656 A:middle
from point A to point B and then

00:24:39.656 --> 00:24:41.446 A:middle
it'll jump back and you go

00:24:41.446 --> 00:24:41.916 A:middle
that's weird.

00:24:42.826 --> 00:24:45.376 A:middle
And the reason for this has to

00:24:45.376 --> 00:24:47.806 A:middle
do with what's called the model

00:24:47.806 --> 00:24:48.946 A:middle
and the presentation layers.

00:24:48.946 --> 00:24:50.486 A:middle
There's these kind of two things

00:24:50.486 --> 00:24:53.566 A:middle
that exist at once and knowing

00:24:53.566 --> 00:24:54.306 A:middle
the distinction between them is

00:24:54.306 --> 00:24:55.696 A:middle
kind of crucial to getting why

00:24:55.696 --> 00:24:56.206 A:middle
that's happening.

00:24:56.866 --> 00:24:58.566 A:middle
So, the layout that you're

00:24:58.566 --> 00:25:00.296 A:middle
mostly interacting with, the one

00:25:00.296 --> 00:25:01.186 A:middle
that you're setting properties

00:25:01.186 --> 00:25:02.456 A:middle
on and adding animations to and

00:25:02.456 --> 00:25:04.076 A:middle
so on, is the model layer.

00:25:04.756 --> 00:25:06.146 A:middle
The one that's actually onscreen

00:25:06.146 --> 00:25:07.436 A:middle
is the presentation layer.

00:25:07.576 --> 00:25:09.066 A:middle
And the presentation layer is

00:25:09.066 --> 00:25:10.146 A:middle
sort of a clone of the model

00:25:10.146 --> 00:25:11.316 A:middle
layer that's calculated each

00:25:11.316 --> 00:25:12.906 A:middle
frame from the state of the

00:25:12.906 --> 00:25:14.906 A:middle
model layer and any animations

00:25:14.946 --> 00:25:16.356 A:middle
that are on the model layer at

00:25:17.276 --> 00:25:17.766 A:middle
that time.

00:25:17.766 --> 00:25:19.716 A:middle
So, what's happening in this

00:25:19.716 --> 00:25:21.176 A:middle
previous example is that you

00:25:21.176 --> 00:25:22.616 A:middle
have the animation added at this

00:25:22.616 --> 00:25:26.646 A:middle
time and you can see that, like,

00:25:27.496 --> 00:25:29.166 A:middle
the presentation layer follows

00:25:29.166 --> 00:25:30.266 A:middle
the animation, but once it's

00:25:30.266 --> 00:25:31.736 A:middle
over the animation's gone and so

00:25:31.736 --> 00:25:32.596 A:middle
it goes back to what the model

00:25:32.596 --> 00:25:33.266 A:middle
layer was showing.

00:25:34.006 --> 00:25:36.836 A:middle
And-- so, when you look on the

00:25:36.836 --> 00:25:37.866 A:middle
internet, there will be a

00:25:37.866 --> 00:25:39.266 A:middle
million people telling you to do

00:25:39.266 --> 00:25:40.646 A:middle
exactly the wrong thing here.

00:25:42.196 --> 00:25:44.066 A:middle
What they will say is set the

00:25:44.066 --> 00:25:45.396 A:middle
animation to not be removed on

00:25:45.396 --> 00:25:45.976 A:middle
completion.

00:25:46.316 --> 00:25:47.666 A:middle
Set its film mode to forwards

00:25:47.666 --> 00:25:49.416 A:middle
and forget about it.

00:25:50.196 --> 00:25:51.556 A:middle
And the problem with this comes

00:25:51.556 --> 00:25:53.726 A:middle
from the inconsistency this

00:25:53.726 --> 00:25:55.186 A:middle
introduces because after your

00:25:55.186 --> 00:25:56.726 A:middle
animation is over, the model

00:25:56.726 --> 00:25:58.036 A:middle
layer still has its starting

00:25:58.036 --> 00:25:58.386 A:middle
value.

00:25:59.126 --> 00:26:01.496 A:middle
So, this looks right, but if you

00:26:01.496 --> 00:26:02.166 A:middle
look at the value of the

00:26:02.166 --> 00:26:03.836 A:middle
property on these two graphs,

00:26:04.306 --> 00:26:05.316 A:middle
the presentation layer is

00:26:05.316 --> 00:26:06.326 A:middle
showing something different than

00:26:06.326 --> 00:26:07.666 A:middle
the model layer.

00:26:07.826 --> 00:26:09.046 A:middle
And where that becomes a problem

00:26:09.436 --> 00:26:10.516 A:middle
is when for instance you're

00:26:10.516 --> 00:26:12.366 A:middle
trying to align something to a

00:26:12.366 --> 00:26:13.166 A:middle
layer that you've previously

00:26:13.166 --> 00:26:14.246 A:middle
animated and you set it to the

00:26:14.246 --> 00:26:15.596 A:middle
layer's position and it's the

00:26:15.596 --> 00:26:16.556 A:middle
position that it had like two

00:26:16.556 --> 00:26:18.676 A:middle
minutes ago, which is weird.

00:26:18.676 --> 00:26:20.136 A:middle
Pretty unintuitive, right?

00:26:21.186 --> 00:26:23.896 A:middle
So, the solution to this is

00:26:23.896 --> 00:26:25.206 A:middle
fortunately dead simple.

00:26:25.206 --> 00:26:26.606 A:middle
You can mostly forget about the

00:26:26.606 --> 00:26:28.066 A:middle
entire conceptual stuff that I

00:26:28.066 --> 00:26:28.736 A:middle
just explained there.

00:26:29.476 --> 00:26:31.516 A:middle
All you have to do is when

00:26:31.516 --> 00:26:32.726 A:middle
you're adding your animations to

00:26:32.726 --> 00:26:35.016 A:middle
a layer, set the layer's model

00:26:35.016 --> 00:26:36.216 A:middle
property at the same time.

00:26:37.276 --> 00:26:39.166 A:middle
So, in that case, at the

00:26:39.166 --> 00:26:40.286 A:middle
beginning of the animation, the

00:26:40.286 --> 00:26:41.746 A:middle
model layer jumps to its final

00:26:41.746 --> 00:26:43.816 A:middle
state and the presentation layer

00:26:43.816 --> 00:26:45.646 A:middle
animates smoothly and afterwards

00:26:46.366 --> 00:26:47.116 A:middle
they're consistent.

00:26:47.616 --> 00:26:49.076 A:middle
And, better yet, there isn't

00:26:49.076 --> 00:26:49.946 A:middle
still an animation sitting

00:26:49.946 --> 00:26:51.476 A:middle
around on your model layer,

00:26:51.906 --> 00:26:53.856 A:middle
confusing the state of affairs

00:26:53.856 --> 00:26:55.686 A:middle
and kind of setting you up to be

00:26:55.686 --> 00:26:56.256 A:middle
tripped up later.

00:26:57.746 --> 00:26:59.066 A:middle
So, what that looks like in code

00:27:00.006 --> 00:27:01.486 A:middle
is just this.

00:27:01.656 --> 00:27:02.646 A:middle
You have your animation.

00:27:03.286 --> 00:27:04.856 A:middle
You set your duration, your from

00:27:04.856 --> 00:27:06.136 A:middle
value, your to value, and then

00:27:06.136 --> 00:27:07.276 A:middle
at the same time as you add it

00:27:07.276 --> 00:27:09.136 A:middle
to the layer, you set the value

00:27:09.136 --> 00:27:10.676 A:middle
of the actual property on it.

00:27:11.036 --> 00:27:12.116 A:middle
It's that simple.

00:27:12.636 --> 00:27:14.886 A:middle
Be aware of the model

00:27:14.886 --> 00:27:17.036 A:middle
presentation layer dichotomy and

00:27:17.036 --> 00:27:18.536 A:middle
apply the final state to your

00:27:18.536 --> 00:27:19.276 A:middle
layers when you're adding

00:27:19.276 --> 00:27:21.816 A:middle
animations to them.

00:27:22.846 --> 00:27:24.576 A:middle
So, next, I'd like to talk about

00:27:24.576 --> 00:27:27.036 A:middle
something that I have run into

00:27:27.036 --> 00:27:28.066 A:middle
more times than I would like to

00:27:28.066 --> 00:27:30.236 A:middle
admit, which is the intersection

00:27:30.236 --> 00:27:32.496 A:middle
between transforms and frames.

00:27:32.496 --> 00:27:34.826 A:middle
So, you're pretty familiar with

00:27:34.826 --> 00:27:35.546 A:middle
the idea of the frame.

00:27:35.546 --> 00:27:36.786 A:middle
You set this rectangle that

00:27:36.786 --> 00:27:37.926 A:middle
defines where your layer is and

00:27:37.926 --> 00:27:39.776 A:middle
how big it is.

00:27:40.046 --> 00:27:41.936 A:middle
And so, you have your layer set

00:27:41.936 --> 00:27:43.786 A:middle
up and you decide you want to

00:27:43.786 --> 00:27:45.666 A:middle
scale it down at a transform

00:27:45.666 --> 00:27:49.396 A:middle
that scales it to 25 percent.

00:27:49.396 --> 00:27:51.216 A:middle
Then later on, somewhere else in

00:27:51.216 --> 00:27:52.586 A:middle
your code, you set the frame

00:27:52.586 --> 00:27:54.736 A:middle
back and your layer goes back to

00:27:54.736 --> 00:27:55.936 A:middle
the size that it's supposed to

00:27:56.936 --> 00:27:57.006 A:middle
be.

00:27:58.006 --> 00:27:59.376 A:middle
And all seems well and good,

00:27:59.376 --> 00:27:59.636 A:middle
right?

00:28:00.786 --> 00:28:03.156 A:middle
Well, the problem arises when

00:28:03.156 --> 00:28:05.146 A:middle
you set another transform on the

00:28:05.146 --> 00:28:05.316 A:middle
layer.

00:28:05.316 --> 00:28:06.366 A:middle
In other words, you remove the

00:28:06.366 --> 00:28:07.476 A:middle
transform that's already there

00:28:07.476 --> 00:28:08.666 A:middle
and set something new.

00:28:09.376 --> 00:28:10.396 A:middle
So, say you want to rotate this

00:28:10.396 --> 00:28:12.566 A:middle
layer, you know, keeping it

00:28:13.066 --> 00:28:14.366 A:middle
otherwise the same size and what

00:28:14.366 --> 00:28:14.556 A:middle
not.

00:28:15.096 --> 00:28:16.226 A:middle
So, you set up a

00:28:16.416 --> 00:28:19.126 A:middle
CGAffineTransform and give it a

00:28:19.126 --> 00:28:21.746 A:middle
rotation angle and your lay does

00:28:21.746 --> 00:28:22.496 A:middle
that.

00:28:23.066 --> 00:28:24.826 A:middle
Which is not right.

00:28:25.496 --> 00:28:27.306 A:middle
So, why is this happening?

00:28:28.406 --> 00:28:30.806 A:middle
Well, the thing to know is that

00:28:31.626 --> 00:28:33.496 A:middle
the frame is the layer's size

00:28:33.496 --> 00:28:35.516 A:middle
from outside, the bounds are the

00:28:35.516 --> 00:28:37.396 A:middle
layer's size from inside, and

00:28:37.846 --> 00:28:39.776 A:middle
the-- if you ask the layer where

00:28:39.776 --> 00:28:41.056 A:middle
it's frame is, it's calculated

00:28:41.056 --> 00:28:41.876 A:middle
form the bounds and the

00:28:41.876 --> 00:28:42.436 A:middle
transform.

00:28:43.396 --> 00:28:45.146 A:middle
So, in other words, when your

00:28:45.146 --> 00:28:46.506 A:middle
layer had come back to its

00:28:46.506 --> 00:28:49.126 A:middle
original size, it was actually

00:28:49.316 --> 00:28:50.326 A:middle
four times the size because it

00:28:50.326 --> 00:28:51.626 A:middle
still had that scale transform

00:28:51.626 --> 00:28:51.796 A:middle
on it.

00:28:52.156 --> 00:28:53.606 A:middle
So, you told it onscreen I want

00:28:53.606 --> 00:28:55.146 A:middle
you to be this size and it was

00:28:55.216 --> 00:28:56.976 A:middle
scaled down by four times and so

00:28:57.076 --> 00:28:58.516 A:middle
it's well, like, OK, I need to

00:28:58.516 --> 00:28:59.526 A:middle
be four times bigger than that.

00:29:00.026 --> 00:29:01.706 A:middle
And that seemed fine because you

00:29:01.706 --> 00:29:02.656 A:middle
did-- it looked the same size

00:29:02.656 --> 00:29:03.826 A:middle
onscreen, but then when you

00:29:03.826 --> 00:29:05.306 A:middle
unset that transform, it went

00:29:05.306 --> 00:29:07.306 A:middle
back to its original magnificent

00:29:07.306 --> 00:29:07.716 A:middle
size there.

00:29:08.926 --> 00:29:11.486 A:middle
So, the long and short of this

00:29:11.486 --> 00:29:13.176 A:middle
is-- if you're using transforms,

00:29:13.176 --> 00:29:14.566 A:middle
be really careful about using

00:29:14.566 --> 00:29:15.226 A:middle
the frame property.

00:29:15.226 --> 00:29:17.766 A:middle
It's generally better not to

00:29:17.836 --> 00:29:18.736 A:middle
just set the frame.

00:29:19.206 --> 00:29:22.326 A:middle
Instead, figure out the size and

00:29:22.326 --> 00:29:23.126 A:middle
position that you want the layer

00:29:23.126 --> 00:29:24.676 A:middle
to be at, in other words, in

00:29:24.676 --> 00:29:26.806 A:middle
this case the width and height

00:29:26.806 --> 00:29:28.876 A:middle
of the frame that you wanted and

00:29:28.876 --> 00:29:29.936 A:middle
then the position would be the

00:29:29.936 --> 00:29:30.876 A:middle
center of the frame.

00:29:32.026 --> 00:29:34.096 A:middle
So, it's pretty much just that.

00:29:34.096 --> 00:29:35.596 A:middle
The frame is affected by the

00:29:35.596 --> 00:29:36.596 A:middle
transform, it will interact with

00:29:36.596 --> 00:29:37.246 A:middle
it in weird ways.

00:29:37.246 --> 00:29:38.676 A:middle
If you combine them, you're

00:29:38.676 --> 00:29:39.456 A:middle
probably going to have a bad

00:29:39.456 --> 00:29:41.626 A:middle
time, so just set bounds and

00:29:41.626 --> 00:29:41.846 A:middle
position.

00:29:41.846 --> 00:29:42.826 A:middle
You will save yourself a lot of

00:29:42.826 --> 00:29:43.166 A:middle
headache.

00:29:43.726 --> 00:29:46.966 A:middle
So, for the next couple of

00:29:46.966 --> 00:29:48.756 A:middle
these, I'd like to look at them

00:29:48.756 --> 00:29:50.286 A:middle
in the context of an app.

00:29:51.626 --> 00:29:54.266 A:middle
We have this shiny little app

00:29:54.266 --> 00:29:56.066 A:middle
here that lets you take emoji

00:29:56.066 --> 00:29:56.796 A:middle
and put them all over your

00:29:56.796 --> 00:29:57.286 A:middle
pictures.

00:29:57.286 --> 00:29:58.146 A:middle
It's very original.

00:29:58.146 --> 00:29:59.726 A:middle
I thought of it over a long

00:29:59.726 --> 00:30:01.016 A:middle
period of time.

00:30:01.776 --> 00:30:02.996 A:middle
And there's two things here that

00:30:02.996 --> 00:30:03.876 A:middle
are kind of contributing to the

00:30:03.876 --> 00:30:04.686 A:middle
look of this.

00:30:05.246 --> 00:30:06.976 A:middle
The first is the mask that's

00:30:06.976 --> 00:30:08.376 A:middle
sort of cutting out the edges of

00:30:08.376 --> 00:30:08.846 A:middle
this layer.

00:30:08.896 --> 00:30:11.416 A:middle
And the second is the shadow

00:30:11.466 --> 00:30:13.056 A:middle
underneath it.

00:30:13.276 --> 00:30:14.146 A:middle
First, let's talk about the

00:30:15.176 --> 00:30:15.296 A:middle
mask.

00:30:16.266 --> 00:30:18.666 A:middle
So, what's going on here is that

00:30:18.666 --> 00:30:20.126 A:middle
we have this kind of custom

00:30:20.126 --> 00:30:21.256 A:middle
rounded shape that's clipping

00:30:21.256 --> 00:30:23.026 A:middle
the edges of the emoji.

00:30:23.416 --> 00:30:25.276 A:middle
And the way this works is you

00:30:25.276 --> 00:30:27.076 A:middle
give CA another layer that has

00:30:27.076 --> 00:30:28.366 A:middle
whatever shape you want to be--

00:30:28.546 --> 00:30:31.746 A:middle
to take-- to affect the opacity

00:30:31.746 --> 00:30:34.606 A:middle
of your main layer and-- there

00:30:34.916 --> 00:30:36.166 A:middle
we go.

00:30:36.416 --> 00:30:39.266 A:middle
And CA will take the opacity of

00:30:39.266 --> 00:30:40.736 A:middle
that and use it to cut out the

00:30:40.736 --> 00:30:42.216 A:middle
shape of the layer.

00:30:42.216 --> 00:30:45.396 A:middle
And you can do some kind of cool

00:30:45.396 --> 00:30:46.216 A:middle
interesting things with this.

00:30:46.216 --> 00:30:47.096 A:middle
In a lot of cases, people will

00:30:47.096 --> 00:30:48.086 A:middle
just use a simple shape and you

00:30:48.086 --> 00:30:49.316 A:middle
can kind of fade them out, you

00:30:49.316 --> 00:30:50.236 A:middle
can cut holes in them-- it lets

00:30:50.236 --> 00:30:51.856 A:middle
you do all kinds of interesting

00:30:51.856 --> 00:30:53.006 A:middle
things with your layers.

00:30:54.326 --> 00:30:57.836 A:middle
And so, if you want to achieve

00:30:57.836 --> 00:30:59.206 A:middle
an affect like this where the

00:30:59.206 --> 00:31:01.776 A:middle
emoji are kind of fading out at

00:31:01.776 --> 00:31:02.726 A:middle
the bottom as well as being

00:31:02.726 --> 00:31:04.026 A:middle
clipped by the thing, you might

00:31:04.026 --> 00:31:05.576 A:middle
think, well, OK, I can use a

00:31:05.576 --> 00:31:07.696 A:middle
mask to fade-- to, like, set the

00:31:07.696 --> 00:31:08.426 A:middle
opacity of things.

00:31:08.476 --> 00:31:09.806 A:middle
I can just use two masks here,

00:31:09.806 --> 00:31:10.046 A:middle
right?

00:31:11.046 --> 00:31:13.486 A:middle
Well, you can, but that's not

00:31:13.486 --> 00:31:14.856 A:middle
going to go very well and the

00:31:14.856 --> 00:31:15.826 A:middle
reason is performance.

00:31:16.506 --> 00:31:18.386 A:middle
Each mask has a cost.

00:31:18.846 --> 00:31:20.296 A:middle
So, when you have multiple masks

00:31:20.296 --> 00:31:21.896 A:middle
in a layer, CA has to combine

00:31:21.896 --> 00:31:24.446 A:middle
each one in sequence to produce

00:31:24.446 --> 00:31:25.516 A:middle
the final image that ends up on

00:31:25.516 --> 00:31:25.856 A:middle
screen.

00:31:25.956 --> 00:31:27.996 A:middle
So, you have your emoji layer

00:31:28.336 --> 00:31:29.776 A:middle
here, the kind of fade out mask,

00:31:30.236 --> 00:31:31.366 A:middle
those get combined into the

00:31:31.366 --> 00:31:32.946 A:middle
fading out emoji, then you have

00:31:32.946 --> 00:31:34.066 A:middle
your other layer that is

00:31:34.066 --> 00:31:35.726 A:middle
containing the emoji and that is

00:31:35.726 --> 00:31:38.066 A:middle
getting masked by this other

00:31:38.486 --> 00:31:41.516 A:middle
shape thing and so, like, this

00:31:41.516 --> 00:31:43.416 A:middle
works, but it's suboptimal.

00:31:43.416 --> 00:31:44.896 A:middle
You can see like how much time

00:31:44.896 --> 00:31:46.086 A:middle
could be being spent here just

00:31:46.086 --> 00:31:47.186 A:middle
drawing pixels and figuring out

00:31:47.186 --> 00:31:48.106 A:middle
where things are opaque and so

00:31:48.106 --> 00:31:49.806 A:middle
on and so forth.

00:31:49.806 --> 00:31:52.616 A:middle
So, the problem that this

00:31:52.616 --> 00:31:54.376 A:middle
causes-- because CA has to draw

00:31:54.376 --> 00:31:55.276 A:middle
this stuff offscreen.

00:31:55.426 --> 00:31:56.896 A:middle
Basically, in your normal

00:31:56.896 --> 00:31:58.116 A:middle
drawing path, CA can just like

00:31:58.156 --> 00:31:59.236 A:middle
take the contents of one thing,

00:31:59.236 --> 00:32:00.616 A:middle
put it into the final image, its

00:32:00.616 --> 00:32:00.906 A:middle
composite.

00:32:00.906 --> 00:32:01.616 A:middle
And take the contents of another

00:32:01.616 --> 00:32:02.406 A:middle
and put it in, so on and so

00:32:02.406 --> 00:32:02.696 A:middle
forth.

00:32:03.236 --> 00:32:04.706 A:middle
But, in this case, it's having

00:32:04.706 --> 00:32:06.776 A:middle
to take a-- create a separate

00:32:06.776 --> 00:32:07.846 A:middle
context to draw all this stuff

00:32:07.846 --> 00:32:09.876 A:middle
in and then put it onto the

00:32:09.876 --> 00:32:10.206 A:middle
screen.

00:32:10.536 --> 00:32:11.986 A:middle
And the more of these you have

00:32:11.986 --> 00:32:13.406 A:middle
on there, the more that effect

00:32:13.406 --> 00:32:15.066 A:middle
stacks up.

00:32:15.496 --> 00:32:18.566 A:middle
So, if you want to still achieve

00:32:18.566 --> 00:32:21.366 A:middle
this effect, the best thing to

00:32:21.366 --> 00:32:22.926 A:middle
do is to cheat.

00:32:23.836 --> 00:32:26.096 A:middle
Basically, just to fake the-- at

00:32:26.096 --> 00:32:27.086 A:middle
least one of the masks that

00:32:27.086 --> 00:32:27.516 A:middle
you're using.

00:32:27.966 --> 00:32:29.436 A:middle
In this case, you could get away

00:32:29.436 --> 00:32:30.566 A:middle
with just putting a gradient

00:32:30.566 --> 00:32:32.586 A:middle
overlay on top of this layer and

00:32:32.586 --> 00:32:33.996 A:middle
then including that in the

00:32:33.996 --> 00:32:35.496 A:middle
overall masked thing.

00:32:35.496 --> 00:32:38.156 A:middle
Obviously, there are some cases

00:32:38.156 --> 00:32:39.746 A:middle
in which this won't work.

00:32:39.786 --> 00:32:40.786 A:middle
If your background is not a

00:32:40.786 --> 00:32:41.876 A:middle
solid color, then you can't use

00:32:41.876 --> 00:32:43.356 A:middle
a solid color gradient, but you

00:32:43.356 --> 00:32:44.726 A:middle
can do some other things such as

00:32:44.726 --> 00:32:47.276 A:middle
using-- take-- basically drawing

00:32:47.276 --> 00:32:50.076 A:middle
your background into another

00:32:50.076 --> 00:32:52.216 A:middle
image and then fading that out

00:32:52.216 --> 00:32:52.996 A:middle
and then using that as an

00:32:52.996 --> 00:32:53.386 A:middle
overlay.

00:32:53.386 --> 00:32:54.446 A:middle
And that's-- it's faster to do

00:32:54.446 --> 00:32:55.456 A:middle
that once than to have to make

00:32:55.496 --> 00:32:56.386 A:middle
CA do it every frame.

00:32:58.416 --> 00:33:01.776 A:middle
So, long and short of this is

00:33:02.496 --> 00:33:03.786 A:middle
each mask has a cost.

00:33:03.856 --> 00:33:05.246 A:middle
They are fun and useful, but

00:33:05.246 --> 00:33:06.816 A:middle
kind of expensive.

00:33:07.196 --> 00:33:08.616 A:middle
The size of your layers matters

00:33:08.616 --> 00:33:09.826 A:middle
significantly when you're

00:33:09.826 --> 00:33:10.596 A:middle
masking things.

00:33:10.596 --> 00:33:11.756 A:middle
If you have a really large layer

00:33:11.756 --> 00:33:12.976 A:middle
and you have tiny corner masks

00:33:12.976 --> 00:33:13.996 A:middle
on it, CA is still having to

00:33:13.996 --> 00:33:15.526 A:middle
draw that entire thing, which is

00:33:15.526 --> 00:33:16.026 A:middle
not ideal.

00:33:16.656 --> 00:33:18.646 A:middle
So, wherever you can, use

00:33:18.646 --> 00:33:19.106 A:middle
shortcuts.

00:33:19.596 --> 00:33:21.436 A:middle
That's about it.

00:33:22.196 --> 00:33:24.686 A:middle
Next up, let's talk about

00:33:25.376 --> 00:33:25.576 A:middle
shadows.

00:33:26.096 --> 00:33:28.706 A:middle
So, you're probably familiar

00:33:28.786 --> 00:33:30.436 A:middle
with the CA shadow properties,

00:33:30.436 --> 00:33:32.046 A:middle
shadow opacity, offset, radius,

00:33:32.046 --> 00:33:33.416 A:middle
so on and so forth.

00:33:33.416 --> 00:33:34.586 A:middle
And if you use them, you know,

00:33:34.846 --> 00:33:35.956 A:middle
your shadow shows up, everything

00:33:35.956 --> 00:33:37.766 A:middle
seems to be fine, but if you're

00:33:37.766 --> 00:33:39.356 A:middle
in an app that has a lot of

00:33:39.536 --> 00:33:40.606 A:middle
views that have shadows on them,

00:33:40.606 --> 00:33:41.286 A:middle
you might notice that your

00:33:41.286 --> 00:33:42.476 A:middle
performance starts taking a hit.

00:33:42.476 --> 00:33:44.276 A:middle
And the reason for that is that

00:33:44.346 --> 00:33:45.956 A:middle
CA has to draw the shadow for

00:33:45.956 --> 00:33:47.366 A:middle
each of these individually and

00:33:47.366 --> 00:33:48.586 A:middle
it has to draw it including the

00:33:48.586 --> 00:33:51.036 A:middle
entire hierarchy of layers that

00:33:51.036 --> 00:33:51.856 A:middle
each view contains.

00:33:52.946 --> 00:33:55.456 A:middle
So, what I mean by that is when

00:33:55.456 --> 00:33:56.536 A:middle
you have that layer being

00:33:56.536 --> 00:33:58.646 A:middle
shadowed, CA has to first draw

00:33:58.646 --> 00:34:00.366 A:middle
its background, then draw every

00:34:00.366 --> 00:34:03.886 A:middle
single sublayer-- wait for it--

00:34:05.626 --> 00:34:07.436 A:middle
and then figure out the opacity

00:34:07.436 --> 00:34:07.716 A:middle
of that.

00:34:07.716 --> 00:34:09.546 A:middle
And the result of that is just

00:34:10.066 --> 00:34:10.466 A:middle
this.

00:34:10.996 --> 00:34:11.986 A:middle
So, like, that seems like wasted

00:34:11.986 --> 00:34:12.446 A:middle
time, right?

00:34:12.446 --> 00:34:13.246 A:middle
We just spent all this time

00:34:13.246 --> 00:34:14.226 A:middle
drawing these lovely emoji, but

00:34:14.226 --> 00:34:16.116 A:middle
we're only seeing their opacity.

00:34:17.226 --> 00:34:19.726 A:middle
So, basically when the contents

00:34:19.726 --> 00:34:20.796 A:middle
of the sublayers don't matter,

00:34:20.796 --> 00:34:23.546 A:middle
using the regular shadow system

00:34:23.546 --> 00:34:25.516 A:middle
is kind of a waste of time.

00:34:25.646 --> 00:34:27.336 A:middle
What you want to use instead is

00:34:27.336 --> 00:34:28.566 A:middle
the shadow path property.

00:34:29.496 --> 00:34:30.996 A:middle
And we mentioned earlier that

00:34:30.996 --> 00:34:33.176 A:middle
you can use Core Graphics to

00:34:33.476 --> 00:34:35.386 A:middle
draw paths that have, you know,

00:34:35.536 --> 00:34:36.946 A:middle
varying shapes and then do

00:34:36.946 --> 00:34:37.866 A:middle
things with them.

00:34:37.866 --> 00:34:40.306 A:middle
CG paths are also used elsewhere

00:34:40.306 --> 00:34:41.306 A:middle
in the system for doing path

00:34:41.366 --> 00:34:43.446 A:middle
stuff and, in this case, you

00:34:43.446 --> 00:34:44.866 A:middle
just basically make a path that

00:34:44.866 --> 00:34:46.716 A:middle
is the shape of your layer, hand

00:34:46.876 --> 00:34:49.126 A:middle
that to CA, and it can draw that

00:34:49.126 --> 00:34:50.206 A:middle
and blur it and basically

00:34:50.206 --> 00:34:51.406 A:middle
produce your shadow much faster

00:34:51.406 --> 00:34:52.606 A:middle
than it can by drawing the layer

00:34:52.606 --> 00:34:53.476 A:middle
and all of its sublayers.

00:34:55.126 --> 00:34:58.156 A:middle
So, that's the main performance

00:34:58.156 --> 00:34:59.116 A:middle
advantage of these.

00:34:59.116 --> 00:34:59.976 A:middle
The other is that if you have a

00:34:59.976 --> 00:35:01.056 A:middle
lot of layers using the same

00:35:01.056 --> 00:35:03.026 A:middle
shadow path instance, then CA

00:35:03.586 --> 00:35:05.096 A:middle
doesn't have to redraw the

00:35:05.096 --> 00:35:05.746 A:middle
shadow at all.

00:35:05.746 --> 00:35:06.506 A:middle
It can just reuse them

00:35:06.506 --> 00:35:07.326 A:middle
everywhere and that's a huge

00:35:07.376 --> 00:35:08.796 A:middle
performance boost.

00:35:09.036 --> 00:35:10.556 A:middle
So, when you're working with

00:35:10.556 --> 00:35:14.006 A:middle
layer shadows, be aware that the

00:35:14.006 --> 00:35:15.386 A:middle
blending of the layer and all

00:35:15.386 --> 00:35:16.146 A:middle
its sublayers is really

00:35:16.146 --> 00:35:16.676 A:middle
expensive.

00:35:16.816 --> 00:35:17.966 A:middle
You want to avoid it where you

00:35:17.966 --> 00:35:20.106 A:middle
can, so use shadow paths.

00:35:20.616 --> 00:35:21.826 A:middle
Pretty simple, right?

00:35:23.606 --> 00:35:25.226 A:middle
So, we just took you through

00:35:25.226 --> 00:35:27.566 A:middle
kind of a bunch of CA best

00:35:27.566 --> 00:35:28.116 A:middle
practices.

00:35:28.116 --> 00:35:29.736 A:middle
Some good-- some ways to use the

00:35:29.736 --> 00:35:30.916 A:middle
stuff that you're already using

00:35:31.236 --> 00:35:32.116 A:middle
more effectively.

00:35:32.816 --> 00:35:33.966 A:middle
Let's look at some tips and

00:35:33.966 --> 00:35:34.286 A:middle
tricks.

00:35:34.286 --> 00:35:35.266 A:middle
Let's look at some things that

00:35:35.266 --> 00:35:37.446 A:middle
you might not be using already.

00:35:38.936 --> 00:35:43.316 A:middle
So, CA has a CALayer subclass

00:35:43.316 --> 00:35:45.706 A:middle
called CAShapeLayer and what

00:35:45.706 --> 00:35:46.866 A:middle
that does is take a Core

00:35:46.866 --> 00:35:48.106 A:middle
Graphics path, like the ones I

00:35:48.106 --> 00:35:49.416 A:middle
was mentioning earlier, you give

00:35:49.416 --> 00:35:50.396 A:middle
it a stroke color and a fill

00:35:50.396 --> 00:35:52.126 A:middle
color and it draws your thing.

00:35:52.126 --> 00:35:52.836 A:middle
You may have encountered this

00:35:52.836 --> 00:35:55.446 A:middle
before, but one of the cool

00:35:55.446 --> 00:35:56.776 A:middle
things about CA is that a ton of

00:35:56.776 --> 00:35:58.036 A:middle
the properties that you have on

00:35:58.036 --> 00:35:59.476 A:middle
layers are animatable.

00:36:00.056 --> 00:36:01.676 A:middle
You can change-- you can set up

00:36:01.676 --> 00:36:02.546 A:middle
an animation with pretty much

00:36:02.546 --> 00:36:03.996 A:middle
any of these properties and CA

00:36:03.996 --> 00:36:05.416 A:middle
will do the right thing and

00:36:05.416 --> 00:36:06.906 A:middle
interpolate it over time and

00:36:06.906 --> 00:36:08.156 A:middle
give you an animated layer.

00:36:08.156 --> 00:36:10.056 A:middle
And there are some cool things

00:36:10.056 --> 00:36:10.696 A:middle
you can do with that.

00:36:11.216 --> 00:36:12.016 A:middle
Obviously, you could, you know,

00:36:12.016 --> 00:36:13.416 A:middle
put an animation on the stroke

00:36:13.416 --> 00:36:14.156 A:middle
color or fill color, but

00:36:14.156 --> 00:36:15.756 A:middle
that's-- seems pretty obvious,

00:36:15.756 --> 00:36:15.936 A:middle
right?

00:36:16.696 --> 00:36:17.986 A:middle
What else can we do?

00:36:18.556 --> 00:36:21.156 A:middle
Well, CAShapeLayer has a couple

00:36:21.156 --> 00:36:22.546 A:middle
of properties called strokeStart

00:36:22.546 --> 00:36:24.766 A:middle
and strokeEnd, which let you

00:36:24.766 --> 00:36:26.486 A:middle
create an effect where the layer

00:36:26.486 --> 00:36:28.266 A:middle
draws itself along the length of

00:36:28.266 --> 00:36:30.356 A:middle
the path or undraws itself or

00:36:30.356 --> 00:36:30.996 A:middle
draws itself again.

00:36:32.306 --> 00:36:33.866 A:middle
And that's kind of fun.

00:36:34.036 --> 00:36:35.116 A:middle
You can use that for various

00:36:35.116 --> 00:36:36.736 A:middle
effects in your UI where, you

00:36:36.736 --> 00:36:38.316 A:middle
know, a logo might draw itself

00:36:38.316 --> 00:36:39.806 A:middle
into being and then fill in or

00:36:39.806 --> 00:36:41.296 A:middle
something like that.

00:36:41.496 --> 00:36:43.266 A:middle
You can also do something like

00:36:43.266 --> 00:36:45.446 A:middle
of fun with the line dash mode

00:36:45.446 --> 00:36:46.556 A:middle
property and specifically

00:36:46.646 --> 00:36:48.356 A:middle
animating the lineDashPhase.

00:36:48.356 --> 00:36:50.696 A:middle
If you have layer who-- that's

00:36:50.696 --> 00:36:51.746 A:middle
set to draw its stroke with a

00:36:51.746 --> 00:36:54.016 A:middle
dash pattern, then you can just

00:36:54.386 --> 00:36:55.986 A:middle
animate the lineDashPhase from,

00:36:55.986 --> 00:36:57.606 A:middle
you know, some pixel value to

00:36:57.606 --> 00:36:58.856 A:middle
some other pixel value and it

00:36:58.856 --> 00:37:00.096 A:middle
will shift along the edges of

00:37:00.096 --> 00:37:01.466 A:middle
the shape so you can get this

00:37:01.466 --> 00:37:03.246 A:middle
kind of cool marching antsy sort

00:37:03.246 --> 00:37:03.596 A:middle
of effect.

00:37:04.106 --> 00:37:06.186 A:middle
So, that's shape layers.

00:37:06.296 --> 00:37:08.036 A:middle
Let's talk about gradient

00:37:08.036 --> 00:37:08.386 A:middle
layers.

00:37:09.406 --> 00:37:10.286 A:middle
Again, you might have used these

00:37:10.286 --> 00:37:11.946 A:middle
before, but I would guess you

00:37:11.946 --> 00:37:13.336 A:middle
might not have tried animating

00:37:13.336 --> 00:37:13.566 A:middle
one.

00:37:14.096 --> 00:37:15.116 A:middle
And, again, all these properties

00:37:15.116 --> 00:37:16.176 A:middle
are animatable, so you can just

00:37:16.176 --> 00:37:17.216 A:middle
kind of mess with them and see

00:37:17.216 --> 00:37:18.326 A:middle
what you get.

00:37:18.646 --> 00:37:20.616 A:middle
You might for instance have a

00:37:20.616 --> 00:37:22.146 A:middle
layer that's a gradient layer

00:37:22.146 --> 00:37:23.246 A:middle
that's masked with this star

00:37:23.246 --> 00:37:23.516 A:middle
shape.

00:37:23.866 --> 00:37:24.846 A:middle
And if you animate the start

00:37:24.846 --> 00:37:25.946 A:middle
point and end point from

00:37:25.946 --> 00:37:26.976 A:middle
somewhere off to one side of the

00:37:26.976 --> 00:37:28.066 A:middle
thing to somewhere off on the

00:37:28.066 --> 00:37:29.566 A:middle
other, you get this kind of

00:37:29.816 --> 00:37:31.686 A:middle
shiny, like, metal effect.

00:37:32.086 --> 00:37:32.756 A:middle
Kind of neat, right?

00:37:33.666 --> 00:37:34.546 A:middle
We've actually used that

00:37:34.546 --> 00:37:37.296 A:middle
elsewhere in the iOS UI for--

00:37:37.296 --> 00:37:38.446 A:middle
well, sorry, the watch UI.

00:37:38.956 --> 00:37:40.046 A:middle
If you've used Apple Pay, the

00:37:40.046 --> 00:37:41.376 A:middle
little kind of card swoopy in

00:37:41.376 --> 00:37:42.426 A:middle
thing, that was a gradient

00:37:42.426 --> 00:37:42.646 A:middle
layer.

00:37:43.366 --> 00:37:46.126 A:middle
So, yeah. The last thing that I

00:37:46.126 --> 00:37:47.666 A:middle
want to talk about is layer

00:37:47.666 --> 00:37:48.176 A:middle
speed.

00:37:49.136 --> 00:37:50.556 A:middle
And this one's a kind of fun

00:37:50.556 --> 00:37:50.746 A:middle
trick.

00:37:50.746 --> 00:37:51.756 A:middle
It can be a little bit hard to

00:37:51.756 --> 00:37:52.766 A:middle
use, but you can get some really

00:37:52.766 --> 00:37:55.846 A:middle
cool effects out of it.

00:37:57.056 --> 00:37:58.696 A:middle
So, there's no kind of idea of a

00:37:58.696 --> 00:38:00.386 A:middle
global time in CA.

00:38:00.386 --> 00:38:02.066 A:middle
There's only kind of relative

00:38:02.066 --> 00:38:03.446 A:middle
times from one-- from one layer

00:38:03.446 --> 00:38:05.516 A:middle
to its sublayers and its

00:38:05.516 --> 00:38:07.716 A:middle
sublayers below that.

00:38:07.716 --> 00:38:09.166 A:middle
And so, a layer can have a

00:38:09.166 --> 00:38:10.646 A:middle
different time scale where like

00:38:10.646 --> 00:38:12.296 A:middle
if one second passes in its

00:38:12.296 --> 00:38:13.696 A:middle
super layer, two seconds pass in

00:38:13.696 --> 00:38:14.176 A:middle
the sublayer.

00:38:15.106 --> 00:38:16.936 A:middle
And-- so, the result of that is

00:38:16.936 --> 00:38:19.086 A:middle
that an animation that is added

00:38:19.086 --> 00:38:20.486 A:middle
to one of these layers, if it's

00:38:20.486 --> 00:38:21.716 A:middle
on a layer with speed of two, it

00:38:21.716 --> 00:38:22.856 A:middle
happens twice as fast.

00:38:22.856 --> 00:38:25.876 A:middle
If it's on a layer speed of 0.5,

00:38:25.876 --> 00:38:28.256 A:middle
it happens half as fast.

00:38:28.346 --> 00:38:30.596 A:middle
And what this lets you do,

00:38:30.596 --> 00:38:31.556 A:middle
obviously, is run your

00:38:31.556 --> 00:38:32.816 A:middle
animations more or less slowly,

00:38:32.816 --> 00:38:33.966 A:middle
but that seems kind of

00:38:33.966 --> 00:38:34.436 A:middle
superfluous.

00:38:34.436 --> 00:38:37.006 A:middle
You could just set them to be

00:38:37.006 --> 00:38:37.866 A:middle
that duration in the first

00:38:37.866 --> 00:38:38.246 A:middle
place, right?

00:38:38.316 --> 00:38:40.826 A:middle
But the cool thing happens when

00:38:40.826 --> 00:38:42.066 A:middle
you set the layer speed to zero.

00:38:42.066 --> 00:38:44.746 A:middle
And what happens there is that

00:38:44.806 --> 00:38:46.216 A:middle
the animations don't move.

00:38:47.166 --> 00:38:48.416 A:middle
The animations pause.

00:38:49.186 --> 00:38:50.156 A:middle
And that, again, might not seem

00:38:50.156 --> 00:38:51.466 A:middle
very useful for a thing called

00:38:51.466 --> 00:38:53.096 A:middle
Core Animation, but the thing is

00:38:53.096 --> 00:38:54.736 A:middle
that it gives you control over

00:38:54.736 --> 00:38:55.966 A:middle
the animation's progress through

00:38:55.966 --> 00:38:57.296 A:middle
time with a property called

00:38:57.296 --> 00:38:57.876 A:middle
timeOffset.

00:38:58.816 --> 00:39:01.556 A:middle
So, what that lets you do is let

00:39:01.556 --> 00:39:03.606 A:middle
the user or any other process in

00:39:03.606 --> 00:39:04.466 A:middle
your app scrub through an

00:39:04.466 --> 00:39:05.616 A:middle
animation interactively.

00:39:05.616 --> 00:39:07.066 A:middle
You can have an arbitrarily

00:39:07.066 --> 00:39:08.646 A:middle
complex animation or series of

00:39:08.646 --> 00:39:11.356 A:middle
subanimations and setting the

00:39:11.356 --> 00:39:12.776 A:middle
timeOffset on one layer will

00:39:12.776 --> 00:39:13.696 A:middle
have all of them progress

00:39:13.696 --> 00:39:15.306 A:middle
through according to the--

00:39:15.306 --> 00:39:17.746 A:middle
according to where one-- the

00:39:17.746 --> 00:39:19.266 A:middle
super layer is in its animation.

00:39:19.856 --> 00:39:22.316 A:middle
So, what that lets you do is an

00:39:22.316 --> 00:39:23.266 A:middle
effect something like this

00:39:24.536 --> 00:39:25.826 A:middle
where, as the user drags up and

00:39:25.826 --> 00:39:27.166 A:middle
down, the layer progressively

00:39:27.166 --> 00:39:29.096 A:middle
reveals itself and these things

00:39:29.096 --> 00:39:31.756 A:middle
kind of animate in and out with

00:39:31.756 --> 00:39:32.346 A:middle
that progress.

00:39:33.526 --> 00:39:35.826 A:middle
And-- so, that's kind of cool,

00:39:35.826 --> 00:39:36.766 A:middle
but, like, I could just be

00:39:36.766 --> 00:39:37.446 A:middle
making this up, right?

00:39:37.446 --> 00:39:38.306 A:middle
This could just be a key frame

00:39:38.306 --> 00:39:38.776 A:middle
animation.

00:39:39.206 --> 00:39:42.386 A:middle
So, let's go on and look at this

00:39:42.386 --> 00:39:43.016 A:middle
as a demo.

00:39:43.796 --> 00:39:48.536 A:middle
OK. So, here we have the simple

00:39:48.726 --> 00:39:49.466 A:middle
test app set up.

00:39:49.656 --> 00:39:52.126 A:middle
It's got a basic view subclass

00:39:52.126 --> 00:39:54.186 A:middle
that sets up all these emoji,

00:39:54.186 --> 00:39:54.786 A:middle
lays them out.

00:39:55.906 --> 00:39:56.806 A:middle
Nothing too fancy here.

00:39:57.246 --> 00:39:59.146 A:middle
The key thing about it is that

00:39:59.146 --> 00:40:01.086 A:middle
it vends a list of its-- of the

00:40:01.086 --> 00:40:02.356 A:middle
emoji layers in it so that we

00:40:02.356 --> 00:40:03.606 A:middle
can grab them and animate them

00:40:03.606 --> 00:40:03.986 A:middle
later on.

00:40:04.726 --> 00:40:06.206 A:middle
So, if you look at our view

00:40:06.206 --> 00:40:07.766 A:middle
controller code, there's, again,

00:40:07.766 --> 00:40:08.696 A:middle
not too much going on here.

00:40:09.386 --> 00:40:11.066 A:middle
So, let's change that.

00:40:12.656 --> 00:40:15.746 A:middle
We're first going to just build

00:40:15.746 --> 00:40:18.306 A:middle
the set of animations that make

00:40:18.586 --> 00:40:21.746 A:middle
the panel layer kind of show up

00:40:22.266 --> 00:40:27.436 A:middle
and-- one second-- so, we have a

00:40:27.436 --> 00:40:28.626 A:middle
pair of basic animations here.

00:40:29.216 --> 00:40:30.426 A:middle
One affecting the bound's width,

00:40:30.526 --> 00:40:32.106 A:middle
one affecting the height.

00:40:32.106 --> 00:40:32.806 A:middle
You'll notice that I set the

00:40:32.806 --> 00:40:34.966 A:middle
duration of the first animation

00:40:34.966 --> 00:40:36.506 A:middle
to one because that's kind of

00:40:36.506 --> 00:40:38.046 A:middle
the longest animation that-- in

00:40:38.046 --> 00:40:40.356 A:middle
this sequence and it makes it

00:40:40.356 --> 00:40:41.556 A:middle
really easy to do the math for

00:40:41.556 --> 00:40:42.636 A:middle
like how far in the animation

00:40:42.636 --> 00:40:43.966 A:middle
you are, zero seconds to one

00:40:43.966 --> 00:40:45.456 A:middle
second, zero to one, zero

00:40:45.456 --> 00:40:47.396 A:middle
percent to 100 percent.

00:40:48.256 --> 00:40:49.956 A:middle
So, add these two things to the

00:40:49.956 --> 00:40:53.196 A:middle
layer and when we run this we

00:40:53.976 --> 00:40:58.006 A:middle
see the animation.

00:40:58.326 --> 00:40:59.306 A:middle
And we see it once.

00:40:59.306 --> 00:41:00.176 A:middle
Nothing much happens, right?

00:41:00.436 --> 00:41:01.796 A:middle
And we also notice that the

00:41:01.796 --> 00:41:03.276 A:middle
emoji aren't animating in, which

00:41:03.276 --> 00:41:05.486 A:middle
is no fun at all.

00:41:06.036 --> 00:41:08.966 A:middle
So, change this up a little bit

00:41:08.966 --> 00:41:09.186 A:middle
more.

00:41:15.976 --> 00:41:19.816 A:middle
So, this is pretty

00:41:19.816 --> 00:41:20.626 A:middle
straightforward.

00:41:20.626 --> 00:41:21.576 A:middle
Basically what we're doing is

00:41:21.576 --> 00:41:22.436 A:middle
just setting up a series of

00:41:22.436 --> 00:41:23.776 A:middle
animations, one on each layer,

00:41:24.126 --> 00:41:25.576 A:middle
and giving each one a slightly

00:41:25.576 --> 00:41:26.516 A:middle
later begin time.

00:41:27.136 --> 00:41:29.006 A:middle
And you'll notice that I can't

00:41:29.006 --> 00:41:30.536 A:middle
just set a begin time of, you

00:41:30.536 --> 00:41:32.216 A:middle
know, some number in the future.

00:41:32.216 --> 00:41:33.576 A:middle
I have to actually figure out

00:41:33.576 --> 00:41:34.446 A:middle
the starting time.

00:41:34.556 --> 00:41:36.306 A:middle
The time that the parent layer

00:41:36.306 --> 00:41:38.426 A:middle
thinks that it is to add to

00:41:38.426 --> 00:41:38.726 A:middle
that.

00:41:38.836 --> 00:41:40.106 A:middle
If I just set it to, you know,

00:41:40.106 --> 00:41:42.236 A:middle
zero plus this number, then the

00:41:42.236 --> 00:41:43.736 A:middle
animation started it somewhere

00:41:43.736 --> 00:41:44.686 A:middle
in the past and so everything

00:41:44.686 --> 00:41:45.856 A:middle
will already appear to be done.

00:41:47.636 --> 00:41:51.666 A:middle
So, if we run this again, we now

00:41:51.666 --> 00:41:53.906 A:middle
see that the view animates in,

00:41:53.906 --> 00:41:55.886 A:middle
all the emoji are moving, but

00:41:55.886 --> 00:41:57.566 A:middle
again this is still not

00:41:57.566 --> 00:41:58.066 A:middle
interactive.

00:41:58.696 --> 00:42:00.626 A:middle
Let's fix that.

00:42:02.206 --> 00:42:06.086 A:middle
So, going to set up a variable

00:42:06.086 --> 00:42:08.116 A:middle
here to keep track of how much

00:42:08.246 --> 00:42:09.826 A:middle
the container panel thing is

00:42:09.826 --> 00:42:11.976 A:middle
expanded and then we're going to

00:42:11.976 --> 00:42:13.406 A:middle
set up a simple gesture

00:42:13.406 --> 00:42:16.316 A:middle
recognizer on the view to

00:42:16.896 --> 00:42:18.446 A:middle
control it.

00:42:19.826 --> 00:42:25.566 A:middle
So, what's happening here is

00:42:25.566 --> 00:42:27.536 A:middle
when this pen gesture recognizer

00:42:27.536 --> 00:42:29.246 A:middle
moves in the view, we get the

00:42:29.246 --> 00:42:30.246 A:middle
distance that it's moved since

00:42:30.246 --> 00:42:31.196 A:middle
the last time something

00:42:31.196 --> 00:42:31.656 A:middle
happened.

00:42:32.786 --> 00:42:34.566 A:middle
We scale that from, you know,

00:42:34.566 --> 00:42:36.676 A:middle
some pixel point on the screen

00:42:36.936 --> 00:42:39.386 A:middle
to just a zero to one value and

00:42:39.866 --> 00:42:40.956 A:middle
then we set that value on the

00:42:40.956 --> 00:42:42.316 A:middle
current container expansion.

00:42:42.916 --> 00:42:43.946 A:middle
And, finally, so that we don't

00:42:43.946 --> 00:42:45.416 A:middle
have to keep track of where the

00:42:45.416 --> 00:42:47.176 A:middle
recognizer started, we just set

00:42:47.176 --> 00:42:48.476 A:middle
its translation back to zero.

00:42:48.756 --> 00:42:49.976 A:middle
So, the next time it calls in,

00:42:49.976 --> 00:42:50.966 A:middle
it'll say this is how I-- this

00:42:51.146 --> 00:42:52.436 A:middle
is how far I've moved since you

00:42:52.436 --> 00:42:54.416 A:middle
last set me to zero.

00:42:56.756 --> 00:43:00.956 A:middle
So, that's pretty close to it.

00:43:01.006 --> 00:43:03.476 A:middle
You pretty much from here just

00:43:03.476 --> 00:43:04.876 A:middle
set the container-- the kind of

00:43:04.956 --> 00:43:08.016 A:middle
key final piece-- setting the

00:43:08.146 --> 00:43:09.606 A:middle
container layer speed to zero.

00:43:11.806 --> 00:43:18.246 A:middle
And-- wait for it-- and there

00:43:18.326 --> 00:43:19.506 A:middle
you have it.

00:43:19.506 --> 00:43:21.256 A:middle
I start dragging, it appears.

00:43:21.906 --> 00:43:23.136 A:middle
I drag up; it disappears.

00:43:23.866 --> 00:43:25.506 A:middle
Down, up, down.

00:43:26.226 --> 00:43:26.976 A:middle
Pretty simple, right?

00:43:27.516 --> 00:43:34.296 A:middle
[ Applause ]

00:43:34.796 --> 00:43:36.816 A:middle
So, those were some quick tips

00:43:36.816 --> 00:43:39.076 A:middle
and tricks that you can use with

00:43:39.076 --> 00:43:39.146 A:middle
CA.

00:43:39.446 --> 00:43:40.186 A:middle
Some things you can use in your

00:43:40.186 --> 00:43:41.256 A:middle
applications to make them kind

00:43:41.256 --> 00:43:43.876 A:middle
of more engaging, more visually

00:43:43.876 --> 00:43:45.866 A:middle
rich as one might say.

00:43:46.276 --> 00:43:49.636 A:middle
So, to kind of sum all this up,

00:43:50.286 --> 00:43:53.506 A:middle
first off, broaden your tool

00:43:53.506 --> 00:43:53.766 A:middle
set.

00:43:53.766 --> 00:43:55.166 A:middle
Look through the APIs and kind

00:43:55.166 --> 00:43:56.746 A:middle
of get an idea of where things

00:43:56.746 --> 00:43:57.756 A:middle
are, what you might be able to

00:43:57.756 --> 00:43:58.826 A:middle
use to solve different types of

00:43:58.826 --> 00:43:59.286 A:middle
problems.

00:43:59.286 --> 00:44:00.706 A:middle
If you need 3D, you now know,

00:44:00.706 --> 00:44:01.796 A:middle
oh, I can use SceneKit for that.

00:44:02.276 --> 00:44:03.526 A:middle
You need to filter a bunch of

00:44:03.526 --> 00:44:04.996 A:middle
images, Core Image.

00:44:06.386 --> 00:44:08.626 A:middle
Know the best practices.

00:44:08.776 --> 00:44:10.106 A:middle
It's not essential, but it will

00:44:10.106 --> 00:44:11.306 A:middle
save you so much time and so

00:44:11.306 --> 00:44:13.196 A:middle
much headache and like when

00:44:13.196 --> 00:44:14.266 A:middle
somebody else on your team comes

00:44:14.266 --> 00:44:15.466 A:middle
and says what is this ridiculous

00:44:15.466 --> 00:44:16.676 A:middle
animation thing doing, you'll be

00:44:16.676 --> 00:44:17.376 A:middle
like I know that.

00:44:18.216 --> 00:44:19.486 A:middle
So, pretty useful.

00:44:20.636 --> 00:44:23.226 A:middle
And, finally, experiment with

00:44:23.226 --> 00:44:23.606 A:middle
the API.

00:44:23.606 --> 00:44:24.986 A:middle
I mentioned that like every CA

00:44:25.026 --> 00:44:26.506 A:middle
layer property more or less is

00:44:26.506 --> 00:44:28.356 A:middle
animatable and we only covered

00:44:28.426 --> 00:44:29.166 A:middle
like five of them.

00:44:29.456 --> 00:44:30.286 A:middle
There is so much in there.

00:44:30.286 --> 00:44:31.406 A:middle
There are so many cool effects

00:44:31.406 --> 00:44:33.016 A:middle
you can make if you just kind of

00:44:33.056 --> 00:44:34.406 A:middle
combine things and play with

00:44:34.406 --> 00:44:35.596 A:middle
them and just see what happens

00:44:35.966 --> 00:44:36.866 A:middle
when you put things together.

00:44:37.706 --> 00:44:39.556 A:middle
We have some great sample code

00:44:39.556 --> 00:44:40.566 A:middle
for all of these things that

00:44:40.566 --> 00:44:42.096 A:middle
goes into a lot more detail than

00:44:42.096 --> 00:44:43.016 A:middle
we've been able to here.

00:44:44.136 --> 00:44:47.216 A:middle
So, first off, grab the sample

00:44:47.216 --> 00:44:48.076 A:middle
code from this session.

00:44:48.646 --> 00:44:49.336 A:middle
Take a look at it.

00:44:49.336 --> 00:44:51.496 A:middle
Unfortunately, the-- that demo

00:44:51.496 --> 00:44:52.846 A:middle
is not up there yet, but we will

00:44:52.846 --> 00:44:53.776 A:middle
get it up as soon as possible.

00:44:54.836 --> 00:44:56.146 A:middle
There's a bunch of sessions that

00:44:56.146 --> 00:44:57.916 A:middle
you have unfortunately already

00:44:58.686 --> 00:45:00.386 A:middle
missed, but I highly recommend

00:45:00.386 --> 00:45:01.316 A:middle
going back to look at the videos

00:45:01.316 --> 00:45:01.576 A:middle
for them.

00:45:01.576 --> 00:45:02.526 A:middle
There's some really cool stuff

00:45:02.526 --> 00:45:04.726 A:middle
this year, particularly in UIKit

00:45:04.726 --> 00:45:05.266 A:middle
and SceneKit.

00:45:06.576 --> 00:45:08.096 A:middle
And there is a SpriteKit one

00:45:08.096 --> 00:45:09.236 A:middle
tomorrow if you feel like being

00:45:09.236 --> 00:45:09.646 A:middle
up that early.

00:45:10.216 --> 00:45:10.846 A:middle
I'm not sure I will be.

00:45:11.466 --> 00:45:14.586 A:middle
And that's about it.

00:45:14.586 --> 00:45:15.616 A:middle
I hope to see you all at the

00:45:15.616 --> 00:45:15.846 A:middle
bash.

00:45:15.846 --> 00:45:16.266 A:middle
Thank you.

00:45:17.516 --> 00:45:21.500 A:middle
[ Applause ]