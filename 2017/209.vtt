WEBVTT

00:00:20.316 --> 00:00:21.676 A:middle
&gt;&gt; Good morning.

00:00:22.516 --> 00:00:25.166 A:middle
[ Applause ]

00:00:25.666 --> 00:00:27.306 A:middle
Welcome to What's New In tvOS?

00:00:27.886 --> 00:00:29.356 A:middle
I'm Hans, and I'm an engineer on

00:00:29.356 --> 00:00:30.156 A:middle
the tvOS Team.

00:00:30.796 --> 00:00:32.316 A:middle
This morning, with my colleague

00:00:32.316 --> 00:00:33.766 A:middle
Marshall, I'd like to talk to

00:00:33.766 --> 00:00:34.436 A:middle
you about some of the

00:00:34.436 --> 00:00:35.986 A:middle
enhancements and new APIs in

00:00:35.986 --> 00:00:36.316 A:middle
tvOS.

00:00:36.316 --> 00:00:38.476 A:middle
We're going to do this in two

00:00:38.476 --> 00:00:41.786 A:middle
parts, beginning with updates on

00:00:41.786 --> 00:00:42.986 A:middle
the overall SDK.

00:00:42.986 --> 00:00:44.666 A:middle
We're going to take a look at

00:00:44.666 --> 00:00:46.306 A:middle
system-wide improvements, and

00:00:46.306 --> 00:00:47.746 A:middle
then narrow down to individual

00:00:47.746 --> 00:00:48.176 A:middle
widgets.

00:00:48.896 --> 00:00:50.656 A:middle
Then, Marshall will talk to you

00:00:50.656 --> 00:00:52.256 A:middle
about some of the new APIs

00:00:52.256 --> 00:00:53.486 A:middle
around view controllers.

00:00:54.526 --> 00:00:55.386 A:middle
We have a lot of ground to

00:00:55.386 --> 00:00:56.696 A:middle
cover, so let's get started.

00:00:58.076 --> 00:01:00.256 A:middle
First, is ODR or On Demand

00:01:00.256 --> 00:01:00.876 A:middle
Resources.

00:01:01.076 --> 00:01:03.406 A:middle
For those of you, new to ODR, it

00:01:03.406 --> 00:01:04.666 A:middle
allows your app to keep its

00:01:04.666 --> 00:01:05.966 A:middle
resources in the App Store,

00:01:05.966 --> 00:01:07.166 A:middle
instead of including in the App

00:01:07.166 --> 00:01:07.496 A:middle
Bundle.

00:01:08.266 --> 00:01:09.686 A:middle
And then, your app can download

00:01:09.686 --> 00:01:10.776 A:middle
them as they become needed.

00:01:11.746 --> 00:01:13.506 A:middle
This helps your app to download

00:01:13.506 --> 00:01:16.336 A:middle
fast, launch quickly, while

00:01:16.336 --> 00:01:17.306 A:middle
still providing very

00:01:17.306 --> 00:01:18.346 A:middle
high-quality content to the

00:01:18.346 --> 00:01:18.866 A:middle
users.

00:01:19.276 --> 00:01:20.876 A:middle
And all of this, without taking

00:01:20.876 --> 00:01:22.356 A:middle
up a lot of local storage on the

00:01:22.356 --> 00:01:24.676 A:middle
customer's device at any given

00:01:25.996 --> 00:01:26.106 A:middle
time.

00:01:26.456 --> 00:01:28.186 A:middle
Last year, there was an upper

00:01:28.186 --> 00:01:30.986 A:middle
bound to your app bundle at 200

00:01:30.986 --> 00:01:31.556 A:middle
megabytes.

00:01:32.486 --> 00:01:33.766 A:middle
This helped your app to be very

00:01:33.766 --> 00:01:35.396 A:middle
lean, and ultimately, your

00:01:35.396 --> 00:01:36.726 A:middle
customers were able to start

00:01:36.726 --> 00:01:38.116 A:middle
using your app that much sooner.

00:01:39.456 --> 00:01:40.666 A:middle
But since then, we have received

00:01:40.666 --> 00:01:42.776 A:middle
many requests that this limit be

00:01:42.776 --> 00:01:43.276 A:middle
increased.

00:01:43.976 --> 00:01:46.396 A:middle
So, in tvOS 10.2, we increased

00:01:46.396 --> 00:01:48.576 A:middle
this to over 20 times at 4

00:01:48.576 --> 00:01:49.146 A:middle
gigabytes.

00:01:49.806 --> 00:01:52.256 A:middle
So, if you have an existing

00:01:52.256 --> 00:01:53.446 A:middle
project that conformed to the

00:01:53.446 --> 00:01:55.666 A:middle
old limit, and you have some

00:01:55.666 --> 00:01:56.816 A:middle
resources that you wish you

00:01:56.816 --> 00:01:57.986 A:middle
could have included in the app

00:01:57.986 --> 00:01:59.516 A:middle
bundle, the new limit will

00:01:59.516 --> 00:02:00.526 A:middle
enable you to do that.

00:02:01.656 --> 00:02:03.946 A:middle
First, go to the Asset Catalog,

00:02:05.226 --> 00:02:06.316 A:middle
and select the resource that you

00:02:06.316 --> 00:02:07.556 A:middle
want to move back into the app

00:02:07.556 --> 00:02:07.866 A:middle
bundle.

00:02:08.866 --> 00:02:10.406 A:middle
And at the bottom of attributes

00:02:10.406 --> 00:02:12.146 A:middle
inspector, simply delete the

00:02:12.146 --> 00:02:12.636 A:middle
tags.

00:02:13.676 --> 00:02:15.216 A:middle
Now, this resource is bundled,

00:02:15.846 --> 00:02:17.266 A:middle
so at runtime, you can directly

00:02:17.266 --> 00:02:18.896 A:middle
access it without first having

00:02:18.896 --> 00:02:20.086 A:middle
to make the bundle resource

00:02:20.086 --> 00:02:21.346 A:middle
request for it.

00:02:22.216 --> 00:02:24.036 A:middle
And of course, this increase

00:02:24.036 --> 00:02:25.546 A:middle
does not come at the cost of

00:02:25.996 --> 00:02:27.336 A:middle
counting towards the rest of

00:02:27.336 --> 00:02:29.576 A:middle
your asset pack allowance, which

00:02:29.926 --> 00:02:30.966 A:middle
remains the same at 20

00:02:30.966 --> 00:02:31.596 A:middle
gigabytes.

00:02:31.756 --> 00:02:33.546 A:middle
So, now, the combined size of

00:02:33.546 --> 00:02:35.456 A:middle
your app bundle and content can

00:02:35.456 --> 00:02:36.936 A:middle
be up to 24 gigabytes.

00:02:36.936 --> 00:02:39.226 A:middle
And this is a lot of content.

00:02:39.886 --> 00:02:41.276 A:middle
And we believe it will help you

00:02:41.586 --> 00:02:43.106 A:middle
make your app's user experience

00:02:43.106 --> 00:02:44.176 A:middle
even richer than before.

00:02:45.246 --> 00:02:47.396 A:middle
So, that's ODR in tvOS.

00:02:48.986 --> 00:02:50.956 A:middle
Next, we're thrilled to report

00:02:50.956 --> 00:02:53.726 A:middle
that beginning tvOS 11, RTL or

00:02:53.726 --> 00:02:54.766 A:middle
right to left languages, are

00:02:54.766 --> 00:02:55.566 A:middle
fully supported.

00:02:57.086 --> 00:02:58.886 A:middle
So, if your app looked like this

00:02:58.886 --> 00:03:00.966 A:middle
in English, it will look like

00:03:00.966 --> 00:03:04.036 A:middle
this in Arabic, and like this in

00:03:04.036 --> 00:03:04.416 A:middle
Hebrew.

00:03:05.056 --> 00:03:07.016 A:middle
In other words, your text will

00:03:07.016 --> 00:03:09.946 A:middle
flow right to left, and most of

00:03:09.946 --> 00:03:11.726 A:middle
your user interface will appear

00:03:11.726 --> 00:03:12.686 A:middle
automatically mirrored.

00:03:13.596 --> 00:03:15.626 A:middle
And if you're used to supporting

00:03:15.626 --> 00:03:18.016 A:middle
RTL in iOS or macOS, you'll be

00:03:18.016 --> 00:03:19.516 A:middle
pleased to know that everything

00:03:19.516 --> 00:03:21.256 A:middle
works the exact same way on tvOS

00:03:21.256 --> 00:03:21.786 A:middle
as well.

00:03:22.386 --> 00:03:24.426 A:middle
But if you're not, we have a few

00:03:24.426 --> 00:03:25.196 A:middle
recommendations.

00:03:26.356 --> 00:03:28.246 A:middle
First, is to use based

00:03:28.246 --> 00:03:29.196 A:middle
internationalization.

00:03:30.416 --> 00:03:31.956 A:middle
Base internationalization

00:03:32.296 --> 00:03:33.636 A:middle
separates string localization

00:03:33.636 --> 00:03:35.366 A:middle
from UI layout, so while you're

00:03:35.366 --> 00:03:36.376 A:middle
working on the UI, your

00:03:36.796 --> 00:03:38.416 A:middle
localization expert can continue

00:03:38.416 --> 00:03:39.906 A:middle
to translate the strings without

00:03:39.906 --> 00:03:41.676 A:middle
worrying about interfering with

00:03:41.676 --> 00:03:42.116 A:middle
the layout.

00:03:42.116 --> 00:03:45.006 A:middle
And all new projects are created

00:03:45.266 --> 00:03:47.256 A:middle
with base internationalization

00:03:47.256 --> 00:03:48.256 A:middle
turned on by default.

00:03:48.676 --> 00:03:49.736 A:middle
So, if you're starting anew,

00:03:50.146 --> 00:03:51.086 A:middle
you're already there.

00:03:51.406 --> 00:03:53.506 A:middle
But if you have an existing

00:03:53.506 --> 00:03:54.606 A:middle
project that has yet to take

00:03:54.606 --> 00:03:56.246 A:middle
advantage of this, you can go to

00:03:56.246 --> 00:03:57.916 A:middle
the Project Info, and check the

00:03:57.916 --> 00:03:59.286 A:middle
Use Base Internationalization

00:03:59.286 --> 00:04:02.086 A:middle
checkbox to start using it.

00:04:03.016 --> 00:04:04.926 A:middle
Next, is to use Auto Layout.

00:04:05.536 --> 00:04:07.136 A:middle
In particular, leading and

00:04:07.136 --> 00:04:09.616 A:middle
trailing attributes instead of

00:04:09.616 --> 00:04:11.046 A:middle
left or right when creating the

00:04:11.046 --> 00:04:11.526 A:middle
constraint.

00:04:11.866 --> 00:04:13.926 A:middle
This is so that when the system

00:04:13.926 --> 00:04:16.046 A:middle
lays out the UI, it can infer

00:04:16.046 --> 00:04:17.506 A:middle
the appropriate left or right

00:04:17.506 --> 00:04:18.866 A:middle
directions based on the current

00:04:18.866 --> 00:04:19.676 A:middle
language direction.

00:04:20.206 --> 00:04:24.166 A:middle
And finally, constantly test

00:04:24.166 --> 00:04:25.406 A:middle
your layout during development.

00:04:26.296 --> 00:04:27.346 A:middle
And to help you with this,

00:04:27.696 --> 00:04:28.786 A:middle
there's an option in Scheme

00:04:28.786 --> 00:04:29.986 A:middle
Settings where you can

00:04:29.986 --> 00:04:31.416 A:middle
temporarily set the application

00:04:31.416 --> 00:04:31.886 A:middle
language.

00:04:33.236 --> 00:04:34.326 A:middle
So, you can set it to Arabic,

00:04:35.226 --> 00:04:37.666 A:middle
Hebrew, or even right to left

00:04:37.666 --> 00:04:39.036 A:middle
pseudo language, which simply

00:04:39.036 --> 00:04:40.216 A:middle
flips the direction without

00:04:40.216 --> 00:04:41.376 A:middle
changing the actual language.

00:04:42.766 --> 00:04:44.666 A:middle
Now, RTL support is new in tvOS

00:04:44.666 --> 00:04:46.636 A:middle
this year, but it has been

00:04:46.636 --> 00:04:48.826 A:middle
around for iOS and macOS for a

00:04:48.826 --> 00:04:49.546 A:middle
number of years.

00:04:50.376 --> 00:04:51.616 A:middle
And previous years' sessions

00:04:51.616 --> 00:04:52.866 A:middle
have great guidelines and best

00:04:52.866 --> 00:04:54.466 A:middle
practices that now apply to

00:04:54.466 --> 00:04:54.776 A:middle
tvOS.

00:04:55.336 --> 00:04:56.416 A:middle
So, we highly recommend that you

00:04:56.416 --> 00:04:56.966 A:middle
check them out.

00:04:57.416 --> 00:05:00.536 A:middle
And of course, RTL support is

00:05:00.536 --> 00:05:01.766 A:middle
built into TVML.

00:05:01.766 --> 00:05:03.036 A:middle
So, if you're using TVML

00:05:03.036 --> 00:05:04.386 A:middle
templates in your app, you'll

00:05:04.386 --> 00:05:05.516 A:middle
get all the right behaviors for

00:05:05.516 --> 00:05:05.766 A:middle
free.

00:05:06.316 --> 00:05:11.376 A:middle
So, that's RTL support in tvOS.

00:05:11.466 --> 00:05:13.106 A:middle
Next, is Safe Area.

00:05:14.636 --> 00:05:17.076 A:middle
Many TVs use Overscan in some

00:05:17.076 --> 00:05:18.566 A:middle
shape or form, creating a

00:05:18.566 --> 00:05:20.256 A:middle
situation where not all the

00:05:20.256 --> 00:05:21.316 A:middle
pixels are displayed to the

00:05:21.316 --> 00:05:21.726 A:middle
user.

00:05:22.926 --> 00:05:24.316 A:middle
So, in the past, we have

00:05:24.316 --> 00:05:25.606 A:middle
recommended that you manually

00:05:25.606 --> 00:05:28.926 A:middle
compensate for this by insetting

00:05:29.046 --> 00:05:30.166 A:middle
your view's content.

00:05:31.276 --> 00:05:33.386 A:middle
And the API to assist you was

00:05:33.786 --> 00:05:34.436 A:middle
UIScrollView.

00:05:34.536 --> 00:05:36.176 A:middle
overscanCompensationInsets.

00:05:36.856 --> 00:05:37.866 A:middle
This provided you with the

00:05:37.866 --> 00:05:39.836 A:middle
values that you can then plug

00:05:39.836 --> 00:05:40.756 A:middle
into your view or view

00:05:40.756 --> 00:05:42.846 A:middle
controller's configuration code.

00:05:44.496 --> 00:05:46.946 A:middle
TVOS 11 introduces a more,

00:05:46.946 --> 00:05:49.786 A:middle
robust framework for you to make

00:05:49.786 --> 00:05:51.336 A:middle
sure your content is within the

00:05:51.336 --> 00:05:53.126 A:middle
Safe Area, with much less work.

00:05:54.116 --> 00:05:56.086 A:middle
So, for example, some properties

00:05:56.086 --> 00:05:57.356 A:middle
are automatically updated for

00:05:57.356 --> 00:05:57.516 A:middle
you.

00:05:58.006 --> 00:06:00.976 A:middle
Your view's safeAreaInsets is

00:06:00.976 --> 00:06:02.936 A:middle
updated as it moves in and out

00:06:02.936 --> 00:06:03.776 A:middle
of the view hierarchy.

00:06:04.886 --> 00:06:09.126 A:middle
And your view's safeLayoutGuide

00:06:09.736 --> 00:06:11.316 A:middle
is also updated as the Safe Area

00:06:11.316 --> 00:06:12.116 A:middle
Inset changes.

00:06:13.396 --> 00:06:15.306 A:middle
But you can also customize your

00:06:15.306 --> 00:06:18.236 A:middle
own things, by using UIView

00:06:18.236 --> 00:06:18.816 A:middle
Controller's

00:06:18.816 --> 00:06:20.376 A:middle
additionalSafeAreaInsets.

00:06:21.106 --> 00:06:22.866 A:middle
And the values you specify here,

00:06:23.006 --> 00:06:24.816 A:middle
will be added when calculating

00:06:24.816 --> 00:06:26.256 A:middle
the Safe Area Insets of the View

00:06:26.256 --> 00:06:27.016 A:middle
Controller's view.

00:06:28.956 --> 00:06:31.076 A:middle
Now when you link your app

00:06:31.076 --> 00:06:33.116 A:middle
against tvOS 11, your app will

00:06:33.116 --> 00:06:34.486 A:middle
be subject to the new behavior.

00:06:34.576 --> 00:06:36.556 A:middle
And we highly recommend that you

00:06:36.556 --> 00:06:39.216 A:middle
take opportunity to audit your

00:06:39.216 --> 00:06:41.106 A:middle
app, and adjust the layout in

00:06:41.106 --> 00:06:42.326 A:middle
the context of these new APIs.

00:06:42.326 --> 00:06:45.246 A:middle
There was a session yesterday,

00:06:45.736 --> 00:06:47.596 A:middle
Updating Your App for iOS 11,

00:06:47.936 --> 00:06:49.376 A:middle
that goes into this very topic

00:06:49.376 --> 00:06:49.706 A:middle
in depth.

00:06:49.706 --> 00:06:52.286 A:middle
So, we recommend you check it

00:06:53.966 --> 00:06:54.046 A:middle
out.

00:06:54.286 --> 00:06:56.416 A:middle
But if you have a view or view

00:06:56.416 --> 00:06:57.446 A:middle
controller that manually

00:06:57.446 --> 00:06:59.106 A:middle
compensates for Overscan, and it

00:06:59.106 --> 00:07:01.366 A:middle
does so in a rather delicate

00:07:01.366 --> 00:07:02.666 A:middle
way, and you're hesitant to

00:07:02.666 --> 00:07:05.256 A:middle
touch it just yet, you can opt

00:07:05.256 --> 00:07:06.646 A:middle
out of the new behavior on the

00:07:06.646 --> 00:07:08.256 A:middle
view or view controller basis.

00:07:09.556 --> 00:07:13.036 A:middle
And to do this, there are Insets

00:07:13.036 --> 00:07:14.536 A:middle
Layout Margins from Safe Area

00:07:14.536 --> 00:07:18.356 A:middle
for your view, and view respects

00:07:18.356 --> 00:07:19.816 A:middle
system minimum layout margins

00:07:19.816 --> 00:07:20.726 A:middle
for your view controller.

00:07:21.326 --> 00:07:24.336 A:middle
And our own experience suggests

00:07:24.336 --> 00:07:25.816 A:middle
that oftentimes, it's your

00:07:25.816 --> 00:07:27.846 A:middle
scroll view that requires some

00:07:27.846 --> 00:07:28.476 A:middle
of your attention.

00:07:29.256 --> 00:07:31.696 A:middle
So, for scroll views, there is

00:07:32.146 --> 00:07:33.306 A:middle
Content Inset Adjustment

00:07:33.306 --> 00:07:33.786 A:middle
Behavior.

00:07:34.966 --> 00:07:36.596 A:middle
And by setting this to Never,

00:07:36.596 --> 00:07:38.096 A:middle
you're effectively opting out

00:07:38.096 --> 00:07:39.146 A:middle
your scroll view to the new

00:07:39.146 --> 00:07:39.586 A:middle
behavior.

00:07:40.206 --> 00:07:42.246 A:middle
So, that's Safe Area.

00:07:44.296 --> 00:07:47.236 A:middle
Next, is updating your app's

00:07:47.266 --> 00:07:49.846 A:middle
data in the background.

00:07:49.846 --> 00:07:51.526 A:middle
Last year, we brought user

00:07:51.526 --> 00:07:52.896 A:middle
notification framework to the

00:07:52.896 --> 00:07:55.716 A:middle
tvOS, so you can send remote or

00:07:55.716 --> 00:07:57.026 A:middle
push notifications to your app.

00:07:57.026 --> 00:07:58.946 A:middle
But there was one notable

00:07:58.946 --> 00:07:59.476 A:middle
aspect.

00:08:00.456 --> 00:08:01.436 A:middle
When the system received

00:08:01.436 --> 00:08:02.676 A:middle
multiple notifications while

00:08:02.676 --> 00:08:04.896 A:middle
your app is not running, it only

00:08:04.896 --> 00:08:06.606 A:middle
delivered the very last one and

00:08:06.606 --> 00:08:08.736 A:middle
that, when the app is explicitly

00:08:08.736 --> 00:08:09.656 A:middle
launched by the user.

00:08:10.876 --> 00:08:11.936 A:middle
And this is improving.

00:08:12.866 --> 00:08:15.776 A:middle
In tvOS 11, when a notification

00:08:15.776 --> 00:08:17.766 A:middle
is received by the system, the

00:08:17.766 --> 00:08:19.436 A:middle
system wakes your app in the

00:08:19.436 --> 00:08:21.496 A:middle
background, and delivers it.

00:08:22.566 --> 00:08:23.786 A:middle
And this provides an effective

00:08:23.786 --> 00:08:25.776 A:middle
means for what's called a silent

00:08:25.776 --> 00:08:26.426 A:middle
notification.

00:08:27.026 --> 00:08:30.046 A:middle
A silent notification is a

00:08:30.046 --> 00:08:32.336 A:middle
notification that wakes up your

00:08:32.336 --> 00:08:33.956 A:middle
app in the background, so it can

00:08:33.956 --> 00:08:35.306 A:middle
do some work transparently for

00:08:35.306 --> 00:08:35.776 A:middle
the user.

00:08:36.246 --> 00:08:37.376 A:middle
That's where the word "silent"

00:08:37.376 --> 00:08:37.816 A:middle
comes from.

00:08:39.266 --> 00:08:40.246 A:middle
And by using silent

00:08:40.246 --> 00:08:42.596 A:middle
notification, you can

00:08:42.596 --> 00:08:43.866 A:middle
periodically download new

00:08:43.866 --> 00:08:46.006 A:middle
content, refresh your app's

00:08:46.006 --> 00:08:48.086 A:middle
data, or even set up to alert

00:08:48.086 --> 00:08:49.336 A:middle
the user in the app, when the

00:08:49.336 --> 00:08:50.406 A:middle
app enters foreground.

00:08:51.556 --> 00:08:53.266 A:middle
So, to configure your app to

00:08:53.266 --> 00:08:54.636 A:middle
process silent notification,

00:08:55.046 --> 00:08:57.566 A:middle
first, add remote notifications

00:08:57.566 --> 00:08:58.276 A:middle
background mode.

00:08:59.576 --> 00:09:01.276 A:middle
And then, make your app

00:09:01.276 --> 00:09:02.866 A:middle
delegate, the user notification

00:09:02.866 --> 00:09:03.506 A:middle
center delegate.

00:09:05.616 --> 00:09:07.156 A:middle
And register to receive remote

00:09:07.156 --> 00:09:07.856 A:middle
notifications.

00:09:08.376 --> 00:09:10.966 A:middle
And then user notification

00:09:10.966 --> 00:09:11.936 A:middle
center did receive with

00:09:11.936 --> 00:09:14.216 A:middle
completion handler, do the work.

00:09:14.886 --> 00:09:17.496 A:middle
So, that's silent notifications.

00:09:17.816 --> 00:09:20.846 A:middle
The second way of updating your

00:09:20.846 --> 00:09:22.396 A:middle
app's data in the background is

00:09:22.396 --> 00:09:23.776 A:middle
through a mechanism called

00:09:23.896 --> 00:09:24.686 A:middle
Background Fetch.

00:09:26.196 --> 00:09:28.736 A:middle
So, if your app needs to for

00:09:28.736 --> 00:09:30.756 A:middle
example, periodically check for

00:09:30.756 --> 00:09:33.386 A:middle
new content, it can register for

00:09:33.386 --> 00:09:34.146 A:middle
Background Fetch.

00:09:35.016 --> 00:09:36.756 A:middle
Then the system, when it deems

00:09:36.756 --> 00:09:38.316 A:middle
an opportunity arises for you,

00:09:39.556 --> 00:09:40.726 A:middle
wakes it up in the background.

00:09:41.846 --> 00:09:43.486 A:middle
Your app can then initiate a

00:09:43.486 --> 00:09:44.836 A:middle
fetch operation and do the work.

00:09:45.296 --> 00:09:48.136 A:middle
To configure your app to do a

00:09:48.136 --> 00:09:50.716 A:middle
Background Fetch, first add

00:09:50.716 --> 00:09:51.816 A:middle
Background Fetch Background

00:09:51.816 --> 00:09:54.406 A:middle
Mode, and then, in your app

00:09:54.406 --> 00:09:55.856 A:middle
delegate, register for

00:09:55.856 --> 00:09:56.646 A:middle
Background Fetch.

00:09:57.206 --> 00:10:00.426 A:middle
And finally, in your application

00:10:00.426 --> 00:10:01.646 A:middle
perform Fetch with Completion

00:10:01.646 --> 00:10:03.866 A:middle
Handler, implement the work, and

00:10:03.866 --> 00:10:05.096 A:middle
don't forget to call the

00:10:05.096 --> 00:10:06.016 A:middle
Completion Handler with the

00:10:06.016 --> 00:10:06.566 A:middle
fetch result.

00:10:07.816 --> 00:10:09.196 A:middle
So, that's Background Fetch.

00:10:10.136 --> 00:10:12.166 A:middle
And as you can see, tvOS11

00:10:12.166 --> 00:10:13.426 A:middle
provides two new ways of

00:10:13.426 --> 00:10:14.736 A:middle
updating your app's data.

00:10:15.856 --> 00:10:17.866 A:middle
Often, you know exactly when new

00:10:17.866 --> 00:10:19.336 A:middle
data is available for your app,

00:10:19.596 --> 00:10:21.626 A:middle
and that's when you call silent

00:10:21.626 --> 00:10:22.206 A:middle
notification.

00:10:23.596 --> 00:10:25.136 A:middle
On the other hand, it's the

00:10:25.136 --> 00:10:26.846 A:middle
system that knows, "When is the

00:10:26.846 --> 00:10:28.166 A:middle
best time to check for updates

00:10:28.166 --> 00:10:28.686 A:middle
for your app?"

00:10:28.686 --> 00:10:30.896 A:middle
And this is because it not only

00:10:30.896 --> 00:10:32.086 A:middle
looks into its own resource

00:10:32.086 --> 00:10:34.136 A:middle
availability, but also takes

00:10:34.136 --> 00:10:35.936 A:middle
into account user behaviors such

00:10:35.936 --> 00:10:38.086 A:middle
as which apps the user has been

00:10:38.086 --> 00:10:39.116 A:middle
using most frequently.

00:10:40.446 --> 00:10:41.756 A:middle
So, to take advantage of that,

00:10:42.666 --> 00:10:43.976 A:middle
register for Background Fetch.

00:10:45.396 --> 00:10:46.956 A:middle
And we hope you take advantage

00:10:46.956 --> 00:10:48.346 A:middle
of these new ways to make sure

00:10:48.346 --> 00:10:50.296 A:middle
your app is up to date, even

00:10:50.296 --> 00:10:51.616 A:middle
before it enters the foreground.

00:10:52.066 --> 00:10:54.976 A:middle
So, that's Background Update.

00:10:56.516 --> 00:10:59.376 A:middle
[ Applause ]

00:10:59.876 --> 00:11:01.716 A:middle
Next, is scrolling.

00:11:02.956 --> 00:11:04.356 A:middle
When a scroll view has a large

00:11:04.356 --> 00:11:05.966 A:middle
amount of content, it is often

00:11:05.966 --> 00:11:07.446 A:middle
tedious, if not frustrating, to

00:11:07.446 --> 00:11:08.986 A:middle
scroll through them all, to get

00:11:08.986 --> 00:11:10.376 A:middle
to the exact item you want.

00:11:11.326 --> 00:11:14.016 A:middle
So, in tvOS 10.2, we introduced

00:11:14.016 --> 00:11:15.456 A:middle
Accelerated Scrolling to help

00:11:15.456 --> 00:11:16.906 A:middle
users scroll more efficiently.

00:11:17.536 --> 00:11:21.796 A:middle
To enter the accelerated

00:11:21.796 --> 00:11:24.196 A:middle
scrolling mode, all it takes is

00:11:24.196 --> 00:11:25.546 A:middle
a few large swipes in the same

00:11:25.546 --> 00:11:27.846 A:middle
direction on the touch pad.

00:11:31.056 --> 00:11:33.496 A:middle
Additionally, the user can swipe

00:11:33.496 --> 00:11:34.696 A:middle
on the far-right edge of the

00:11:34.696 --> 00:11:36.366 A:middle
touch pad, to browse through the

00:11:36.366 --> 00:11:37.026 A:middle
indices.

00:11:37.586 --> 00:11:40.746 A:middle
And the good news for us

00:11:40.746 --> 00:11:42.126 A:middle
developers, is that we don't

00:11:42.126 --> 00:11:43.386 A:middle
have to do any additional work

00:11:43.386 --> 00:11:44.496 A:middle
to get this new behavior.

00:11:44.946 --> 00:11:47.386 A:middle
In fact, it's built into any

00:11:47.386 --> 00:11:49.376 A:middle
scroll views, including table

00:11:49.376 --> 00:11:51.476 A:middle
views, or even collection views.

00:11:51.936 --> 00:11:55.016 A:middle
And this behavior is always on,

00:11:55.016 --> 00:11:56.346 A:middle
and you can't turn it off.

00:11:57.086 --> 00:11:58.116 A:middle
But there are some things you

00:11:58.116 --> 00:11:59.576 A:middle
can customize to make sure that

00:11:59.576 --> 00:12:01.046 A:middle
your scroll view works well

00:12:01.046 --> 00:12:01.806 A:middle
within your design.

00:12:04.256 --> 00:12:07.066 A:middle
So, by default, the index bar

00:12:07.066 --> 00:12:08.686 A:middle
appears as you enter the

00:12:08.946 --> 00:12:10.236 A:middle
accelerated scrolling mode.

00:12:10.766 --> 00:12:12.196 A:middle
But you can completely hide this

00:12:12.666 --> 00:12:14.296 A:middle
by overriding the Index Display

00:12:14.296 --> 00:12:18.136 A:middle
Mode to Hidden.

00:12:18.136 --> 00:12:19.566 A:middle
Also, the default scroll

00:12:19.566 --> 00:12:21.026 A:middle
indicator style works really

00:12:21.026 --> 00:12:22.496 A:middle
well because it adapts to the

00:12:22.496 --> 00:12:24.606 A:middle
view controllers light or dark

00:12:24.746 --> 00:12:26.036 A:middle
user interface style.

00:12:26.036 --> 00:12:29.776 A:middle
But if your design requires you

00:12:29.776 --> 00:12:31.186 A:middle
to have an explicit style, you

00:12:31.186 --> 00:12:32.696 A:middle
can override this to black or

00:12:32.696 --> 00:12:35.626 A:middle
white, and then do that.

00:12:36.936 --> 00:12:39.356 A:middle
Additionally, you can customize

00:12:39.356 --> 00:12:40.776 A:middle
the index titles for your table

00:12:40.776 --> 00:12:42.266 A:middle
views by using the two data

00:12:42.306 --> 00:12:42.716 A:middle
[inaudible] methods.

00:12:43.436 --> 00:12:45.126 A:middle
First, to get the array of index

00:12:45.126 --> 00:12:48.886 A:middle
titles, and to get the index for

00:12:48.886 --> 00:12:51.436 A:middle
a given index title.

00:12:51.566 --> 00:12:53.086 A:middle
Similarly, for collection view,

00:12:54.296 --> 00:12:55.636 A:middle
you can get the array of index

00:12:55.636 --> 00:12:57.846 A:middle
titles and get the index path

00:12:58.046 --> 00:12:58.996 A:middle
for a given index title.

00:12:59.606 --> 00:13:02.096 A:middle
So, that's updates in Scroll

00:13:02.096 --> 00:13:02.416 A:middle
View.

00:13:02.796 --> 00:13:06.546 A:middle
Next, is a new button type,

00:13:07.026 --> 00:13:08.056 A:middle
UIButtonTypePlain.

00:13:08.846 --> 00:13:10.236 A:middle
But before that, let's take a

00:13:10.236 --> 00:13:11.216 A:middle
look at the system button.

00:13:12.516 --> 00:13:14.536 A:middle
UIButtonTypeSystem provides

00:13:14.786 --> 00:13:16.606 A:middle
interactive focus effect when

00:13:16.606 --> 00:13:18.546 A:middle
the button is in focus, and

00:13:18.686 --> 00:13:19.956 A:middle
background blur when it isn't.

00:13:20.646 --> 00:13:22.836 A:middle
The background blur, provides

00:13:22.996 --> 00:13:24.616 A:middle
the affordance of a button and

00:13:24.616 --> 00:13:26.516 A:middle
also, enhances the legibility of

00:13:26.516 --> 00:13:26.936 A:middle
the title.

00:13:28.456 --> 00:13:29.896 A:middle
It is one of the most widely

00:13:29.896 --> 00:13:31.866 A:middle
used controls in tvOS, which is

00:13:31.866 --> 00:13:33.466 A:middle
perhaps why we have heard from

00:13:33.466 --> 00:13:34.576 A:middle
many of you that you'd like to

00:13:34.576 --> 00:13:35.576 A:middle
customize this a little bit

00:13:35.576 --> 00:13:37.796 A:middle
more, to add a background color,

00:13:37.796 --> 00:13:38.396 A:middle
for example.

00:13:39.466 --> 00:13:41.516 A:middle
So, in tvOS 11, we're making a

00:13:41.516 --> 00:13:42.246 A:middle
new button type,

00:13:42.556 --> 00:13:43.586 A:middle
UIButtonTypePlain.

00:13:44.166 --> 00:13:47.666 A:middle
A plain type button has all of

00:13:47.666 --> 00:13:49.036 A:middle
the interactive focus effect of

00:13:49.036 --> 00:13:51.116 A:middle
a system button, but without the

00:13:51.116 --> 00:13:52.876 A:middle
background blur, which lends

00:13:52.876 --> 00:13:54.466 A:middle
itself to full customization.

00:13:55.026 --> 00:13:57.866 A:middle
And using a plain type button is

00:13:57.866 --> 00:13:58.666 A:middle
straightforward.

00:13:59.196 --> 00:14:02.986 A:middle
First, create the button with

00:14:02.986 --> 00:14:05.266 A:middle
UIButtonTypePlain, and continue

00:14:05.266 --> 00:14:06.486 A:middle
customizing it.

00:14:07.296 --> 00:14:09.466 A:middle
So, that's the plain type

00:14:10.716 --> 00:14:10.906 A:middle
button.

00:14:11.316 --> 00:14:11.876 A:middle
Thank you.

00:14:12.516 --> 00:14:14.546 A:middle
[ Applause ]

00:14:15.046 --> 00:14:16.826 A:middle
The last set of enhancements in

00:14:16.826 --> 00:14:18.796 A:middle
this first part, is around

00:14:19.006 --> 00:14:19.826 A:middle
UIImageView.

00:14:21.656 --> 00:14:24.256 A:middle
On tvOS, interactive focus

00:14:24.256 --> 00:14:25.156 A:middle
effect is an important

00:14:25.156 --> 00:14:25.606 A:middle
technique.

00:14:26.246 --> 00:14:28.206 A:middle
It gives your users a sense that

00:14:28.206 --> 00:14:28.886 A:middle
they're connected with the

00:14:28.886 --> 00:14:30.706 A:middle
screen, and also tells them

00:14:30.706 --> 00:14:32.126 A:middle
exactly where their focus is.

00:14:32.676 --> 00:14:34.766 A:middle
And most often, we use floating,

00:14:34.766 --> 00:14:36.156 A:middle
layered images to maximize the

00:14:36.156 --> 00:14:36.516 A:middle
effect.

00:14:38.216 --> 00:14:39.666 A:middle
Since it was first introduced,

00:14:40.186 --> 00:14:41.696 A:middle
many of you have asked for a way

00:14:41.696 --> 00:14:43.726 A:middle
to customize this further, by

00:14:43.726 --> 00:14:45.426 A:middle
adding your own content at

00:14:45.426 --> 00:14:46.976 A:middle
runtime, so they can participate

00:14:46.976 --> 00:14:47.826 A:middle
in the focus effect.

00:14:49.216 --> 00:14:51.236 A:middle
In tvOS 11, we're introducing an

00:14:51.236 --> 00:14:52.436 A:middle
easy and safe way to do that,

00:14:52.436 --> 00:14:53.586 A:middle
and that's Image Overlay.

00:14:55.216 --> 00:14:57.196 A:middle
Image Overlay uses a new

00:14:57.196 --> 00:14:58.866 A:middle
property, Overlay Content View,

00:14:59.686 --> 00:15:00.956 A:middle
which is similar in concept to

00:15:00.956 --> 00:15:02.706 A:middle
the content view in table view

00:15:02.706 --> 00:15:04.076 A:middle
or collection view cells, in

00:15:04.076 --> 00:15:05.516 A:middle
that that's where you add your

00:15:05.516 --> 00:15:06.576 A:middle
content as sub-views.

00:15:07.136 --> 00:15:10.586 A:middle
By default, overlay content view

00:15:10.586 --> 00:15:12.116 A:middle
clips its child views to the

00:15:12.116 --> 00:15:15.026 A:middle
image views bounds, but you can

00:15:15.026 --> 00:15:16.446 A:middle
override this and draw outside

00:15:16.446 --> 00:15:17.966 A:middle
of it, by setting the clips to

00:15:17.966 --> 00:15:19.706 A:middle
bounds of the overlay content

00:15:19.706 --> 00:15:20.796 A:middle
view to false.

00:15:22.836 --> 00:15:24.136 A:middle
The next improvement in

00:15:24.136 --> 00:15:25.846 A:middle
UIImageView is in Alpha Channel

00:15:25.846 --> 00:15:26.186 A:middle
Support.

00:15:27.436 --> 00:15:30.936 A:middle
As you know, layered image are

00:15:30.936 --> 00:15:32.356 A:middle
required to have an opaque

00:15:32.356 --> 00:15:32.896 A:middle
background.

00:15:34.196 --> 00:15:36.266 A:middle
And even floating -- flat single

00:15:36.266 --> 00:15:37.816 A:middle
layered images, for floating

00:15:37.816 --> 00:15:39.796 A:middle
effect, they are also required

00:15:39.796 --> 00:15:40.976 A:middle
to have an opaque background.

00:15:41.566 --> 00:15:45.036 A:middle
In tvOS 11, that is no longer

00:15:45.036 --> 00:15:45.506 A:middle
the case.

00:15:46.336 --> 00:15:48.206 A:middle
So, you can now have arbitrary

00:15:48.206 --> 00:15:50.096 A:middle
shape alpha-channel, and for

00:15:50.096 --> 00:15:51.366 A:middle
some of you, this might scream

00:15:52.226 --> 00:15:53.586 A:middle
non-rectangular shadows.

00:15:54.296 --> 00:15:55.216 A:middle
So, instead of just talking

00:15:55.216 --> 00:15:56.966 A:middle
about this, I'd like to ask my

00:15:56.966 --> 00:15:58.146 A:middle
colleague Paul to show us in a

00:15:58.146 --> 00:15:58.436 A:middle
demo.

00:15:58.776 --> 00:15:59.256 A:middle
Paul?

00:16:00.516 --> 00:16:03.836 A:middle
[ Applause ]

00:16:04.336 --> 00:16:07.756 A:middle
&gt;&gt; So, yes, I'd like to demo

00:16:09.006 --> 00:16:11.886 A:middle
some of the new features of

00:16:11.886 --> 00:16:13.656 A:middle
UIImageView in tvOS 11.

00:16:14.356 --> 00:16:15.716 A:middle
I've been working on this simple

00:16:15.716 --> 00:16:16.976 A:middle
video playing app here.

00:16:16.976 --> 00:16:18.196 A:middle
I liked they had a couple of new

00:16:18.196 --> 00:16:18.696 A:middle
features.

00:16:19.396 --> 00:16:21.086 A:middle
The first thing I like to do, is

00:16:21.086 --> 00:16:22.496 A:middle
add an icon to the poster to

00:16:22.496 --> 00:16:23.476 A:middle
make it obvious that when you

00:16:23.476 --> 00:16:24.926 A:middle
select the poster, the video

00:16:24.926 --> 00:16:25.636 A:middle
will start playing.

00:16:26.216 --> 00:16:26.936 A:middle
And I also like to add a

00:16:26.936 --> 00:16:29.106 A:middle
progress bar, to the posters of

00:16:29.106 --> 00:16:29.956 A:middle
the videos that I've started

00:16:29.956 --> 00:16:30.296 A:middle
watching.

00:16:30.296 --> 00:16:31.976 A:middle
And that way, I can quickly see

00:16:32.086 --> 00:16:33.446 A:middle
how far through the videos I am.

00:16:33.546 --> 00:16:35.416 A:middle
So, I'm just going to add some

00:16:35.416 --> 00:16:37.346 A:middle
views to the image view of the

00:16:37.346 --> 00:16:39.766 A:middle
poster to implement that UI.

00:16:41.036 --> 00:16:43.256 A:middle
And you can see that the UI

00:16:43.256 --> 00:16:44.536 A:middle
shows up, but it feels pretty

00:16:44.536 --> 00:16:45.946 A:middle
disconnected from the image

00:16:45.946 --> 00:16:46.816 A:middle
that's moving behind it.

00:16:47.496 --> 00:16:49.506 A:middle
And I'd really like for that UI

00:16:49.506 --> 00:16:52.236 A:middle
to move along with the image.

00:16:52.466 --> 00:16:54.106 A:middle
Luckily, that's easy to do in

00:16:54.106 --> 00:16:54.886 A:middle
tvOS 11.

00:16:55.846 --> 00:16:57.456 A:middle
Instead of adding those views to

00:16:57.456 --> 00:16:58.856 A:middle
my image view, I'm just going to

00:16:58.856 --> 00:16:59.806 A:middle
add them to the image view's

00:16:59.866 --> 00:17:00.756 A:middle
overlay content view.

00:17:01.376 --> 00:17:03.556 A:middle
Build and run and see how that

00:17:04.236 --> 00:17:04.356 A:middle
looks.

00:17:06.336 --> 00:17:07.616 A:middle
That's more like the effect I

00:17:07.616 --> 00:17:08.306 A:middle
was going for.

00:17:09.516 --> 00:17:13.926 A:middle
[ Applause ]

00:17:14.426 --> 00:17:16.246 A:middle
Yes, the UI moves along with the

00:17:16.246 --> 00:17:17.656 A:middle
image, as if it was another

00:17:17.656 --> 00:17:18.946 A:middle
layer in the layered image.

00:17:19.756 --> 00:17:21.286 A:middle
And the next thing I'd like to

00:17:21.286 --> 00:17:22.606 A:middle
do is add some gadgets to these

00:17:22.606 --> 00:17:24.396 A:middle
posters, and that way I can mark

00:17:24.396 --> 00:17:25.796 A:middle
videos that might be new or

00:17:25.796 --> 00:17:26.826 A:middle
otherwise interesting to the

00:17:26.826 --> 00:17:27.186 A:middle
user.

00:17:27.996 --> 00:17:29.086 A:middle
And I'm just going to add a

00:17:29.086 --> 00:17:30.136 A:middle
touch button to the app that

00:17:30.136 --> 00:17:31.306 A:middle
will let me toggle those badges

00:17:31.306 --> 00:17:33.576 A:middle
on and off so they can make sure

00:17:33.576 --> 00:17:35.346 A:middle
the UI's working the way I want.

00:17:36.396 --> 00:17:38.066 A:middle
To make that touch button, I'm

00:17:38.066 --> 00:17:40.016 A:middle
going to make a button of type

00:17:40.146 --> 00:17:41.836 A:middle
custom, so that I don't get

00:17:41.836 --> 00:17:42.786 A:middle
system chrome that you

00:17:42.786 --> 00:17:43.886 A:middle
ordinarily get with a button.

00:17:44.726 --> 00:17:45.596 A:middle
And I'm going to set the

00:17:45.596 --> 00:17:48.176 A:middle
button's image view to adjust

00:17:48.176 --> 00:17:49.996 A:middle
image when ancestor focused, and

00:17:49.996 --> 00:17:50.976 A:middle
that way it'll get the nice,

00:17:50.976 --> 00:17:52.196 A:middle
floating effect when the button

00:17:52.196 --> 00:17:53.026 A:middle
becomes focused.

00:17:53.556 --> 00:17:54.556 A:middle
And I'm going to use the same

00:17:54.556 --> 00:17:55.796 A:middle
image for the button that I'll

00:17:55.796 --> 00:17:57.976 A:middle
use for the actual badges

00:17:57.976 --> 00:17:58.476 A:middle
themselves.

00:17:58.836 --> 00:18:00.916 A:middle
And the badge image, has a

00:18:00.916 --> 00:18:02.016 A:middle
circular alpha channel.

00:18:02.726 --> 00:18:05.216 A:middle
And in tvOS 11, that works well

00:18:05.216 --> 00:18:06.576 A:middle
with the floating effect of the

00:18:06.576 --> 00:18:07.726 A:middle
shadow and the spotlight and

00:18:08.306 --> 00:18:09.046 A:middle
work the way that you would

00:18:09.046 --> 00:18:09.416 A:middle
expect.

00:18:09.416 --> 00:18:11.496 A:middle
When I tap the button, I'm going

00:18:12.086 --> 00:18:13.656 A:middle
to add the badge image to the

00:18:13.656 --> 00:18:14.816 A:middle
overlay content view of these

00:18:14.816 --> 00:18:15.286 A:middle
posters.

00:18:15.696 --> 00:18:16.496 A:middle
We'll see how that looks.

00:18:17.116 --> 00:18:19.006 A:middle
We can see that there's a

00:18:19.006 --> 00:18:19.736 A:middle
problem.

00:18:19.736 --> 00:18:20.696 A:middle
The badge is there in the upper

00:18:20.696 --> 00:18:22.386 A:middle
left corner, but it's being

00:18:22.386 --> 00:18:24.156 A:middle
clipped to the transformed frame

00:18:24.286 --> 00:18:24.956 A:middle
of the image view.

00:18:25.646 --> 00:18:26.726 A:middle
And often, that's exactly what

00:18:26.726 --> 00:18:27.846 A:middle
you want for your overlays.

00:18:28.276 --> 00:18:29.366 A:middle
In this case, it's not what I

00:18:29.366 --> 00:18:29.656 A:middle
want.

00:18:30.306 --> 00:18:31.296 A:middle
Luckily, I was listening to

00:18:31.336 --> 00:18:32.636 A:middle
Hans' talk, and he let me know

00:18:32.636 --> 00:18:33.356 A:middle
how to fix this.

00:18:34.356 --> 00:18:35.436 A:middle
I'm just going to set clips to

00:18:35.436 --> 00:18:36.976 A:middle
bounce to false on the overlay

00:18:36.976 --> 00:18:37.636 A:middle
content view.

00:18:37.636 --> 00:18:40.286 A:middle
Let's try that one more time.

00:18:42.536 --> 00:18:44.146 A:middle
So, I'll toggle the badges on.

00:18:44.146 --> 00:18:45.526 A:middle
That's what I was I hoping to

00:18:45.526 --> 00:18:45.826 A:middle
see.

00:18:46.306 --> 00:18:47.356 A:middle
So, now the badges draw the way

00:18:47.356 --> 00:18:48.046 A:middle
I want them to.

00:18:48.416 --> 00:18:49.556 A:middle
And then continue to move with

00:18:49.556 --> 00:18:50.816 A:middle
the image along with the rest of

00:18:50.816 --> 00:18:50.976 A:middle
the UI.

00:18:51.516 --> 00:18:56.586 A:middle
[ Applause ]

00:18:57.086 --> 00:18:58.486 A:middle
So, that's just a quick look at

00:18:58.486 --> 00:18:59.636 A:middle
some of the new features of

00:18:59.636 --> 00:19:01.616 A:middle
UIImageView in tvOS 11.

00:19:01.786 --> 00:19:03.036 A:middle
Back to you, Hans.

00:19:04.031 --> 00:19:06.031 A:middle
[ Applause ]

00:19:06.046 --> 00:19:06.496 A:middle
&gt;&gt; Thanks, Paul.

00:19:07.586 --> 00:19:08.736 A:middle
That was a great demo.

00:19:09.256 --> 00:19:10.926 A:middle
And that was enhancements in

00:19:10.926 --> 00:19:11.596 A:middle
UIImageView.

00:19:13.066 --> 00:19:16.466 A:middle
We have just looked at seven new

00:19:16.536 --> 00:19:17.606 A:middle
enhancements in tvOS.

00:19:17.606 --> 00:19:19.466 A:middle
But there are many more

00:19:19.466 --> 00:19:21.286 A:middle
enhancements in iOS that also

00:19:21.286 --> 00:19:22.666 A:middle
apply to tvOS.

00:19:23.516 --> 00:19:25.546 A:middle
Among them, we think one

00:19:25.546 --> 00:19:26.966 A:middle
deserves a special attention.

00:19:27.086 --> 00:19:28.726 A:middle
And for that, I'd like to invite

00:19:28.726 --> 00:19:30.046 A:middle
Dan from the Media Framework's

00:19:30.046 --> 00:19:32.096 A:middle
Team to tell us all about it.

00:19:33.516 --> 00:19:36.736 A:middle
[ Applause ]

00:19:37.236 --> 00:19:38.646 A:middle
&gt;&gt; Thanks, Hans.

00:19:39.696 --> 00:19:43.426 A:middle
Alright, I'm going to take a few

00:19:43.426 --> 00:19:45.016 A:middle
minutes to talk about what's new

00:19:45.106 --> 00:19:50.216 A:middle
in AVKit in tvOS 11.

00:19:50.216 --> 00:19:52.696 A:middle
AVKit provides standard,

00:19:52.696 --> 00:19:55.236 A:middle
interactive video playback for

00:19:55.566 --> 00:19:58.386 A:middle
all apps on tvOS.

00:19:58.916 --> 00:20:00.746 A:middle
Includes, scrubbing, skipping,

00:20:01.486 --> 00:20:04.116 A:middle
scanning, and a variety of

00:20:04.116 --> 00:20:05.006 A:middle
advanced features like

00:20:05.206 --> 00:20:06.456 A:middle
interstitials, and content

00:20:06.456 --> 00:20:07.166 A:middle
proposals.

00:20:08.396 --> 00:20:09.556 A:middle
Now, we talked about the basics

00:20:09.556 --> 00:20:10.916 A:middle
last year, so if you need to

00:20:10.916 --> 00:20:12.406 A:middle
catch up, you can watch the

00:20:12.406 --> 00:20:15.236 A:middle
AVKit on tvOS session from last

00:20:15.236 --> 00:20:15.396 A:middle
year.

00:20:16.386 --> 00:20:17.616 A:middle
And here we have

00:20:17.966 --> 00:20:21.866 A:middle
AVPlayerViewController providing

00:20:21.906 --> 00:20:23.196 A:middle
the standard video playback, in

00:20:23.196 --> 00:20:24.156 A:middle
this case, showing scrubbing.

00:20:24.796 --> 00:20:29.416 A:middle
And advanced features include

00:20:29.686 --> 00:20:31.056 A:middle
custom content proposals, which

00:20:31.056 --> 00:20:32.236 A:middle
we introduced last year.

00:20:32.726 --> 00:20:35.796 A:middle
Now, let's talk about what's new

00:20:35.976 --> 00:20:36.986 A:middle
in tvOS 11.

00:20:37.666 --> 00:20:40.826 A:middle
When you want to play static

00:20:40.826 --> 00:20:42.996 A:middle
images, such as a logo or a hint

00:20:42.996 --> 00:20:45.326 A:middle
or other information on top of

00:20:45.326 --> 00:20:46.436 A:middle
your video but below the

00:20:46.436 --> 00:20:48.876 A:middle
playback controls, you use the

00:20:48.876 --> 00:20:50.326 A:middle
overlay view.

00:20:50.746 --> 00:20:54.596 A:middle
In tvOS 11, we're introducing a

00:20:54.596 --> 00:20:57.376 A:middle
new layout guide, the Unobscured

00:20:57.376 --> 00:21:00.556 A:middle
Content Guide, which indicates

00:21:00.556 --> 00:21:01.776 A:middle
what portion of the screen you

00:21:01.776 --> 00:21:04.426 A:middle
can use for your static content,

00:21:04.426 --> 00:21:06.986 A:middle
without overlaying the playback

00:21:06.986 --> 00:21:08.486 A:middle
controls or hints.

00:21:10.726 --> 00:21:12.856 A:middle
Here we see where the unobscured

00:21:12.856 --> 00:21:14.326 A:middle
content guide lays.

00:21:14.326 --> 00:21:15.996 A:middle
As you can see, the hint -- the

00:21:15.996 --> 00:21:17.136 A:middle
swipe down for info hint is

00:21:17.136 --> 00:21:18.466 A:middle
above it.

00:21:18.466 --> 00:21:20.056 A:middle
The bottom edge of the layout

00:21:20.056 --> 00:21:21.886 A:middle
guide goes right against the

00:21:21.886 --> 00:21:23.046 A:middle
transfer bar.

00:21:23.816 --> 00:21:25.846 A:middle
But you do notice that the

00:21:25.846 --> 00:21:27.726 A:middle
scrubbing thumbnail however is

00:21:27.726 --> 00:21:29.906 A:middle
not included in that excluded

00:21:29.906 --> 00:21:30.346 A:middle
region.

00:21:31.156 --> 00:21:34.226 A:middle
If your content is in the

00:21:34.226 --> 00:21:35.266 A:middle
overlay view, it'll be

00:21:35.266 --> 00:21:36.906 A:middle
underneath that scrubbing

00:21:36.906 --> 00:21:37.206 A:middle
thumbnail.

00:21:37.206 --> 00:21:42.726 A:middle
Now, let's talk about the

00:21:42.726 --> 00:21:43.516 A:middle
transfer bar.

00:21:44.756 --> 00:21:46.536 A:middle
Many of you have content, logos,

00:21:46.536 --> 00:21:48.316 A:middle
or what have you, that you want

00:21:48.316 --> 00:21:49.876 A:middle
to show at the same time that

00:21:49.876 --> 00:21:51.236 A:middle
the transfer bar is visible.

00:21:52.616 --> 00:21:54.016 A:middle
Or perhaps you have something

00:21:54.016 --> 00:21:55.216 A:middle
like a channel logo that you

00:21:55.216 --> 00:21:56.536 A:middle
want to hide or get out of the

00:21:56.536 --> 00:21:57.836 A:middle
way when the playback controls

00:21:57.836 --> 00:21:58.386 A:middle
are visible.

00:21:58.536 --> 00:22:01.556 A:middle
You can do both of these things

00:22:01.556 --> 00:22:02.776 A:middle
with the transfer bar animation

00:22:02.776 --> 00:22:03.336 A:middle
coordinator.

00:22:03.556 --> 00:22:05.156 A:middle
To use it, you simply implement

00:22:05.716 --> 00:22:06.596 A:middle
the delegate method.

00:22:06.626 --> 00:22:07.776 A:middle
Player View Controller will

00:22:07.776 --> 00:22:09.096 A:middle
transition to visibility of

00:22:09.096 --> 00:22:10.536 A:middle
transfer bar with coordinator.

00:22:11.606 --> 00:22:13.286 A:middle
And you add your animations.

00:22:13.666 --> 00:22:18.886 A:middle
Now, in this example, we are --

00:22:18.886 --> 00:22:20.156 A:middle
we have a logo image view and

00:22:20.156 --> 00:22:21.596 A:middle
we're going to hide it or show

00:22:21.926 --> 00:22:23.876 A:middle
it with the transfer bar.

00:22:25.776 --> 00:22:27.756 A:middle
Now, by no means are you limited

00:22:27.756 --> 00:22:28.286 A:middle
to this.

00:22:28.286 --> 00:22:29.246 A:middle
You could reverse that

00:22:29.246 --> 00:22:30.516 A:middle
visibility and hide it instead

00:22:30.516 --> 00:22:31.246 A:middle
of showing it.

00:22:31.716 --> 00:22:33.316 A:middle
You could have an additional

00:22:33.316 --> 00:22:35.846 A:middle
animation where your view slides

00:22:35.846 --> 00:22:37.126 A:middle
in from the side, for example,

00:22:37.326 --> 00:22:38.996 A:middle
or whatever you can -- you want.

00:22:40.026 --> 00:22:42.106 A:middle
Next, we're giving you greater

00:22:42.106 --> 00:22:43.616 A:middle
control over controlling

00:22:44.146 --> 00:22:47.296 A:middle
dismissal with three new

00:22:47.296 --> 00:22:48.266 A:middle
delegate methods.

00:22:49.136 --> 00:22:51.646 A:middle
And these are Player View

00:22:51.646 --> 00:22:54.976 A:middle
Controller should dismiss, will

00:22:54.976 --> 00:22:57.426 A:middle
begin dismissal transition, and

00:22:57.496 --> 00:22:59.766 A:middle
did end dismissal transition.

00:23:01.076 --> 00:23:03.376 A:middle
In many instances, Player View

00:23:03.376 --> 00:23:04.776 A:middle
Controller can provide an

00:23:04.776 --> 00:23:06.346 A:middle
automatic transition when it's

00:23:06.346 --> 00:23:08.016 A:middle
presented or dismissed.

00:23:08.156 --> 00:23:10.746 A:middle
If you simply present or dismiss

00:23:10.746 --> 00:23:12.786 A:middle
it, it can fade in and fade out.

00:23:13.246 --> 00:23:15.536 A:middle
If you embed the view in your

00:23:15.536 --> 00:23:17.486 A:middle
own view as a thumbnail for

00:23:17.486 --> 00:23:19.766 A:middle
example, it can automatically

00:23:19.766 --> 00:23:21.286 A:middle
zoom out and automatically zoom

00:23:21.286 --> 00:23:22.806 A:middle
it back when it's dismissed.

00:23:23.726 --> 00:23:25.666 A:middle
However, in some cases, you may

00:23:25.666 --> 00:23:26.886 A:middle
have some sort of custom

00:23:26.886 --> 00:23:29.966 A:middle
presentation where AVKit isn't

00:23:29.966 --> 00:23:31.186 A:middle
going to be able to provide a

00:23:31.186 --> 00:23:32.946 A:middle
reasonable transition and you

00:23:32.946 --> 00:23:34.056 A:middle
need to do it yourself.

00:23:34.056 --> 00:23:35.576 A:middle
Well, the way you can do that

00:23:35.576 --> 00:23:37.136 A:middle
now is, by implementing the

00:23:37.136 --> 00:23:40.076 A:middle
Should Dismiss method, and here

00:23:40.076 --> 00:23:41.886 A:middle
you would implement your

00:23:41.886 --> 00:23:45.686 A:middle
transition and return False to

00:23:45.686 --> 00:23:47.536 A:middle
indicate that AVKit should not

00:23:47.536 --> 00:23:49.466 A:middle
provide the standard transition.

00:23:51.196 --> 00:23:53.186 A:middle
When AVKit does provide the

00:23:53.186 --> 00:23:55.146 A:middle
transition, it will also call

00:23:55.146 --> 00:23:57.526 A:middle
the Will Begin Dismissal and Did

00:23:57.526 --> 00:23:58.686 A:middle
End Dismissal transition

00:23:58.686 --> 00:23:59.166 A:middle
methods.

00:23:59.566 --> 00:24:01.266 A:middle
So, at the beginning and at the

00:24:01.266 --> 00:24:02.366 A:middle
end of animation.

00:24:02.366 --> 00:24:03.356 A:middle
So, you can perform whatever

00:24:03.356 --> 00:24:04.786 A:middle
operations you want to do there,

00:24:05.406 --> 00:24:07.446 A:middle
such as controlling the playback

00:24:07.446 --> 00:24:08.116 A:middle
rate for example.

00:24:09.056 --> 00:24:11.956 A:middle
The info views, are shown when

00:24:11.956 --> 00:24:13.696 A:middle
the user swipes down during

00:24:13.696 --> 00:24:14.466 A:middle
video playback.

00:24:15.436 --> 00:24:16.796 A:middle
And the standard info views

00:24:16.796 --> 00:24:20.016 A:middle
provide a variety of interesting

00:24:20.016 --> 00:24:22.166 A:middle
things, including metadata,

00:24:22.166 --> 00:24:24.426 A:middle
navigation markers, subtitle

00:24:24.426 --> 00:24:26.216 A:middle
controls, and audio options, as

00:24:26.216 --> 00:24:26.946 A:middle
you can see here.

00:24:27.966 --> 00:24:30.296 A:middle
Now, a lot of you would like to

00:24:30.296 --> 00:24:32.176 A:middle
have your own controls here.

00:24:32.176 --> 00:24:33.466 A:middle
And so, I'm pleased to announce

00:24:33.466 --> 00:24:35.426 A:middle
that we are introducing custom

00:24:35.426 --> 00:24:36.206 A:middle
info views.

00:24:36.466 --> 00:24:38.036 A:middle
In tvOS 11, you can provide a

00:24:38.036 --> 00:24:39.256 A:middle
custom info view as you can see

00:24:39.256 --> 00:24:39.976 A:middle
in this example.

00:24:40.516 --> 00:24:44.806 A:middle
[ Applause ]

00:24:45.306 --> 00:24:47.206 A:middle
So, all you need to do is create

00:24:47.206 --> 00:24:48.826 A:middle
your own UIView Controller.

00:24:49.536 --> 00:24:50.606 A:middle
You need determine the contents

00:24:50.606 --> 00:24:50.896 A:middle
of it.

00:24:52.366 --> 00:24:53.516 A:middle
Set the custom Info View

00:24:53.516 --> 00:24:54.656 A:middle
Controller Property of your

00:24:54.656 --> 00:24:56.946 A:middle
Player View Controller, and

00:24:57.706 --> 00:24:58.786 A:middle
that's it.

00:24:58.786 --> 00:25:01.306 A:middle
Now, we ask that you keep your

00:25:01.306 --> 00:25:02.686 A:middle
style consistent with the other

00:25:02.846 --> 00:25:04.166 A:middle
info views so that the user

00:25:04.166 --> 00:25:07.216 A:middle
won't feel out of place or

00:25:07.216 --> 00:25:07.886 A:middle
confused.

00:25:07.886 --> 00:25:08.916 A:middle
And to that end, we have some

00:25:08.916 --> 00:25:09.536 A:middle
guidelines.

00:25:10.806 --> 00:25:13.426 A:middle
So, first, use the standard font

00:25:13.426 --> 00:25:14.096 A:middle
styles.

00:25:14.726 --> 00:25:17.246 A:middle
Second, keep your view

00:25:17.246 --> 00:25:19.306 A:middle
background transparent so that

00:25:19.306 --> 00:25:20.276 A:middle
the effect's view will show

00:25:20.276 --> 00:25:20.616 A:middle
through.

00:25:21.846 --> 00:25:23.016 A:middle
You can indicate the desired

00:25:23.016 --> 00:25:24.676 A:middle
height of your info view, using

00:25:24.676 --> 00:25:26.166 A:middle
auto layout, which is the best

00:25:26.166 --> 00:25:26.676 A:middle
way to do it.

00:25:26.676 --> 00:25:27.966 A:middle
But if you prefer, you can

00:25:27.966 --> 00:25:29.606 A:middle
override Preferred Content Size

00:25:29.606 --> 00:25:31.546 A:middle
on your View Controller instead.

00:25:33.506 --> 00:25:34.696 A:middle
And regardless of which of those

00:25:34.696 --> 00:25:37.196 A:middle
you use, keep your content to no

00:25:37.436 --> 00:25:39.106 A:middle
more than half of the height of

00:25:39.106 --> 00:25:41.286 A:middle
the screen because you don't get

00:25:41.286 --> 00:25:42.276 A:middle
to use the entire screen.

00:25:43.106 --> 00:25:44.746 A:middle
And as for controls, while, you

00:25:44.746 --> 00:25:46.446 A:middle
can use whatever you want, we

00:25:46.446 --> 00:25:47.986 A:middle
would recommend that you avoid

00:25:47.986 --> 00:25:49.166 A:middle
things like text fields and

00:25:49.166 --> 00:25:50.466 A:middle
buttons, which feel out of

00:25:50.596 --> 00:25:53.056 A:middle
place, and instead prefer things

00:25:53.056 --> 00:25:54.566 A:middle
like collection and table views.

00:25:56.106 --> 00:25:58.016 A:middle
Alright, finally, I'd like to

00:25:58.016 --> 00:25:59.766 A:middle
talk about Live Streams.

00:26:00.456 --> 00:26:04.966 A:middle
We're adding four new metadata

00:26:04.966 --> 00:26:07.296 A:middle
identifiers in tvOS 11 that lets

00:26:07.296 --> 00:26:09.626 A:middle
you specify the starting date

00:26:09.706 --> 00:26:11.306 A:middle
and ending date of your live

00:26:11.306 --> 00:26:12.686 A:middle
stream or your event stream.

00:26:14.896 --> 00:26:19.576 A:middle
Now, as an example, one example

00:26:19.576 --> 00:26:20.926 A:middle
where you want to use the exact

00:26:20.926 --> 00:26:23.166 A:middle
end date, would be something

00:26:23.326 --> 00:26:25.096 A:middle
like a traditional broadcast

00:26:25.096 --> 00:26:26.366 A:middle
stream, where you have a

00:26:26.366 --> 00:26:27.876 A:middle
continuous live stream that's

00:26:27.876 --> 00:26:29.886 A:middle
broken up into scheduled blocks

00:26:29.886 --> 00:26:31.736 A:middle
of 30 minutes or 60 minutes.

00:26:32.616 --> 00:26:34.166 A:middle
And in that case, you can use

00:26:34.166 --> 00:26:35.686 A:middle
the exact start and exact end

00:26:35.686 --> 00:26:37.886 A:middle
dates to indicate what part of

00:26:37.886 --> 00:26:39.146 A:middle
that program you're watching

00:26:39.146 --> 00:26:39.606 A:middle
right now.

00:26:39.606 --> 00:26:43.526 A:middle
How about the approximate end

00:26:43.526 --> 00:26:43.806 A:middle
date?

00:26:43.896 --> 00:26:45.586 A:middle
Well, the easiest example there

00:26:45.586 --> 00:26:46.876 A:middle
would something like a sporting

00:26:46.876 --> 00:26:49.906 A:middle
event where you know for example

00:26:49.906 --> 00:26:51.276 A:middle
that the game will probably last

00:26:51.276 --> 00:26:52.636 A:middle
about three hours, but you

00:26:52.636 --> 00:26:54.526 A:middle
really have no idea up front how

00:26:54.526 --> 00:26:56.346 A:middle
long it's going to go.

00:26:56.346 --> 00:26:57.096 A:middle
It could end sooner.

00:26:57.096 --> 00:26:57.816 A:middle
It could end later.

00:26:57.816 --> 00:26:59.916 A:middle
And in that case, you use an

00:26:59.916 --> 00:27:00.896 A:middle
approximate end date.

00:27:00.896 --> 00:27:03.416 A:middle
In either case, the transfer of

00:27:03.416 --> 00:27:05.336 A:middle
our timescale will reflect these

00:27:05.336 --> 00:27:05.906 A:middle
dates.

00:27:06.216 --> 00:27:08.076 A:middle
So, it will either reflect more

00:27:08.076 --> 00:27:08.936 A:middle
time or less time.

00:27:10.146 --> 00:27:12.276 A:middle
When you provide exact values,

00:27:12.346 --> 00:27:13.286 A:middle
those are displayed on the

00:27:13.286 --> 00:27:14.936 A:middle
transfer bar with a clock time

00:27:15.206 --> 00:27:16.876 A:middle
and approximate values are not

00:27:16.876 --> 00:27:17.846 A:middle
shown, so that these are --

00:27:17.846 --> 00:27:19.416 A:middle
isn't misled into thinking it's

00:27:19.416 --> 00:27:20.976 A:middle
going to end precisely at the

00:27:20.976 --> 00:27:22.926 A:middle
end time.

00:27:23.766 --> 00:27:25.006 A:middle
And this helps to orient the

00:27:25.006 --> 00:27:26.256 A:middle
user to where they are in your

00:27:26.256 --> 00:27:26.626 A:middle
program.

00:27:26.626 --> 00:27:27.846 A:middle
How much they've missed, how

00:27:27.846 --> 00:27:31.096 A:middle
much they should expect to have

00:27:31.876 --> 00:27:33.736 A:middle
before the program is over.

00:27:34.406 --> 00:27:38.576 A:middle
So, let's just to visualize

00:27:38.576 --> 00:27:41.426 A:middle
that, this -- in the case where

00:27:41.426 --> 00:27:42.726 A:middle
you have a live stream, and you

00:27:42.726 --> 00:27:44.656 A:middle
haven't specified either a start

00:27:44.656 --> 00:27:45.726 A:middle
or an end date, you get the

00:27:45.726 --> 00:27:47.286 A:middle
default or legacy behavior.

00:27:47.426 --> 00:27:50.676 A:middle
Now in the past, this differs a

00:27:50.676 --> 00:27:52.036 A:middle
little bit from what we did in

00:27:52.036 --> 00:27:53.356 A:middle
tvOS 10, because in the past, we

00:27:53.356 --> 00:27:55.286 A:middle
showed the start and the end

00:27:55.386 --> 00:27:56.096 A:middle
times.

00:27:56.706 --> 00:27:57.696 A:middle
We no longer do that because

00:27:57.696 --> 00:27:58.686 A:middle
they're both approximate.

00:27:59.646 --> 00:28:00.866 A:middle
But you would have a 30-minute

00:28:00.866 --> 00:28:01.326 A:middle
window.

00:28:01.516 --> 00:28:03.396 A:middle
So, in this example, it would

00:28:03.396 --> 00:28:05.896 A:middle
run from 11 to 11:30, and so the

00:28:05.896 --> 00:28:08.246 A:middle
11:28 mark is near the end.

00:28:09.536 --> 00:28:11.316 A:middle
However, now that's fine if your

00:28:11.316 --> 00:28:12.646 A:middle
program actually from 11 to

00:28:12.646 --> 00:28:14.066 A:middle
11:30, but what if it doesn't?

00:28:14.066 --> 00:28:14.986 A:middle
What if it's -- you're in the

00:28:14.986 --> 00:28:16.656 A:middle
middle of a three-hour baseball

00:28:16.656 --> 00:28:17.326 A:middle
game or something?

00:28:18.086 --> 00:28:20.346 A:middle
Well, here's an example with

00:28:20.346 --> 00:28:22.236 A:middle
exact start and end dates, in

00:28:22.236 --> 00:28:23.706 A:middle
this case, 10 o'clock to 1

00:28:23.706 --> 00:28:25.926 A:middle
o'clock, 11:28 you see is now

00:28:25.926 --> 00:28:28.376 A:middle
roughly in the middle, and the

00:28:28.376 --> 00:28:29.526 A:middle
scale has been adjusted.

00:28:30.086 --> 00:28:31.556 A:middle
And of course, we can set an

00:28:31.556 --> 00:28:33.426 A:middle
approximate end date instead and

00:28:33.426 --> 00:28:35.106 A:middle
that just makes the end time

00:28:35.106 --> 00:28:35.546 A:middle
disappear.

00:28:36.016 --> 00:28:40.466 A:middle
But the scale remains the same.

00:28:40.656 --> 00:28:42.106 A:middle
So, let's look briefly at the

00:28:42.106 --> 00:28:43.046 A:middle
code for this.

00:28:43.146 --> 00:28:44.376 A:middle
If you've seen last year's

00:28:44.376 --> 00:28:47.706 A:middle
session, the new metadata item

00:28:47.706 --> 00:28:48.606 A:middle
helper function will look

00:28:48.606 --> 00:28:49.096 A:middle
familiar.

00:28:50.106 --> 00:28:50.896 A:middle
All we're going to do is we're

00:28:50.896 --> 00:28:52.686 A:middle
going to create our start dates.

00:28:53.416 --> 00:28:54.816 A:middle
We're going to create a metadata

00:28:54.816 --> 00:28:56.466 A:middle
item for it.

00:28:57.036 --> 00:28:58.596 A:middle
We're going to do the same thing

00:28:58.596 --> 00:28:59.636 A:middle
for our end date.

00:29:00.476 --> 00:29:02.936 A:middle
And finally, we're going to add

00:29:02.936 --> 00:29:04.826 A:middle
our two metadata items to our

00:29:04.826 --> 00:29:06.696 A:middle
player item, to the external

00:29:06.696 --> 00:29:07.626 A:middle
metadata property.

00:29:08.226 --> 00:29:12.276 A:middle
Alright, now we're going to try

00:29:12.596 --> 00:29:13.296 A:middle
a brief demo.

00:29:13.986 --> 00:29:15.366 A:middle
I've got a few things I can show

00:29:15.366 --> 00:29:15.646 A:middle
here.

00:29:16.816 --> 00:29:21.746 A:middle
First, here's our Unobscured

00:29:21.746 --> 00:29:22.446 A:middle
Content Guide.

00:29:24.326 --> 00:29:28.146 A:middle
And, if we let it fade out, it

00:29:28.146 --> 00:29:29.586 A:middle
fades with it, because I'm using

00:29:29.586 --> 00:29:30.526 A:middle
the transfer bar animation

00:29:30.526 --> 00:29:30.976 A:middle
coordinator.

00:29:31.996 --> 00:29:32.976 A:middle
So, it fades out quickly.

00:29:33.836 --> 00:29:36.976 A:middle
I feel like I should wave at

00:29:36.976 --> 00:29:37.566 A:middle
myself.

00:29:40.256 --> 00:29:42.446 A:middle
And here we have a custom info

00:29:42.446 --> 00:29:42.736 A:middle
view.

00:29:43.436 --> 00:29:47.756 A:middle
As we saw earlier, and we can

00:29:47.756 --> 00:29:49.716 A:middle
switch it from -- to -- let's

00:29:49.776 --> 00:29:51.576 A:middle
put it on exact dates.

00:29:52.366 --> 00:29:52.946 A:middle
And there we go.

00:29:54.876 --> 00:29:56.786 A:middle
Now, the good news -- alright.

00:29:57.516 --> 00:29:59.846 A:middle
[ Applause ]

00:30:00.346 --> 00:30:01.286 A:middle
The good news is that the

00:30:01.286 --> 00:30:02.516 A:middle
session is not in fact going

00:30:02.516 --> 00:30:03.136 A:middle
three hours.

00:30:03.766 --> 00:30:07.146 A:middle
I just did that because if I set

00:30:07.146 --> 00:30:09.536 A:middle
the actual end time, the current

00:30:09.536 --> 00:30:10.566 A:middle
time would be too close to the

00:30:10.566 --> 00:30:12.636 A:middle
end time and they would -- the

00:30:12.636 --> 00:30:13.606 A:middle
event time would be hidden

00:30:13.606 --> 00:30:14.756 A:middle
because they'd be overlapping

00:30:14.756 --> 00:30:15.186 A:middle
otherwise.

00:30:15.186 --> 00:30:17.636 A:middle
But, here's another look at that

00:30:17.636 --> 00:30:17.846 A:middle
code.

00:30:17.846 --> 00:30:19.256 A:middle
People viewing this at home

00:30:19.256 --> 00:30:20.056 A:middle
later are going to be very

00:30:20.056 --> 00:30:21.226 A:middle
confused that you just dropped

00:30:21.226 --> 00:30:22.916 A:middle
in right now, because the audio

00:30:22.916 --> 00:30:26.026 A:middle
track seems a little bit off.

00:30:26.176 --> 00:30:28.846 A:middle
Alright, and that's our demo.

00:30:29.236 --> 00:30:31.236 A:middle
[ Applause ]

00:30:31.456 --> 00:30:36.476 A:middle
Back to the slides.

00:30:36.896 --> 00:30:37.696 A:middle
Alright, so that's -- we've

00:30:37.696 --> 00:30:38.586 A:middle
talked about several new

00:30:38.586 --> 00:30:39.936 A:middle
features in AVKit, and there are

00:30:39.936 --> 00:30:40.816 A:middle
a couple more that I haven't

00:30:40.816 --> 00:30:43.426 A:middle
talked about, but these are the

00:30:43.426 --> 00:30:44.396 A:middle
most important ones.

00:30:45.186 --> 00:30:47.236 A:middle
For more information about using

00:30:47.236 --> 00:30:49.546 A:middle
AVKit on tvOS, see last year's

00:30:49.546 --> 00:30:50.056 A:middle
session.

00:30:50.726 --> 00:30:52.536 A:middle
And you can also join us in the

00:30:52.536 --> 00:30:54.436 A:middle
AVKit lab, shortly after this

00:30:54.436 --> 00:30:57.206 A:middle
session at 11, until 1, in Tech

00:30:57.206 --> 00:30:57.856 A:middle
Lab F.

00:30:58.576 --> 00:30:59.726 A:middle
And bring us your questions.

00:31:00.586 --> 00:31:02.046 A:middle
And now, I'd like to introduce

00:31:02.046 --> 00:31:03.596 A:middle
Marshall to the stage to talk

00:31:03.596 --> 00:31:04.336 A:middle
about View Controller

00:31:04.336 --> 00:31:04.946 A:middle
enhancements.

00:31:06.516 --> 00:31:10.126 A:middle
[ Applause ]

00:31:10.626 --> 00:31:12.736 A:middle
&gt;&gt; Thank you, Dan.

00:31:13.166 --> 00:31:14.546 A:middle
My name is Marshall, and today

00:31:14.546 --> 00:31:15.826 A:middle
I'm going to talk about View

00:31:15.826 --> 00:31:17.256 A:middle
Controller Enhancements in tvOS

00:31:17.256 --> 00:31:17.566 A:middle
11.

00:31:17.566 --> 00:31:18.366 A:middle
Let's dive right in.

00:31:18.616 --> 00:31:20.696 A:middle
First, we're going to take a

00:31:20.696 --> 00:31:22.176 A:middle
look at mobile presentations.

00:31:22.406 --> 00:31:24.206 A:middle
If you've ever used the UI Alert

00:31:24.206 --> 00:31:25.696 A:middle
Controller or put your Apple TV

00:31:25.696 --> 00:31:27.566 A:middle
to sleep, you might recognize

00:31:27.566 --> 00:31:28.776 A:middle
this transition where we

00:31:28.776 --> 00:31:30.246 A:middle
progressively blur the content

00:31:30.596 --> 00:31:31.526 A:middle
and animate in the View

00:31:31.526 --> 00:31:32.006 A:middle
Controller.

00:31:32.446 --> 00:31:35.026 A:middle
Well, starting in tvOS 11, you

00:31:35.026 --> 00:31:36.056 A:middle
can now do that in your own

00:31:36.056 --> 00:31:37.816 A:middle
applications, using the new UI

00:31:37.816 --> 00:31:39.346 A:middle
Multi-Presentation Style called,

00:31:39.346 --> 00:31:40.756 A:middle
.blurOverFullScreen.

00:31:42.086 --> 00:31:43.356 A:middle
This will progressively blur the

00:31:43.356 --> 00:31:44.626 A:middle
content of the presenting view

00:31:44.626 --> 00:31:46.796 A:middle
controller, and it uses the same

00:31:46.796 --> 00:31:48.186 A:middle
timings in the animations that

00:31:48.186 --> 00:31:49.496 A:middle
UI Alert Controller does.

00:31:50.696 --> 00:31:51.906 A:middle
Implementing this is easy.

00:31:52.696 --> 00:31:54.096 A:middle
You set the mobile presentation

00:31:54.096 --> 00:31:55.826 A:middle
style to blur over full screen,

00:31:55.826 --> 00:31:56.546 A:middle
and present your view

00:31:56.546 --> 00:31:57.736 A:middle
controller, like you normally

00:31:57.736 --> 00:31:57.966 A:middle
would.

00:31:58.546 --> 00:32:02.486 A:middle
Next, we're going to talk about

00:32:02.486 --> 00:32:03.986 A:middle
some enhancements, the UI Split

00:32:03.986 --> 00:32:04.636 A:middle
View Controller.

00:32:05.146 --> 00:32:06.636 A:middle
If you've used a split view

00:32:06.636 --> 00:32:08.076 A:middle
controller in your application

00:32:08.076 --> 00:32:11.706 A:middle
before, then you know that the

00:32:11.706 --> 00:32:12.986 A:middle
master view controller's on the

00:32:12.986 --> 00:32:13.956 A:middle
left, and the detailed view

00:32:13.956 --> 00:32:14.756 A:middle
controller's on the right.

00:32:15.696 --> 00:32:17.176 A:middle
Well, starting in tvOS 11, we

00:32:17.176 --> 00:32:18.256 A:middle
now have a new property that

00:32:18.256 --> 00:32:19.126 A:middle
will allow you to swap the

00:32:19.126 --> 00:32:19.546 A:middle
layout.

00:32:19.886 --> 00:32:22.806 A:middle
In order to support this, we

00:32:22.806 --> 00:32:24.666 A:middle
have a new enum called UI Split

00:32:24.666 --> 00:32:26.076 A:middle
View Controller Primary Edge

00:32:26.076 --> 00:32:27.886 A:middle
with two values, leading and

00:32:27.886 --> 00:32:28.396 A:middle
trailing.

00:32:29.216 --> 00:32:30.856 A:middle
And then, a property that you

00:32:30.856 --> 00:32:32.186 A:middle
can set the primary edge.

00:32:32.956 --> 00:32:34.136 A:middle
Now, these names are important

00:32:34.176 --> 00:32:35.516 A:middle
because as we heard, tvOS now

00:32:35.516 --> 00:32:37.346 A:middle
supports RTL languages.

00:32:37.826 --> 00:32:38.966 A:middle
So, in this case, if you have a

00:32:38.966 --> 00:32:40.336 A:middle
left to right language and use

00:32:40.336 --> 00:32:41.146 A:middle
leading, the master view

00:32:41.146 --> 00:32:42.336 A:middle
controller will be on the left,

00:32:42.606 --> 00:32:44.106 A:middle
and trailing the master view

00:32:44.106 --> 00:32:44.926 A:middle
controller, would on the right.

00:32:45.686 --> 00:32:47.706 A:middle
But in RTL languages, those will

00:32:47.706 --> 00:32:48.996 A:middle
be mirrored, so the master would

00:32:48.996 --> 00:32:49.906 A:middle
be on the right, and for

00:32:49.906 --> 00:32:57.576 A:middle
trailing, it will be on the

00:32:57.716 --> 00:32:57.836 A:middle
left.

00:32:57.836 --> 00:32:59.326 A:middle
Last year, we announced a new

00:32:59.326 --> 00:33:01.736 A:middle
use facing feature where users

00:33:01.736 --> 00:33:02.676 A:middle
can change their system

00:33:02.676 --> 00:33:03.616 A:middle
appearance to dark.

00:33:03.756 --> 00:33:05.676 A:middle
And this allows a great

00:33:05.676 --> 00:33:07.526 A:middle
experience when their Apple TV's

00:33:07.526 --> 00:33:09.186 A:middle
in a movie room or perhaps for

00:33:09.186 --> 00:33:09.786 A:middle
use at night.

00:33:10.336 --> 00:33:11.516 A:middle
Well, starting this year, we

00:33:11.516 --> 00:33:13.436 A:middle
have another mode which we call

00:33:13.436 --> 00:33:13.936 A:middle
automatic.

00:33:14.206 --> 00:33:15.866 A:middle
And what this will do, is it

00:33:15.866 --> 00:33:17.346 A:middle
will automatically change the

00:33:17.346 --> 00:33:20.356 A:middle
user's system appearance to dark

00:33:20.356 --> 00:33:22.016 A:middle
at night, and light during the

00:33:22.016 --> 00:33:23.366 A:middle
day, based on their current

00:33:23.366 --> 00:33:23.906 A:middle
location.

00:33:24.746 --> 00:33:25.776 A:middle
Now, it's more important than

00:33:25.776 --> 00:33:27.226 A:middle
ever to make sure apps adopt the

00:33:27.226 --> 00:33:28.176 A:middle
light and dark appearance to

00:33:28.176 --> 00:33:29.686 A:middle
offer the best user experience.

00:33:30.516 --> 00:33:31.546 A:middle
In order to support this, we've

00:33:31.546 --> 00:33:32.746 A:middle
added some new APIs.

00:33:33.166 --> 00:33:34.296 A:middle
First, let's take a look at Top

00:33:34.296 --> 00:33:34.776 A:middle
Shelf.

00:33:36.836 --> 00:33:38.846 A:middle
If you've provided a Top Shelf

00:33:38.846 --> 00:33:39.796 A:middle
extension, you know you can

00:33:39.796 --> 00:33:42.036 A:middle
provide an image URL to provide

00:33:42.226 --> 00:33:43.726 A:middle
images up in the Top Shelf.

00:33:44.666 --> 00:33:46.546 A:middle
Now, we are allowing a new API

00:33:46.656 --> 00:33:48.436 A:middle
to provide a dark image asset as

00:33:48.436 --> 00:33:49.436 A:middle
well, and the system will

00:33:49.436 --> 00:33:50.716 A:middle
automatically choose the correct

00:33:50.716 --> 00:33:51.696 A:middle
asset to show, based on the

00:33:51.696 --> 00:33:52.536 A:middle
system appearance.

00:33:53.816 --> 00:33:55.116 A:middle
So, if you've looked into this

00:33:55.116 --> 00:33:56.506 A:middle
before, you have then a TV

00:33:56.506 --> 00:33:58.316 A:middle
content item and then set the

00:33:58.316 --> 00:33:59.016 A:middle
image URL.

00:33:59.766 --> 00:34:02.356 A:middle
Starting in tvOS 11, you can now

00:34:02.356 --> 00:34:05.056 A:middle
call Set Image URL for traits

00:34:05.056 --> 00:34:06.436 A:middle
and provide a light and dark

00:34:06.436 --> 00:34:07.536 A:middle
trait to provide those image

00:34:07.536 --> 00:34:08.056 A:middle
assets.

00:34:08.616 --> 00:34:09.746 A:middle
If you'd like to still use the

00:34:09.746 --> 00:34:11.536 A:middle
same image, then you can just

00:34:11.536 --> 00:34:12.826 A:middle
provide the same image URL to

00:34:12.826 --> 00:34:13.926 A:middle
both these method calls.

00:34:16.516 --> 00:34:17.746 A:middle
Finally, today, we're going to

00:34:17.746 --> 00:34:18.986 A:middle
talk about how you can adapt

00:34:18.986 --> 00:34:20.096 A:middle
your app's appearance to your

00:34:20.096 --> 00:34:20.586 A:middle
content.

00:34:21.436 --> 00:34:22.866 A:middle
We do this in our apps, such as

00:34:22.866 --> 00:34:25.236 A:middle
our movies where if a movie has

00:34:25.236 --> 00:34:26.956 A:middle
artwork that's light, we'll show

00:34:26.956 --> 00:34:28.716 A:middle
appropriate controls, and if

00:34:28.716 --> 00:34:30.126 A:middle
it's dark, we'll also show

00:34:30.126 --> 00:34:31.926 A:middle
controls that look best on that.

00:34:32.706 --> 00:34:33.476 A:middle
Well, in order to make this

00:34:33.476 --> 00:34:35.236 A:middle
easier for developers, we have a

00:34:35.236 --> 00:34:36.896 A:middle
new property on UI View

00:34:36.896 --> 00:34:38.056 A:middle
Controller, called Preferred

00:34:38.056 --> 00:34:38.956 A:middle
User Interface Style.

00:34:39.356 --> 00:34:40.536 A:middle
If you've ever used preferred

00:34:40.536 --> 00:34:42.176 A:middle
status bar style, then this

00:34:42.176 --> 00:34:43.456 A:middle
might look familiar to you.

00:34:44.096 --> 00:34:45.796 A:middle
What it lets you do is specify a

00:34:45.796 --> 00:34:47.166 A:middle
specific UI User Interface

00:34:47.166 --> 00:34:48.466 A:middle
Style, on your view controller,

00:34:49.076 --> 00:34:50.146 A:middle
which will customize the

00:34:50.146 --> 00:34:51.686 A:middle
appearance by updating the trait

00:34:51.686 --> 00:34:53.466 A:middle
collection, and update the

00:34:53.466 --> 00:34:54.346 A:middle
system wallpaper.

00:34:54.996 --> 00:34:56.196 A:middle
Let's take a look at what this

00:34:56.196 --> 00:34:56.616 A:middle
looks like.

00:34:57.276 --> 00:34:59.106 A:middle
Here, I've got a Tab-R

00:34:59.106 --> 00:35:00.266 A:middle
controller, where the first view

00:35:00.266 --> 00:35:01.926 A:middle
controller specifies a preferred

00:35:01.926 --> 00:35:03.406 A:middle
style of light, and the second

00:35:03.556 --> 00:35:05.266 A:middle
view controller specifies a

00:35:05.266 --> 00:35:06.216 A:middle
preferred style dark.

00:35:06.586 --> 00:35:07.996 A:middle
When we switch tabs, we see that

00:35:07.996 --> 00:35:08.876 A:middle
the application's trait

00:35:08.876 --> 00:35:09.906 A:middle
collection automatically get

00:35:09.906 --> 00:35:11.636 A:middle
updated, as does the system

00:35:11.636 --> 00:35:12.166 A:middle
wallpaper.

00:35:14.076 --> 00:35:15.656 A:middle
So, we've added three new API

00:35:15.656 --> 00:35:16.836 A:middle
method for you to implement this

00:35:16.836 --> 00:35:17.586 A:middle
in your own apps.

00:35:17.946 --> 00:35:19.736 A:middle
First, we have a read only

00:35:19.736 --> 00:35:21.446 A:middle
property, called Preferred User

00:35:21.446 --> 00:35:22.426 A:middle
Interface Style that you

00:35:22.526 --> 00:35:23.436 A:middle
override in your View

00:35:23.436 --> 00:35:23.916 A:middle
Controller.

00:35:24.216 --> 00:35:25.746 A:middle
Here you can provide UI User

00:35:25.746 --> 00:35:28.066 A:middle
Interfaced Style, light, dark,

00:35:28.206 --> 00:35:29.586 A:middle
or unspecified, which means

00:35:29.586 --> 00:35:30.766 A:middle
follow the system style.

00:35:31.566 --> 00:35:33.056 A:middle
For most people, this is

00:35:33.056 --> 00:35:34.736 A:middle
probably enough to handle what

00:35:34.736 --> 00:35:35.066 A:middle
you want.

00:35:35.526 --> 00:35:36.966 A:middle
But if you're using custom view

00:35:36.966 --> 00:35:38.316 A:middle
controllers, and using Child

00:35:38.316 --> 00:35:39.306 A:middle
View Controller Containment,

00:35:39.586 --> 00:35:40.606 A:middle
there's two more methods that

00:35:40.606 --> 00:35:41.556 A:middle
you're going to want to use.

00:35:41.616 --> 00:35:43.406 A:middle
First, the Child View Controller

00:35:43.406 --> 00:35:44.546 A:middle
For User Interface Style, let's

00:35:44.546 --> 00:35:45.896 A:middle
you delegate that decision to

00:35:45.896 --> 00:35:46.626 A:middle
review controller.

00:35:47.006 --> 00:35:48.516 A:middle
In the case of tab bar

00:35:48.516 --> 00:35:50.456 A:middle
controller, the current selected

00:35:50.456 --> 00:35:51.806 A:middle
tab bar view controller -- or

00:35:51.806 --> 00:35:52.566 A:middle
the current selected View

00:35:52.566 --> 00:35:54.136 A:middle
Controller, gets returned here.

00:35:55.156 --> 00:35:56.476 A:middle
And then, when that change

00:35:56.476 --> 00:35:58.126 A:middle
occurs, you need to call Set

00:35:58.126 --> 00:35:59.766 A:middle
Needs User Interface Appearance

00:35:59.766 --> 00:36:00.166 A:middle
Update.

00:36:00.526 --> 00:36:01.736 A:middle
This lets the system know that a

00:36:01.736 --> 00:36:03.026 A:middle
change occurred and we can

00:36:03.026 --> 00:36:04.326 A:middle
refigure out what the preferred

00:36:04.326 --> 00:36:05.376 A:middle
style's going to be for your

00:36:05.376 --> 00:36:05.976 A:middle
application.

00:36:09.296 --> 00:36:11.086 A:middle
So, those are our View

00:36:11.086 --> 00:36:12.336 A:middle
Controller Enhancements today.

00:36:12.906 --> 00:36:14.456 A:middle
Let's take a look and see what

00:36:14.456 --> 00:36:14.876 A:middle
we covered.

00:36:15.416 --> 00:36:17.106 A:middle
First, we learned that on-demand

00:36:17.106 --> 00:36:18.486 A:middle
resources bundle size have been

00:36:18.486 --> 00:36:19.896 A:middle
increased from 200 megabytes to

00:36:19.896 --> 00:36:21.266 A:middle
4 gigabytes that allow you to

00:36:21.266 --> 00:36:22.526 A:middle
package more content on the

00:36:22.526 --> 00:36:23.866 A:middle
application install.

00:36:24.816 --> 00:36:26.696 A:middle
We learned that tvOS now

00:36:26.696 --> 00:36:28.346 A:middle
supports RTL languages, so make

00:36:28.346 --> 00:36:29.586 A:middle
sure to use the tools we provide

00:36:29.586 --> 00:36:31.896 A:middle
to test your layouts for those

00:36:31.896 --> 00:36:32.396 A:middle
languages.

00:36:32.966 --> 00:36:35.406 A:middle
We learned about new ways to do

00:36:35.406 --> 00:36:36.536 A:middle
work in the background to make

00:36:36.536 --> 00:36:37.866 A:middle
sure that your content's always

00:36:37.866 --> 00:36:39.226 A:middle
updated and ready for the user

00:36:39.226 --> 00:36:39.766 A:middle
when they launch your

00:36:39.766 --> 00:36:40.386 A:middle
application.

00:36:41.916 --> 00:36:43.486 A:middle
We talked about new AVKit

00:36:43.486 --> 00:36:44.576 A:middle
enhancements including, the

00:36:44.576 --> 00:36:45.796 A:middle
custom info views.

00:36:47.336 --> 00:36:49.046 A:middle
We also saw a new API on Image

00:36:49.046 --> 00:36:50.566 A:middle
Views, so you can make your

00:36:50.566 --> 00:36:52.686 A:middle
content more interactive for the

00:36:52.686 --> 00:36:53.016 A:middle
user.

00:36:54.896 --> 00:36:56.446 A:middle
And finally, we talked about how

00:36:56.446 --> 00:36:58.286 A:middle
to adapt your content, your

00:36:58.286 --> 00:36:59.506 A:middle
application's appearance to your

00:36:59.506 --> 00:37:00.986 A:middle
content, using preferred user

00:37:00.986 --> 00:37:01.676 A:middle
interface style.

00:37:02.236 --> 00:37:04.186 A:middle
If you'd like any more

00:37:04.186 --> 00:37:05.846 A:middle
information, please develop --

00:37:05.846 --> 00:37:06.546 A:middle
please visit

00:37:06.546 --> 00:37:08.036 A:middle
developer.apple.com.

00:37:08.996 --> 00:37:10.276 A:middle
If you want to expand on any of

00:37:10.276 --> 00:37:11.246 A:middle
the topics we have, we have a

00:37:11.246 --> 00:37:12.426 A:middle
lot of related sessions,

00:37:12.426 --> 00:37:13.796 A:middle
including a few videos this

00:37:13.796 --> 00:37:13.986 A:middle
year.

00:37:14.936 --> 00:37:16.066 A:middle
Thank you for coming and I hope

00:37:16.066 --> 00:37:16.716 A:middle
you enjoy the rest of the

00:37:16.716 --> 00:37:16.976 A:middle
conference.

00:37:17.508 --> 00:37:19.508 A:middle
[ Applause ]