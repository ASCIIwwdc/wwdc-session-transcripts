WEBVTT

00:00:00.506 --> 00:00:26.576 A:middle
[ Applause ]

00:00:27.076 --> 00:00:27.486 A:middle
&gt;&gt; Thank you.

00:00:27.766 --> 00:00:29.226 A:middle
Welcome everybody.

00:00:29.776 --> 00:00:30.606 A:middle
Good morning.

00:00:31.036 --> 00:00:31.466 A:middle
It's early.

00:00:31.556 --> 00:00:32.386 A:middle
I hope you had your coffee.

00:00:32.386 --> 00:00:33.496 A:middle
We have a lot to talk about

00:00:33.496 --> 00:00:33.736 A:middle
today.

00:00:34.686 --> 00:00:35.546 A:middle
Welcome to what's new in

00:00:35.546 --> 00:00:35.986 A:middle
HomeKit.

00:00:35.986 --> 00:00:39.456 A:middle
In iOS 11, watchOS 4 and tvvOS

00:00:39.456 --> 00:00:39.886 A:middle
11.

00:00:40.326 --> 00:00:42.476 A:middle
We have a ton of great features

00:00:42.476 --> 00:00:43.346 A:middle
and enhancements we'd like to

00:00:43.346 --> 00:00:45.226 A:middle
talk to you today about.

00:00:46.276 --> 00:00:47.876 A:middle
First, we will be providing an

00:00:47.876 --> 00:00:49.706 A:middle
overview of HomeKit as a

00:00:49.706 --> 00:00:50.176 A:middle
framework.

00:00:50.716 --> 00:00:53.166 A:middle
Second, we're going to be

00:00:53.166 --> 00:00:53.866 A:middle
talking about some of the

00:00:53.866 --> 00:00:55.106 A:middle
updates and enhancements to the

00:00:55.106 --> 00:00:56.886 A:middle
HomeKit framework in iOS 11.

00:00:57.436 --> 00:01:00.376 A:middle
And Praveen will be sharing some

00:01:00.376 --> 00:01:01.826 A:middle
exciting news about our

00:01:01.826 --> 00:01:02.716 A:middle
accessory ecosystem.

00:01:08.046 --> 00:01:10.076 A:middle
The HomeKit framework allows

00:01:10.076 --> 00:01:12.216 A:middle
your apps to easily set up and

00:01:12.216 --> 00:01:14.146 A:middle
control your HomeKit

00:01:14.146 --> 00:01:14.886 A:middle
accessories.

00:01:15.866 --> 00:01:17.886 A:middle
HomeKit provides a central store

00:01:18.356 --> 00:01:19.746 A:middle
for the configuration of your

00:01:19.746 --> 00:01:21.956 A:middle
home, including rooms,

00:01:22.486 --> 00:01:24.926 A:middle
accessories, automations and

00:01:24.926 --> 00:01:25.136 A:middle
more.

00:01:25.696 --> 00:01:27.866 A:middle
This configuration is

00:01:27.866 --> 00:01:29.096 A:middle
synchronized across all of your

00:01:29.096 --> 00:01:30.816 A:middle
apps and devices.

00:01:32.086 --> 00:01:33.946 A:middle
And HomeKit is deeply integrated

00:01:34.306 --> 00:01:36.976 A:middle
in iOS, Watch OS and TV OS.

00:01:46.096 --> 00:01:47.846 A:middle
You can control your accessories

00:01:48.226 --> 00:01:49.916 A:middle
and scenes directly with your

00:01:49.916 --> 00:01:54.466 A:middle
voice, using Siri, or using the

00:01:55.426 --> 00:01:57.776 A:middle
Home app, you can control all of

00:01:57.776 --> 00:02:00.726 A:middle
your accessories from any of

00:02:00.726 --> 00:02:01.406 A:middle
your devices.

00:02:01.936 --> 00:02:08.026 A:middle
And with just a swipe and a tap,

00:02:08.026 --> 00:02:09.256 A:middle
you can control your favorite

00:02:09.256 --> 00:02:11.396 A:middle
scenes and accessories right

00:02:11.396 --> 00:02:12.986 A:middle
from Control Center, and it has

00:02:13.086 --> 00:02:15.106 A:middle
really never been easier for you

00:02:15.106 --> 00:02:16.976 A:middle
to control your home.

00:02:19.196 --> 00:02:21.906 A:middle
And with an Apple TV or iPad as

00:02:21.906 --> 00:02:23.816 A:middle
your Home Hub, you can control

00:02:23.816 --> 00:02:25.396 A:middle
your accessories from just about

00:02:25.396 --> 00:02:26.746 A:middle
anywhere in the world.

00:02:27.686 --> 00:02:29.506 A:middle
And we are happy to say that in

00:02:29.506 --> 00:02:30.906 A:middle
addition to being a fantastic

00:02:30.906 --> 00:02:33.156 A:middle
speaker, the Home Pod will also

00:02:33.156 --> 00:02:34.786 A:middle
be added as a Home Hub later

00:02:34.866 --> 00:02:35.396 A:middle
this year.

00:02:36.016 --> 00:02:39.316 A:middle
And with a compatible home hub,

00:02:40.146 --> 00:02:42.396 A:middle
your home can be automated via

00:02:42.436 --> 00:02:44.106 A:middle
time and event-based triggers.

00:02:44.646 --> 00:02:47.806 A:middle
And with over 70 accessory

00:02:47.806 --> 00:02:50.136 A:middle
manufacturers, either bringing

00:02:50.136 --> 00:02:51.846 A:middle
accessories to market or already

00:02:51.846 --> 00:02:52.906 A:middle
have accessories on the market,

00:02:53.416 --> 00:02:54.556 A:middle
the number of HomeKit

00:02:54.556 --> 00:02:56.006 A:middle
accessories continues to grow

00:02:56.406 --> 00:02:57.036 A:middle
month over month.

00:02:57.506 --> 00:02:58.566 A:middle
It is super exciting.

00:03:00.056 --> 00:03:05.436 A:middle
We have a number of new features

00:03:05.436 --> 00:03:07.786 A:middle
to talk about in iOS 11 and

00:03:07.786 --> 00:03:09.666 A:middle
today we are going to focus on

00:03:09.666 --> 00:03:10.536 A:middle
event triggers.

00:03:11.096 --> 00:03:14.716 A:middle
Today, I'm happy to say that we

00:03:14.716 --> 00:03:18.316 A:middle
are introducing New Events, New

00:03:19.396 --> 00:03:23.186 A:middle
Conditions, support for End

00:03:24.156 --> 00:03:27.016 A:middle
Events, and Recurrences.

00:03:28.506 --> 00:03:30.446 A:middle
And finally we are talking about

00:03:30.676 --> 00:03:33.176 A:middle
the enhancement for Mutable

00:03:33.306 --> 00:03:33.806 A:middle
Events.

00:03:35.316 --> 00:03:36.336 A:middle
But before we dive into what is

00:03:36.336 --> 00:03:38.196 A:middle
new, I'd like to do a quick

00:03:38.196 --> 00:03:39.916 A:middle
overview of Event Triggers.

00:03:40.426 --> 00:03:45.826 A:middle
Event Triggers center around

00:03:45.826 --> 00:03:46.406 A:middle
events.

00:03:47.666 --> 00:03:49.656 A:middle
When an event fires, it

00:03:49.656 --> 00:03:51.746 A:middle
activates a trigger, and you can

00:03:51.746 --> 00:03:53.306 A:middle
have one or more events

00:03:53.306 --> 00:03:54.866 A:middle
associated to an event trigger.

00:03:55.946 --> 00:03:57.856 A:middle
We support two different types

00:03:57.886 --> 00:03:59.086 A:middle
of events today.

00:03:59.726 --> 00:04:01.666 A:middle
The first, when the state of an

00:04:01.666 --> 00:04:03.506 A:middle
accessory changes, such as

00:04:03.586 --> 00:04:05.646 A:middle
opening of a door, or turning on

00:04:06.206 --> 00:04:07.706 A:middle
a light.

00:04:07.966 --> 00:04:09.526 A:middle
Second, we support when a device

00:04:09.526 --> 00:04:11.596 A:middle
enters or leaves a geo region.

00:04:14.076 --> 00:04:19.396 A:middle
And when an event fires, and the

00:04:19.396 --> 00:04:21.186 A:middle
event trigger activates, it

00:04:21.186 --> 00:04:23.056 A:middle
executes one or more scenes.

00:04:23.756 --> 00:04:25.606 A:middle
And a scene is comprised of one

00:04:25.606 --> 00:04:27.356 A:middle
or more actions, such as

00:04:28.036 --> 00:04:30.186 A:middle
unlocking my door, or turning on

00:04:30.186 --> 00:04:30.786 A:middle
my lights.

00:04:34.816 --> 00:04:37.266 A:middle
And you can gate the execution

00:04:37.526 --> 00:04:39.436 A:middle
of a scene when a trigger is

00:04:39.436 --> 00:04:41.486 A:middle
activated via conditions.

00:04:42.346 --> 00:04:43.886 A:middle
And we support a number of

00:04:43.886 --> 00:04:45.306 A:middle
different types of conditions.

00:04:46.146 --> 00:04:49.606 A:middle
First, based on the current

00:04:50.336 --> 00:04:50.446 A:middle
time.

00:04:53.116 --> 00:04:55.646 A:middle
Second, based on the current

00:04:55.696 --> 00:04:57.126 A:middle
state of an accessory.

00:04:57.536 --> 00:04:59.746 A:middle
Excuse me.

00:04:59.976 --> 00:05:04.586 A:middle
And last, based on the relative

00:05:04.676 --> 00:05:07.876 A:middle
time to significant events, such

00:05:07.876 --> 00:05:13.026 A:middle
as sunrise and sunset.

00:05:13.706 --> 00:05:20.366 A:middle
Now, as an example, When we

00:05:21.286 --> 00:05:26.076 A:middle
arrive home and we open our

00:05:26.076 --> 00:05:27.856 A:middle
door, and in this case, opening

00:05:27.856 --> 00:05:29.356 A:middle
the door is our event.

00:05:29.726 --> 00:05:33.816 A:middle
And after dark, this is our

00:05:33.816 --> 00:05:34.336 A:middle
condition.

00:05:34.896 --> 00:05:37.226 A:middle
And it is based on a significant

00:05:37.226 --> 00:05:38.266 A:middle
event of sunset.

00:05:39.446 --> 00:05:41.506 A:middle
We want to say execute our

00:05:41.506 --> 00:05:43.156 A:middle
arrive home scene.

00:05:44.486 --> 00:05:45.996 A:middle
And that is an event trigger.

00:05:46.536 --> 00:05:49.926 A:middle
And we have a number of

00:05:49.926 --> 00:05:51.856 A:middle
enhancements and new features

00:05:51.856 --> 00:05:52.626 A:middle
for event triggers.

00:05:53.176 --> 00:05:55.206 A:middle
The first of which is support

00:05:55.206 --> 00:05:57.886 A:middle
for date-based events, via

00:05:57.886 --> 00:05:58.716 A:middle
HMCalendarEvent.

00:05:59.826 --> 00:06:01.766 A:middle
This provides an improved

00:06:01.886 --> 00:06:03.846 A:middle
scheduling capability over HM

00:06:03.846 --> 00:06:04.666 A:middle
timer triggers.

00:06:05.236 --> 00:06:06.616 A:middle
You can now take advantage of

00:06:06.616 --> 00:06:07.526 A:middle
all the features of the

00:06:07.576 --> 00:06:09.936 A:middle
triggers, such as conditions,

00:06:10.266 --> 00:06:11.176 A:middle
and some of the other features

00:06:11.176 --> 00:06:12.366 A:middle
we are going to be talking about

00:06:12.366 --> 00:06:12.726 A:middle
shortly.

00:06:13.616 --> 00:06:16.476 A:middle
And we support dates based on

00:06:16.506 --> 00:06:19.876 A:middle
year, month, day, and hour

00:06:19.996 --> 00:06:20.846 A:middle
minute combination.

00:06:21.386 --> 00:06:24.316 A:middle
Now, as an example, let's go

00:06:24.316 --> 00:06:25.586 A:middle
ahead and create an event

00:06:25.586 --> 00:06:27.916 A:middle
trigger which executes at 5:30

00:06:27.916 --> 00:06:29.316 A:middle
p.m. every day.

00:06:29.866 --> 00:06:32.786 A:middle
First, we are going to create

00:06:32.786 --> 00:06:33.806 A:middle
our date component.

00:06:34.696 --> 00:06:35.586 A:middle
In this case, we are going to

00:06:35.586 --> 00:06:37.896 A:middle
set two properties, the hour

00:06:37.896 --> 00:06:40.756 A:middle
property to 17, indicates 5:00

00:06:40.856 --> 00:06:43.376 A:middle
p.m. Second, we are going to set

00:06:43.376 --> 00:06:45.046 A:middle
the minute property to 30, and

00:06:45.316 --> 00:06:47.416 A:middle
this indicates 30 minutes after

00:06:47.416 --> 00:06:52.566 A:middle
5:00 p.m. We then simply create

00:06:52.566 --> 00:06:56.206 A:middle
our HMCalendarEvent, and we

00:06:56.386 --> 00:06:58.106 A:middle
specify our recently created

00:06:58.376 --> 00:06:59.116 A:middle
date component.

00:06:59.746 --> 00:07:02.256 A:middle
Now, we have just created an

00:07:02.256 --> 00:07:05.466 A:middle
event which will fire at 5:30

00:07:05.906 --> 00:07:06.376 A:middle
every day.

00:07:07.406 --> 00:07:09.196 A:middle
We then simply create our

00:07:09.196 --> 00:07:14.606 A:middle
HMEventTrigger, and we're going

00:07:14.606 --> 00:07:15.596 A:middle
to give it a friendly name.

00:07:15.596 --> 00:07:17.066 A:middle
In this case, we are going to

00:07:17.066 --> 00:07:19.046 A:middle
call it Every day at 5:30 p.m.,

00:07:19.046 --> 00:07:21.346 A:middle
and then we specify our

00:07:21.346 --> 00:07:22.926 A:middle
collection of events.

00:07:23.036 --> 00:07:24.316 A:middle
In this case, a single event,

00:07:24.656 --> 00:07:26.086 A:middle
our HMCalendarEvent.

00:07:26.736 --> 00:07:29.226 A:middle
And now, in iOS 11, it is that

00:07:29.226 --> 00:07:30.556 A:middle
easy to create event-based

00:07:30.556 --> 00:07:32.366 A:middle
triggers based on times of the

00:07:32.366 --> 00:07:34.226 A:middle
day or specific dates.

00:07:34.986 --> 00:07:36.716 A:middle
We have also added support for

00:07:36.716 --> 00:07:38.986 A:middle
significant time events, via

00:07:38.986 --> 00:07:40.446 A:middle
HMSignificantTimeEvent.

00:07:40.916 --> 00:07:44.036 A:middle
This activates on significant

00:07:44.266 --> 00:07:48.816 A:middle
events, such as sunrise, and

00:07:48.816 --> 00:07:49.186 A:middle
sunset.

00:07:49.796 --> 00:07:52.726 A:middle
And we support a relative time

00:07:52.726 --> 00:07:53.846 A:middle
offset to these significant

00:07:53.846 --> 00:07:56.276 A:middle
events, both positive and

00:07:56.276 --> 00:07:56.626 A:middle
negative.

00:07:57.296 --> 00:08:00.266 A:middle
And this means you can schedule

00:08:00.266 --> 00:08:02.396 A:middle
events to fire, say one hour

00:08:02.866 --> 00:08:03.806 A:middle
after sunrise.

00:08:03.806 --> 00:08:06.376 A:middle
Now, let's go ahead and create

00:08:06.516 --> 00:08:07.546 A:middle
another event trigger.

00:08:07.596 --> 00:08:10.266 A:middle
This time, we want it to fire at

00:08:10.646 --> 00:08:13.876 A:middle
sunrise every day.

00:08:19.046 --> 00:08:19.396 A:middle
There we go.

00:08:20.076 --> 00:08:21.326 A:middle
First, we create our

00:08:21.326 --> 00:08:23.556 A:middle
HMSignificantTimeEvent, and we

00:08:23.556 --> 00:08:25.586 A:middle
are going to specify sunrise as

00:08:25.586 --> 00:08:27.236 A:middle
our significant event.

00:08:27.876 --> 00:08:31.416 A:middle
And we also specify our offset

00:08:31.806 --> 00:08:32.206 A:middle
to be nil.

00:08:34.506 --> 00:08:36.036 A:middle
Now, this indicates that we want

00:08:36.036 --> 00:08:38.616 A:middle
our event to fire at sunrise,

00:08:38.726 --> 00:08:40.666 A:middle
not before, and not after.

00:08:41.526 --> 00:08:42.716 A:middle
We then simply create our

00:08:42.716 --> 00:08:44.516 A:middle
HMEventTrigger, same as we did

00:08:44.516 --> 00:08:47.406 A:middle
before, and we specify this time

00:08:47.406 --> 00:08:49.166 A:middle
our sunrise event as a single

00:08:49.396 --> 00:08:50.366 A:middle
firing event.

00:08:54.256 --> 00:08:58.196 A:middle
We've also added a convenience

00:08:58.726 --> 00:09:01.636 A:middle
to iOS 11 to allow you to easily

00:09:01.636 --> 00:09:03.696 A:middle
create a condition which is

00:09:03.696 --> 00:09:05.606 A:middle
between two significant events,

00:09:06.446 --> 00:09:08.306 A:middle
and note, that because these

00:09:08.306 --> 00:09:09.426 A:middle
take significant events, they

00:09:09.426 --> 00:09:10.966 A:middle
support a relative time offset.

00:09:11.896 --> 00:09:14.166 A:middle
So, for instance, I can create a

00:09:14.166 --> 00:09:15.686 A:middle
condition which gates the

00:09:15.686 --> 00:09:18.776 A:middle
execution of my scene from say

00:09:19.076 --> 00:09:21.336 A:middle
one hour after sunset, to one

00:09:21.336 --> 00:09:22.756 A:middle
hour before sunrise.

00:09:23.896 --> 00:09:25.136 A:middle
This is available on

00:09:25.136 --> 00:09:27.906 A:middle
HMEventTrigger via predicate for

00:09:27.906 --> 00:09:29.486 A:middle
evaluating trigger occurring

00:09:29.486 --> 00:09:31.686 A:middle
between significant events.

00:09:33.436 --> 00:09:37.596 A:middle
In iOS 11, we have also added

00:09:37.596 --> 00:09:40.676 A:middle
support for creating a event

00:09:41.076 --> 00:09:42.056 A:middle
which executes when a

00:09:42.316 --> 00:09:44.586 A:middle
characteristic value crosses a

00:09:44.676 --> 00:09:46.266 A:middle
threshold value.

00:09:46.946 --> 00:09:50.836 A:middle
Now, for example, we could

00:09:50.836 --> 00:09:52.756 A:middle
execute when the temperature

00:09:52.956 --> 00:09:55.956 A:middle
rises above 76 degrees in our

00:09:57.226 --> 00:09:57.326 A:middle
home.

00:09:58.776 --> 00:10:00.856 A:middle
We could also execute when the

00:10:00.856 --> 00:10:03.396 A:middle
temperature drops below 68

00:10:03.836 --> 00:10:05.636 A:middle
degrees in our home.

00:10:06.256 --> 00:10:08.166 A:middle
And finally, we could execute

00:10:08.166 --> 00:10:10.146 A:middle
when the temperature is between

00:10:10.306 --> 00:10:12.756 A:middle
68 and say 76 degrees in our

00:10:12.756 --> 00:10:12.976 A:middle
home.

00:10:12.976 --> 00:10:15.856 A:middle
Now, let's go ahead and build an

00:10:15.856 --> 00:10:16.296 A:middle
example.

00:10:16.776 --> 00:10:18.736 A:middle
We want to create an event

00:10:18.736 --> 00:10:20.546 A:middle
trigger which executes when the

00:10:20.546 --> 00:10:21.886 A:middle
temperature in our home rises

00:10:21.886 --> 00:10:23.666 A:middle
above 76 degrees.

00:10:24.256 --> 00:10:27.306 A:middle
To do this, we first create an

00:10:27.306 --> 00:10:28.116 A:middle
HMNumberRange.

00:10:28.666 --> 00:10:31.156 A:middle
Now, note, HMNumberRange is what

00:10:31.156 --> 00:10:32.516 A:middle
specifies our range between a

00:10:32.516 --> 00:10:34.216 A:middle
minimum and maximum value.

00:10:34.216 --> 00:10:36.056 A:middle
And we have provided two

00:10:36.056 --> 00:10:37.786 A:middle
convenience initializers for you

00:10:37.786 --> 00:10:38.996 A:middle
to create a range within a

00:10:38.996 --> 00:10:41.736 A:middle
minimum or a maximum value only.

00:10:42.706 --> 00:10:44.426 A:middle
In this case, we are providing

00:10:44.426 --> 00:10:46.846 A:middle
the minimum value to be 76.

00:10:47.876 --> 00:10:49.076 A:middle
And our maximum value in this

00:10:49.076 --> 00:10:50.806 A:middle
case is an arbitrary large

00:10:50.806 --> 00:10:52.326 A:middle
number, let's say it is positive

00:10:52.326 --> 00:10:52.756 A:middle
infinity.

00:10:53.316 --> 00:10:55.646 A:middle
We then create our HM

00:10:55.646 --> 00:10:57.156 A:middle
Characteristic Threshold Range

00:10:57.156 --> 00:10:57.526 A:middle
Event.

00:10:58.476 --> 00:10:59.486 A:middle
And we specify our target

00:10:59.486 --> 00:11:00.216 A:middle
characteristic.

00:11:01.066 --> 00:11:02.276 A:middle
In this case, it is a

00:11:02.386 --> 00:11:03.426 A:middle
temperature characteristic,

00:11:03.426 --> 00:11:04.876 A:middle
which can be a temperature

00:11:04.876 --> 00:11:06.386 A:middle
sensor, or it can be a

00:11:06.386 --> 00:11:06.906 A:middle
thermostat.

00:11:08.556 --> 00:11:09.906 A:middle
We then simply provide our

00:11:09.906 --> 00:11:11.456 A:middle
threshold range, which was our

00:11:11.456 --> 00:11:13.606 A:middle
recently created range of 76

00:11:13.736 --> 00:11:14.266 A:middle
degrees.

00:11:14.776 --> 00:11:17.686 A:middle
We then, as we've done before,

00:11:17.966 --> 00:11:20.036 A:middle
create our HMEventTrigger, and

00:11:20.036 --> 00:11:22.946 A:middle
this time, we specify our single

00:11:22.946 --> 00:11:24.936 A:middle
firing event, which is our

00:11:25.876 --> 00:11:28.076 A:middle
characteristic threshold range

00:11:28.076 --> 00:11:28.396 A:middle
event.

00:11:28.836 --> 00:11:32.146 A:middle
There we go.

00:11:32.996 --> 00:11:36.296 A:middle
Now, the state of our homes are

00:11:36.326 --> 00:11:37.826 A:middle
often tied to whether or not

00:11:37.826 --> 00:11:39.626 A:middle
users are in or out of the home.

00:11:41.136 --> 00:11:42.856 A:middle
For instance, I don't like to

00:11:42.856 --> 00:11:44.536 A:middle
run my air conditioning or have

00:11:44.536 --> 00:11:47.326 A:middle
lights on in my home when no one

00:11:47.326 --> 00:11:47.926 A:middle
is home.

00:11:48.966 --> 00:11:50.286 A:middle
I am happy to say that in iOS

00:11:50.286 --> 00:11:52.396 A:middle
11, this is now supported via

00:11:52.396 --> 00:11:53.566 A:middle
HMPresenceEvent [applause].

00:11:54.676 --> 00:11:57.816 A:middle
It is super cool.

00:11:57.906 --> 00:11:58.526 A:middle
You are going to love it.

00:11:59.556 --> 00:12:01.216 A:middle
We support a number of different

00:12:01.216 --> 00:12:01.966 A:middle
types of events.

00:12:02.366 --> 00:12:05.436 A:middle
Excuse me.

00:12:05.916 --> 00:12:07.806 A:middle
There we go.

00:12:08.486 --> 00:12:10.396 A:middle
First, when the current user,

00:12:10.856 --> 00:12:12.996 A:middle
that is the device that we are

00:12:13.936 --> 00:12:16.396 A:middle
talking about, arrives home.

00:12:16.936 --> 00:12:23.186 A:middle
On the other hand, we can also

00:12:23.186 --> 00:12:24.466 A:middle
support when the current user

00:12:25.496 --> 00:12:25.956 A:middle
leaves home.

00:12:27.546 --> 00:12:29.786 A:middle
Now, these two replace, or don't

00:12:29.786 --> 00:12:31.576 A:middle
replace, but they augment

00:12:31.576 --> 00:12:33.546 A:middle
HMLocationEvents, but instead of

00:12:33.546 --> 00:12:35.236 A:middle
tracking a single device, they

00:12:35.236 --> 00:12:36.356 A:middle
now track a user.

00:12:37.796 --> 00:12:40.286 A:middle
We've also added support for

00:12:40.286 --> 00:12:41.586 A:middle
multiple users of the home, in

00:12:41.586 --> 00:12:42.776 A:middle
fact, all users of the home.

00:12:43.676 --> 00:12:45.876 A:middle
For instance, we support when

00:12:45.876 --> 00:12:47.576 A:middle
the last user leaves home.

00:12:48.606 --> 00:12:50.496 A:middle
Now note, this indicates that

00:12:50.496 --> 00:12:52.106 A:middle
your home is now unoccupied.

00:12:52.976 --> 00:12:54.126 A:middle
It is a good time to do things

00:12:54.126 --> 00:12:55.756 A:middle
such as turn off the lights,

00:12:56.286 --> 00:12:57.526 A:middle
turn down the air conditioning,

00:12:58.586 --> 00:12:59.586 A:middle
even lock the doors.

00:13:00.096 --> 00:13:03.926 A:middle
And finally, of course, we

00:13:03.926 --> 00:13:05.316 A:middle
support when the first user

00:13:05.316 --> 00:13:05.996 A:middle
arrives home.

00:13:06.726 --> 00:13:07.676 A:middle
And this indicates that your

00:13:07.676 --> 00:13:09.936 A:middle
home is now occupied, and in

00:13:09.936 --> 00:13:11.396 A:middle
this case, it may be good for

00:13:11.396 --> 00:13:13.026 A:middle
you to do things like turn down

00:13:13.026 --> 00:13:14.606 A:middle
the air conditioning, turn on

00:13:14.606 --> 00:13:16.506 A:middle
some lights, unlock the doors.

00:13:16.506 --> 00:13:18.936 A:middle
Now, let's go ahead and build

00:13:18.936 --> 00:13:20.336 A:middle
this last example, where we

00:13:20.336 --> 00:13:21.916 A:middle
create an event trigger which

00:13:21.916 --> 00:13:23.286 A:middle
executes when the first user

00:13:23.286 --> 00:13:23.956 A:middle
arrives home.

00:13:26.416 --> 00:13:28.286 A:middle
First, we create our

00:13:28.286 --> 00:13:30.696 A:middle
HMPresenceEvent, and we are

00:13:30.696 --> 00:13:31.906 A:middle
going to specify our presence

00:13:31.906 --> 00:13:34.466 A:middle
type to be any user at home.

00:13:35.416 --> 00:13:36.726 A:middle
Now, this indicates that we want

00:13:36.726 --> 00:13:40.526 A:middle
our event to fire when the first

00:13:40.526 --> 00:13:41.826 A:middle
user arrives home.

00:13:42.376 --> 00:13:44.816 A:middle
We then, just as we have done

00:13:44.816 --> 00:13:46.686 A:middle
before, create an

00:13:47.106 --> 00:13:48.886 A:middle
HMEventTrigger, and we specify

00:13:48.886 --> 00:13:50.446 A:middle
our single firing event, in this

00:13:50.446 --> 00:13:52.346 A:middle
case, which is our presence

00:13:52.386 --> 00:13:52.786 A:middle
event.

00:13:53.396 --> 00:13:55.716 A:middle
And you probably know what I am

00:13:55.716 --> 00:13:57.076 A:middle
going to say, but it really is

00:13:57.076 --> 00:14:00.116 A:middle
that easy in iOS 11 to create

00:14:00.116 --> 00:14:02.236 A:middle
user presence based automations,

00:14:02.266 --> 00:14:03.946 A:middle
and it is super cool, and we are

00:14:03.946 --> 00:14:05.306 A:middle
super excited for you to try it

00:14:05.306 --> 00:14:06.826 A:middle
out, and provide some enhanced

00:14:06.826 --> 00:14:08.366 A:middle
features to your client, or your

00:14:08.366 --> 00:14:11.416 A:middle
app users, excuse me.

00:14:12.226 --> 00:14:13.796 A:middle
Now, we didn't stop there.

00:14:14.716 --> 00:14:17.216 A:middle
We have also added support for

00:14:17.436 --> 00:14:19.656 A:middle
user presence conditions.

00:14:20.956 --> 00:14:23.676 A:middle
Now, for example, let's say that

00:14:23.676 --> 00:14:25.986 A:middle
normally we want to execute our

00:14:25.986 --> 00:14:27.876 A:middle
good morning scene when we wake

00:14:27.876 --> 00:14:29.716 A:middle
up, or when the sun rises.

00:14:30.226 --> 00:14:34.316 A:middle
But it doesn't make sense for us

00:14:34.316 --> 00:14:35.816 A:middle
to execute this if no one is

00:14:35.816 --> 00:14:36.016 A:middle
home.

00:14:36.586 --> 00:14:39.726 A:middle
In iOS 11, you can now gate the

00:14:39.726 --> 00:14:41.806 A:middle
execution of scenes based on

00:14:41.806 --> 00:14:44.106 A:middle
user presence via user presence

00:14:44.106 --> 00:14:44.806 A:middle
conditions.

00:14:48.516 --> 00:14:49.856 A:middle
This is available on

00:14:50.496 --> 00:14:53.516 A:middle
HMEventTrigger via predicate for

00:14:53.516 --> 00:14:55.146 A:middle
evaluating trigger with

00:14:55.266 --> 00:14:55.836 A:middle
presence.

00:14:56.666 --> 00:14:58.066 A:middle
And note that it takes a

00:14:58.116 --> 00:14:58.876 A:middle
presence event.

00:14:59.516 --> 00:15:05.006 A:middle
Now, let's go ahead and add a

00:15:05.136 --> 00:15:07.006 A:middle
presence condition to our

00:15:07.006 --> 00:15:08.996 A:middle
previous sunrise event trigger

00:15:09.366 --> 00:15:11.776 A:middle
and take a look at what it looks

00:15:14.876 --> 00:15:14.986 A:middle
like.

00:15:15.836 --> 00:15:18.236 A:middle
First, we are going to create

00:15:18.576 --> 00:15:20.276 A:middle
our significant time event,

00:15:20.496 --> 00:15:21.596 A:middle
which is our sunrise event,

00:15:22.006 --> 00:15:24.326 A:middle
specifying no offset, same as we

00:15:24.326 --> 00:15:24.846 A:middle
did before.

00:15:25.376 --> 00:15:27.106 A:middle
We then create our

00:15:27.106 --> 00:15:30.576 A:middle
HMPresenceEvent, again same as

00:15:30.576 --> 00:15:32.756 A:middle
we did before, specifying any

00:15:32.756 --> 00:15:33.826 A:middle
user at home.

00:15:34.396 --> 00:15:37.626 A:middle
We then create our condition via

00:15:38.026 --> 00:15:41.356 A:middle
HMEventTrigger, predicate for

00:15:41.356 --> 00:15:43.376 A:middle
evaluating trigger with

00:15:43.406 --> 00:15:45.206 A:middle
presence, and we specify our

00:15:45.206 --> 00:15:46.066 A:middle
presenceEvent.

00:15:47.416 --> 00:15:49.046 A:middle
And then we create our

00:15:49.046 --> 00:15:49.626 A:middle
HMEventTrigger.

00:15:50.676 --> 00:15:52.976 A:middle
Now, this time, we are going to

00:15:52.976 --> 00:15:55.176 A:middle
specify our condition as the

00:15:55.176 --> 00:15:57.006 A:middle
predicate for the event trigger.

00:15:59.206 --> 00:16:05.746 A:middle
And now, and now we have just

00:16:05.746 --> 00:16:07.586 A:middle
created an event trigger which

00:16:07.586 --> 00:16:09.916 A:middle
will fire every day at sunrise,

00:16:10.216 --> 00:16:11.556 A:middle
but will only execute the

00:16:11.556 --> 00:16:13.336 A:middle
associated scenes when there is

00:16:13.336 --> 00:16:14.526 A:middle
a user at home.

00:16:19.696 --> 00:16:22.156 A:middle
If you're like me, we often want

00:16:22.156 --> 00:16:23.926 A:middle
to execute a trigger, but only

00:16:23.926 --> 00:16:24.606 A:middle
temporarily.

00:16:26.036 --> 00:16:29.516 A:middle
For instance, when I open my

00:16:29.516 --> 00:16:32.846 A:middle
patio door at night, I want my

00:16:32.846 --> 00:16:36.266 A:middle
patio light to turn on, but

00:16:36.266 --> 00:16:38.866 A:middle
after say 10 minutes, I want my

00:16:38.866 --> 00:16:40.436 A:middle
patio light to turn off

00:16:41.016 --> 00:16:41.686 A:middle
automatically.

00:16:42.466 --> 00:16:46.016 A:middle
And this is now possible in iOS

00:16:46.016 --> 00:16:49.626 A:middle
11 via EndEvents

00:16:49.689 --> 00:16:51.689 A:middle
[ Applause ]

00:16:51.752 --> 00:16:53.752 A:middle
.

00:16:53.816 --> 00:16:54.936 A:middle
EndEvents are available on

00:16:54.936 --> 00:16:57.726 A:middle
HMEventTrigger, and they return

00:16:57.726 --> 00:16:59.666 A:middle
a collection of HMEvents.

00:17:00.226 --> 00:17:04.736 A:middle
And you can update the existing

00:17:04.736 --> 00:17:07.866 A:middle
events or EndEvents for an event

00:17:07.866 --> 00:17:10.036 A:middle
trigger via update end events

00:17:10.096 --> 00:17:10.946 A:middle
with completionHandler.

00:17:21.046 --> 00:17:22.676 A:middle
Now, we have added a new event

00:17:23.336 --> 00:17:24.196 A:middle
for EndEvents.

00:17:24.666 --> 00:17:25.866 A:middle
HMDurationEvent.

00:17:26.516 --> 00:17:27.896 A:middle
This allows you to specify a

00:17:27.896 --> 00:17:29.976 A:middle
time interval from the trigger's

00:17:30.056 --> 00:17:32.406 A:middle
execution time, at which point

00:17:32.406 --> 00:17:36.116 A:middle
to end the event.

00:17:37.156 --> 00:17:39.646 A:middle
Now, on a similar note, we often

00:17:39.646 --> 00:17:41.596 A:middle
want a trigger to execute only

00:17:41.596 --> 00:17:44.656 A:middle
on certain days of the week, and

00:17:44.656 --> 00:17:46.086 A:middle
this is now possible via

00:17:46.186 --> 00:17:47.366 A:middle
Recurrences.

00:17:49.096 --> 00:17:50.576 A:middle
Recurrences are available on

00:17:50.646 --> 00:17:53.676 A:middle
HMEventTrigger, and they return

00:17:53.856 --> 00:17:55.516 A:middle
an optional collection of date

00:17:55.516 --> 00:17:57.246 A:middle
components which specify the

00:17:57.246 --> 00:17:58.786 A:middle
days of the week for which the

00:17:58.786 --> 00:18:00.136 A:middle
trigger is active.

00:18:01.336 --> 00:18:03.256 A:middle
And you can update an existing

00:18:03.256 --> 00:18:04.896 A:middle
event trigger with new

00:18:04.896 --> 00:18:06.246 A:middle
occurrences via Update

00:18:06.246 --> 00:18:08.066 A:middle
Recurrences with

00:18:08.106 --> 00:18:08.976 A:middle
completionHandler.

00:18:09.376 --> 00:18:13.606 A:middle
Now, as an example, I like to

00:18:13.606 --> 00:18:15.016 A:middle
get up just a little later on

00:18:15.016 --> 00:18:16.126 A:middle
the weekends, as I'm sure many

00:18:16.126 --> 00:18:16.866 A:middle
of you do.

00:18:17.246 --> 00:18:18.756 A:middle
So I don't want my Good Morning

00:18:18.876 --> 00:18:20.616 A:middle
Scene to automatically execute

00:18:20.966 --> 00:18:22.146 A:middle
an hour after sunrise.

00:18:22.926 --> 00:18:25.606 A:middle
Instead, I'd like to use Siri to

00:18:25.606 --> 00:18:26.756 A:middle
go ahead and say, "Good

00:18:26.756 --> 00:18:27.066 A:middle
morning."

00:18:27.826 --> 00:18:29.376 A:middle
So let's go ahead and gate our

00:18:29.446 --> 00:18:31.386 A:middle
previous sunrise event trigger

00:18:31.786 --> 00:18:34.856 A:middle
to only execute during the week,

00:18:35.116 --> 00:18:36.516 A:middle
Monday through Friday.

00:18:37.166 --> 00:18:41.546 A:middle
To do this, we create our

00:18:41.546 --> 00:18:43.826 A:middle
HMSignificantTimeEvent, same as

00:18:43.826 --> 00:18:44.486 A:middle
we did before.

00:18:46.456 --> 00:18:51.176 A:middle
Then we create our collection of

00:18:51.176 --> 00:18:52.106 A:middle
DateComponents.

00:18:52.586 --> 00:18:53.616 A:middle
We are going to call these

00:18:53.616 --> 00:18:57.656 A:middle
weekdays, then for each day of

00:18:57.656 --> 00:18:59.826 A:middle
the week, Monday through Friday,

00:19:00.416 --> 00:19:02.016 A:middle
we create a new DateComponent,

00:19:02.176 --> 00:19:03.306 A:middle
and we specify the weekday

00:19:03.386 --> 00:19:04.786 A:middle
property to be the current day

00:19:04.786 --> 00:19:06.696 A:middle
of the week, then we simply add

00:19:06.696 --> 00:19:08.476 A:middle
this to our weekdays collection.

00:19:08.956 --> 00:19:12.566 A:middle
And then when we create our

00:19:12.566 --> 00:19:15.666 A:middle
HmeventTrigger, we specify our

00:19:15.666 --> 00:19:17.956 A:middle
collection of recurrences, which

00:19:17.956 --> 00:19:19.676 A:middle
are date components, as

00:19:19.676 --> 00:19:21.526 A:middle
recurrences are of our

00:19:21.526 --> 00:19:22.066 A:middle
EventTrigger.

00:19:23.316 --> 00:19:25.386 A:middle
And this allows us to restrict

00:19:25.386 --> 00:19:28.076 A:middle
the execution of event triggers

00:19:28.366 --> 00:19:34.506 A:middle
based on the day of the week.

00:19:34.506 --> 00:19:36.826 A:middle
But furthermore, we also

00:19:37.316 --> 00:19:38.586 A:middle
sometimes want to create an

00:19:38.586 --> 00:19:40.326 A:middle
event trigger which only

00:19:40.356 --> 00:19:42.336 A:middle
executes once, and then auto

00:19:42.336 --> 00:19:43.206 A:middle
disables itself.

00:19:45.216 --> 00:19:48.896 A:middle
This is now possible via Execute

00:19:48.896 --> 00:19:49.266 A:middle
Once.

00:19:49.936 --> 00:19:54.286 A:middle
As an example, you may want to

00:19:54.416 --> 00:19:57.096 A:middle
create an event trigger that

00:19:57.096 --> 00:19:58.826 A:middle
executes tomorrow at sunset, but

00:19:59.816 --> 00:20:00.946 A:middle
you don't want it to repeat.

00:20:01.636 --> 00:20:04.336 A:middle
It is a great feature, and we

00:20:04.336 --> 00:20:05.266 A:middle
are excited for you to try it

00:20:05.266 --> 00:20:05.416 A:middle
out.

00:20:06.166 --> 00:20:07.426 A:middle
This is available on

00:20:07.426 --> 00:20:10.916 A:middle
HMEventTrigger via the Execute

00:20:10.916 --> 00:20:12.456 A:middle
Once property, and you can

00:20:12.456 --> 00:20:16.106 A:middle
update an existing or new event

00:20:16.106 --> 00:20:18.076 A:middle
trigger to only execute one time

00:20:18.476 --> 00:20:20.436 A:middle
via update executeOnce with

00:20:20.436 --> 00:20:21.296 A:middle
completionHandler.

00:20:24.836 --> 00:20:28.086 A:middle
The last, we've heard your

00:20:28.086 --> 00:20:29.966 A:middle
feedback and we understand how

00:20:30.096 --> 00:20:31.766 A:middle
difficult it currently is to

00:20:31.766 --> 00:20:34.556 A:middle
update existing events on an

00:20:34.556 --> 00:20:35.216 A:middle
event trigger.

00:20:36.586 --> 00:20:37.816 A:middle
Let's take an example.

00:20:38.576 --> 00:20:39.676 A:middle
If you were building an app and

00:20:39.676 --> 00:20:42.066 A:middle
updating a single event, you

00:20:42.176 --> 00:20:43.826 A:middle
first had to copy the properties

00:20:43.826 --> 00:20:45.146 A:middle
of that event in your

00:20:45.146 --> 00:20:47.646 A:middle
application, then you had to

00:20:47.646 --> 00:20:49.016 A:middle
allow the user to modify that

00:20:49.016 --> 00:20:49.346 A:middle
event.

00:20:50.686 --> 00:20:51.866 A:middle
Once the user completed their

00:20:51.866 --> 00:20:53.766 A:middle
changes, you had to create a

00:20:53.766 --> 00:20:56.456 A:middle
brand new HMEvent with the new

00:20:56.456 --> 00:20:59.816 A:middle
properties then you had to

00:20:59.816 --> 00:21:01.926 A:middle
remove the existing event, via

00:21:01.926 --> 00:21:02.906 A:middle
removeEvent with

00:21:02.906 --> 00:21:03.756 A:middle
completionHandler.

00:21:04.436 --> 00:21:06.286 A:middle
And then add the new event via

00:21:06.626 --> 00:21:08.346 A:middle
addEvent with completionHandler.

00:21:08.946 --> 00:21:10.406 A:middle
And this is a number of steps to

00:21:10.406 --> 00:21:11.816 A:middle
update just one single event.

00:21:12.316 --> 00:21:15.256 A:middle
And so in iOS 11 we have made it

00:21:15.296 --> 00:21:17.246 A:middle
simpler via a single method

00:21:17.526 --> 00:21:18.446 A:middle
updateEvents with

00:21:18.446 --> 00:21:19.256 A:middle
completionHandler.

00:21:19.906 --> 00:21:21.576 A:middle
Now this takes a collection of

00:21:21.576 --> 00:21:23.576 A:middle
HMEvents which represent the new

00:21:23.576 --> 00:21:25.086 A:middle
events for an event trigger.

00:21:25.176 --> 00:21:28.916 A:middle
And we have also added support

00:21:29.186 --> 00:21:32.696 A:middle
for all defined HMEvents for

00:21:32.696 --> 00:21:33.596 A:middle
mutable copies.

00:21:34.766 --> 00:21:36.666 A:middle
So what does this mean?

00:21:36.696 --> 00:21:37.786 A:middle
You can now simply take a

00:21:37.786 --> 00:21:39.646 A:middle
mutable copy of an existing

00:21:39.646 --> 00:21:42.556 A:middle
event, make any changes the user

00:21:42.556 --> 00:21:44.576 A:middle
has requested, and then commit

00:21:44.576 --> 00:21:46.326 A:middle
those changes via updateOnce

00:21:46.706 --> 00:21:47.616 A:middle
with completionHandler.

00:21:48.876 --> 00:21:50.026 A:middle
Let's go ahead and see an

00:21:50.026 --> 00:21:51.616 A:middle
example of updating our previous

00:21:51.676 --> 00:21:54.056 A:middle
sunrise event trigger to execute

00:21:54.226 --> 00:21:56.696 A:middle
30 minutes after sunrise.

00:22:00.476 --> 00:22:02.436 A:middle
First, we get our existing

00:22:02.436 --> 00:22:03.286 A:middle
HMEvent.

00:22:04.266 --> 00:22:05.736 A:middle
We are going to-this will return

00:22:05.736 --> 00:22:07.386 A:middle
an object of type

00:22:07.386 --> 00:22:08.626 A:middle
HMSignificantTimeEvent.

00:22:10.196 --> 00:22:14.036 A:middle
We then simply create a

00:22:14.036 --> 00:22:16.016 A:middle
mutableCopy, which will return

00:22:16.016 --> 00:22:16.776 A:middle
an object of type

00:22:16.776 --> 00:22:18.796 A:middle
HMMutableSignificantTimeEvent.

00:22:19.396 --> 00:22:23.336 A:middle
We can then update the offset of

00:22:23.336 --> 00:22:26.066 A:middle
our sunrise event, by creating a

00:22:26.066 --> 00:22:26.896 A:middle
new Date Component.

00:22:27.796 --> 00:22:29.026 A:middle
We specify the minute property

00:22:29.026 --> 00:22:30.516 A:middle
to 30, to indicated 30 minutes

00:22:30.516 --> 00:22:32.436 A:middle
after the significant event, and

00:22:32.776 --> 00:22:34.796 A:middle
then simply update the offset of

00:22:34.796 --> 00:22:37.386 A:middle
our mutableSunriseEvent to our

00:22:37.386 --> 00:22:38.136 A:middle
new date component.

00:22:38.976 --> 00:22:41.626 A:middle
Now note, we haven't actually

00:22:41.626 --> 00:22:42.806 A:middle
changed our event trigger yet.

00:22:42.806 --> 00:22:45.716 A:middle
It will still execute at

00:22:46.016 --> 00:22:46.646 A:middle
sunrise.

00:22:48.536 --> 00:22:50.856 A:middle
So move our event trigger to 30

00:22:50.856 --> 00:22:52.176 A:middle
minutes after sunrise, we simply

00:22:52.176 --> 00:22:54.576 A:middle
need to call UpdateEvents, with

00:22:54.616 --> 00:22:56.136 A:middle
completionHandler, providing a

00:22:56.136 --> 00:22:57.676 A:middle
collection of new events.

00:22:58.386 --> 00:23:00.106 A:middle
In this case, we simply pass our

00:23:00.106 --> 00:23:01.796 A:middle
single mutableSunriseEvent.

00:23:02.556 --> 00:23:04.936 A:middle
And now in iOS 11, it is that

00:23:04.986 --> 00:23:06.686 A:middle
easy for your apps to update

00:23:06.686 --> 00:23:08.256 A:middle
existing events on an

00:23:08.256 --> 00:23:08.976 A:middle
HMEventTrigger.

00:23:17.056 --> 00:23:17.906 A:middle
We've covered a tone of new

00:23:17.946 --> 00:23:19.706 A:middle
topics and enhancements to

00:23:20.126 --> 00:23:21.246 A:middle
HMEventTriggers.

00:23:21.896 --> 00:23:23.846 A:middle
First, we have added support for

00:23:23.846 --> 00:23:26.756 A:middle
new events, supporting dates.

00:23:27.706 --> 00:23:28.866 A:middle
Significant events,

00:23:29.956 --> 00:23:31.806 A:middle
characteristic threshold range,

00:23:32.196 --> 00:23:33.596 A:middle
and user presence.

00:23:35.046 --> 00:23:36.586 A:middle
We have added new conditions,

00:23:37.076 --> 00:23:38.526 A:middle
supporting significant time

00:23:38.616 --> 00:23:41.316 A:middle
ranges and user presence.

00:23:41.856 --> 00:23:47.776 A:middle
We have added support, excuse

00:23:47.776 --> 00:23:50.566 A:middle
me, for end events, which allow

00:23:50.566 --> 00:23:53.466 A:middle
you to specify temporary event

00:23:53.466 --> 00:23:54.536 A:middle
triggers which can

00:23:54.536 --> 00:23:56.046 A:middle
auto-deactivate after a

00:23:56.046 --> 00:23:58.996 A:middle
specified amount of time.

00:23:59.146 --> 00:24:00.486 A:middle
We've added support for

00:24:00.486 --> 00:24:03.086 A:middle
recurrences which allow you to

00:24:03.086 --> 00:24:04.936 A:middle
specify when your event trigger

00:24:06.226 --> 00:24:09.256 A:middle
will be active and finally, we

00:24:09.256 --> 00:24:10.646 A:middle
have added support for mutable

00:24:11.236 --> 00:24:13.136 A:middle
events for all defined event

00:24:13.136 --> 00:24:15.986 A:middle
types, which makes it easier for

00:24:15.986 --> 00:24:17.896 A:middle
your applications in iOS 11 to

00:24:18.046 --> 00:24:20.506 A:middle
update existing HMEventTriggers.

00:24:21.736 --> 00:24:25.066 A:middle
And now, I'd like to hand it off

00:24:25.066 --> 00:24:26.416 A:middle
to Praveen, to give you some

00:24:26.776 --> 00:24:28.146 A:middle
exciting updates about our

00:24:28.146 --> 00:24:28.996 A:middle
accessory ecosystem.

00:24:29.866 --> 00:24:30.166 A:middle
Praveen?

00:24:31.516 --> 00:24:37.566 A:middle
[ Applause ]

00:24:38.066 --> 00:24:38.766 A:middle
&gt;&gt; Thanks Matt.

00:24:38.766 --> 00:24:39.596 A:middle
Good morning everyone.

00:24:39.946 --> 00:24:41.796 A:middle
My name is Praveen Chegondi, and

00:24:41.796 --> 00:24:43.686 A:middle
I am here to share with you new

00:24:43.686 --> 00:24:45.146 A:middle
protocol features and

00:24:45.146 --> 00:24:47.196 A:middle
enhancements that are in iOS 11.

00:24:47.606 --> 00:24:49.466 A:middle
I have a few exciting topics to

00:24:49.466 --> 00:24:49.976 A:middle
talk about today.

00:24:58.046 --> 00:24:58.876 A:middle
I am going to be sharing some

00:24:58.876 --> 00:25:00.546 A:middle
great news about what we are

00:25:00.546 --> 00:25:02.666 A:middle
doing with the HomeKit accessory

00:25:02.736 --> 00:25:03.896 A:middle
protocol specification.

00:25:04.086 --> 00:25:06.276 A:middle
I am also going to be talking

00:25:06.276 --> 00:25:10.846 A:middle
about enhancement to the HomeKit

00:25:12.426 --> 00:25:15.416 A:middle
accessory protocol.

00:25:15.976 --> 00:25:17.036 A:middle
Supportive new accessory

00:25:17.036 --> 00:25:18.346 A:middle
categories in iOS 11.

00:25:20.096 --> 00:25:21.356 A:middle
Addition to the authentication

00:25:21.356 --> 00:25:23.396 A:middle
process for HomeKit accessories.

00:25:24.276 --> 00:25:27.866 A:middle
And finally, we will be rounding

00:25:27.866 --> 00:25:29.666 A:middle
up with improvements to the

00:25:29.666 --> 00:25:31.686 A:middle
self-certification process for

00:25:31.686 --> 00:25:32.866 A:middle
our MFi licensees.

00:25:40.046 --> 00:25:41.376 A:middle
Let's start off with a quick

00:25:41.426 --> 00:25:42.916 A:middle
overview of the HomeKit

00:25:42.996 --> 00:25:43.856 A:middle
Accessory Protocol

00:25:43.906 --> 00:25:44.596 A:middle
Specification.

00:25:52.066 --> 00:25:53.256 A:middle
The HomeKit Accessory Protocol

00:25:53.256 --> 00:25:56.076 A:middle
Specification describes how a

00:25:56.076 --> 00:25:57.466 A:middle
controller, which is an Apple

00:25:57.466 --> 00:25:59.286 A:middle
device, communicates with an

00:25:59.286 --> 00:26:00.896 A:middle
accessory, along with the

00:26:00.896 --> 00:26:02.006 A:middle
security requirements.

00:26:03.646 --> 00:26:06.896 A:middle
All sessions between Apple

00:26:06.896 --> 00:26:08.636 A:middle
devices and accessories over

00:26:09.036 --> 00:26:11.286 A:middle
HomeKit are end-to-end encrypted

00:26:11.286 --> 00:26:12.876 A:middle
and mutually authenticated.

00:26:14.526 --> 00:26:16.876 A:middle
The specification provides

00:26:16.876 --> 00:26:19.176 A:middle
implementation details for both

00:26:19.326 --> 00:26:21.946 A:middle
IP and Bluetooth LE accessories.

00:26:23.436 --> 00:26:25.716 A:middle
And you can also get details on

00:26:25.716 --> 00:26:27.506 A:middle
how to describe each of the

00:26:27.506 --> 00:26:29.496 A:middle
accessory categories that are

00:26:29.496 --> 00:26:31.506 A:middle
supported in HomeKit, such as a

00:26:31.506 --> 00:26:33.876 A:middle
light bulb, fan, thermostat, and

00:26:33.876 --> 00:26:34.576 A:middle
many, many more.

00:26:35.886 --> 00:26:38.066 A:middle
For complete overview of the

00:26:38.066 --> 00:26:40.126 A:middle
HomeKit accessory protocol, you

00:26:40.126 --> 00:26:42.186 A:middle
can refer to the 2014 session,

00:26:42.586 --> 00:26:44.776 A:middle
Designing Accessories for iOS

00:26:44.996 --> 00:26:45.766 A:middle
and OS X.

00:26:52.046 --> 00:26:55.466 A:middle
Until now, the specification was

00:26:55.466 --> 00:26:57.536 A:middle
available to MFi licensees,

00:26:58.066 --> 00:27:00.426 A:middle
whose accessories carried the

00:27:00.426 --> 00:27:02.836 A:middle
logo "works with Apple HomeKit"

00:27:03.366 --> 00:27:04.236 A:middle
after completing

00:27:04.236 --> 00:27:05.096 A:middle
self-certification.

00:27:06.556 --> 00:27:11.876 A:middle
Starting today, we are also

00:27:11.876 --> 00:27:15.226 A:middle
making a version of the HomeKit

00:27:15.226 --> 00:27:16.966 A:middle
Accessory Protocol Specification

00:27:17.426 --> 00:27:19.396 A:middle
available to anyone with a

00:27:19.396 --> 00:27:19.976 A:middle
developer license

00:27:20.516 --> 00:27:23.651 A:middle
[ Applause ]

00:27:24.151 --> 00:27:27.286 A:middle
.

00:27:27.786 --> 00:27:29.326 A:middle
So, if you are a student

00:27:29.546 --> 00:27:31.276 A:middle
developer, or even a hobbyist,

00:27:31.276 --> 00:27:33.606 A:middle
and want to learn about HomeKit

00:27:33.606 --> 00:27:35.486 A:middle
protocol and want to create

00:27:35.656 --> 00:27:36.906 A:middle
accessories for your personal

00:27:36.906 --> 00:27:37.976 A:middle
use, you can now do that

00:27:38.516 --> 00:27:44.606 A:middle
[applause].

00:27:45.106 --> 00:27:46.796 A:middle
The HomeKit developer page has

00:27:46.796 --> 00:27:48.806 A:middle
been updated with the

00:27:48.806 --> 00:27:50.416 A:middle
specification, and also you will

00:27:50.416 --> 00:27:52.226 A:middle
find other useful information,

00:27:52.556 --> 00:27:53.666 A:middle
such as frequently asked

00:27:53.666 --> 00:27:55.696 A:middle
questions, and guidelines to

00:27:55.696 --> 00:27:57.656 A:middle
building your HomeKit apps.

00:27:58.176 --> 00:28:00.476 A:middle
Because the specification has

00:28:00.546 --> 00:28:02.396 A:middle
Apple's proprietary information,

00:28:02.976 --> 00:28:04.256 A:middle
you will need to agree to a

00:28:04.256 --> 00:28:05.826 A:middle
click-through license before

00:28:05.826 --> 00:28:06.606 A:middle
downloading it.

00:28:07.216 --> 00:28:08.566 A:middle
And with all this information,

00:28:08.886 --> 00:28:09.966 A:middle
we are looking forward to seeing

00:28:10.046 --> 00:28:12.186 A:middle
what new ideas you're going to

00:28:12.186 --> 00:28:13.776 A:middle
come up with.

00:28:14.086 --> 00:28:16.516 A:middle
And let's say you come up with a

00:28:16.546 --> 00:28:18.056 A:middle
really cool prototype?

00:28:19.286 --> 00:28:20.946 A:middle
And now, you want to develop a

00:28:20.946 --> 00:28:23.356 A:middle
HomeKit accessory for commercial

00:28:23.356 --> 00:28:23.646 A:middle
sale.

00:28:24.566 --> 00:28:26.636 A:middle
You need to join the Apple MFi

00:28:26.716 --> 00:28:27.266 A:middle
Program.

00:28:28.526 --> 00:28:31.146 A:middle
You need to join the Apple MFi

00:28:31.146 --> 00:28:32.646 A:middle
Program and go through

00:28:32.646 --> 00:28:35.006 A:middle
self-certification before you

00:28:35.006 --> 00:28:36.976 A:middle
can begin your manufacturing or

00:28:36.976 --> 00:28:38.086 A:middle
sale of your accessories.

00:28:38.836 --> 00:28:41.386 A:middle
And this is really exciting.

00:28:42.316 --> 00:28:44.846 A:middle
And I recommend that you check

00:28:44.846 --> 00:28:46.536 A:middle
the developer page often for the

00:28:46.536 --> 00:28:49.156 A:middle
latest updates, as we continue

00:28:49.156 --> 00:28:50.766 A:middle
to introduce new features and

00:28:50.766 --> 00:28:51.806 A:middle
enhancements to the

00:28:51.806 --> 00:28:52.596 A:middle
Specification.

00:28:54.416 --> 00:28:55.976 A:middle
Talking about enhancements.

00:29:02.046 --> 00:29:04.436 A:middle
In iOS 11, we made some great

00:29:04.436 --> 00:29:05.896 A:middle
enhancements to the HomeKit

00:29:05.896 --> 00:29:06.856 A:middle
Accessory Protocol.

00:29:08.106 --> 00:29:12.546 A:middle
Now, let's see how a user with

00:29:12.546 --> 00:29:15.356 A:middle
iOS 10 sets up a HomeKit

00:29:15.356 --> 00:29:17.346 A:middle
Accessory, such as a light bulb.

00:29:17.896 --> 00:29:20.666 A:middle
These of course on the

00:29:20.666 --> 00:29:24.506 A:middle
accessory, by putting the light

00:29:24.506 --> 00:29:26.076 A:middle
bulb in the socket, chooses the

00:29:26.076 --> 00:29:27.846 A:middle
accessory from the add accessory

00:29:27.846 --> 00:29:29.496 A:middle
option in the Home, and scans

00:29:29.496 --> 00:29:30.746 A:middle
the eight digit setup code.

00:29:31.526 --> 00:29:34.206 A:middle
In three easy steps, the user is

00:29:34.266 --> 00:29:35.366 A:middle
able to set up a HomeKit

00:29:35.366 --> 00:29:37.286 A:middle
Accessory that is simple and

00:29:37.286 --> 00:29:37.626 A:middle
great.

00:29:38.146 --> 00:29:40.926 A:middle
A couple of things to note in

00:29:40.926 --> 00:29:41.556 A:middle
this process.

00:29:42.346 --> 00:29:44.736 A:middle
The accessory must be powered on

00:29:45.026 --> 00:29:45.966 A:middle
for it to show up.

00:29:46.946 --> 00:29:49.986 A:middle
Secondly, the setup code is used

00:29:49.986 --> 00:29:51.326 A:middle
for the initial HomeKit pairing

00:29:51.326 --> 00:29:53.906 A:middle
only, and this is to ensure that

00:29:53.906 --> 00:29:55.666 A:middle
you and only you are setting up

00:29:55.666 --> 00:29:56.406 A:middle
the accessory.

00:29:58.896 --> 00:30:01.356 A:middle
For many accessories that are

00:30:01.356 --> 00:30:02.746 A:middle
installed in hard to reach

00:30:02.826 --> 00:30:05.536 A:middle
places, such as a light bulb, or

00:30:05.536 --> 00:30:06.846 A:middle
have set up codes printed on the

00:30:06.846 --> 00:30:09.166 A:middle
back of the product, it makes it

00:30:09.166 --> 00:30:10.926 A:middle
difficult to scan the setup code

00:30:11.436 --> 00:30:12.336 A:middle
when it is powered on.

00:30:13.686 --> 00:30:15.716 A:middle
Or even choosing an accessory

00:30:15.716 --> 00:30:16.896 A:middle
when you are setting up multiple

00:30:16.896 --> 00:30:18.256 A:middle
accessories of the same model

00:30:18.466 --> 00:30:19.386 A:middle
becomes challenging.

00:30:20.886 --> 00:30:23.766 A:middle
In iOS 11, we are introducing

00:30:24.126 --> 00:30:25.996 A:middle
enhanced set of process to

00:30:26.106 --> 00:30:27.506 A:middle
further simplify accessory

00:30:27.506 --> 00:30:27.856 A:middle
setup.

00:30:28.336 --> 00:30:31.546 A:middle
With the enhanced setup, users

00:30:31.606 --> 00:30:34.296 A:middle
can now scan the setup code, and

00:30:34.296 --> 00:30:35.456 A:middle
then power on the accessory.

00:30:36.106 --> 00:30:38.286 A:middle
To achieve this, we are

00:30:38.286 --> 00:30:40.156 A:middle
enhancing the setup payload to

00:30:40.156 --> 00:30:42.926 A:middle
include setup ID in addition to

00:30:42.926 --> 00:30:44.646 A:middle
the setup code.

00:30:44.646 --> 00:30:46.746 A:middle
iOS 11 uses the setup ID to

00:30:46.746 --> 00:30:48.286 A:middle
start the pairing process with

00:30:48.286 --> 00:30:50.136 A:middle
the accessory when the setup

00:30:50.136 --> 00:30:53.026 A:middle
code is scanned, and matches to

00:30:53.026 --> 00:30:54.396 A:middle
the accessory when it is powered

00:30:54.396 --> 00:30:54.576 A:middle
on.

00:30:54.956 --> 00:30:55.796 A:middle
It is that simple.

00:30:57.296 --> 00:30:59.016 A:middle
To deliver the enhanced setup

00:30:59.016 --> 00:31:03.096 A:middle
code, we are now supporting

00:31:03.096 --> 00:31:05.416 A:middle
scanning of QR codes for setting

00:31:05.416 --> 00:31:06.366 A:middle
up HomeKit accessories

00:31:08.016 --> 00:31:09.766 A:middle
[ Applause ]

00:31:09.766 --> 00:31:11.516 A:middle
.

00:31:11.516 --> 00:31:13.996 A:middle
The QR code is standards based

00:31:14.276 --> 00:31:18.806 A:middle
and can be as small as 10 by 10

00:31:18.806 --> 00:31:19.336 A:middle
millimeters.

00:31:19.996 --> 00:31:20.976 A:middle
That is pretty small.

00:31:32.046 --> 00:31:34.866 A:middle
The small form factor of the QR

00:31:34.866 --> 00:31:36.226 A:middle
code will help a lot of

00:31:36.226 --> 00:31:38.616 A:middle
manufacturers to put the QR code

00:31:39.036 --> 00:31:42.126 A:middle
on the smaller accessories, and

00:31:42.126 --> 00:31:42.996 A:middle
this is really great.

00:31:43.926 --> 00:31:44.956 A:middle
But we didn't stop there.

00:31:46.816 --> 00:31:49.816 A:middle
We took one step further, and in

00:31:49.816 --> 00:31:51.386 A:middle
addition to supporting QR code,

00:31:52.346 --> 00:31:55.866 A:middle
we also added support for NFC

00:31:55.866 --> 00:31:56.296 A:middle
tags.

00:31:57.516 --> 00:31:59.576 A:middle
[ Applause ]

00:32:00.076 --> 00:32:01.166 A:middle
&gt;&gt; And we are really excited

00:32:01.166 --> 00:32:01.646 A:middle
about this.

00:32:02.846 --> 00:32:04.126 A:middle
With NFC tags that are

00:32:04.126 --> 00:32:05.266 A:middle
programmed with the Enhanced

00:32:05.266 --> 00:32:07.386 A:middle
Setup Code, we can now deliver

00:32:07.386 --> 00:32:09.026 A:middle
even more seamless user

00:32:09.026 --> 00:32:11.136 A:middle
experience for setting up

00:32:11.136 --> 00:32:11.656 A:middle
accessories.

00:32:11.896 --> 00:32:14.016 A:middle
The user needs to just tap to

00:32:14.016 --> 00:32:16.096 A:middle
pair and it is that simple, and

00:32:16.226 --> 00:32:18.666 A:middle
it is fantastic.

00:32:19.776 --> 00:32:22.046 A:middle
The whole experience in setting

00:32:22.046 --> 00:32:23.726 A:middle
up accessories in iOS 11 with

00:32:23.726 --> 00:32:25.866 A:middle
the support of QR code or NFC

00:32:25.866 --> 00:32:28.576 A:middle
tag for HomeKit Accessories is

00:32:28.626 --> 00:32:29.326 A:middle
just fantastic.

00:32:30.036 --> 00:32:33.526 A:middle
Now, let's talk about Bluetooth.

00:32:34.186 --> 00:32:38.796 A:middle
Over the last few years, we have

00:32:38.796 --> 00:32:40.946 A:middle
seen an influx of Bluetooth LE

00:32:40.946 --> 00:32:42.046 A:middle
HomeKit Accessories.

00:32:43.066 --> 00:32:44.876 A:middle
This is because Bluetooth LE

00:32:44.876 --> 00:32:46.246 A:middle
Accessories offer a lot of

00:32:46.246 --> 00:32:47.076 A:middle
advantages.

00:32:48.326 --> 00:32:50.426 A:middle
They are small, they are

00:32:50.426 --> 00:32:52.456 A:middle
extremely low power, and many

00:32:52.456 --> 00:32:54.276 A:middle
are battery operated, such as a

00:32:54.276 --> 00:32:55.756 A:middle
contact sensor, motion sensor,

00:32:55.756 --> 00:32:57.596 A:middle
and many more, and users use

00:32:57.596 --> 00:32:59.486 A:middle
these to trigger events when a

00:32:59.486 --> 00:33:00.956 A:middle
certain action takes place.

00:33:00.956 --> 00:33:03.266 A:middle
And this is really great.

00:33:04.276 --> 00:33:10.176 A:middle
Now, let's see how Bluetooth

00:33:10.176 --> 00:33:12.806 A:middle
notifications work in iOS 10.

00:33:13.566 --> 00:33:16.496 A:middle
In iOS 10, when an accessory

00:33:16.496 --> 00:33:18.646 A:middle
state changes, it triggers a

00:33:18.646 --> 00:33:20.296 A:middle
state change notification.

00:33:20.676 --> 00:33:23.736 A:middle
The home of apple TV in this

00:33:23.736 --> 00:33:25.556 A:middle
case picks up the state change,

00:33:25.916 --> 00:33:27.936 A:middle
and then establishes a

00:33:27.936 --> 00:33:30.136 A:middle
communication, a secure

00:33:30.136 --> 00:33:32.336 A:middle
communication with the accessory

00:33:32.506 --> 00:33:33.886 A:middle
to determine what state has

00:33:33.886 --> 00:33:36.226 A:middle
changed, and then triggers the

00:33:36.226 --> 00:33:36.786 A:middle
automation.

00:33:38.296 --> 00:33:41.856 A:middle
The whole process results in a

00:33:41.856 --> 00:33:44.906 A:middle
few seconds of latency for the

00:33:44.906 --> 00:33:45.986 A:middle
automation to be executed.

00:33:47.206 --> 00:33:49.516 A:middle
In iOS 11, we changed the

00:33:49.516 --> 00:33:51.396 A:middle
mechanism completely to

00:33:51.396 --> 00:33:53.196 A:middle
significantly reduce latency,

00:33:54.136 --> 00:33:56.416 A:middle
and we are doing this by what we

00:33:56.416 --> 00:33:58.736 A:middle
call Secure Broadcast Session to

00:33:58.736 --> 00:33:59.706 A:middle
send the notification.

00:34:01.276 --> 00:34:02.966 A:middle
Here, the iOS controller

00:34:03.516 --> 00:34:04.926 A:middle
configures the accessory with an

00:34:04.976 --> 00:34:07.056 A:middle
encryption key, and the

00:34:07.126 --> 00:34:08.866 A:middle
interested characteristics that

00:34:08.866 --> 00:34:10.326 A:middle
can be included in the secure

00:34:10.326 --> 00:34:11.566 A:middle
broadcast notifications.

00:34:12.456 --> 00:34:15.876 A:middle
Now, when a characteristic

00:34:20.026 --> 00:34:21.406 A:middle
changes, the accessory encrypts

00:34:21.406 --> 00:34:23.216 A:middle
the state change, and then sends

00:34:23.216 --> 00:34:24.976 A:middle
a notification to the Home app,

00:34:24.976 --> 00:34:26.336 A:middle
which will then immediately

00:34:26.726 --> 00:34:28.156 A:middle
execute the automation.

00:34:28.626 --> 00:34:33.306 A:middle
With this enhancement, we are

00:34:33.306 --> 00:34:35.056 A:middle
seeing a number of accessories

00:34:35.316 --> 00:34:36.606 A:middle
where the latency has gone from

00:34:36.646 --> 00:34:38.276 A:middle
a few seconds to under a second

00:34:38.276 --> 00:34:39.326 A:middle
for the events to be triggered.

00:34:40.396 --> 00:34:41.796 A:middle
And the best part about this

00:34:41.796 --> 00:34:44.906 A:middle
enhancement is that you just

00:34:44.906 --> 00:34:46.826 A:middle
need to upgrade to iOS 11 and

00:34:46.826 --> 00:34:48.596 A:middle
get new form ware for your

00:34:48.596 --> 00:34:50.496 A:middle
accessories to ensure faster,

00:34:50.496 --> 00:34:51.476 A:middle
because you don't need to buy

00:34:51.476 --> 00:34:52.146 A:middle
new products

00:34:53.482 --> 00:34:55.483 A:middle
[ Applause ]

00:34:55.949 --> 00:34:57.950 A:middle
.

00:34:58.416 --> 00:34:59.646 A:middle
And with the new event triggers

00:34:59.646 --> 00:35:01.636 A:middle
Matt talked about earlier, and

00:35:01.636 --> 00:35:03.266 A:middle
with secure broadcast

00:35:03.266 --> 00:35:04.616 A:middle
notifications for Bluetooth LE

00:35:04.616 --> 00:35:07.166 A:middle
accessories, it's just

00:35:07.166 --> 00:35:09.006 A:middle
incredible how home automation

00:35:09.006 --> 00:35:12.316 A:middle
is going to be defined now.

00:35:12.316 --> 00:35:17.386 A:middle
Coming to accessory categories.

00:35:18.036 --> 00:35:20.266 A:middle
HomeKit supports a wide range of

00:35:20.366 --> 00:35:23.486 A:middle
accessory types from sensors, to

00:35:23.516 --> 00:35:24.826 A:middle
cameras and many more.

00:35:25.226 --> 00:35:28.196 A:middle
Every year, we continue to add

00:35:28.246 --> 00:35:29.626 A:middle
supportive new accessory

00:35:29.626 --> 00:35:30.156 A:middle
categories.

00:35:31.476 --> 00:35:35.636 A:middle
This year, in iOS 11, we are now

00:35:35.636 --> 00:35:39.056 A:middle
adding support for sprinklers

00:35:39.056 --> 00:35:39.746 A:middle
and faucets

00:35:41.026 --> 00:35:43.026 A:middle
[ Applause ]

00:35:43.036 --> 00:35:45.036 A:middle
.

00:35:45.046 --> 00:35:46.256 A:middle
With the support of sprinklers

00:35:46.256 --> 00:35:48.076 A:middle
in HomeKit, users can now

00:35:48.076 --> 00:35:50.306 A:middle
control watering the garden by

00:35:50.306 --> 00:35:50.676 A:middle
Siri.

00:35:53.206 --> 00:35:54.916 A:middle
Somewhat in a similar accessory

00:35:54.916 --> 00:35:56.916 A:middle
category type, which is water

00:35:56.916 --> 00:35:59.646 A:middle
related, let's talk about

00:36:00.296 --> 00:36:00.506 A:middle
faucets.

00:36:01.556 --> 00:36:04.136 A:middle
For many users, it is a daily

00:36:04.136 --> 00:36:06.736 A:middle
ritual to turn on the shower,

00:36:07.226 --> 00:36:10.036 A:middle
let the water run, and wait for

00:36:10.036 --> 00:36:11.976 A:middle
the water to turn to the right

00:36:12.036 --> 00:36:13.586 A:middle
temperature before you get in

00:36:13.586 --> 00:36:13.976 A:middle
the shower.

00:36:15.866 --> 00:36:18.466 A:middle
Now, while having your morning

00:36:18.466 --> 00:36:20.656 A:middle
cup of coffee, you can let Siri

00:36:20.656 --> 00:36:23.986 A:middle
know it's bath time, and by the

00:36:24.036 --> 00:36:25.026 A:middle
time you finish your cup of

00:36:25.026 --> 00:36:28.056 A:middle
coffee, the water temperature is

00:36:28.056 --> 00:36:29.196 A:middle
just right to your desired

00:36:29.296 --> 00:36:30.696 A:middle
setting, and this can be

00:36:30.696 --> 00:36:32.366 A:middle
achieved with the faucets

00:36:32.366 --> 00:36:33.316 A:middle
accessory category.

00:36:33.866 --> 00:36:35.966 A:middle
That's pretty neat

00:36:36.516 --> 00:36:39.346 A:middle
[ Applause ]

00:36:39.846 --> 00:36:42.676 A:middle
.

00:36:43.176 --> 00:36:44.656 A:middle
Let's talk about authentication

00:36:44.656 --> 00:36:44.916 A:middle
now.

00:36:46.846 --> 00:36:50.216 A:middle
At Apple, security and quality

00:36:50.266 --> 00:36:54.346 A:middle
is of utmost importance to us.

00:36:54.746 --> 00:36:57.786 A:middle
Our customers trust that their

00:36:57.786 --> 00:36:58.896 A:middle
accessories are tested

00:36:59.016 --> 00:37:01.256 A:middle
thoroughly by MFi licenses and

00:37:01.256 --> 00:37:02.276 A:middle
audited by Apple.

00:37:03.806 --> 00:37:05.676 A:middle
To ensure accessories are

00:37:05.676 --> 00:37:08.056 A:middle
trusted and self-certified, we

00:37:08.056 --> 00:37:09.956 A:middle
have adopted hardware-based

00:37:09.956 --> 00:37:10.606 A:middle
authentication.

00:37:12.796 --> 00:37:16.526 A:middle
Starting with iOS 11, we are now

00:37:16.526 --> 00:37:18.766 A:middle
introducing an alternate method

00:37:18.766 --> 00:37:19.796 A:middle
to authenticate HomeKit

00:37:19.796 --> 00:37:20.336 A:middle
Accessories.

00:37:21.066 --> 00:37:22.996 A:middle
Now, accessories can be

00:37:22.996 --> 00:37:25.296 A:middle
authenticated by software

00:37:26.029 --> 00:37:28.029 A:middle
[ Applause ]

00:37:28.042 --> 00:37:30.042 A:middle
.

00:37:30.056 --> 00:37:32.156 A:middle
This provides a great option to

00:37:32.156 --> 00:37:33.786 A:middle
enable HomeKit and shipping

00:37:33.786 --> 00:37:35.846 A:middle
accessories that can be upgraded

00:37:35.846 --> 00:37:36.356 A:middle
to HomeKit.

00:37:38.096 --> 00:37:40.896 A:middle
For our MFi licensees, we will

00:37:40.896 --> 00:37:42.606 A:middle
be sharing more information

00:37:42.776 --> 00:37:45.076 A:middle
about the implementation later.

00:37:45.756 --> 00:37:47.396 A:middle
Continuing on the topic of

00:37:47.656 --> 00:37:49.986 A:middle
accessory quality, we now have

00:37:49.986 --> 00:37:52.316 A:middle
new and improved process and

00:37:52.376 --> 00:37:55.196 A:middle
tools to help MFi licensees

00:37:55.246 --> 00:37:57.196 A:middle
access the launch of HomeKit

00:37:57.196 --> 00:37:57.776 A:middle
Accessories.

00:38:00.366 --> 00:38:02.606 A:middle
We now have automated tools to

00:38:02.606 --> 00:38:04.246 A:middle
test your accessory and continue

00:38:04.246 --> 00:38:05.966 A:middle
to automate more and more test

00:38:05.966 --> 00:38:08.256 A:middle
cases, and we urge all MFi

00:38:08.256 --> 00:38:10.206 A:middle
licensees to always get the

00:38:10.206 --> 00:38:12.236 A:middle
latest tools before you begin

00:38:12.236 --> 00:38:12.776 A:middle
your testing.

00:38:14.396 --> 00:38:16.646 A:middle
Also, we are glad to announce

00:38:16.646 --> 00:38:18.996 A:middle
that we now have two Apple

00:38:18.996 --> 00:38:20.726 A:middle
authorized third-party labs here

00:38:20.726 --> 00:38:22.526 A:middle
in the United States, and

00:38:22.826 --> 00:38:24.466 A:middle
authorizing more third-party

00:38:24.466 --> 00:38:26.846 A:middle
labs in China, and UK next

00:38:26.846 --> 00:38:26.976 A:middle
month.

00:38:27.516 --> 00:38:31.546 A:middle
[ Applause ]

00:38:32.046 --> 00:38:32.876 A:middle
&gt;&gt; And this should help a lot of

00:38:32.876 --> 00:38:34.766 A:middle
MFi licensees to launch the

00:38:34.766 --> 00:38:36.066 A:middle
accessories sooner.

00:38:38.636 --> 00:38:42.046 A:middle
To recap the session, this year,

00:38:42.236 --> 00:38:44.326 A:middle
we introduced many compelling

00:38:44.516 --> 00:38:46.366 A:middle
and useful HomeKit features.

00:38:47.446 --> 00:38:48.716 A:middle
Matt talked about the great

00:38:48.716 --> 00:38:50.136 A:middle
enhancements to event triggers,

00:38:50.536 --> 00:38:52.436 A:middle
and introduced new APS you can

00:38:52.436 --> 00:38:54.616 A:middle
adopt in your apps to redefine

00:38:54.616 --> 00:38:55.446 A:middle
home automation.

00:38:56.936 --> 00:38:58.386 A:middle
I shared news about HomeKit

00:38:58.386 --> 00:38:59.176 A:middle
Accessory Protocol

00:38:59.176 --> 00:39:00.706 A:middle
Specifications being made

00:39:00.706 --> 00:39:02.226 A:middle
available to all developers.

00:39:03.246 --> 00:39:05.776 A:middle
And enhanced accessory setup

00:39:06.016 --> 00:39:07.486 A:middle
process makes it even better

00:39:07.776 --> 00:39:08.966 A:middle
than what it was before.

00:39:09.836 --> 00:39:11.406 A:middle
An interruption of secure

00:39:11.406 --> 00:39:12.816 A:middle
broadcast notifications for

00:39:12.816 --> 00:39:14.126 A:middle
Bluetooth LE accessories will

00:39:14.366 --> 00:39:15.706 A:middle
make the event triggers go

00:39:15.746 --> 00:39:16.166 A:middle
faster.

00:39:17.226 --> 00:39:18.876 A:middle
And introduced new accessory

00:39:18.876 --> 00:39:20.166 A:middle
categories, Sprinklers and

00:39:20.166 --> 00:39:20.706 A:middle
Faucets.

00:39:21.566 --> 00:39:23.886 A:middle
And finally, we provided an

00:39:23.886 --> 00:39:25.826 A:middle
update on automation tools for

00:39:25.896 --> 00:39:27.386 A:middle
self-certification and

00:39:27.386 --> 00:39:28.716 A:middle
authorizing third party labs

00:39:28.756 --> 00:39:30.466 A:middle
around the world to accelerate

00:39:30.466 --> 00:39:31.386 A:middle
the launch of HomeKit

00:39:31.386 --> 00:39:31.906 A:middle
Accessories.

00:39:40.046 --> 00:39:42.176 A:middle
We at Apple are really excited

00:39:42.176 --> 00:39:43.966 A:middle
about all these features, and we

00:39:43.966 --> 00:39:45.266 A:middle
can't wait to see what you are

00:39:45.266 --> 00:39:47.966 A:middle
going to do with them.

00:39:48.296 --> 00:39:49.946 A:middle
A couple of important things

00:39:49.946 --> 00:39:51.186 A:middle
before we close the session.

00:39:51.496 --> 00:39:56.166 A:middle
We have two HomeKit labs for you

00:39:56.166 --> 00:39:58.756 A:middle
this week, where you can chat

00:39:58.756 --> 00:40:00.136 A:middle
with a number of HomeKit

00:40:00.136 --> 00:40:02.196 A:middle
engineers, who will be happy to

00:40:02.196 --> 00:40:03.496 A:middle
answer any questions that you

00:40:03.496 --> 00:40:04.636 A:middle
have with regards to your apps

00:40:04.726 --> 00:40:05.646 A:middle
and/or accessories.

00:40:06.556 --> 00:40:08.026 A:middle
We will also be demonstrating

00:40:08.026 --> 00:40:09.146 A:middle
some of the new features and

00:40:09.146 --> 00:40:10.906 A:middle
enhancements that we just talked

00:40:10.906 --> 00:40:12.746 A:middle
about that are introduced in iOS

00:40:12.746 --> 00:40:13.096 A:middle
11.

00:40:13.096 --> 00:40:16.106 A:middle
The first lab is right after

00:40:16.106 --> 00:40:17.916 A:middle
this session in Technology Lab

00:40:17.916 --> 00:40:18.146 A:middle
J.

00:40:19.666 --> 00:40:21.246 A:middle
Thank you very much for coming,

00:40:21.476 --> 00:40:22.386 A:middle
and enjoy the rest of your

00:40:22.386 --> 00:40:22.886 A:middle
conference.

00:40:23.516 --> 00:40:25.556 A:middle
[ Applause ]

00:40:26.056 --> 00:40:27.396 A:middle
&gt;&gt; See you in the lab.