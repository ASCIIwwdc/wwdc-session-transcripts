WEBVTT

00:00:07.516 --> 00:00:16.500 A:middle
[ Background Conversations ]

00:00:22.516 --> 00:00:29.676 A:middle
[ Applause ]

00:00:30.176 --> 00:00:31.846 A:middle
&gt;&gt; Hello, everyone, and welcome

00:00:31.846 --> 00:00:33.316 A:middle
to What's New in Swift

00:00:33.316 --> 00:00:33.946 A:middle
Playgrounds.

00:00:34.486 --> 00:00:35.326 A:middle
My name is Connor.

00:00:35.576 --> 00:00:36.886 A:middle
I'm an engineer on the Swift

00:00:36.886 --> 00:00:37.736 A:middle
Playgrounds Team.

00:00:38.016 --> 00:00:39.196 A:middle
And today, along with my

00:00:39.196 --> 00:00:41.186 A:middle
colleagues Grace and Najla, I'll

00:00:41.186 --> 00:00:42.426 A:middle
be sharing with you some of

00:00:42.426 --> 00:00:43.616 A:middle
what's new in Swift Playgrounds

00:00:43.756 --> 00:00:44.796 A:middle
since last year's conference.

00:00:47.486 --> 00:00:48.696 A:middle
Today's session will be broken

00:00:48.696 --> 00:00:49.796 A:middle
up into three parts.

00:00:50.626 --> 00:00:52.406 A:middle
First, we'll take a quick look

00:00:52.406 --> 00:00:53.866 A:middle
at the Playground book format to

00:00:53.866 --> 00:00:55.176 A:middle
ensure that everyone is on the

00:00:55.206 --> 00:00:55.856 A:middle
same page.

00:00:58.436 --> 00:01:00.126 A:middle
Then, we'll talk about many of

00:01:00.126 --> 00:01:01.266 A:middle
the enhancements which have been

00:01:01.266 --> 00:01:03.136 A:middle
made to support building better

00:01:03.136 --> 00:01:03.776 A:middle
Playground books.

00:01:05.126 --> 00:01:06.786 A:middle
And finally, we'll introduce a

00:01:06.786 --> 00:01:08.746 A:middle
brand-new API for interacting

00:01:08.746 --> 00:01:10.926 A:middle
with and connecting to Bluetooth

00:01:10.926 --> 00:01:12.266 A:middle
accessories in Playgrounds,

00:01:12.596 --> 00:01:13.626 A:middle
allowing you to provide a

00:01:13.626 --> 00:01:14.976 A:middle
consistent user experience.

00:01:15.036 --> 00:01:19.326 A:middle
So let's get started by talking

00:01:19.326 --> 00:01:21.776 A:middle
about Playground books.

00:01:23.896 --> 00:01:25.776 A:middle
Swift Playgrounds supports two

00:01:25.776 --> 00:01:27.546 A:middle
file formats, the classic

00:01:27.596 --> 00:01:29.336 A:middle
Playground file format used by

00:01:29.336 --> 00:01:30.946 A:middle
Xcode as well as the Playground

00:01:30.946 --> 00:01:32.616 A:middle
book file format, which allows

00:01:32.616 --> 00:01:35.666 A:middle
you to control the experience

00:01:35.786 --> 00:01:36.726 A:middle
which your users see.

00:01:38.146 --> 00:01:39.756 A:middle
Playground books are split up

00:01:39.756 --> 00:01:41.156 A:middle
into chapters, which are then

00:01:41.246 --> 00:01:43.046 A:middle
further subdivided into pages.

00:01:44.656 --> 00:01:45.816 A:middle
Playground books may contain

00:01:45.816 --> 00:01:47.766 A:middle
resources which are used either

00:01:47.916 --> 00:01:49.776 A:middle
at runtime or in the prose which

00:01:49.776 --> 00:01:50.686 A:middle
you show to your users.

00:01:50.686 --> 00:01:55.606 A:middle
All of this is done with a

00:01:55.606 --> 00:01:57.076 A:middle
package-based file format.

00:01:57.596 --> 00:01:58.416 A:middle
If you're not familiar with what

00:01:58.416 --> 00:01:59.656 A:middle
a package-based file format is,

00:01:59.986 --> 00:02:01.356 A:middle
essentially instead of being a

00:02:01.356 --> 00:02:03.186 A:middle
flat file, it's a folder which

00:02:03.186 --> 00:02:04.756 A:middle
itself contains other files and

00:02:04.756 --> 00:02:06.376 A:middle
folders which make up the

00:02:06.376 --> 00:02:06.876 A:middle
document.

00:02:08.526 --> 00:02:09.686 A:middle
If we take a peek inside the

00:02:09.686 --> 00:02:10.926 A:middle
Playground book, we can see

00:02:10.926 --> 00:02:12.856 A:middle
inside there some PLIST files,

00:02:12.856 --> 00:02:14.316 A:middle
some Swift files, and a bunch of

00:02:14.316 --> 00:02:15.426 A:middle
directories which make up the

00:02:15.426 --> 00:02:15.876 A:middle
structure.

00:02:15.876 --> 00:02:19.036 A:middle
Let's first take a look at the

00:02:19.036 --> 00:02:19.846 A:middle
manifest files.

00:02:19.846 --> 00:02:22.286 A:middle
You can think of these as

00:02:22.286 --> 00:02:23.626 A:middle
something that's very similar to

00:02:23.626 --> 00:02:24.876 A:middle
an app's info.plist.

00:02:25.766 --> 00:02:27.066 A:middle
The manifest PLIST provides

00:02:27.246 --> 00:02:28.926 A:middle
book-, chapter-, and page-level

00:02:28.926 --> 00:02:30.106 A:middle
metadata, such as the name of

00:02:30.106 --> 00:02:32.196 A:middle
the page or the icon which is

00:02:32.196 --> 00:02:33.536 A:middle
used in the document browser.

00:02:35.586 --> 00:02:37.506 A:middle
Manifest files also specify the

00:02:37.506 --> 00:02:39.356 A:middle
options for the book, chapter,

00:02:39.356 --> 00:02:41.266 A:middle
or page, such as whether or not

00:02:41.266 --> 00:02:42.416 A:middle
the live view is visible by

00:02:42.416 --> 00:02:43.756 A:middle
default or if you want

00:02:43.786 --> 00:02:44.836 A:middle
Playground logging to be turned

00:02:45.656 --> 00:02:45.776 A:middle
on.

00:02:46.856 --> 00:02:48.796 A:middle
The other major component of a

00:02:48.796 --> 00:02:50.446 A:middle
Playground book are Swift files,

00:02:50.986 --> 00:02:52.656 A:middle
and there are three different

00:02:52.696 --> 00:02:54.226 A:middle
kinds of Swift files inside of

00:02:54.226 --> 00:02:55.546 A:middle
Playground books.

00:02:56.276 --> 00:02:57.836 A:middle
The first of these is the

00:02:57.836 --> 00:02:59.046 A:middle
Contents.swift file.

00:02:59.506 --> 00:03:00.886 A:middle
This is the source file with

00:03:00.926 --> 00:03:02.396 A:middle
which your users interact, and

00:03:02.596 --> 00:03:03.856 A:middle
it's where you can store the

00:03:03.856 --> 00:03:05.666 A:middle
prose which is shown to your

00:03:05.666 --> 00:03:07.786 A:middle
user inside of special markup

00:03:07.786 --> 00:03:09.746 A:middle
comments in the Swift file.

00:03:11.986 --> 00:03:13.346 A:middle
There's also the LiveView.swift

00:03:13.346 --> 00:03:13.686 A:middle
file.

00:03:13.976 --> 00:03:15.496 A:middle
This allows you to provide an

00:03:15.586 --> 00:03:17.276 A:middle
always on live view, which

00:03:17.276 --> 00:03:18.726 A:middle
provides a rich and interactive

00:03:18.726 --> 00:03:20.286 A:middle
experience for your users for

00:03:20.286 --> 00:03:21.456 A:middle
the entire time they're on the

00:03:21.456 --> 00:03:22.586 A:middle
page instead of just when

00:03:22.586 --> 00:03:23.786 A:middle
they're running their code.

00:03:25.476 --> 00:03:27.566 A:middle
And finally, you also have the

00:03:27.566 --> 00:03:29.126 A:middle
auxiliary source files.

00:03:29.666 --> 00:03:30.926 A:middle
These are stored in the book,

00:03:30.926 --> 00:03:32.506 A:middle
chapter, and page and allow you

00:03:32.506 --> 00:03:33.896 A:middle
to provide additional API

00:03:34.626 --> 00:03:36.016 A:middle
through separate Swift modules

00:03:36.016 --> 00:03:37.736 A:middle
which are automatically imported

00:03:37.736 --> 00:03:38.556 A:middle
at each level.

00:03:40.426 --> 00:03:41.646 A:middle
For more information on the

00:03:41.646 --> 00:03:43.296 A:middle
Playground book file format, I'd

00:03:43.296 --> 00:03:44.366 A:middle
really recommend that you take a

00:03:44.366 --> 00:03:45.596 A:middle
look at last year's session,

00:03:45.596 --> 00:03:47.036 A:middle
Introducing Swift Playgrounds,

00:03:47.036 --> 00:03:48.176 A:middle
where some of my colleagues go

00:03:48.176 --> 00:03:49.466 A:middle
into this in a lot more depth.

00:03:50.266 --> 00:03:51.066 A:middle
There's also really great

00:03:51.066 --> 00:03:52.536 A:middle
documentation available on

00:03:52.536 --> 00:03:55.746 A:middle
developer.apple.com.

00:03:56.976 --> 00:03:58.396 A:middle
Let's now take a look at some of

00:03:58.396 --> 00:04:00.046 A:middle
the new features in Swift

00:04:00.046 --> 00:04:01.186 A:middle
Playgrounds since last year.

00:04:02.636 --> 00:04:05.646 A:middle
First up is support for copying

00:04:05.646 --> 00:04:06.736 A:middle
code between pages.

00:04:07.366 --> 00:04:08.446 A:middle
This allows you to build a

00:04:08.446 --> 00:04:10.326 A:middle
Playground book which continues

00:04:10.326 --> 00:04:11.966 A:middle
a narrative from page to page

00:04:11.966 --> 00:04:13.446 A:middle
while allowing users to evolve

00:04:13.446 --> 00:04:14.336 A:middle
the code that they're writing.

00:04:15.306 --> 00:04:16.496 A:middle
So when I open up a page that

00:04:16.496 --> 00:04:19.016 A:middle
uses this feature, as a user, I

00:04:19.016 --> 00:04:20.466 A:middle
see a prompt to either bring

00:04:20.466 --> 00:04:21.706 A:middle
over my code from the previous

00:04:21.706 --> 00:04:23.106 A:middle
page or to start coding

00:04:23.106 --> 00:04:23.856 A:middle
immediately.

00:04:25.046 --> 00:04:27.006 A:middle
If I then tap on the button to

00:04:27.006 --> 00:04:29.206 A:middle
bring my code forward, then my

00:04:29.336 --> 00:04:31.016 A:middle
implementation from the previous

00:04:31.016 --> 00:04:32.496 A:middle
page is automatically copied for

00:04:32.496 --> 00:04:33.886 A:middle
me and the source editor is

00:04:33.886 --> 00:04:35.176 A:middle
shown, allowing me to begin

00:04:35.176 --> 00:04:35.536 A:middle
coding.

00:04:40.946 --> 00:04:42.366 A:middle
The next new feature is support

00:04:42.366 --> 00:04:43.986 A:middle
for speed control in Swift

00:04:43.986 --> 00:04:44.476 A:middle
Playgrounds.

00:04:45.476 --> 00:04:46.456 A:middle
This allows you to control the

00:04:46.456 --> 00:04:48.206 A:middle
speed of execution, and there's

00:04:48.206 --> 00:04:48.926 A:middle
two forms for this.

00:04:50.096 --> 00:04:52.256 A:middle
First up is support for stepping

00:04:52.306 --> 00:04:53.576 A:middle
through code as it executes.

00:04:53.966 --> 00:04:55.076 A:middle
So if you tap the speed control

00:04:55.076 --> 00:04:56.216 A:middle
in the live view at the bottom

00:04:56.216 --> 00:04:57.496 A:middle
left, you can select Step

00:04:57.496 --> 00:04:59.676 A:middle
Through My Code, and then as the

00:04:59.676 --> 00:05:01.466 A:middle
code executes in the live view,

00:05:01.576 --> 00:05:02.476 A:middle
the line of code, which

00:05:02.476 --> 00:05:03.646 A:middle
corresponds to the current

00:05:03.866 --> 00:05:05.076 A:middle
action, is highlighted in the

00:05:05.136 --> 00:05:05.686 A:middle
source editor.

00:05:05.686 --> 00:05:07.436 A:middle
So you can see, as Bite moves

00:05:07.436 --> 00:05:08.736 A:middle
around the puzzle world, the

00:05:08.736 --> 00:05:10.426 A:middle
line of code directing the

00:05:10.426 --> 00:05:13.526 A:middle
action is highlighted.

00:05:14.306 --> 00:05:15.416 A:middle
Swift Playgrounds now also

00:05:15.416 --> 00:05:17.166 A:middle
supports running faster than the

00:05:17.166 --> 00:05:18.846 A:middle
default speed if your Playground

00:05:18.846 --> 00:05:19.536 A:middle
book supports it.

00:05:19.536 --> 00:05:22.106 A:middle
So again, you can tap on the

00:05:22.106 --> 00:05:24.086 A:middle
speed control in the live view

00:05:24.286 --> 00:05:25.646 A:middle
and then select Run Faster or

00:05:25.646 --> 00:05:26.316 A:middle
Run Fastest.

00:05:27.096 --> 00:05:28.516 A:middle
Learn to Code 1 and 2 take

00:05:28.516 --> 00:05:29.826 A:middle
advantage of this feature to

00:05:29.856 --> 00:05:31.256 A:middle
make Bite move more quickly

00:05:31.256 --> 00:05:33.326 A:middle
throughout the puzzle world.

00:05:34.176 --> 00:05:37.726 A:middle
Swift Playgrounds will now show

00:05:37.726 --> 00:05:39.786 A:middle
runtime errors which occur in

00:05:40.066 --> 00:05:41.036 A:middle
your Playgrounds.

00:05:41.536 --> 00:05:43.276 A:middle
So in this case, I have created

00:05:43.276 --> 00:05:45.126 A:middle
an array with five items, and

00:05:45.126 --> 00:05:46.686 A:middle
then I try and access the item

00:05:46.686 --> 00:05:48.676 A:middle
at index 5, which results in an

00:05:48.676 --> 00:05:49.806 A:middle
index out of range error.

00:05:50.826 --> 00:05:51.916 A:middle
Swift Playgrounds is able to

00:05:51.916 --> 00:05:53.326 A:middle
determine which line of code

00:05:53.326 --> 00:05:55.306 A:middle
caused execution to crash and

00:05:55.306 --> 00:05:56.836 A:middle
then highlights the line with

00:05:57.216 --> 00:06:01.256 A:middle
the text that's provided.

00:06:01.256 --> 00:06:03.976 A:middle
Users are now able to add,

00:06:04.546 --> 00:06:07.566 A:middle
delete, rename, reorder, and

00:06:07.566 --> 00:06:09.276 A:middle
duplicate pages inside of

00:06:09.366 --> 00:06:10.356 A:middle
Playground books, which they

00:06:10.356 --> 00:06:11.306 A:middle
create inside of Swift

00:06:11.306 --> 00:06:12.916 A:middle
Playgrounds, including all of

00:06:12.916 --> 00:06:14.366 A:middle
the Apple-provided starting

00:06:14.936 --> 00:06:15.086 A:middle
points.

00:06:16.176 --> 00:06:19.126 A:middle
Swift Playgrounds is now

00:06:19.126 --> 00:06:20.956 A:middle
localized into a few more

00:06:20.956 --> 00:06:22.786 A:middle
languages to increase its reach.

00:06:23.676 --> 00:06:24.966 A:middle
So Swift Playgrounds and all of

00:06:24.966 --> 00:06:26.206 A:middle
the Apple-provided content is

00:06:26.206 --> 00:06:27.656 A:middle
now available in simplified

00:06:27.656 --> 00:06:31.136 A:middle
Chinese, Japanese, French,

00:06:32.216 --> 00:06:35.696 A:middle
German, and Latin American

00:06:37.306 --> 00:06:37.716 A:middle
Spanish.

00:06:37.926 --> 00:06:40.436 A:middle
And you as an author can

00:06:40.436 --> 00:06:41.796 A:middle
localize into any of these

00:06:41.796 --> 00:06:43.476 A:middle
languages or any of the others

00:06:43.516 --> 00:06:44.496 A:middle
which iOS supports.

00:06:45.516 --> 00:06:51.816 A:middle
[ Applause ]

00:06:52.316 --> 00:06:53.976 A:middle
Coming in Swift Playgrounds 2 is

00:06:53.976 --> 00:06:56.146 A:middle
support for the iOS 11 SDK, and

00:06:56.716 --> 00:06:58.256 A:middle
this means that a handful of new

00:06:58.316 --> 00:06:59.706 A:middle
frameworks are now available for

00:06:59.706 --> 00:07:01.096 A:middle
use in Playgrounds in Swift

00:07:01.096 --> 00:07:01.726 A:middle
Playgrounds 2.

00:07:01.726 --> 00:07:05.126 A:middle
This includes ARKit, CoreML,

00:07:05.586 --> 00:07:08.246 A:middle
IOSurface, PDFKit, and Vision.

00:07:09.816 --> 00:07:11.466 A:middle
Additionally, Playgrounds may

00:07:11.466 --> 00:07:13.046 A:middle
now access the camera if they're

00:07:13.046 --> 00:07:14.186 A:middle
running on iOS 11.

00:07:14.546 --> 00:07:15.916 A:middle
You can use the AVFoundation

00:07:15.916 --> 00:07:17.006 A:middle
APIs to get access to the

00:07:17.006 --> 00:07:17.406 A:middle
camera.

00:07:18.156 --> 00:07:19.006 A:middle
It's important to note, though,

00:07:19.006 --> 00:07:20.566 A:middle
that this won't work on earlier

00:07:20.566 --> 00:07:22.376 A:middle
versions of iOS, so if your

00:07:22.436 --> 00:07:23.396 A:middle
Playground depends on the

00:07:23.466 --> 00:07:24.666 A:middle
camera, we recommend that you

00:07:24.706 --> 00:07:26.176 A:middle
set its deployment target to iOS

00:07:26.176 --> 00:07:26.586 A:middle
11.

00:07:27.106 --> 00:07:30.146 A:middle
And now, let's hop into a demo

00:07:30.146 --> 00:07:31.056 A:middle
to take a look at a couple of

00:07:31.056 --> 00:07:31.566 A:middle
these features.

00:07:32.516 --> 00:07:40.446 A:middle
[ Applause ]

00:07:40.946 --> 00:07:42.886 A:middle
OK, so here I have Swift

00:07:42.886 --> 00:07:44.366 A:middle
Playgrounds, and I'm going to go

00:07:44.366 --> 00:07:47.336 A:middle
ahead and launch it.

00:07:47.336 --> 00:07:49.496 A:middle
And Najla, Grace, and I are each

00:07:49.526 --> 00:07:50.626 A:middle
working on Playground books

00:07:51.006 --> 00:07:52.636 A:middle
representing kind of our kitchen

00:07:52.636 --> 00:07:53.686 A:middle
where we're going to use Swift

00:07:53.686 --> 00:07:55.906 A:middle
code to make some things.

00:07:55.906 --> 00:07:56.896 A:middle
And I'm going to start out by

00:07:56.896 --> 00:07:57.466 A:middle
making a cake.

00:07:58.286 --> 00:07:59.386 A:middle
So I'll go ahead and open up my

00:07:59.436 --> 00:08:00.036 A:middle
Playground book.

00:08:00.036 --> 00:08:02.296 A:middle
And we're going to start from

00:08:02.296 --> 00:08:04.416 A:middle
the very beginning by making

00:08:04.416 --> 00:08:06.656 A:middle
our, making some butter on our

00:08:06.656 --> 00:08:07.246 A:middle
own.

00:08:08.046 --> 00:08:09.166 A:middle
So we've got this makeButter

00:08:09.166 --> 00:08:10.856 A:middle
function and we've got the cream

00:08:10.856 --> 00:08:11.746 A:middle
that we need for the butter.

00:08:11.746 --> 00:08:14.476 A:middle
So I'll go in and just add some

00:08:15.436 --> 00:08:17.166 A:middle
code to churn that cream, which

00:08:17.166 --> 00:08:18.156 A:middle
will then produce the butter

00:08:18.156 --> 00:08:18.776 A:middle
that we want.

00:08:18.776 --> 00:08:22.506 A:middle
I can then run my code, and then

00:08:22.506 --> 00:08:23.866 A:middle
we'll see in the live view that,

00:08:23.866 --> 00:08:25.196 A:middle
hey, we got the cream, we've

00:08:25.196 --> 00:08:26.726 A:middle
churned it, and then we have

00:08:27.096 --> 00:08:27.546 A:middle
butter.

00:08:27.646 --> 00:08:29.146 A:middle
So it's then, Swift Playgrounds

00:08:29.146 --> 00:08:29.986 A:middle
is then telling us that we've

00:08:29.986 --> 00:08:31.156 A:middle
successfully completed the task.

00:08:31.256 --> 00:08:33.876 A:middle
I'll go on to the next page, and

00:08:34.366 --> 00:08:35.496 A:middle
we're going to use that butter

00:08:35.496 --> 00:08:36.466 A:middle
to make some frosting.

00:08:36.466 --> 00:08:39.246 A:middle
And instead of having to take a

00:08:39.246 --> 00:08:41.496 A:middle
author-provided version of

00:08:41.556 --> 00:08:43.946 A:middle
butter, I'm going to be able to

00:08:43.946 --> 00:08:46.476 A:middle
pull my butter function from the

00:08:46.476 --> 00:08:47.266 A:middle
previous page.

00:08:47.796 --> 00:08:48.746 A:middle
So I'll tap on Bring Over My

00:08:48.746 --> 00:08:50.886 A:middle
Code, and then I see the

00:08:50.886 --> 00:08:51.856 A:middle
makeButter function that I

00:08:51.856 --> 00:08:54.116 A:middle
implemented is copied over to

00:08:54.116 --> 00:08:54.766 A:middle
this page.

00:08:55.706 --> 00:08:56.886 A:middle
Additionally, the authors

00:08:56.886 --> 00:08:59.006 A:middle
provided a makeFrosting

00:08:59.056 --> 00:09:00.366 A:middle
function, which I'll then fill

00:09:00.366 --> 00:09:00.596 A:middle
out.

00:09:00.596 --> 00:09:02.226 A:middle
So we've got all the ingredients

00:09:02.226 --> 00:09:03.476 A:middle
we need for the frosting: the

00:09:03.476 --> 00:09:05.456 A:middle
butter, powdered sugar, vanilla,

00:09:05.456 --> 00:09:05.856 A:middle
and milk.

00:09:07.456 --> 00:09:08.936 A:middle
So I'll go ahead and make this

00:09:09.256 --> 00:09:11.036 A:middle
return frosting, which I can do

00:09:12.006 --> 00:09:12.826 A:middle
by mixing together these

00:09:12.826 --> 00:09:14.126 A:middle
ingredients.

00:09:14.646 --> 00:09:15.316 A:middle
Let's look at the powdered

00:09:15.316 --> 00:09:21.466 A:middle
sugar, the butter, the vanilla,

00:09:23.036 --> 00:09:23.526 A:middle
and the milk.

00:09:24.026 --> 00:09:25.516 A:middle
And because I want to see

00:09:25.516 --> 00:09:27.806 A:middle
exactly what happens to make

00:09:27.806 --> 00:09:29.036 A:middle
this frosting, I'm going to

00:09:29.036 --> 00:09:31.836 A:middle
enable Step Through My Code.

00:09:32.276 --> 00:09:33.166 A:middle
We'll see that we start the

00:09:33.166 --> 00:09:34.586 A:middle
makeFrosting function, then we

00:09:34.586 --> 00:09:36.016 A:middle
start to make butter, and we see

00:09:36.016 --> 00:09:37.226 A:middle
the live view update as we make

00:09:37.226 --> 00:09:37.576 A:middle
the butter.

00:09:37.576 --> 00:09:39.746 A:middle
Look at the powdered sugar, the

00:09:39.746 --> 00:09:40.946 A:middle
vanilla, and the milk.

00:09:40.946 --> 00:09:42.736 A:middle
Then, we mix it all together to

00:09:42.736 --> 00:09:43.496 A:middle
get frosting.

00:09:43.866 --> 00:09:44.916 A:middle
And so there we've completed the

00:09:44.916 --> 00:09:46.556 A:middle
task on this page that we want.

00:09:47.676 --> 00:09:48.446 A:middle
So I'll move forward.

00:09:48.446 --> 00:09:51.216 A:middle
And now, we're going to go on

00:09:51.216 --> 00:09:52.406 A:middle
and start making the cake.

00:09:53.086 --> 00:09:54.756 A:middle
But if I look at this, there's a

00:09:54.756 --> 00:09:55.906 A:middle
lot of ingredients here that it

00:09:55.906 --> 00:09:57.506 A:middle
wants me to collect, and I think

00:09:57.506 --> 00:09:58.506 A:middle
there's going to be a little bit

00:09:58.506 --> 00:09:59.516 A:middle
more work that I need to make

00:09:59.516 --> 00:10:00.876 A:middle
this cake, and I'm kind of

00:10:00.876 --> 00:10:01.816 A:middle
running short on time.

00:10:02.236 --> 00:10:03.196 A:middle
So I'm going to pretend that I'm

00:10:03.196 --> 00:10:04.366 A:middle
on a cooking show and move

00:10:04.366 --> 00:10:06.276 A:middle
straight to the end.

00:10:07.106 --> 00:10:08.496 A:middle
So I'll tap on this Let's Eat

00:10:08.496 --> 00:10:09.276 A:middle
Cake page.

00:10:10.156 --> 00:10:12.236 A:middle
And Swift Playgrounds is telling

00:10:12.236 --> 00:10:13.256 A:middle
me that I should go back and

00:10:13.256 --> 00:10:15.076 A:middle
finish making this cake, but

00:10:15.076 --> 00:10:17.296 A:middle
because I can go to any page at

00:10:17.296 --> 00:10:19.016 A:middle
all, I'm able to tap in this

00:10:19.256 --> 00:10:20.526 A:middle
Start Cooking on This Page

00:10:20.776 --> 00:10:23.736 A:middle
button, which will then use the

00:10:23.736 --> 00:10:25.266 A:middle
default implementation of the

00:10:25.266 --> 00:10:25.576 A:middle
cake.

00:10:25.576 --> 00:10:27.106 A:middle
So we'll see the authors

00:10:27.106 --> 00:10:28.386 A:middle
provided a makeButter and a

00:10:28.386 --> 00:10:29.366 A:middle
makeFrosting function.

00:10:30.376 --> 00:10:32.456 A:middle
Then, the author has all of the

00:10:32.456 --> 00:10:34.386 A:middle
ingredients needed for the cake.

00:10:34.386 --> 00:10:36.546 A:middle
The ingredients are then mixed

00:10:36.636 --> 00:10:38.466 A:middle
together into a batter, which is

00:10:38.466 --> 00:10:40.076 A:middle
then baked in an oven, and then

00:10:40.076 --> 00:10:42.976 A:middle
we let that hot cake cool before

00:10:42.976 --> 00:10:43.456 A:middle
frosting it.

00:10:43.576 --> 00:10:45.156 A:middle
So I'm going to come in here at

00:10:45.156 --> 00:10:46.846 A:middle
the bottom and just call a

00:10:46.846 --> 00:10:47.856 A:middle
function to eat the cake.

00:10:48.316 --> 00:10:50.926 A:middle
Because I want to go as quickly

00:10:50.926 --> 00:10:52.006 A:middle
as possible to get through this,

00:10:52.076 --> 00:10:53.306 A:middle
I'm going to actually tap on Run

00:10:53.366 --> 00:10:55.546 A:middle
Fastest, which will then go

00:10:55.546 --> 00:10:56.736 A:middle
through each step very, very

00:10:56.736 --> 00:10:57.306 A:middle
quickly.

00:10:57.426 --> 00:10:58.456 A:middle
We can see in just a matter of

00:10:58.456 --> 00:11:00.076 A:middle
moments I have the cake that I

00:11:00.076 --> 00:11:00.736 A:middle
was looking for.

00:11:02.046 --> 00:11:03.826 A:middle
So great. I've now showed you a

00:11:04.016 --> 00:11:05.406 A:middle
handful of features that are new

00:11:05.406 --> 00:11:06.176 A:middle
in Swift Playgrounds.

00:11:06.586 --> 00:11:07.916 A:middle
Let's now take a look at how you

00:11:07.916 --> 00:11:08.846 A:middle
can adopt them in your

00:11:08.846 --> 00:11:09.456 A:middle
Playground books.

00:11:11.516 --> 00:11:15.500 A:middle
[ Applause ]

00:11:21.546 --> 00:11:22.666 A:middle
The first feature I showed you

00:11:22.666 --> 00:11:24.286 A:middle
was support for copying code

00:11:24.286 --> 00:11:25.136 A:middle
between pages.

00:11:25.766 --> 00:11:27.526 A:middle
This allows you to craft a

00:11:27.526 --> 00:11:29.116 A:middle
Playground book where the user

00:11:29.116 --> 00:11:30.696 A:middle
is constantly refining their

00:11:30.696 --> 00:11:32.316 A:middle
implementation of a particular

00:11:32.316 --> 00:11:33.946 A:middle
function or of other code.

00:11:35.046 --> 00:11:37.906 A:middle
For a user, when I look at a

00:11:37.976 --> 00:11:39.666 A:middle
page which is being used as the

00:11:39.666 --> 00:11:41.476 A:middle
source of copyable code, I

00:11:41.546 --> 00:11:42.646 A:middle
really don't actually see much

00:11:42.646 --> 00:11:43.126 A:middle
difference.

00:11:43.446 --> 00:11:45.106 A:middle
I just see an editable area

00:11:45.106 --> 00:11:46.486 A:middle
where I can insert some code.

00:11:46.486 --> 00:11:48.476 A:middle
But if we take a peek at the

00:11:48.476 --> 00:11:49.576 A:middle
code underneath, there's a

00:11:49.616 --> 00:11:50.986 A:middle
little bit of stuff that you as

00:11:50.986 --> 00:11:52.696 A:middle
the author provide to let Swift

00:11:52.696 --> 00:11:53.646 A:middle
Playgrounds know what should be

00:11:53.646 --> 00:11:54.066 A:middle
copied.

00:11:55.246 --> 00:11:57.476 A:middle
That is these copy source tags,

00:11:57.596 --> 00:11:59.306 A:middle
which allow you to tag a region

00:11:59.306 --> 00:12:01.576 A:middle
of the page with an identifier,

00:12:01.576 --> 00:12:02.756 A:middle
which then you can reference

00:12:02.856 --> 00:12:03.186 A:middle
later.

00:12:03.916 --> 00:12:08.006 A:middle
On a page onto which code is

00:12:08.006 --> 00:12:10.426 A:middle
being copied, as a user, when I

00:12:10.426 --> 00:12:11.646 A:middle
first open it, instead of being

00:12:11.646 --> 00:12:12.996 A:middle
presented with a source editor,

00:12:13.166 --> 00:12:14.566 A:middle
I'm presented with the option to

00:12:14.566 --> 00:12:15.656 A:middle
either copy my code from the

00:12:15.656 --> 00:12:17.306 A:middle
previous page or use the default

00:12:17.306 --> 00:12:18.046 A:middle
implementation.

00:12:19.796 --> 00:12:20.846 A:middle
If I haven't yet successfully

00:12:20.846 --> 00:12:22.506 A:middle
completed that page, instead of

00:12:22.506 --> 00:12:23.926 A:middle
being asked if I want to copy

00:12:23.926 --> 00:12:25.716 A:middle
code, I'm asked if I want to go

00:12:25.716 --> 00:12:27.366 A:middle
back to that page to finish it

00:12:27.426 --> 00:12:27.686 A:middle
first.

00:12:28.086 --> 00:12:28.996 A:middle
But I'm still presented with the

00:12:28.996 --> 00:12:30.466 A:middle
option to start working on this

00:12:30.466 --> 00:12:31.226 A:middle
page immediately.

00:12:31.856 --> 00:12:34.656 A:middle
Once the user makes a selection

00:12:34.656 --> 00:12:36.216 A:middle
to either copy code or use the

00:12:36.216 --> 00:12:38.016 A:middle
default implementation, then the

00:12:38.016 --> 00:12:38.876 A:middle
regular source editor's

00:12:38.876 --> 00:12:39.936 A:middle
presented with a code they

00:12:39.936 --> 00:12:40.236 A:middle
expect.

00:12:40.236 --> 00:12:42.606 A:middle
Let's take a look at how this

00:12:42.676 --> 00:12:43.816 A:middle
happens in the source code

00:12:43.816 --> 00:12:44.246 A:middle
itself.

00:12:45.266 --> 00:12:47.246 A:middle
And it's very similar to the

00:12:47.246 --> 00:12:47.726 A:middle
other case.

00:12:48.226 --> 00:12:49.456 A:middle
Instead of providing copy source

00:12:49.456 --> 00:12:51.196 A:middle
tags, though, you provide a copy

00:12:51.196 --> 00:12:52.806 A:middle
destination tag, which tells

00:12:52.806 --> 00:12:55.236 A:middle
Swift Playgrounds the page from

00:12:55.236 --> 00:12:57.146 A:middle
which you want to copy as well

00:12:57.146 --> 00:12:58.446 A:middle
as the identifier on that page

00:12:58.446 --> 00:12:59.496 A:middle
for the range of code which

00:12:59.496 --> 00:13:00.616 A:middle
should be copied because you're

00:13:00.616 --> 00:13:02.016 A:middle
able to copy code from multiple

00:13:02.016 --> 00:13:03.596 A:middle
sources onto a single page.

00:13:04.426 --> 00:13:05.286 A:middle
Then, you place this inside of

00:13:05.286 --> 00:13:06.536 A:middle
the editable code region into

00:13:06.536 --> 00:13:07.406 A:middle
which you want to place the

00:13:07.406 --> 00:13:08.036 A:middle
copied code.

00:13:08.306 --> 00:13:11.046 A:middle
There's also a little bit of

00:13:11.046 --> 00:13:12.216 A:middle
stuff that needs to be placed in

00:13:12.216 --> 00:13:13.746 A:middle
the manifest file to support

00:13:13.746 --> 00:13:15.016 A:middle
copying code between pages.

00:13:15.016 --> 00:13:17.796 A:middle
So there are a couple of keys,

00:13:17.796 --> 00:13:19.326 A:middle
the ready to copy instructions

00:13:19.326 --> 00:13:20.486 A:middle
and the not ready to copy

00:13:20.486 --> 00:13:21.106 A:middle
instructions.

00:13:21.866 --> 00:13:24.126 A:middle
These refer to markup text,

00:13:24.126 --> 00:13:25.396 A:middle
which is shown with Swift

00:13:25.396 --> 00:13:26.506 A:middle
Playgrounds is either ready to

00:13:26.506 --> 00:13:27.736 A:middle
copy because the user has

00:13:27.826 --> 00:13:28.746 A:middle
successfully completed the

00:13:28.746 --> 00:13:30.896 A:middle
previous page or when it's not

00:13:30.896 --> 00:13:32.116 A:middle
ready to copy because the user

00:13:32.246 --> 00:13:33.396 A:middle
hasn't yet finished the page.

00:13:33.576 --> 00:13:34.726 A:middle
And you're able to provide the

00:13:34.726 --> 00:13:36.236 A:middle
text that makes sense for your

00:13:36.236 --> 00:13:37.696 A:middle
playground book to tell the user

00:13:37.696 --> 00:13:39.826 A:middle
what they should be doing here.

00:13:40.776 --> 00:13:42.346 A:middle
There are also a handful of

00:13:42.346 --> 00:13:43.966 A:middle
optional keys -- the

00:13:43.966 --> 00:13:45.856 A:middle
CopyCommandButtonTitle key, the

00:13:45.856 --> 00:13:47.616 A:middle
NavigateCommandButtonTitle key,

00:13:47.916 --> 00:13:48.306 A:middle
and the

00:13:48.306 --> 00:13:50.276 A:middle
DefaultCommandButtonTitle.

00:13:51.016 --> 00:13:52.926 A:middle
These all refer to the titles of

00:13:52.926 --> 00:13:54.066 A:middle
the buttons so that you can

00:13:54.066 --> 00:13:55.776 A:middle
customize them to your

00:13:55.776 --> 00:13:56.486 A:middle
Playground book.

00:13:57.246 --> 00:13:58.336 A:middle
It's worth noting, though, that

00:13:58.336 --> 00:13:59.426 A:middle
if you don't provide any of

00:13:59.426 --> 00:14:01.096 A:middle
these keys, Swift Playgrounds

00:14:01.096 --> 00:14:03.516 A:middle
will use a default title

00:14:03.516 --> 00:14:04.406 A:middle
instead.

00:14:04.406 --> 00:14:06.616 A:middle
It's not possible to hide any of

00:14:06.616 --> 00:14:07.406 A:middle
these buttons in the UI.

00:14:11.256 --> 00:14:12.486 A:middle
The other feature, which I

00:14:12.486 --> 00:14:14.076 A:middle
showed you, was support for

00:14:14.076 --> 00:14:15.126 A:middle
controlling the speed of

00:14:15.126 --> 00:14:16.476 A:middle
execution in Playgrounds.

00:14:18.546 --> 00:14:20.086 A:middle
Swift Playground now supports

00:14:20.086 --> 00:14:22.046 A:middle
both stepping through code as

00:14:22.086 --> 00:14:23.676 A:middle
well as running faster than the

00:14:23.676 --> 00:14:24.086 A:middle
default.

00:14:25.606 --> 00:14:27.356 A:middle
The Step Through My Code mode as

00:14:27.356 --> 00:14:29.216 A:middle
well as its sibling, Step

00:14:29.306 --> 00:14:31.076 A:middle
Slowly, is enabled for all

00:14:31.076 --> 00:14:31.656 A:middle
Playgrounds.

00:14:32.096 --> 00:14:33.766 A:middle
This is because users should

00:14:33.766 --> 00:14:35.246 A:middle
always be able to enable this

00:14:35.246 --> 00:14:36.676 A:middle
mode to see what's happening in

00:14:36.676 --> 00:14:37.376 A:middle
their code.

00:14:39.626 --> 00:14:41.266 A:middle
Run Faster and Run Fastest,

00:14:41.266 --> 00:14:43.136 A:middle
however, we can't enable those

00:14:43.136 --> 00:14:45.146 A:middle
by default because not all

00:14:45.146 --> 00:14:46.356 A:middle
Playground books can actually

00:14:46.356 --> 00:14:47.066 A:middle
run faster.

00:14:47.266 --> 00:14:48.566 A:middle
Some operations, you just can't

00:14:48.566 --> 00:14:49.416 A:middle
make it go faster.

00:14:49.936 --> 00:14:51.536 A:middle
So Playground pages in books may

00:14:51.536 --> 00:14:54.306 A:middle
opt into run faster or in

00:14:54.306 --> 00:14:54.876 A:middle
running fastest.

00:14:54.876 --> 00:14:58.266 A:middle
Let's take another look at how

00:14:58.266 --> 00:14:59.286 A:middle
Step Through My Code works.

00:14:59.996 --> 00:15:01.886 A:middle
So when the user taps on the

00:15:01.886 --> 00:15:03.346 A:middle
run, the speed control, rather,

00:15:03.686 --> 00:15:04.786 A:middle
and selects Step Through My

00:15:04.786 --> 00:15:07.116 A:middle
Code, then their, the code runs

00:15:07.116 --> 00:15:08.806 A:middle
normally, but the line of code

00:15:08.806 --> 00:15:10.106 A:middle
which is running is highlighted

00:15:10.106 --> 00:15:10.676 A:middle
on the left.

00:15:12.016 --> 00:15:12.946 A:middle
Let's see how this works under

00:15:12.946 --> 00:15:14.466 A:middle
the hood.

00:15:15.416 --> 00:15:16.906 A:middle
So if you have in your

00:15:16.906 --> 00:15:17.836 A:middle
Playground book some

00:15:17.836 --> 00:15:19.276 A:middle
straight-line code that's

00:15:19.276 --> 00:15:20.896 A:middle
running synchronously like this

00:15:20.896 --> 00:15:22.226 A:middle
where we create a string,

00:15:22.226 --> 00:15:23.486 A:middle
iterate over each character of

00:15:23.486 --> 00:15:24.586 A:middle
the string, and then print it

00:15:24.586 --> 00:15:26.426 A:middle
out, there's actually nothing

00:15:26.426 --> 00:15:27.196 A:middle
that you need to do.

00:15:27.726 --> 00:15:28.746 A:middle
Swift Playgrounds will

00:15:28.746 --> 00:15:30.666 A:middle
automatically insert delays so

00:15:30.666 --> 00:15:32.196 A:middle
that every visible line of code

00:15:32.196 --> 00:15:33.806 A:middle
takes an appreciable amount of

00:15:34.216 --> 00:15:36.286 A:middle
time so this code will highlight

00:15:37.106 --> 00:15:37.336 A:middle
correctly.

00:15:38.436 --> 00:15:40.206 A:middle
There is one case which needs

00:15:40.206 --> 00:15:41.866 A:middle
some special care, and that's if

00:15:41.866 --> 00:15:43.476 A:middle
you as a Playground book author

00:15:43.736 --> 00:15:45.946 A:middle
are providing asynchronous API

00:15:45.946 --> 00:15:47.596 A:middle
to your users, which under the

00:15:47.656 --> 00:15:48.726 A:middle
hood is actually implemented

00:15:48.726 --> 00:15:49.486 A:middle
asynchronously.

00:15:50.266 --> 00:15:51.196 A:middle
So in this case, we have a

00:15:51.196 --> 00:15:53.126 A:middle
moveForward function, which is

00:15:53.126 --> 00:15:55.086 A:middle
going to just schedule some work

00:15:55.086 --> 00:15:56.146 A:middle
on a background queue.

00:15:57.046 --> 00:15:58.686 A:middle
While this would be a good

00:15:58.686 --> 00:16:00.466 A:middle
practice in an app, it's not so

00:16:00.466 --> 00:16:01.826 A:middle
great for a Playground because

00:16:01.826 --> 00:16:04.596 A:middle
when you -- when the user calls

00:16:04.596 --> 00:16:05.736 A:middle
the moveForward function, it

00:16:05.736 --> 00:16:07.146 A:middle
will only be highlighted for the

00:16:07.146 --> 00:16:08.166 A:middle
amount of time it takes to

00:16:08.216 --> 00:16:09.406 A:middle
schedule this background work,

00:16:09.766 --> 00:16:10.706 A:middle
not for the amount of time it

00:16:10.746 --> 00:16:12.026 A:middle
takes to actually move forward.

00:16:12.026 --> 00:16:15.346 A:middle
So instead, you need to make

00:16:15.346 --> 00:16:17.116 A:middle
your functions which appear to

00:16:17.116 --> 00:16:18.356 A:middle
be synchronous actually be

00:16:18.406 --> 00:16:20.196 A:middle
synchronous, and you can do this

00:16:20.306 --> 00:16:22.016 A:middle
with a little bit of code.

00:16:23.006 --> 00:16:24.156 A:middle
So first, at the top of your

00:16:24.156 --> 00:16:25.516 A:middle
function, you can get the

00:16:25.516 --> 00:16:27.376 A:middle
current run loop and then have a

00:16:27.376 --> 00:16:28.796 A:middle
variable, which indicates

00:16:28.796 --> 00:16:29.816 A:middle
whether or not the asynchronous

00:16:29.816 --> 00:16:30.906 A:middle
operation has completed.

00:16:30.906 --> 00:16:33.626 A:middle
Then, at the end, you need to

00:16:33.626 --> 00:16:34.786 A:middle
make sure that the function

00:16:34.786 --> 00:16:36.396 A:middle
doesn't exit until the

00:16:36.396 --> 00:16:37.866 A:middle
asynchronous operation has

00:16:37.936 --> 00:16:38.286 A:middle
finished.

00:16:38.286 --> 00:16:40.026 A:middle
So you can do that by having a

00:16:40.026 --> 00:16:41.356 A:middle
while loop which keeps the

00:16:41.356 --> 00:16:42.816 A:middle
current run loop running until

00:16:42.816 --> 00:16:45.306 A:middle
the didFinish flag is set to

00:16:45.306 --> 00:16:45.786 A:middle
true.

00:16:47.866 --> 00:16:49.576 A:middle
In the callback, after your,

00:16:49.576 --> 00:16:50.926 A:middle
whatever work you would be

00:16:50.926 --> 00:16:52.486 A:middle
normally doing in the callback,

00:16:52.486 --> 00:16:53.146 A:middle
you need to do a little bit

00:16:53.146 --> 00:16:53.766 A:middle
extra.

00:16:54.586 --> 00:16:55.506 A:middle
First, you need to set the

00:16:55.506 --> 00:16:57.156 A:middle
didFinish flag to true so that

00:16:57.156 --> 00:16:58.356 A:middle
that while loop will exit.

00:16:59.056 --> 00:17:02.216 A:middle
You then need to run a lock on

00:17:02.216 --> 00:17:04.876 A:middle
that run loop to tell it to stop

00:17:05.256 --> 00:17:07.536 A:middle
so that the CFRunLoop run call

00:17:07.536 --> 00:17:08.316 A:middle
will terminate.

00:17:08.966 --> 00:17:11.896 A:middle
And then, because of how the CF

00:17:11.896 --> 00:17:13.706 A:middle
API works, you need to tell that

00:17:13.706 --> 00:17:14.756 A:middle
run loop to wake up so that it

00:17:14.756 --> 00:17:15.986 A:middle
will actually perform with the

00:17:15.986 --> 00:17:16.986 A:middle
block that you scheduled.

00:17:17.496 --> 00:17:21.516 A:middle
The other half of speed control

00:17:21.516 --> 00:17:23.306 A:middle
is support for running faster

00:17:23.306 --> 00:17:24.366 A:middle
than the default speed.

00:17:25.236 --> 00:17:27.116 A:middle
Again, this is accessed through

00:17:27.116 --> 00:17:28.466 A:middle
the speed control in the bottom

00:17:28.466 --> 00:17:29.656 A:middle
left of the live view.

00:17:29.656 --> 00:17:31.226 A:middle
The user can tap on Run Fastest

00:17:31.226 --> 00:17:32.846 A:middle
if it's supported, and then the

00:17:32.846 --> 00:17:34.836 A:middle
Playground book does whatever it

00:17:34.906 --> 00:17:37.576 A:middle
can to run faster or run

00:17:37.576 --> 00:17:38.116 A:middle
fastest.

00:17:40.986 --> 00:17:42.306 A:middle
Since not all Playground pages

00:17:42.306 --> 00:17:44.436 A:middle
can actually run faster, this

00:17:44.436 --> 00:17:46.716 A:middle
requires an opt in from the

00:17:46.716 --> 00:17:48.326 A:middle
author to enable these modes,

00:17:48.826 --> 00:17:49.906 A:middle
and that's by setting the

00:17:49.966 --> 00:17:51.366 A:middle
maximum supported execution

00:17:51.436 --> 00:17:53.046 A:middle
speed to the maximum speed at

00:17:53.046 --> 00:17:53.696 A:middle
which you can run.

00:17:54.596 --> 00:17:55.696 A:middle
If you leave this out, Swift

00:17:55.696 --> 00:17:56.746 A:middle
Playgrounds will infer the

00:17:56.746 --> 00:17:59.706 A:middle
default, the speed to the normal

00:17:59.766 --> 00:18:00.746 A:middle
speed, which would mean that

00:18:00.746 --> 00:18:02.756 A:middle
only the Run My Code Speed would

00:18:02.756 --> 00:18:03.216 A:middle
be shown.

00:18:03.836 --> 00:18:04.866 A:middle
But you can also set it to

00:18:04.866 --> 00:18:06.816 A:middle
faster or fastest depending on

00:18:06.816 --> 00:18:08.726 A:middle
the fastest possible speed you

00:18:08.726 --> 00:18:09.096 A:middle
support.

00:18:11.386 --> 00:18:13.426 A:middle
To adopt this feature, you just

00:18:13.426 --> 00:18:14.436 A:middle
need to listen for a

00:18:14.436 --> 00:18:15.926 A:middle
notification, which is posted

00:18:15.926 --> 00:18:17.606 A:middle
when the user changes the

00:18:17.606 --> 00:18:18.686 A:middle
execution speed.

00:18:19.176 --> 00:18:19.546 A:middle
That's this

00:18:19.606 --> 00:18:21.126 A:middle
playgroundPageExecution

00:18:21.126 --> 00:18:22.886 A:middle
ModeDidChange notification.

00:18:23.866 --> 00:18:25.006 A:middle
Instead of this callback, you

00:18:25.006 --> 00:18:26.616 A:middle
can then ask the current

00:18:26.616 --> 00:18:27.676 A:middle
Playground page for its

00:18:27.676 --> 00:18:29.516 A:middle
execution mode and then update

00:18:29.516 --> 00:18:31.576 A:middle
animation speeds or anything

00:18:31.576 --> 00:18:32.886 A:middle
else for the new mode that the

00:18:32.886 --> 00:18:33.796 A:middle
user has selected.

00:18:33.796 --> 00:18:37.386 A:middle
So with that, I'd like to bring

00:18:37.386 --> 00:18:38.706 A:middle
my colleague, Grace, up on stage

00:18:38.706 --> 00:18:39.866 A:middle
to talk about a handful of the

00:18:39.866 --> 00:18:40.746 A:middle
other enhancements we've made to

00:18:40.746 --> 00:18:41.276 A:middle
Playground books.

00:18:42.346 --> 00:18:42.586 A:middle
Grace?

00:18:43.516 --> 00:18:46.356 A:middle
[ Applause ]

00:18:46.856 --> 00:18:47.126 A:middle
&gt;&gt; All right.

00:18:47.866 --> 00:18:49.396 A:middle
Thanks, Connor.

00:18:49.396 --> 00:18:50.676 A:middle
I'm so excited to talk to you

00:18:50.676 --> 00:18:52.026 A:middle
about some of the enhancements

00:18:52.026 --> 00:18:52.946 A:middle
that have been made to the

00:18:52.946 --> 00:18:54.366 A:middle
Playground book format to better

00:18:54.366 --> 00:18:55.886 A:middle
serve you all as authors and

00:18:55.886 --> 00:18:56.396 A:middle
developers.

00:18:57.736 --> 00:18:59.616 A:middle
The first thing that I'd like to

00:18:59.616 --> 00:19:01.236 A:middle
talk about is the introduction

00:19:01.306 --> 00:19:03.106 A:middle
of the minimum Swift Playgrounds

00:19:03.156 --> 00:19:03.966 A:middle
version key.

00:19:04.456 --> 00:19:05.966 A:middle
This is an optional string that

00:19:05.966 --> 00:19:07.446 A:middle
will allow you to specify the

00:19:07.446 --> 00:19:08.926 A:middle
minimum app version that can be

00:19:08.926 --> 00:19:10.376 A:middle
used to open your documents.

00:19:10.906 --> 00:19:15.146 A:middle
Next, let's talk about the

00:19:15.146 --> 00:19:16.666 A:middle
deployment target and the Swift

00:19:16.666 --> 00:19:17.506 A:middle
version keys.

00:19:17.956 --> 00:19:19.416 A:middle
These keys have been present

00:19:19.416 --> 00:19:20.676 A:middle
since the original release

00:19:20.716 --> 00:19:22.706 A:middle
Playground book format, but

00:19:22.876 --> 00:19:24.346 A:middle
earlier versions of the app had

00:19:24.346 --> 00:19:26.716 A:middle
hard-coded iOS 10.0 and Swift

00:19:26.716 --> 00:19:27.986 A:middle
3.0 to these keys.

00:19:28.636 --> 00:19:30.536 A:middle
However, now your selections are

00:19:31.246 --> 00:19:31.366 A:middle
honored.

00:19:31.916 --> 00:19:34.026 A:middle
Additionally, Swift version is

00:19:34.026 --> 00:19:35.676 A:middle
now a required key for you to

00:19:35.786 --> 00:19:36.226 A:middle
fill in.

00:19:36.896 --> 00:19:38.386 A:middle
This is all stored in the book

00:19:38.386 --> 00:19:40.296 A:middle
level Manifest.plist.

00:19:40.296 --> 00:19:41.566 A:middle
And for Swift version, you

00:19:41.566 --> 00:19:42.936 A:middle
should use the major and the

00:19:42.936 --> 00:19:44.296 A:middle
minor version of Swift that you

00:19:44.296 --> 00:19:45.946 A:middle
used to write your book.

00:19:47.716 --> 00:19:49.856 A:middle
Swift Playgrounds now allows you

00:19:49.856 --> 00:19:52.186 A:middle
to specify subtitles for your

00:19:52.186 --> 00:19:52.836 A:middle
document.

00:19:53.346 --> 00:19:54.916 A:middle
This is another optional string

00:19:54.916 --> 00:19:55.646 A:middle
in the book level

00:19:55.646 --> 00:19:57.756 A:middle
Manifest.plist, and if you don't

00:19:57.756 --> 00:19:59.886 A:middle
provide it, Swift Playgrounds

00:19:59.886 --> 00:20:00.986 A:middle
will just fill in the Swift

00:20:00.986 --> 00:20:02.096 A:middle
version of your book.

00:20:02.966 --> 00:20:05.156 A:middle
So here in Grace's Kitchen, I've

00:20:05.156 --> 00:20:06.536 A:middle
used Cooking with Playgrounds

00:20:06.536 --> 00:20:08.256 A:middle
for my subtitle, and it shows

00:20:08.256 --> 00:20:09.476 A:middle
below my document in the

00:20:09.476 --> 00:20:13.366 A:middle
document picker.

00:20:13.896 --> 00:20:15.546 A:middle
Next, Swift Playgrounds has

00:20:15.546 --> 00:20:17.086 A:middle
replaced the single Resources

00:20:17.086 --> 00:20:19.046 A:middle
directory with two resources,

00:20:19.526 --> 00:20:20.986 A:middle
two Resource directories,

00:20:20.986 --> 00:20:22.166 A:middle
PublicResources and

00:20:22.166 --> 00:20:23.286 A:middle
PrivateResources.

00:20:23.816 --> 00:20:25.116 A:middle
Any files that you want your

00:20:25.116 --> 00:20:26.776 A:middle
users to be able to access while

00:20:26.776 --> 00:20:28.206 A:middle
they're using your book, either

00:20:28.206 --> 00:20:29.596 A:middle
in the file picker or the image

00:20:29.596 --> 00:20:30.926 A:middle
picker, should go in the

00:20:30.926 --> 00:20:32.486 A:middle
PublicResources directory.

00:20:32.876 --> 00:20:34.036 A:middle
And any files that you don't

00:20:34.036 --> 00:20:35.076 A:middle
want your user to be able to

00:20:35.076 --> 00:20:36.876 A:middle
access should go in the

00:20:36.876 --> 00:20:38.156 A:middle
PrivateResource directory.

00:20:38.556 --> 00:20:39.496 A:middle
Those files could be

00:20:39.496 --> 00:20:40.926 A:middle
localization files or hints

00:20:40.926 --> 00:20:42.136 A:middle
files that you don't want your

00:20:42.136 --> 00:20:43.186 A:middle
user to peek at while they're

00:20:43.186 --> 00:20:44.346 A:middle
using your book.

00:20:46.876 --> 00:20:49.106 A:middle
Next, Swift Playgrounds now

00:20:49.106 --> 00:20:50.626 A:middle
allows you to create specific

00:20:50.626 --> 00:20:52.106 A:middle
runtime issues that will show up

00:20:52.106 --> 00:20:52.676 A:middle
in line.

00:20:53.146 --> 00:20:54.556 A:middle
So to do this, you can call

00:20:54.556 --> 00:20:55.936 A:middle
fatal error, and the string

00:20:55.936 --> 00:20:57.516 A:middle
that's passed in will show up in

00:20:57.516 --> 00:20:59.016 A:middle
line with other results while

00:20:59.016 --> 00:21:00.736 A:middle
your user is using the book, if

00:21:00.736 --> 00:21:01.866 A:middle
they ever hit it.

00:21:05.076 --> 00:21:07.036 A:middle
So next, let's talk about how

00:21:07.036 --> 00:21:08.836 A:middle
you can support user-editing in

00:21:08.836 --> 00:21:10.046 A:middle
your Playground books through

00:21:10.046 --> 00:21:11.476 A:middle
the use of template pages.

00:21:12.026 --> 00:21:15.116 A:middle
A new feature in Swift

00:21:15.116 --> 00:21:19.716 A:middle
Playgrounds allows your users to

00:21:20.506 --> 00:21:25.556 A:middle
add, remove, rename, duplicate,

00:21:26.426 --> 00:21:28.096 A:middle
and reorder pages within your

00:21:28.096 --> 00:21:29.026 A:middle
Playgrounds books.

00:21:29.726 --> 00:21:30.986 A:middle
You can see this functionality

00:21:30.986 --> 00:21:32.376 A:middle
already in our starting points

00:21:32.376 --> 00:21:32.976 A:middle
templates.

00:21:33.516 --> 00:21:35.866 A:middle
But to show it off a little bit

00:21:35.866 --> 00:21:36.996 A:middle
here, I'd like to hop into a

00:21:36.996 --> 00:21:37.296 A:middle
demo.

00:21:38.516 --> 00:21:43.706 A:middle
[ Applause ]

00:21:44.206 --> 00:21:45.426 A:middle
So I'm going to go ahead and

00:21:45.426 --> 00:21:46.796 A:middle
open up Grace's Kitchen, and

00:21:46.866 --> 00:21:48.676 A:middle
this is a book that I created

00:21:48.676 --> 00:21:50.266 A:middle
for my users to have a recipe

00:21:50.266 --> 00:21:52.246 A:middle
book on their iPad with Swift

00:21:52.246 --> 00:21:52.476 A:middle
code.

00:21:52.476 --> 00:21:56.016 A:middle
So in my kitchen, I have three

00:21:56.016 --> 00:21:58.266 A:middle
recipes: butter, frosting, and

00:21:58.266 --> 00:21:58.596 A:middle
cake.

00:21:58.956 --> 00:22:00.406 A:middle
And my mom would tell me that

00:22:00.406 --> 00:22:01.826 A:middle
this is not the most healthy

00:22:01.826 --> 00:22:03.896 A:middle
recipe book, so I want my users

00:22:03.896 --> 00:22:04.996 A:middle
to be able to add some of their

00:22:05.776 --> 00:22:05.843 A:middle
own.

00:22:06.856 --> 00:22:08.276 A:middle
So if we go into the Edit

00:22:08.276 --> 00:22:10.776 A:middle
button, I can add a page through

00:22:10.776 --> 00:22:12.506 A:middle
the + button in the top left.

00:22:13.276 --> 00:22:14.546 A:middle
And then, I'm going to add a

00:22:14.546 --> 00:22:16.146 A:middle
recipe for pancakes.

00:22:19.896 --> 00:22:21.476 A:middle
Not the most healthy, but we're

00:22:21.476 --> 00:22:22.146 A:middle
getting there.

00:22:22.146 --> 00:22:24.186 A:middle
So if I tap Done and then I

00:22:24.186 --> 00:22:26.516 A:middle
navigate to my Pancakes page, we

00:22:26.516 --> 00:22:27.946 A:middle
can see that I as the author

00:22:27.946 --> 00:22:29.906 A:middle
have provided some prose, and

00:22:29.906 --> 00:22:31.516 A:middle
then for sake of time, I've also

00:22:31.516 --> 00:22:32.956 A:middle
written out our pancakes recipe

00:22:32.956 --> 00:22:33.396 A:middle
in code.

00:22:33.976 --> 00:22:35.646 A:middle
And now, when I tap Run My Code,

00:22:36.286 --> 00:22:37.176 A:middle
this Playground book will

00:22:37.176 --> 00:22:39.066 A:middle
intelligently generate a recipe

00:22:39.066 --> 00:22:40.076 A:middle
for pancakes.

00:22:40.666 --> 00:22:45.566 A:middle
And to show you how you can

00:22:45.566 --> 00:22:47.026 A:middle
adopt this in your books, let's

00:22:47.026 --> 00:22:48.626 A:middle
hop back to the slides.

00:22:49.516 --> 00:22:52.946 A:middle
[ Applause ]

00:22:53.446 --> 00:22:54.466 A:middle
The first thing that you'll need

00:22:54.466 --> 00:22:56.256 A:middle
to do is specify a template

00:22:56.256 --> 00:22:56.706 A:middle
page.

00:22:57.236 --> 00:22:58.716 A:middle
Template pages are supported in

00:22:58.716 --> 00:23:00.206 A:middle
the last chapter of your book,

00:23:00.596 --> 00:23:02.486 A:middle
and this key should go in the

00:23:02.486 --> 00:23:04.096 A:middle
chapter's Manifest.plist.

00:23:04.266 --> 00:23:06.126 A:middle
And what I mean by template page

00:23:06.126 --> 00:23:07.816 A:middle
is the page that's instantiated

00:23:07.816 --> 00:23:09.266 A:middle
when your user adds a new page

00:23:09.266 --> 00:23:09.646 A:middle
to your book.

00:23:09.946 --> 00:23:11.926 A:middle
So to specify this, you should

00:23:11.926 --> 00:23:13.576 A:middle
use the TemplatePageFilename

00:23:13.656 --> 00:23:13.896 A:middle
key.

00:23:14.496 --> 00:23:15.806 A:middle
This is a string, and the string

00:23:15.806 --> 00:23:17.376 A:middle
should be the value of the file

00:23:17.376 --> 00:23:18.636 A:middle
that should be instantiated.

00:23:18.996 --> 00:23:19.686 A:middle
So here I've used

00:23:19.686 --> 00:23:20.926 A:middle
Template.playgroundpage.

00:23:21.386 --> 00:23:25.656 A:middle
Next, I'd like to talk about the

00:23:25.656 --> 00:23:26.726 A:middle
difference between

00:23:26.726 --> 00:23:28.706 A:middle
InitialUserPages and pages.

00:23:29.356 --> 00:23:30.726 A:middle
Both of these are keys that

00:23:30.726 --> 00:23:32.226 A:middle
store an array of page

00:23:32.226 --> 00:23:33.016 A:middle
filenames.

00:23:33.396 --> 00:23:35.376 A:middle
InitialUserPages are pages that

00:23:35.376 --> 00:23:36.926 A:middle
the author has created that they

00:23:36.926 --> 00:23:38.246 A:middle
want the user to be able to

00:23:38.246 --> 00:23:40.686 A:middle
interact with in that way of

00:23:40.686 --> 00:23:42.046 A:middle
duplicating, renaming,

00:23:42.046 --> 00:23:43.296 A:middle
reordering, et cetera.

00:23:44.116 --> 00:23:45.376 A:middle
If you don't want your user to

00:23:45.376 --> 00:23:46.546 A:middle
be able to interact with them in

00:23:46.546 --> 00:23:47.736 A:middle
that way, then you should store

00:23:47.736 --> 00:23:49.166 A:middle
them in the pages key instead.

00:23:49.696 --> 00:23:53.976 A:middle
So here's the file structure for

00:23:53.976 --> 00:23:54.846 A:middle
my Playground book.

00:23:55.466 --> 00:23:56.096 A:middle
We can see that the

00:23:56.096 --> 00:23:58.366 A:middle
Manifest.plist in -- is in the

00:23:58.366 --> 00:23:59.966 A:middle
chapter level, and that should

00:23:59.966 --> 00:24:01.666 A:middle
hold the InitialUserPages key

00:24:01.666 --> 00:24:03.036 A:middle
and the TemplatePageFilename

00:24:03.126 --> 00:24:03.386 A:middle
key.

00:24:03.456 --> 00:24:05.696 A:middle
And then, in my Pages directory,

00:24:05.696 --> 00:24:07.306 A:middle
I have my Butter, Frosting, and

00:24:07.306 --> 00:24:08.946 A:middle
Cake pages, and I also have my

00:24:08.946 --> 00:24:10.266 A:middle
Template page, which is what

00:24:10.266 --> 00:24:11.406 A:middle
should be instantiated when a

00:24:11.406 --> 00:24:14.316 A:middle
user adds a page.

00:24:14.406 --> 00:24:15.676 A:middle
And next, I'd like to pass it

00:24:15.676 --> 00:24:16.926 A:middle
off to Najla to talk about

00:24:16.926 --> 00:24:17.626 A:middle
localization.

00:24:18.046 --> 00:24:20.046 A:middle
[ Applause ]

00:24:20.076 --> 00:24:20.786 A:middle
&gt;&gt; Hi, everyone.

00:24:22.326 --> 00:24:24.016 A:middle
So as Connor mentioned earlier

00:24:24.016 --> 00:24:25.246 A:middle
today, the Swift Playgrounds

00:24:25.246 --> 00:24:27.036 A:middle
app, along with Apple-provided

00:24:27.126 --> 00:24:29.226 A:middle
content, is now localized into

00:24:29.346 --> 00:24:30.206 A:middle
six languages.

00:24:30.796 --> 00:24:32.236 A:middle
But if you wanted to localize

00:24:32.236 --> 00:24:33.866 A:middle
your own Playground books, then

00:24:33.866 --> 00:24:36.206 A:middle
you're not limited to these six

00:24:36.266 --> 00:24:36.896 A:middle
languages.

00:24:38.146 --> 00:24:39.726 A:middle
Localizing a Playground book is

00:24:39.726 --> 00:24:41.776 A:middle
a lot like localizing an app in

00:24:41.776 --> 00:24:44.316 A:middle
that you have the same resource

00:24:44.316 --> 00:24:45.166 A:middle
[inaudible] directories, and

00:24:45.166 --> 00:24:45.906 A:middle
strings files.

00:24:46.646 --> 00:24:49.956 A:middle
So to localize your Playground

00:24:49.956 --> 00:24:50.986 A:middle
book, you're going to need to

00:24:50.986 --> 00:24:52.716 A:middle
set the development region key.

00:24:53.196 --> 00:24:54.236 A:middle
The development region key

00:24:54.236 --> 00:24:55.896 A:middle
specifies what base language

00:24:55.896 --> 00:24:57.086 A:middle
this book was written in, and

00:24:57.286 --> 00:24:58.866 A:middle
it's required even if you

00:24:58.866 --> 00:25:02.486 A:middle
haven't localized your book yet.

00:25:02.486 --> 00:25:03.976 A:middle
If you've, if you are familiar

00:25:03.976 --> 00:25:05.836 A:middle
with localizing apps, the

00:25:05.836 --> 00:25:07.146 A:middle
development region key is the

00:25:07.176 --> 00:25:08.366 A:middle
Playground book equivalent of

00:25:08.506 --> 00:25:09.826 A:middle
CFBundleDevelopmentRegion.

00:25:09.826 --> 00:25:13.316 A:middle
So just like apps, Swift

00:25:14.096 --> 00:25:15.856 A:middle
Playgrounds supports localizing

00:25:15.946 --> 00:25:18.096 A:middle
content with strings files, and

00:25:18.096 --> 00:25:19.246 A:middle
there are four kinds of strings

00:25:19.296 --> 00:25:20.636 A:middle
files that we want to mention

00:25:20.636 --> 00:25:24.846 A:middle
today: ManifestPlist, Prose,

00:25:25.906 --> 00:25:28.466 A:middle
EditableFields, and QuickHelp.

00:25:30.336 --> 00:25:31.846 A:middle
Now, earlier in this session,

00:25:31.846 --> 00:25:33.506 A:middle
Grace talked about public versus

00:25:33.576 --> 00:25:35.066 A:middle
private resource directories in

00:25:35.456 --> 00:25:36.996 A:middle
your Playground books.

00:25:37.086 --> 00:25:38.946 A:middle
And since the strings files are

00:25:38.946 --> 00:25:40.156 A:middle
used to communicate with the app

00:25:40.476 --> 00:25:42.206 A:middle
itself, it's best that they live

00:25:42.206 --> 00:25:43.376 A:middle
in the PrivateResources

00:25:43.376 --> 00:25:45.126 A:middle
directory of your book.

00:25:46.516 --> 00:25:48.376 A:middle
So let's hop into some more

00:25:48.376 --> 00:25:49.466 A:middle
detail about these strings

00:25:49.556 --> 00:25:49.966 A:middle
files.

00:25:51.376 --> 00:25:52.516 A:middle
So Swift Playgrounds supports

00:25:52.516 --> 00:25:54.046 A:middle
localizing content from

00:25:54.046 --> 00:25:55.956 A:middle
ManifestPlists using a

00:25:55.956 --> 00:25:57.916 A:middle
ManifestPlist.strings file.

00:25:58.526 --> 00:25:59.886 A:middle
And an example of some

00:25:59.886 --> 00:26:01.896 A:middle
localizing ManifestPlist content

00:26:02.256 --> 00:26:04.206 A:middle
in Learn to Code 1 is the table

00:26:04.206 --> 00:26:05.386 A:middle
of contents that you can see

00:26:05.386 --> 00:26:06.476 A:middle
with all of the exercises.

00:26:06.476 --> 00:26:09.906 A:middle
Let's take a closer look at the

00:26:10.046 --> 00:26:12.266 A:middle
first exercise in Learn to Code

00:26:12.266 --> 00:26:13.776 A:middle
1, which is called Issuing

00:26:13.776 --> 00:26:15.376 A:middle
Commands, and here it is in

00:26:15.376 --> 00:26:17.106 A:middle
simplified Chinese.

00:26:19.396 --> 00:26:21.496 A:middle
So Playground book has a

00:26:21.496 --> 00:26:23.446 A:middle
ManifestPlist at every level --

00:26:23.446 --> 00:26:25.126 A:middle
at the book level, chapter

00:26:25.126 --> 00:26:26.426 A:middle
level, and page level.

00:26:27.246 --> 00:26:28.856 A:middle
Information about an exercise's

00:26:28.926 --> 00:26:30.506 A:middle
title is pulled from the page

00:26:30.506 --> 00:26:32.626 A:middle
level ManifestPlist, and here's

00:26:32.626 --> 00:26:34.216 A:middle
the page level ManifestPlist for

00:26:34.446 --> 00:26:35.966 A:middle
the Issuing Commands exercise.

00:26:37.106 --> 00:26:38.306 A:middle
You can see that there's a key

00:26:38.306 --> 00:26:40.096 A:middle
called Name, and its value is

00:26:40.126 --> 00:26:41.000 A:middle
the title.

00:26:44.566 --> 00:26:46.666 A:middle
The simplified Chinese title for

00:26:46.666 --> 00:26:48.156 A:middle
Issuing Commands is pulled from

00:26:48.156 --> 00:26:49.226 A:middle
the simplified Chinese

00:26:49.646 --> 00:26:52.376 A:middle
ManifestPlist.strings file.

00:26:52.376 --> 00:26:54.266 A:middle
And here you can see that the

00:26:54.266 --> 00:26:56.446 A:middle
name is defined as a simplified

00:26:56.536 --> 00:26:58.096 A:middle
Chinese of Issuing Commands.

00:26:58.946 --> 00:27:00.596 A:middle
So Playground markup blocks are

00:27:00.596 --> 00:27:01.586 A:middle
also supported.

00:27:01.586 --> 00:27:03.926 A:middle
You can also localize Playground

00:27:03.926 --> 00:27:04.896 A:middle
markup blocks in Swift

00:27:04.956 --> 00:27:06.846 A:middle
Playgrounds using a

00:27:06.916 --> 00:27:08.476 A:middle
Prose.strings file at the page

00:27:08.476 --> 00:27:08.826 A:middle
level.

00:27:09.186 --> 00:27:10.286 A:middle
And here's some prose from

00:27:10.286 --> 00:27:11.756 A:middle
Issuing Commands that's been

00:27:11.756 --> 00:27:13.056 A:middle
localized into German.

00:27:13.996 --> 00:27:16.516 A:middle
To do this, in the

00:27:16.516 --> 00:27:18.446 A:middle
Contents.swift file, it

00:27:18.546 --> 00:27:20.416 A:middle
specifies a block of localized

00:27:20.566 --> 00:27:22.566 A:middle
prose using a localized tag,

00:27:23.306 --> 00:27:26.536 A:middle
which takes a key.

00:27:26.766 --> 00:27:28.426 A:middle
This key is then defined in the

00:27:28.426 --> 00:27:31.006 A:middle
German Prose.strings file as the

00:27:31.006 --> 00:27:36.526 A:middle
German translation of our prose.

00:27:37.066 --> 00:27:39.336 A:middle
You can also localize editable

00:27:39.476 --> 00:27:41.296 A:middle
fields in Swift Playgrounds by

00:27:41.296 --> 00:27:43.566 A:middle
using an EditableFields.strings

00:27:43.646 --> 00:27:44.026 A:middle
file.

00:27:44.756 --> 00:27:46.886 A:middle
An example of an editable field

00:27:46.886 --> 00:27:48.536 A:middle
in Learn to Code 1 is that Tap

00:27:48.536 --> 00:27:49.606 A:middle
to enter code string that you

00:27:49.716 --> 00:27:50.736 A:middle
see in some exercises.

00:27:50.736 --> 00:27:53.000 A:middle
And here it is in French.

00:27:56.286 --> 00:27:58.706 A:middle
So in the Contents.swift file,

00:27:59.096 --> 00:28:01.046 A:middle
it specifies an editable field

00:28:01.366 --> 00:28:03.496 A:middle
with an editable code tag that

00:28:03.496 --> 00:28:04.896 A:middle
takes the key that's the

00:28:04.896 --> 00:28:06.076 A:middle
placeholder that we want to

00:28:06.076 --> 00:28:06.676 A:middle
localize.

00:28:07.126 --> 00:28:08.756 A:middle
In our case, the placeholder is

00:28:08.796 --> 00:28:11.006 A:middle
called Tap to enter code.

00:28:12.536 --> 00:28:14.886 A:middle
That placeholder is then defined

00:28:14.886 --> 00:28:16.686 A:middle
in the EditableField.strings

00:28:16.736 --> 00:28:18.616 A:middle
file for French as the French

00:28:18.616 --> 00:28:19.696 A:middle
translation of Tap to enter

00:28:19.696 --> 00:28:20.000 A:middle
code.

00:28:23.046 --> 00:28:25.706 A:middle
So in Swift Playgrounds 2.0,

00:28:25.706 --> 00:28:27.126 A:middle
which you got a beta of on

00:28:27.126 --> 00:28:29.136 A:middle
Monday, you can localize API

00:28:29.286 --> 00:28:30.066 A:middle
documentation.

00:28:30.066 --> 00:28:32.126 A:middle
And here's an example of some

00:28:32.126 --> 00:28:33.626 A:middle
API documentation from Learn to

00:28:33.626 --> 00:28:34.236 A:middle
Code 1.

00:28:34.726 --> 00:28:36.666 A:middle
It's a move forward command that

00:28:36.666 --> 00:28:38.306 A:middle
you can use to move Bite in its

00:28:38.376 --> 00:28:39.806 A:middle
little world.

00:28:41.836 --> 00:28:43.456 A:middle
To localize your API

00:28:43.536 --> 00:28:45.476 A:middle
documentation, you can use a

00:28:45.516 --> 00:28:46.966 A:middle
QuickHelp.strings file.

00:28:48.076 --> 00:28:50.206 A:middle
In you AuxiliarySources file for

00:28:50.206 --> 00:28:52.796 A:middle
your exercise, it specifies a

00:28:52.926 --> 00:28:55.986 A:middle
block of localized documentation

00:28:56.356 --> 00:28:58.106 A:middle
by using a localization key.

00:28:58.696 --> 00:29:01.046 A:middle
That key is then defined in the

00:29:01.046 --> 00:29:02.216 A:middle
QuickHelp.strings file.

00:29:02.316 --> 00:29:03.886 A:middle
In our case, our documentation

00:29:03.886 --> 00:29:05.356 A:middle
is in English, so this is the

00:29:05.356 --> 00:29:06.906 A:middle
QuickHelp.strings file for

00:29:06.906 --> 00:29:07.446 A:middle
English.

00:29:10.796 --> 00:29:12.726 A:middle
So along with using strings

00:29:12.766 --> 00:29:14.356 A:middle
files to localize your

00:29:14.356 --> 00:29:16.156 A:middle
Playground books, you can use a

00:29:16.156 --> 00:29:18.136 A:middle
Hints.plist to localize default

00:29:18.136 --> 00:29:18.486 A:middle
hints.

00:29:19.516 --> 00:29:22.146 A:middle
Here's an example of a hint from

00:29:22.146 --> 00:29:23.426 A:middle
Issuing Commands that's been

00:29:23.426 --> 00:29:24.796 A:middle
localized into Japanese.

00:29:26.806 --> 00:29:29.146 A:middle
So Issuing Commands only has one

00:29:29.236 --> 00:29:29.496 A:middle
hint.

00:29:30.146 --> 00:29:31.296 A:middle
So in our Hints.plist for

00:29:31.886 --> 00:29:34.486 A:middle
Japanese, we have one entry that

00:29:34.486 --> 00:29:36.486 A:middle
represents our one hint, and its

00:29:36.486 --> 00:29:38.066 A:middle
value is the Japanese

00:29:38.136 --> 00:29:39.286 A:middle
translation of our hint.

00:29:40.586 --> 00:29:42.626 A:middle
So the localization support in

00:29:42.726 --> 00:29:44.456 A:middle
Swift Playgrounds allows you to

00:29:44.456 --> 00:29:45.946 A:middle
create really detailed and

00:29:45.946 --> 00:29:47.996 A:middle
immersive Playground books for a

00:29:47.996 --> 00:29:49.826 A:middle
larger audience, and we're super

00:29:49.826 --> 00:29:50.906 A:middle
excited to see all of the

00:29:50.906 --> 00:29:51.756 A:middle
Playground books that you

00:29:51.756 --> 00:29:52.306 A:middle
localize.

00:29:53.056 --> 00:29:55.666 A:middle
If you want more information

00:29:55.666 --> 00:29:56.886 A:middle
about how to localize your

00:29:56.886 --> 00:29:58.346 A:middle
Playground books, we have a

00:29:58.346 --> 00:29:59.586 A:middle
session later today on

00:29:59.586 --> 00:30:01.086 A:middle
Localizing Content for Swift

00:30:01.166 --> 00:30:05.896 A:middle
Playgrounds at 3:10.

00:30:06.526 --> 00:30:08.376 A:middle
So let's switch gears and talk

00:30:08.376 --> 00:30:09.516 A:middle
about the PlaygroundBluetooth

00:30:09.516 --> 00:30:11.176 A:middle
API, which is in Swift

00:30:11.176 --> 00:30:13.126 A:middle
Playgrounds 1.5, which shipped

00:30:13.126 --> 00:30:13.586 A:middle
on Monday.

00:30:14.466 --> 00:30:18.936 A:middle
So Swift Playgrounds provides

00:30:19.066 --> 00:30:20.506 A:middle
full access to CoreBluetooth,

00:30:20.846 --> 00:30:22.386 A:middle
which allows you to integrate

00:30:22.386 --> 00:30:23.626 A:middle
accessories into your Playground

00:30:23.626 --> 00:30:23.776 A:middle
books.

00:30:24.606 --> 00:30:25.856 A:middle
And if you've taken a look at

00:30:25.856 --> 00:30:27.146 A:middle
some of the accessory Playground

00:30:27.146 --> 00:30:28.796 A:middle
books available, you'll notice

00:30:28.826 --> 00:30:30.016 A:middle
that they all have a really

00:30:30.166 --> 00:30:31.846 A:middle
great and consistent Playground

00:30:31.846 --> 00:30:32.506 A:middle
book experience.

00:30:32.506 --> 00:30:34.686 A:middle
And the Playground book API

00:30:35.226 --> 00:30:36.676 A:middle
allows you to integrate that

00:30:36.676 --> 00:30:37.776 A:middle
experience into your own

00:30:37.776 --> 00:30:39.296 A:middle
Playground books.

00:30:39.936 --> 00:30:42.776 A:middle
So there are two main components

00:30:42.836 --> 00:30:43.956 A:middle
of the PlaygroundBluetooth

00:30:43.956 --> 00:30:44.366 A:middle
framework.

00:30:45.006 --> 00:30:45.876 A:middle
The first is the

00:30:45.976 --> 00:30:47.186 A:middle
PlaygroundBluetooth Central

00:30:47.186 --> 00:30:49.326 A:middle
Manager, which is responsible

00:30:49.326 --> 00:30:51.046 A:middle
for all the logic to interact

00:30:51.306 --> 00:30:52.766 A:middle
and manage accessories.

00:30:54.146 --> 00:30:55.096 A:middle
The second is the

00:30:55.096 --> 00:30:57.496 A:middle
PlaygroundBluetooth Connection

00:30:57.496 --> 00:30:59.196 A:middle
View, which allows you to

00:30:59.196 --> 00:31:01.176 A:middle
customize a user interface that

00:31:01.176 --> 00:31:02.636 A:middle
users use to interact with

00:31:02.726 --> 00:31:03.266 A:middle
accessories.

00:31:04.466 --> 00:31:05.326 A:middle
They both have their own

00:31:05.326 --> 00:31:06.636 A:middle
delegates, and the

00:31:06.706 --> 00:31:08.036 A:middle
PlaygroundBluetooth Connection

00:31:08.036 --> 00:31:09.526 A:middle
View has a PlaygroundBluetooth

00:31:09.846 --> 00:31:11.676 A:middle
Connection View data source that

00:31:11.676 --> 00:31:13.556 A:middle
provides specific information

00:31:13.556 --> 00:31:14.500 A:middle
about an accessory.

00:31:17.116 --> 00:31:18.856 A:middle
So the PlaygroundBluetooth

00:31:18.856 --> 00:31:20.656 A:middle
Central Manager provides an

00:31:20.656 --> 00:31:22.306 A:middle
interface for connecting to and

00:31:22.306 --> 00:31:23.766 A:middle
interacting with accessories.

00:31:25.016 --> 00:31:26.156 A:middle
It's really similar to

00:31:26.156 --> 00:31:26.716 A:middle
CoreBluetooth's

00:31:26.866 --> 00:31:28.886 A:middle
CBCentralManager, so if you've

00:31:28.886 --> 00:31:30.246 A:middle
implemented that before in a

00:31:30.246 --> 00:31:32.316 A:middle
Playground, then you could reuse

00:31:32.466 --> 00:31:33.086 A:middle
code here.

00:31:34.086 --> 00:31:35.876 A:middle
The Central Manager can take an

00:31:35.876 --> 00:31:38.486 A:middle
array of accessory UUIDs to

00:31:38.486 --> 00:31:40.586 A:middle
search for, or you can specify

00:31:40.586 --> 00:31:42.216 A:middle
to search for all accessories in

00:31:42.216 --> 00:31:42.846 A:middle
the vicinity.

00:31:46.266 --> 00:31:48.086 A:middle
The PlaygroundBluetoothCentral

00:31:48.656 --> 00:31:50.586 A:middle
ManagerDelegate has methods for

00:31:50.706 --> 00:31:52.626 A:middle
interacting with accessories,

00:31:52.946 --> 00:31:54.556 A:middle
such as connecting to and

00:31:54.556 --> 00:31:56.256 A:middle
disconnecting from accessories.

00:32:01.596 --> 00:32:02.546 A:middle
So the PlaygroundBluetooth

00:32:02.546 --> 00:32:03.656 A:middle
ConnectionView provides an

00:32:03.656 --> 00:32:06.226 A:middle
interface for displaying the

00:32:06.316 --> 00:32:08.386 A:middle
connection status of accessories

00:32:08.786 --> 00:32:10.596 A:middle
and allows users to discover,

00:32:10.596 --> 00:32:12.686 A:middle
connect to, and disconnect from

00:32:12.686 --> 00:32:13.396 A:middle
accessories.

00:32:13.996 --> 00:32:15.346 A:middle
Here's an example of a

00:32:15.346 --> 00:32:17.056 A:middle
Connection View that I've

00:32:17.106 --> 00:32:18.986 A:middle
customized because my Playground

00:32:18.986 --> 00:32:20.386 A:middle
book searches for a Bluetooth

00:32:20.386 --> 00:32:20.816 A:middle
printer.

00:32:24.446 --> 00:32:25.596 A:middle
The PlaygroundBluetooth

00:32:25.596 --> 00:32:27.316 A:middle
ConnectionViewDelegate has

00:32:27.316 --> 00:32:29.096 A:middle
methods for customizing the UI

00:32:29.096 --> 00:32:31.336 A:middle
and handling user interactions.

00:32:31.756 --> 00:32:33.636 A:middle
For example, you can use the

00:32:33.636 --> 00:32:35.626 A:middle
titleFor delegate method to

00:32:35.626 --> 00:32:36.936 A:middle
customize the Connection button.

00:32:37.706 --> 00:32:39.356 A:middle
In my case, I've customized it

00:32:39.446 --> 00:32:41.000 A:middle
to say Select Printer.

00:32:44.506 --> 00:32:46.426 A:middle
Lastly, the PlaygroundBluetooth

00:32:46.426 --> 00:32:47.786 A:middle
ConnectionViewDataSource is a

00:32:47.786 --> 00:32:49.736 A:middle
protocol that's adopted by the

00:32:49.736 --> 00:32:51.166 A:middle
Connection View that provides

00:32:51.256 --> 00:32:52.896 A:middle
specific information about an

00:32:53.086 --> 00:32:53.536 A:middle
accessory.

00:32:54.866 --> 00:32:56.436 A:middle
In my case, the data source

00:32:56.476 --> 00:32:57.896 A:middle
provides information about my

00:32:57.976 --> 00:32:59.716 A:middle
printer, its title, which is

00:32:59.716 --> 00:33:01.556 A:middle
Najla's Printer, and that cute

00:33:01.826 --> 00:33:03.416 A:middle
printer icon that's to its left.

00:33:04.496 --> 00:33:06.066 A:middle
You can provide this information

00:33:06.346 --> 00:33:08.346 A:middle
using its one method.

00:33:10.516 --> 00:33:13.136 A:middle
So let's hop into a quick demo

00:33:13.136 --> 00:33:14.136 A:middle
of the PlaygroundBluetooth

00:33:14.136 --> 00:33:15.046 A:middle
framework in action.

00:33:16.516 --> 00:33:21.766 A:middle
[ Applause ]

00:33:22.266 --> 00:33:24.446 A:middle
So earlier today you saw Grace

00:33:24.526 --> 00:33:25.896 A:middle
create a Playground page for

00:33:25.896 --> 00:33:28.866 A:middle
making pancakes, and I love

00:33:28.996 --> 00:33:31.486 A:middle
pancakes a lot, but I cannot

00:33:31.546 --> 00:33:31.676 A:middle
cook.

00:33:33.196 --> 00:33:34.916 A:middle
So what I would really like to

00:33:34.986 --> 00:33:36.866 A:middle
do is I would like this

00:33:36.986 --> 00:33:38.576 A:middle
Playground book, in addition to

00:33:38.576 --> 00:33:40.356 A:middle
generating the recipe, to be

00:33:40.356 --> 00:33:41.716 A:middle
able to connect to a Bluetooth

00:33:41.776 --> 00:33:42.966 A:middle
printer so that I can print it

00:33:42.966 --> 00:33:44.836 A:middle
out and then give it to someone

00:33:44.836 --> 00:33:45.816 A:middle
when I want them to make

00:33:45.916 --> 00:33:47.216 A:middle
pancakes for me.

00:33:49.026 --> 00:33:50.956 A:middle
So let's go into my Playground

00:33:50.956 --> 00:33:51.136 A:middle
book.

00:33:51.346 --> 00:33:53.986 A:middle
And what I've done is I've taken

00:33:53.986 --> 00:33:56.976 A:middle
Grace's Pancakes page and I've

00:33:56.976 --> 00:34:00.236 A:middle
integrated this cute, little

00:34:00.236 --> 00:34:01.006 A:middle
Bluetooth printer.

00:34:02.696 --> 00:34:04.056 A:middle
So when I tap on Connect

00:34:04.216 --> 00:34:05.986 A:middle
Printer, it's going to search

00:34:05.986 --> 00:34:06.666 A:middle
for my printer.

00:34:06.666 --> 00:34:09.826 A:middle
And in addition to being able to

00:34:09.826 --> 00:34:12.156 A:middle
generate this recipe, when I

00:34:12.236 --> 00:34:13.696 A:middle
select Najla's Printer, it's

00:34:13.696 --> 00:34:15.346 A:middle
going to print out the recipe.

00:34:15.706 --> 00:34:17.446 A:middle
So keep an eye on the printer

00:34:17.446 --> 00:34:18.516 A:middle
and cross your fingers.

00:34:19.476 --> 00:34:21.786 A:middle
Here we go.

00:34:22.296 --> 00:34:22.496 A:middle
Yeah!

00:34:24.041 --> 00:34:26.041 A:middle
[ Applause ]

00:34:26.066 --> 00:34:26.446 A:middle
OK.

00:34:29.296 --> 00:34:29.636 A:middle
All right.

00:34:30.066 --> 00:34:30.786 A:middle
Nailed it.

00:34:31.876 --> 00:34:34.766 A:middle
So, [laughs] so now, I have the

00:34:34.766 --> 00:34:36.426 A:middle
recipe for pancakes and I can

00:34:36.426 --> 00:34:38.076 A:middle
give it to Connor after this

00:34:38.076 --> 00:34:38.426 A:middle
session.

00:34:39.016 --> 00:34:41.016 A:middle
[ Laughter ]

00:34:41.516 --> 00:34:49.946 A:middle
[ Applause ]

00:34:50.446 --> 00:34:52.146 A:middle
So we talked about a lot today.

00:34:52.486 --> 00:34:53.986 A:middle
You got an overview of all of

00:34:53.986 --> 00:34:55.136 A:middle
the format changes that have

00:34:55.136 --> 00:34:56.526 A:middle
happened in the past year.

00:34:57.326 --> 00:34:59.296 A:middle
You learned how to integrate

00:34:59.296 --> 00:35:00.806 A:middle
copy code forward into your

00:35:00.806 --> 00:35:01.976 A:middle
Playground books so that you can

00:35:02.046 --> 00:35:03.726 A:middle
create a really nice narrative,

00:35:04.226 --> 00:35:05.686 A:middle
how to create interesting user

00:35:05.686 --> 00:35:09.056 A:middle
editable books so that users can

00:35:09.056 --> 00:35:11.106 A:middle
then modify your template pages,

00:35:11.646 --> 00:35:13.116 A:middle
how to localize your Playground

00:35:14.106 --> 00:35:15.726 A:middle
books, and finally, how to

00:35:15.726 --> 00:35:17.226 A:middle
integrate accessories into your

00:35:17.226 --> 00:35:18.786 A:middle
Playground books.

00:35:19.566 --> 00:35:21.486 A:middle
For more information about this

00:35:21.606 --> 00:35:22.396 A:middle
session, please visit

00:35:22.396 --> 00:35:25.646 A:middle
developer.apple.com.

00:35:26.006 --> 00:35:27.156 A:middle
There are also a few related

00:35:27.156 --> 00:35:28.686 A:middle
sessions that you can visit or

00:35:28.686 --> 00:35:29.556 A:middle
watch online.

00:35:30.776 --> 00:35:31.836 A:middle
Thank you for watching our

00:35:31.836 --> 00:35:33.066 A:middle
session, and we hope that you

00:35:33.066 --> 00:35:33.796 A:middle
enjoy the rest of the

00:35:33.796 --> 00:35:34.296 A:middle
conference.

00:35:35.516 --> 00:35:39.500 A:middle
[ Applause ]